const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./chartTitle-ReYbrC5X.js","./index-FdyGBlLz.js","./index-BnngHmlw.css","./chartTitle-D8S9BvJ_.css","./pieForHighcharts-Bkrn6QXg.js","./pieForHighcharts-Bcr3XUhP.css"])))=>i.map(i=>d[i]);
import{n as c,_ as n,o as h,U as m}from"./index-FdyGBlLz.js";const p={components:{ChartTitle:()=>n(()=>import("./chartTitle-ReYbrC5X.js"),__vite__mapDeps([0,1,2,3]),import.meta.url),PieForHighcharts:()=>n(()=>import("./pieForHighcharts-Bkrn6QXg.js"),__vite__mapDeps([4,1,2,5]),import.meta.url)},props:["pieData","alarmNameTimeList"],data(){return{chart1:null,chart2:null,time1:null,time2:null,otherOption:{plotOptions:{pie:{center:["50%","38%"],size:160,depth:40,innerSize:"60%"}}},colorArr:["#F18C46","#25989E","#1C54A4","#A1D8F4","#F6BA4E","#F6Bc1E"]}},mounted(){this.init()},computed:{pieDataArr(){let r=0;return this.pieData.map(t=>{let e=this.colorArr[r];return r++,{name:t.name,y:t.num,color:e}})},barDataArr(){return this.alarmNameTimeList.map(r=>({name:r.name,value:[r.hour]}))}},watch:{barDataArr:{deep:!0,immediate:!0,handler(){this.$nextTick(()=>{this.time2&&clearTimeout(this.time2),this.time2=setTimeout(()=>{this.init()},100)})}}},methods:{init(){this.setBar(this.$refs.chart1,"chart1",{yAxis:["blue"],unit:"小时",data:this.barDataArr})},setBar(r,t,e){r&&(this[t]||(this[t]=h(r)),this[t].setOption(this.getOption(e)),new ResizeObserver(this[t].resize).observe(r))},getOption({yAxis:r=[],data:t=[],unit:e=""}){let s=[["#63B0FF","#00366D"],["#01F3C9","#034B58"],["#F3DF01","#585303"]];return{tooltip:{trigger:"axis",backgroundColor:"#1C256A",borderColor:"#00DFFA",extraCssText:"box-shadow: inset 0px 0px 8px #00DFFA;",borderWidth:1,textStyle:{color:"#fff",lineHeight:200,height:200},axisPointer:{type:"shadow"},formatter:i=>i[0].name+JSON.parse(JSON.stringify(i)).reverse().map(a=>`<div>${a.marker}${a.value} ${e}</div>`).join("")},grid:{top:"24%",left:"4%",right:"4%",bottom:"4%",containLabel:!0},xAxis:{type:"category",axisLine:{symbol:["none","arrow"],symbolSize:[5,5],lineStyle:{color:"#7CDCFF"}},axisTick:{show:!1},axisLabel:{color:"#fff",formatter:function(i){let a=i;return a.length>5&&(a=a.substring(0,4)+".."),a}},data:t.map(i=>i.name)},yAxis:{type:"value",name:`单位（${e}）`,nameTextStyle:{color:"#fff"},minInterval:1,axisLine:{show:!0,symbol:["none","arrow"],symbolSize:[5,5],lineStyle:{color:"#B2E7FF",opacity:.5}},axisLabel:{color:"#fff"},axisTick:{show:!0,inside:!0,lineStyle:{color:"#B2E7FF",opacity:.5}},splitLine:{lineStyle:{color:"#B2E7FF",opacity:.3}}},series:r.map((i,a)=>({name:i,type:"bar",stack:"total",emphasis:{focus:"series"},barWidth:14,itemStyle:{color:new m(0,0,0,1,(s[a]||["#fff","#fff"]).map((o,l)=>({offset:l,color:o})))},data:t.map(o=>o.value[a])}))}}}};var f=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"flex"},[e("div",[e("ChartTitle",{staticClass:"clearMargin",attrs:{titles:["按报警时长统计"],useLongIcon:!1}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.barDataArr.length,expression:"barDataArr.length"}],ref:"chart1",staticClass:"chartBox"})],1),e("div",{staticClass:"rightWidth"},[e("ChartTitle",{staticClass:"clearMargin",attrs:{titles:["按报警事件统计"],useLongIcon:!1}}),e("PieForHighcharts",{directives:[{name:"show",rawName:"v-show",value:t.barDataArr.length,expression:"barDataArr.length"}],staticClass:"chartBox chart2",attrs:{pieDataArr:t.pieDataArr,otherOption:t.otherOption}})],1)]),e("div",{staticClass:"canvasBox"},t._l(t.pieDataArr,function(s){return e("canvas",{key:s.canvasId,attrs:{id:s.canvasId,width:s.name.length*20,height:"80",label:s.name}})}),0)])},u=[],d=c(p,f,u,!1,null,"54f3ec0f");const x=d.exports;export{x as default};

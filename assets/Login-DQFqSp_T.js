import{g as C,a as _,s as o,h as g,n as h,p as x,b,c as y,d as f,R as k,L}from"./index-ChTUkLQt.js";import{c as $,h as w}from"./common-0X47MWYd.js";import{s as N}from"./mqttConfig-DcruBXJ7.js";import{_ as T}from"./close-DKk2BBKI.js";const I=()=>[{path:"/main",component:"  -",route:"1",meta:{keepAlive:!1,internalOrExternal:!1,title:"首页（不做控制）"},name:"main",id:""}];function A(){const s={token:C(),front:1};return _(s).then(e=>{o("authBtnList",JSON.stringify(e.result.button));let t=e.result.menu.find(l=>l.meta.title==="web");const i=t!=null&&t.children?t.children:I();return t!=null&&t.children?o("authMenuList",JSON.stringify(t.children)):o("authMenuList",i),i})}const B={props:{loading:{type:Boolean,default:!1},list:{type:Array,default:()=>[]},pagin:{type:Object,default:()=>({current:1,total:0})}},methods:{itemRender(s,e,t){return e==="prev"?g("span",{class:"pagin-prev"}):e==="next"?g("span",{class:"pagin-next"}):t}}};var S=function(){var e=this,t=e._self._c;return t("a-spin",{staticClass:"news-cont",attrs:{spinning:e.loading}},[t("div",{staticClass:"news-list"},e._l(e.list,function(i,l){return t("div",{key:l,staticClass:"news-item",on:{click:function(r){return e.$router.push({name:"newsDetail",params:{id:i.id}})}}},[t("div",{staticClass:"news-img",style:{backgroundImage:`url(${i.imgUrls})`}}),t("h3",[e._v(e._s(i.title))]),i.abstr?t("p",[e._v(" "+e._s(i.abstr)+" ")]):t("p",{staticClass:"vhtml-content",domProps:{innerHTML:e._s(i.content)}}),t("span",[e._v("发布时间："+e._s(i.publishTime))])])}),0),t("div",{staticClass:"news-pagin"},[t("a-pagination",{attrs:{size:"large",total:e.pagin.total,pageSize:8,current:e.pagin.current,"item-render":e.itemRender},on:{change:function(i){return e.$emit("change",i)}}})],1)])},U=[],z=h(B,S,U,!1,null,"e4bf540a");const R=z.exports;let d=null;const V={data(){return{phone:null,username:"",validateCode:null,codeLength:4,sendNum:0,showCheckUserBox:!1}},computed:{simplePhone(){return this.phone||""}},mounted(){this.showCheckUserBox&&this.phone&&this.$refs.codeInput.focus()},methods:{async send(s,e){this.validateCode=null,this.phone=s,this.username=e,s&&(this.$message.success("验证码已发送"),this.showCheckUserBox=!0,this.sendNum=typeof result=="number"?120:0,d=setInterval(()=>{this.sendNum--,this.sendNum<=0&&(this.sendNum=0,clearInterval(d))},1e3),this.$nextTick(()=>{this.$refs.codeInput.focus()}))},async sure(){if(this.phone){if(this.validateCode){if(this.validateCode.length<4){this.$message.error("请检查验证码");return}}else{this.$message.error("请输入验证码");return}const s=await x({tel:this.phone,username:this.username,validateCode:this.validateCode});s.success?(this.showCheckUserBox=!1,this.phone=null,clearInterval(d),this.$emit("loginResult",s.result)):this.$message.error(s.message)}else this.showCheckUserBox=!1,this.phone=null},codeBlur(s){this.validateCode&&this.validateCode.length<4&&s.target.focus()},reSend(){this.sendNum<=0&&this.$emit("reSend")}}};var P=function(){var e=this,t=e._self._c;return e.showCheckUserBox?t("div",{staticClass:"CheckUserBox"},[t("div",{staticClass:"userBoxContent"},[e.phone?t("div",[e._v(" 已发送验证码到您"+e._s(e.simplePhone)+"的手机号, 请输入 "),t("br"),t("div",{staticClass:"codeBox"},[t("a-input",{ref:"codeInput",staticClass:"codeInput",attrs:{maxLength:e.codeLength},on:{blur:e.codeBlur,pressEnter:e.sure},model:{value:e.validateCode,callback:function(i){e.validateCode=i},expression:"validateCode"}}),t("div",{staticClass:"codeBoxGe",style:{"--codeLength":e.codeLength}},e._l(e.codeLength,function(i){return t("span",{key:i,class:{currCode:1+(e.validateCode?e.validateCode.length:0)==i}},[e._v(e._s(e.validateCode?e.validateCode[i-1]:""))])}),0)],1),t("span",{class:["reSend",e.sendNum>0?"disabled":""],on:{click:e.reSend}},[e._v("重新发送"),t("span",{directives:[{name:"show",rawName:"v-show",value:e.sendNum>0,expression:"sendNum > 0"}]},[e._v("（"+e._s(e.sendNum)+"）")])])]):t("div",{staticClass:"tip"},[e._v("账号未绑定手机号，请联系管理员。")])]),t("img",{staticClass:"icon",attrs:{src:T},on:{click:function(i){e.showCheckUserBox=!1}}}),t("div",{staticClass:"sureBtn btn",on:{click:e.sure}},[e._v("确 认")]),e.phone?t("div",{staticClass:"canvelBtn btn",on:{click:function(i){e.showCheckUserBox=!1}}},[e._v("取 消")]):e._e()]):e._e()},M=[],D=h(V,P,M,!1,null,null);const H=D.exports,X=""+new URL("historySix-CqSNFfW1.png",import.meta.url).href,J=""+new URL("history-fullSix-pcTUdYGI.png",import.meta.url).href,q=""+new URL("v5-So_SV_ew.png",import.meta.url).href,E=""+new URL("v7-ny8gnft1.png",import.meta.url).href,W=""+new URL("v6-HVrbUzTF.png",import.meta.url).href,Y=""+new URL("v4-Dw87Q-wc.png",import.meta.url).href,F=""+new URL("v3-Brj_aNyk.png",import.meta.url).href,G=""+new URL("v1-BbR1swCt.png",import.meta.url).href,O=""+new URL("v2-sJo4-Q2E.png",import.meta.url).href,j=""+new URL("newsImg-CKpBesah.jpg",import.meta.url).href,Z={methods:{trackEvent(s,e,t,i){this.$matomo&&this.$matomo.trackEvent(s,e,t,i)},setMatomoUser(s){this.$matomo&&this.$matomo.setUserId(`${s.username}-${s.realname}-${s.id}`)}}},K="data:image/png;base64,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",Q=""+new URL("country-BgiMxwX6.png",import.meta.url).href,ee={v1:G,v2:O,v3:F,v4:Y,v5:q,v6:W,v7:E},te={name:"Login",components:{nlCom:R,CheckUser:H},mixins:[Z],data(){return{currTime:{},clickParams:{timer:null,waitTime:1e3,num:0,maxNum:2,lastTime:new Date().getTime()},nList:[],newsList:[],newsVis:!1,newsIpage:{current:1,total:0},newsLoading:!1,loginLoading:!1,showPic:!1,visCarousel:!1,activeIndex:0,scaleModalVis:!1,bannerDiff:0,isVideo:!1,videoUrl:"/videos/ii.mp4",videoTitle:"",bottomTabIndex:0,showLeader:!0,bannerImgAll:[],maskVisible:!1,langs:[{label:"中文(简体)",value:"zh-CN"},{label:"English",value:"en-GB"}]}},computed:{newsLangs(){const s=this.$store.state.subcenterResource.news.slice(0,4);return{"zh-CN":this.formatNews(s),"en-GB":this.formatNews(s.filter(e=>e.enTitle!==null))}},historyBase64(){return X},historyFullSix(){return J},historyList(){const s={showLeaderStyle:{minStyle:{0:{left:"8%",top:"57.5%",width:"8.3336vw","--pTop":this.locale==="zh-CN"?"8px":"-10px"},1:{left:"22.8%",top:"57%",width:"7.3336vw","--pTop":this.locale==="zh-CN"?"8px":"-10px"},2:{left:"41.4%",top:"55.3%",width:"13.5336vw","--pTop":this.locale==="zh-CN"?"8px":"-70px"},3:{left:"59.7%",top:"50%",width:"7.3336vw","--pTop":this.locale==="zh-CN"?"-10px":"-50px"},4:{left:"75%",top:"38.5%",width:"9.3336vw","--pTop":this.locale==="zh-CN"?"-12px":"-90px"},5:{left:"90.6%",top:"15.7%",width:"8.3336vw","--pTop":this.locale==="zh-CN"?"-14px":"-30px"}},bigStyle:{0:{left:"8%",top:"65.5%",width:"8.3336vw","--pTop":this.locale==="zh-CN"?"0":"-30px"},1:{left:"24.4%",top:"65.1%",width:"8.3336vw","--pTop":this.locale==="zh-CN"?"0":"-30px"},2:{left:"40.3%",top:"63.7%",width:"8.3336vw","--pTop":this.locale==="zh-CN"?"0":"-132px"},3:{left:"56.3%",top:"60%",width:"8.3336vw","--pTop":this.locale==="zh-CN"?"-32px":"-100px"},4:{left:"72.6%",top:"51.1%",width:"8.3336vw","--pTop":this.locale==="zh-CN"?"-32px":"-170px",childStyle:{top:"4px"}},5:{left:"88.6%",top:"31.2%",width:"8.3336vw","--pTop":this.locale==="zh-CN"?"-32px":"-64px",childStyle:{left:"60%",top:"10px"}}}},noShowLeaderStyle:{minStyle:{0:{left:"10%",top:"57.3%",width:"11.3336vw","--pTop":this.locale==="zh-CN"?"8px":"-10px"},1:{left:"31%",top:"57%",width:"11.3336vw","--pTop":this.locale==="zh-CN"?"8px":"-10px"},2:{left:"53%",top:"52.2%",width:"12.3336vw","--pTop":this.locale==="zh-CN"?"8px":"-70px"},3:{left:"73.2%",top:"41%",width:"7.3336vw","--pTop":this.locale==="zh-CN"?"-12px":"-50px"},4:{left:"87.2%",top:"23.4%",width:"9.3336vw","--pTop":this.locale==="zh-CN"?"-12px":"-90px"}},bigStyle:{0:{left:"10%",top:"65.3%",width:"11.3336vw","--pTop":this.locale==="zh-CN"?"0":"-30px"},1:{left:"31%",top:"64.8%",width:"11.3336vw","--pTop":this.locale==="zh-CN"?"0":"-30px"},2:{left:"53%",top:"61.2%",width:"12.3336vw","--pTop":this.locale==="zh-CN"?"0":"-132px"},3:{left:"73.2%",top:"50.7%",width:"7.3336vw","--pTop":this.locale==="zh-CN"?"-32px":"-100px"},4:{left:this.locale==="zh-CN"?"91.2%":"88.2%",top:this.locale==="zh-CN"?"27%":"32%",width:"9.3336vw","--pTop":this.locale==="zh-CN"?"-32px":"-160px"}}}},e=this.showLeader?s.showLeaderStyle:s.noShowLeaderStyle;let t=[{title:"获批承建",year:"2017",text:'<div class="htmlDivRow">中国能建广东院提请省发展改革委建设广东省海上风电大数据中心并获批承建这一公益性机构。</div>'},{title:"初步建成",year:"2019",text:'<div class="htmlDivRow">广东省海上风电大数据中心初步建设完成。</div><div class="htmlDivRow">成功接入首个海上风电运营数据。</div>'},{title:"试点示范&分中心成立",year:"2020",text:'<div class="htmlDivRow">在阳江市委、市政府的支持下，成立阳江分中心，是广东省打造阳江国际风电城“一港四中心”战略的其中之一。</div><div class="htmlDivRow">入选工信部大数据产业发展试点示范项目。</div>'},{title:"创新年度优秀解决方案",year:"2021",text:'<div class="htmlDivRow">荣获《电力行业两化融合应用创新年度优秀解决方案》。</div>'}];return this.showLeader?t=t.concat([{title:"工程建设行业互联网发展最佳实践案例",year:"2022",text:'<div class="htmlDivRow">荣获2022年工程建设行业互联网发展最佳实践案例。</div><div class="htmlDivRow">时任广东省省委书记李希书记一行莅临中心指导调研，李希书记肯定道：“你们的大数据中心建设得很好”。</div>'},{title:"调研接待获得认可",year:"2023",text:'<div class="htmlDivRow">入选国家工信部新一代信息技术典型产品、应用和服务案例。</div><div class="htmlDivRow">国家能源局局长章建华及广东省省委书记黄坤明分别莅临中心调研，均给予充分肯定与鼓励。</div>'}]):t=t.concat([{title:"工程建设行业互联网发展最佳实践案例",year:"2022",text:'<div class="htmlDivRow">荣获2022年工程建设行业互联网发展最佳实践案例。</div>'}]),t.map((i,l)=>(i.minStyle=e.minStyle[l],i.bigStyle=e.bigStyle[l],i))},locale(){return this.$store.state.app.language||"zh-CN"},videoList(){var t;let s=[],e=((t=this.$store.state.subcenterResource)==null?void 0:t.loginPageVideo)||[];return e=e.map(i=>(i.img=ee[i.img]||i.img,i)),s=e.filter(i=>i.type===(this.showLeader?"1":"2")),s},lang(){return`lang_${this.$root.$i18n.locale}`},videoListGener(){let s=3,e=this.videoList.length;if(e===0||e<=s||e>=2*s)return this.videoList;let t=[];for(;t.length<2*s;)t=[...t,...this.videoList];return t},bannerListGener(){let s=3,e=this.bannerImg.length;if(e===0||e<=s||e>=2*s)return this.bannerImg;let t=[];for(;t.length<2*s;)t=[...t,...this.bannerImg];return t},needCheck(){return!0},bannerImg(){return this.$store.state.subcenterResource.slideShow.filter(s=>this.showLeader?s.type===0:s.type===1)}},async created(){this._GetNewsList(),this.init()},mounted(){let s=this.$store.state.app.language;s||(s="zh-CN",this.$store.commit("setLang",s)),this.$refs.username.focus(),localStorage.showLeader?this.showLeader=localStorage.showLeader==="true":localStorage.showLeader=this.showLeader+""},deactivated(){this.clearInput(),this.initOne()},methods:{toBanner(){this.showPic=!0,this.activeIndex=0},changeShowLeader(){let s=new Date().getTime();s-this.clickParams.lastTime<this.clickParams.waitTime?this.clickParams.num++:this.clickParams.num=0,this.clickParams.lastTime=s,this.clickParams.num>=this.clickParams.maxNum&&(clearTimeout(this.clickParams.timer),this.clickParams.timer=setTimeout(()=>{this.showLeader=!this.showLeader,localStorage.showLeader=this.showLeader,this.clickParams.num=0,this.$message.success("切换成功")},100))},async loginResult(s){b(s.token),o("companyCode",s.companyCode),N(s.mqttUser,s.mqttPassword),o("CesiumToken",s.CesiumToken),o("gaodeMapToken",s.gaodeMapToken),o("loginUser",JSON.stringify(s.loginUser)),this.setMatomoUser(s.loginUser),this.videoUrl="";const e=await A(),t="/main";return e.some(i=>i.path===t)?this.$router.push(t):e.some(i=>i.path==="/run")?this.$router.push("/run"):e.some(i=>i.path==="/run")?this.$router.push("/run"):e.some(i=>i.path==="/build")?this.$router.push("/build"):e.some(i=>i.path==="/weather")?this.$router.push("/weather"):y.error("没有访问权限")},clearInput(){const s=this.$refs.username.value,e=this.$refs.password.value;this.$refs.username.value="",this.$refs.password.value="",this.$refs.username.value=s,this.$refs.password.value=e},initOne(){this.bottomTabIndex=0},async init(){this.currTime=new Date,setInterval(()=>{this.currTime=new Date},1e3),this.$nextTick(()=>{let s=setInterval(()=>{!this.visCarousel&&!this.showPic&&!this.maskVisible&&(this.$refs.leaderCar?this.$refs.leaderCar.next():(clearInterval(s),s=null))},3e3)})},_GetNewsList(s=1){this.newsLoading=!0,f({pageNo:s,pageSize:8}).then(e=>{let{records:t,current:i,total:l}=e.result;this.newsIpage={current:i,total:l},t.map(r=>{r.publishTime=$(6,r.publishTime),r.publishDate=r.publishTime.slice(0,10)}),this.$nextTick(()=>{this.newsList.length=0,this.newsList=this.formatNews(t),this.newsLoading=!1})})},goLogin(){if(w(this.$refs.username.value)&&w(this.$refs.password.value)){const s=this.$refs.username.value,e=this.$refs.password.value;let t={username:s,password:k(e),skipCaptcha:!0,encrypt:!0};this.loginLoading=!0,L(t).then(i=>{this.loginLoading=!1,i.success?typeof i.result=="string"?/^1\d{2}\*{4}\d{4}$/.test(i.result)?this.$refs.CheckUser.send(i.result,t.username):console.log("其它"):this.loginResult(i.result):this.$message.warning(i.message)})}else this.$message.error(this.$t("login.emptyLoginIngo"))},getMore(){this.$router.push("/news")},onClickNews(s){this.$router.push({name:"newsDetail",params:{id:s.id}})},openVideoModal(){this.isVideo=!0,this.scaleModalVis=!0,this.$nextTick(()=>{let s=this.$refs.video2;s&&(s.volume=.5,s.play())})},closeModal(){this.scaleModalVis=!1,this.isVideo&&(this.isVideo=!1)},videoNext(){let s=this.$refs.videoList,e=`translateY(-${25.3*3}vh)`;s.style.transform!==e&&(s.style.transition="0.5s",s.style.transform=e,setTimeout(()=>{for(let t=0;t<3;t++)s.appendChild(s.removeChild(s.childNodes[0]));s.style.transition="0s",s.style.transform=""},500))},sliderPrev(s=1){let e=this.$refs.sliderList;for(let t=0;t<s*3;t++)e.insertBefore(e.removeChild(e.childNodes[e.children.length-1]),e.childNodes[0])},sliderNext(s=1){let e=this.$refs.sliderList,t=`translateY(-${14.6*s*3}vh)`;e.style.transform!==t&&(e.style.transition="0.5s",e.style.transform=t,setTimeout(()=>{for(let i=0;i<s*3;i++)e.appendChild(e.removeChild(e.childNodes[0]));e.style.transition="0s",e.style.transform=""},500))},sliderChange(s,e){let t=this.bannerImg.length,l=+this.$refs.sliderList.children[0].getAttribute("data-index"),r=(e-l+t)%t;if(r===3)this.sliderNext();else if(r>3){let c=Math.ceil(Math.abs(r-t)/3);c===1?this.sliderPrev():c>1&&this.sliderNext(c-1)}this.activeIndex=e},sldClassName(s){let e=this.bannerImg.length,t=this.activeIndex;return t===0?s===e-1?"prev":s===0?"curr":s===1?"next":"":t===e-1?s===e-2?"prev":s===e-1?"curr":s===0?"next":"":s===t-1?"prev":s===t?"curr":s===t+1?"next":""},switchSld(s=1){s>0&&this.activeIndex===this.bannerImg.length-1?this.activeIndex=s-1:s<0&&this.activeIndex===0?this.activeIndex=this.bannerImg.length+s:this.activeIndex+=s,this.$refs.leaderCar.goTo(this.activeIndex)},setBottomTabIndex(s){this.bottomTabIndex=s},showMask(){this.maskVisible=!0},hideMask(){this.maskVisible=!1},setLocale(s){this.$root.$i18n.locale=s,this.$store.commit("setLang",s)},async getEngNews(){let{result:s}=await f({query:"enTitle != ''",queryType:"sql",pageNo:1,pageSize:4});this.newsLangs["en-GB"]=s?this.formatNews(s.records):void 0},formatNews(s){let e=[];return s.forEach(t=>{if(!t.imgUrls){let i=t.content.match(/\ssrc=['"](.*?)['"]/);t.imgUrls=i&&i[1]}t.imgUrls=t.imgUrls||j,t.content=t.content.replace(/(<.+?>)|(&nbsp;|&ensp;|&emsp;|thinsp;|&zwnj;|&zwj;)/g,"").trim(),t.content=t.content.slice(0,100),e.push(t)}),e}}};var se=function(){var i,l,r,c,u,v,p;var e=this,t=e._self._c;return t("div",{staticClass:"login",class:[{newsVis:e.newsVis},e.lang],style:{"--showBotom":e.newsVis?"block":"none"},attrs:{"data-title":e.$t("login.header_title")}},[t("img",{staticClass:"title-img",attrs:{"w-full":"",src:(i=e.$store.state.subcenterResource)==null?void 0:i.staticFileMap.title,alt:""}}),t("div",{staticClass:"login-body"},[t("div",{staticClass:"login-left"},[t("div",{staticClass:"video-title triangle"},[t("h2",{attrs:{"data-content":e.$t("login.videoDemo")}},[e._v(" "+e._s(e.$t("login.videoDemo"))+" ")]),e._m(0)]),t("div",{staticClass:"video-list-parent"},[t("ul",{ref:"videoList"},e._l(e.videoListGener,function(a,n){return t("li",{key:n},[t("div",{staticClass:"video-box"},[t("div",{staticClass:"video-play",style:{backgroundImage:`url(${a.img})`},on:{click:function(m){e.videoTitle=a.title,e.videoUrl=a.url,e.openVideoModal()}}}),t("p",[e._v(e._s(a.title))])])])}),0)]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.videoList.length>3,expression:"videoList.length > 3"}],staticClass:"swiper-btn",on:{click:e.videoNext}})]),t("div",{staticClass:"login-center"},[t("div",{staticClass:"leader-box"},[t("div",{staticClass:"leader-header triangle"},[t("h2",{attrs:{"data-content":e.showLeader?e.$t("login.leaderTitle"):e.$t("login.seafwind_atlas")},on:{click:e.changeShowLeader}},[e._v(" "+e._s(e.showLeader?e.$t("login.leaderTitle"):e.$t("login.seafwind_atlas"))+" ")]),t("div",{staticClass:"curr-time-box"},[t("div",{staticClass:"curr-time"},[e._v(" "+e._s(e.$d(e.currTime,"medium"))+" ")]),e._m(1)])]),t("div",{staticClass:"leader-body"},[t("i"),t("div",{staticClass:"leader-content",on:{mouseover:function(a){e.visCarousel=!0},mouseout:function(a){e.visCarousel=!1}}},[t("div",{staticClass:"leader-curr"},[e.bannerImg.length?t("a-carousel",{ref:"leaderCar",attrs:{arrows:"",dots:!1,"before-change":e.sliderChange}},[t("b",{attrs:{slot:"prevArrow"},slot:"prevArrow"}),t("b",{attrs:{slot:"nextArrow"},slot:"nextArrow"}),e._l(e.bannerImg,function(a,n){return t("div",{key:n,staticClass:"leader-img",style:{backgroundImage:`url(${a.thumUrl})`},on:{click:e.toBanner}},[t("p",{directives:[{name:"show",rawName:"v-show",value:a.title,expression:"item.title"}]},[e._v(" "+e._s(a.title)+" ")])])})],2):e._e()],1),t("div",{staticClass:"leader-list"},[t("div",{staticClass:"list-container"},[t("ul",{ref:"sliderList"},e._l(e.bannerImg,function(a,n){return t("li",{key:n,class:{"slide-active":e.activeIndex===n},style:{backgroundImage:`url(${a.thumUrl})`},attrs:{"data-index":n},on:{click:function(m){e.$refs.leaderCar.goTo(n,!0),e.activeIndex=n}}},[t("b")])}),0)]),t("span",{on:{click:function(a){return e.sliderNext(1)}}})])]),t("i")])]),t("div",{staticClass:"news-box"},[t("div",{staticClass:"news-title triangle"},[t("h2",{staticClass:"tab_item",class:{active:e.bottomTabIndex===0},attrs:{"data-content":e.$t("login.newsInformation")},on:{click:function(a){return e.setBottomTabIndex(0)}}},[e._v(" "+e._s(e.$t("login.newsInformation"))+" ")]),t("h2",{staticClass:"tab_item",class:{active:e.bottomTabIndex===1},attrs:{"data-content":e.$t("login.developmentHistory")},on:{click:function(a){return e.setBottomTabIndex(1)}}},[e._v(" "+e._s(e.$t("login.developmentHistory"))+" ")]),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.bottomTabIndex,expression:"!bottomTabIndex"}],on:{click:function(a){e.newsVis=!0}}},[e._v(e._s(e.$t("login.more")))]),t("ul",{class:["decorate-line",{tab2:e.bottomTabIndex===1}]},[t("li"),t("li"),t("li"),t("li"),t("li"),t("li")])]),t("a-spin",{directives:[{name:"show",rawName:"v-show",value:e.bottomTabIndex===0,expression:"bottomTabIndex === 0"}],staticClass:"news-cont",attrs:{spinning:e.newsLoading}},[t("ul",{staticClass:"news-list"},e._l(e.newsLangs[e.locale],function(a,n){return t("li",{key:n,on:{click:function(m){return e.onClickNews(a)}}},[e.lang!=="lang_en-GB"?t("b",[e._v(e._s(a.title))]):e._e(),t("span",[e._v(e._s(e.$d(new Date(a.publishTime),"short")))]),t("div",{staticClass:"n-cont"},[t("p",[e._v(e._s(e.lang==="lang_en-GB"?a.enTitle:a.title))]),e.lang!=="lang_en-GB"?t("div",[a.abstr?t("span",[e._v(e._s(a.abstr))]):t("span",{staticClass:"vhtml-content",domProps:{innerHTML:e._s(a.content)}})]):e._e()]),t("div",{staticClass:"n-img",style:{backgroundImage:`url(${a.imgUrls})`}})])}),0)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.bottomTabIndex===1,expression:"bottomTabIndex === 1"}],staticClass:"history",class:e.showLeader&&"leaderHistory"},[t("img",{staticClass:"historyImg",attrs:{src:e.historyBase64},on:{click:e.showMask}})])],1)]),t("div",{staticClass:"login-right"},[t("div",{staticClass:"language",staticStyle:{color:"#fff"}},[t("img",{staticClass:"international",attrs:{src:K}}),t("div",{staticClass:"langs"},e._l(e.langs,function(a){return t("div",{key:a.value,staticClass:"item",class:{active:a.value===e.locale}},[t("span",{on:{click:function(n){return e.setLocale(a.value)}}},[e._v(e._s(a.label))])])}),0)]),t("div",{staticClass:"login-box"},[t("div",{staticClass:"login-box-header"},[t("h1",{staticClass:"triangle"},[e._v(" "+e._s(e.$t("login.welcomeToLogin"))+" ")])]),t("div",{staticClass:"login-name"},[t("input",{ref:"username",attrs:{placeholder:e.$t("placeholder.entry",[e.$t("placeholder.account")]),type:"text"},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.$refs.password.focus()}}})]),t("div",{staticClass:"login-pwd"},[t("input",{ref:"password",attrs:{placeholder:e.$t("placeholder.entry",[e.$t("placeholder.password")]),type:"password"},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.goLogin.apply(null,arguments)}}})]),t("div",{staticClass:"login-enter"},[t("div",{staticClass:"login-submit",on:{click:e.goLogin}},[t("span",{staticClass:"login-text",class:{"login-ing":e.loginLoading},attrs:{"data-loading":e.$t("login.loading")}},[e._v(e._s(e.$t("login.login")))])])])]),t("div",{staticClass:"construct-info"},[e.lang==="lang_en-GB"?t("div",{staticClass:"group-text-en"},[t("img",{staticClass:"unit",attrs:{alt:"",src:(r=(l=e.$store.state.subcenterResource)==null?void 0:l.staticFileMap)==null?void 0:r.guidance_unit_text_en}}),t("img",{staticClass:"unit",attrs:{alt:"",src:(u=(c=e.$store.state.subcenterResource)==null?void 0:c.staticFileMap)==null?void 0:u.construct_unit_text_en}})]):t("div",{staticClass:"group-text",style:{backgroundImage:`url(${(p=(v=e.$store.state.subcenterResource)==null?void 0:v.staticFileMap)==null?void 0:p.guidanceUnit})`}}),t("div",{staticClass:"qrBox"},[t("div",[t("div",{staticClass:"callMe",staticStyle:{"white-space":"nowrap"}},[e._v(" "+e._s(e.$t("login.contact_us"))+" "),t("div",{staticClass:"phone"},[e._v("020-32115391")])]),t("div",{staticClass:"toMini"},[e._v(" "+e._s(e.$t("login.feedback"))+" ")])]),t("div",{staticStyle:{"margin-left":"2vw"}},[t("div",{staticStyle:{"text-align":"center","white-space":"nowrap"}},[e._v(" "+e._s(e.$t("login.gd_offshore_wind_power_wechat_mini_program"))+" ")]),t("div",{staticClass:"toSuggest"})])])])])]),e._m(2),t("div",{staticClass:"news-detail-list"},[t("nlCom",{attrs:{list:e.newsList,pagin:e.newsIpage,loading:e.newsLoading},on:{change:e._GetNewsList}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showPic,expression:"showPic"}],staticClass:"leader-modal"},[e.bannerImg[e.activeIndex]&&e.bannerImg[e.activeIndex].desc?t("div",{staticClass:"leader-carul-title"},[t("span",[e._v(e._s(e.bannerImg[e.activeIndex]&&e.bannerImg[e.activeIndex].desc))])]):e._e(),t("div",{staticClass:"leader-carousel"},[e._l(e.bannerImg,function(a,n){return t("div",{key:n,staticClass:"leader-image",class:[e.sldClassName(n)]},[t("div",{style:{backgroundImage:`url(${a.imgUrl})`}})])}),t("div",{staticClass:"prev-btn",on:{click:function(a){return e.switchSld(-1)}}}),t("div",{staticClass:"next-btn",on:{click:function(a){return e.switchSld(1)}}})],2),t("div",{staticClass:"modal-exit",attrs:{title:"返回上一级"},on:{click:function(a){e.showPic=!1}}})]),e.scaleModalVis&&e.isVideo?t("div",{staticClass:"video-modal"},[t("div",{staticClass:"modal-cont"},[t("div",{staticClass:"modal-head"},[t("div",[e.isVideo?t("span",[e._v(e._s(e.videoTitle))]):e._e(),t("a-icon",{staticStyle:{position:"absolute",right:"8px",margin:"5px",color:"#2be3ff"},attrs:{type:"close"},on:{click:e.closeModal}})],1)]),t("div",{staticClass:"modal-body"},[t("video",{ref:"video2",attrs:{disablePictureInPicture:!0,src:e.videoUrl,controls:"",controlsList:"nodownload noplaybackrate footbar"},on:{click:function(a){e.scaleModalVis=!0}}})])])]):e._e(),t("div",{staticClass:"header-exit",staticStyle:{opacity:"0",transition:"opacity 0.5s ease-in-out"},attrs:{title:"返回上一级"},on:{click:function(a){e.newsVis=!1}}}),t("CheckUser",{ref:"CheckUser",on:{reSend:e.goLogin,loginResult:e.loginResult}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.maskVisible,expression:"maskVisible"}],staticClass:"mask"},[t("div",{staticClass:"historyDialog"},[t("div",{staticClass:"header"},[t("div",{staticClass:"title"},[e._v("发展历程")]),t("a-icon",{staticClass:"close",attrs:{type:"close"},on:{click:e.hideMask}})],1),t("div",{staticClass:"container",class:e.showLeader&&"leaderHistory"},[t("img",{staticClass:"history_full",attrs:{alt:"",src:e.historyFullSix}})])])])],1)},ie=[function(){var s=this,e=s._self._c;return e("ul",{staticClass:"decorate-line"},[e("li"),e("li"),e("li"),e("li"),e("li"),e("li")])},function(){var s=this,e=s._self._c;return e("ul",{staticClass:"decorate-line"},[e("li"),e("li"),e("li"),e("li"),e("li"),e("li")])},function(){var s=this,e=s._self._c;return e("div",{staticClass:"footer"},[e("span",[e("a",{attrs:{href:"https://beian.miit.gov.cn/",target:"_blank"}},[s._v("京ICP备12005554号-2")])]),e("span",[e("a",{attrs:{href:"https://beian.miit.gov.cn/",target:"_blank"}},[s._v("粤ICP备05062592号-4")])]),e("span",[e("a",{attrs:{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010502032840"}},[e("img",{attrs:{src:Q,alt:""}}),s._v(" 京公网安备 11010502032840号")])]),e("span",[s._v("Copyright © 2022 ENERGY CHINA All Right Reserved.")])])}],ae=h(te,se,ie,!1,null,"279fd9c1");const ce=ae.exports;export{ce as default};

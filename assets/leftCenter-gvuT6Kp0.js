const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ChartByComm-CfNMYcyq.js","./index-FdyGBlLz.js","./index-BnngHmlw.css","./ChartByComm-CxJ2tzVq.css","./tabs-CBGXczMl.js","./tabs-BDZ_RxSz.css"])))=>i.map(i=>d[i]);
import{n as c,_ as o,l as n}from"./index-FdyGBlLz.js";import{h as u}from"./common-0X47MWYd.js";const l={data(){return{active:0,colorList:["#34D631","#F4A460","#FF6464","#B0C4DE","#44FFC9","#DDAFFF","#239E7F","#BC8F8F","#FF78AB","#2398ff","#C9AB19","#1DD1FF","#FF63FA","#EF2E0F","#FFBA19","#1376DB","#AC4F87","#E4FF98","#8C24D9"],comProps:{chartData:{series:[]}}}},computed:{tabArr(){return[{label:this.$t("build.city"),groupByField:"etattr_city",value:0},{label:this.$t("build.owner"),groupByField:"etattr_ower",value:1}]}},components:{ChartByComm:()=>o(()=>import("./ChartByComm-CfNMYcyq.js"),__vite__mapDeps([0,1,2,3]),import.meta.url),Tabs:()=>o(()=>import("./tabs-CBGXczMl.js"),__vite__mapDeps([4,1,2,5]),import.meta.url)},created(){this.getData()},mounted(){window.eventBus.$on("changeSubcenter",this.getData)},beforeMount(){window.eventBus.$off("changeSubcenter",this.getData)},methods:{setActive(a){this.active=a,this.getData()},getData(){let a={groupByField:this.tabArr[this.active].groupByField,method:"sum",windfarmStatus:"建设",methodField:"etattr_capacity",subCenter:this.$store.state.subcenterResource.area||void 0};n(a).then(t=>{if(t.success&&t.result.length>0){let e=t.result.filter(r=>u(r._id));e=e.sort((r,i)=>i.etattr_capacity-r.etattr_capacity);let s=[];e.forEach((r,i)=>{s.push({name:r._id,y:+this.$t("currency.MW",[r.etattr_capacity]),color:this.colorList[i]})}),this.comProps.chartData.series=s,this.comProps.chartData.unit=this.$t("unit.MW")}})}}};var h=function(){var t=this,e=t._self._c;return e("div",[e("Tabs",{attrs:{tabArr:t.tabArr,active:t.active},on:{selected:s=>t.setActive(s)}}),e("ChartByComm",{staticClass:"leftCenterChart",attrs:{cName:"PieForHighchart",comProps:t.comProps}})],1)},_=[],m=c(l,h,_,!1,null,"07efad6b");const p=m.exports;export{p as default};

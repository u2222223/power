import{a as r,j as g}from"./store-BeJ4ml9q.js";import{m as c,f as l,cA as h,n as o}from"./index-FdyGBlLz.js";const u="data:image/png;base64,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",A="data:image/png;base64,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",d={props:{record:{type:Object,default:()=>{}},pageList:{type:Array,default:()=>[]},treeOpen:{type:Boolean,default:!1},task:{type:Object||null,default:null}},data(){return{pageData:"",iframeUrl:null}},computed:{...c(["activeChildPage"]),...l({getPageList:"getPageList"}),newPageList(){return this.pageList},fullScreen(){return[5471,5533,5534,7654].includes(this.activeChildPage)},isEnGB(){return this.$root.$i18n.locale==="en-GB"}},watch:{pageList(a,e){console.log("newVnewVnewVnewV:",a,e),JSON.stringify(a)!==JSON.stringify(e)&&(this.handelMeunAuth(),this.$store.commit("setPageList",a))},task:{handler(a){a&&this.changeChildPage(a)},immediate:!0,deep:!0}},mounted(){this.handelMeunAuth(),this.$store.commit("setPageList",this.pageList)},methods:{async changeChildPage({first:a,pageCode:e}){const t=a;if(console.log("changeChildPage????:",t),this.iframeUrl=null,this.$store.commit("setActiveChildPage",t.pageId),r(t.pageId),t.showType===4){let s=t.jumpType===1?"_blank":"_self";window.open(t.pageUrl,s)}else if(t.showType===5)this.iframeUrl=t.pageUrl,this.$emit("hideTree");else if(t.showType===6)this.pageData=t.pageData?t.pageData:"{}",console.log("obj=>",t),t.pagePath&&(g(this.record.entityId),this.$store.commit("setWindEntityId",this.record.entityId),this.$route.path!==t.pagePath&&console.log("obj====>",t),this.$router.push({path:t.pagePath,query:{pageCode:this.task.pageCode,entityId:this.task.entityId}}));else if(t.showType===7){let{pageUrl:s}=t;this.$route.path!=="/forge"&&this.$router.push({name:"/forge",params:{pageUrl:s}})}},handelMeunAuth(){this.pageList.find(a=>a.pageName==="3D")||(console.log("handelMeunAuth:",this.pageList),this.pageList.map((a,e)=>{a.pageName==="3D"?a.authKey="/forge":a.authKey=a.pagePath}),this.pageList.map((a,e)=>{this.checkAuthMenu(a.authKey)||this.$set(a,"authKey","")}),this.pageList=this.pageList.filter(a=>a.authKey!==""))},checkAuthMenu(a){const e=h();let t=!1;const s=i=>{!i||i.length===0||i.forEach(n=>{n.path===a&&(t=!0),n.children&&n.children.length>0&&s(n.children)})};return s(e),t}}};var p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-container",class:{"base-bg":e.$route.meta.baseBg}},[t("div",{staticClass:"main",style:e.treeOpen?"margin-left: 18%":""},[e.fullScreen?e._e():t("div",{staticClass:"menu-list"},[e._m(0),e._l(e.getPageList,function(s,i){return t("div",{key:s.pageId,staticClass:"menu-item",class:s.pageId===e.activeChildPage?"active":"noActive",style:i!==e.getPageList.length-1?"margin-right: 10px":"",on:{click:function(n){return e.changeChildPage({first:s})}}},[e._v(" "+e._s(e.isEnGB&&s.pageCode||s.pageName)+" ")])}),e._m(1)],2),t("div",{staticClass:"mainBox",class:{fullScreen:e.fullScreen}},[e.iframeUrl?e._e():[t("router-view",{attrs:{record:e.record,"tree-open":e.treeOpen}})],e.iframeUrl?t("iframe",{attrs:{src:e.iframeUrl}}):e._e()],2)])])},C=[function(){var a=this,e=a._self._c;return e("div",[e("img",{staticStyle:{width:"20px"},attrs:{alt:"",src:u}})])},function(){var a=this,e=a._self._c;return e("div",[e("img",{staticStyle:{width:"20px"},attrs:{alt:"",src:A}})])}],m=o(d,p,C,!1,null,"c6c33f2d");const B=m.exports;export{B as default};

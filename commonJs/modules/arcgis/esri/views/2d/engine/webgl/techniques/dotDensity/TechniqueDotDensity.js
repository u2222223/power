// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
define(["exports","../../color","../../definitions","../Technique","../../../../../webgl/enums"],function(e,f,k,l,c){class d extends l.Technique{static getStorageSpec({attributes:a}){return{visualVariables:!1,attributes:a??null}}static _createRendererSchema(){return{type:"dot-density",colors:new Float32Array(32),dotValue:-1,dotSize:-1,dotScale:-1,dotBlending:!1,backgroundColor:new Float32Array(4),activeDots:new Float32Array(8),seed:-1}}static createOrUpdateRendererSchema(a,g){const {attributes:h,
dotValue:m,referenceScale:n,dotSize:p,dotBlendingEnabled:q,seed:r,backgroundColor:t}=g;a=null!=a&&"dot-density"===a.type?a:this._createRendererSchema();a.dotValue=m;a.dotSize=p;a.dotScale=n;a.dotBlending=q;a.seed=r;const {colors:u,activeDots:v,backgroundColor:w}=a;for(var b=0;b<k.dotDensityMaxFields;b++)f.writeColor(u,b>=h.length?null:h[b].color,4*b);for(b=0;8>b;b++)v[b]=b<g.attributes.length?1:0;f.writeColor(w,t);return a}static getVariation(a){return{ddDotBlending:a.dotBlending}}static getVariationHash(a){return a.dotBlending?
1:0}}d.type="dot-density";d.programSpec={shader:"materials/fill",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:c.DataType.SHORT},{location:1,name:"a_id",count:3,type:c.DataType.UNSIGNED_BYTE},{location:2,name:"a_bitset",count:1,type:c.DataType.UNSIGNED_BYTE},{location:3,name:"a_inverseArea",count:1,type:c.DataType.FLOAT}]}};e.DotDensityTechnique=d;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});
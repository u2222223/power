// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
define(["exports","./contextUtils","./enums","./GLObjectType","./RenderbufferDescriptor"],function(d,h,e,k,l){class m{constructor(a,c){this._context=a;this._descriptor=c;this.type=k.GLObjectType.RenderBuffer;this._context.instanceCounter.increment(e.ResourceType.Renderbuffer,this);a=this._context.gl;this.glName=a.createRenderbuffer();this._context.bindRenderbuffer(this);const {width:b,height:f,internalFormat:g,multisampled:n}=c;if(n){if(this._context.type!==h.ContextType.WEBGL2)throw Error("Multisampled renderbuffers are not supported in WebGL1!");
a.renderbufferStorageMultisample(a.RENDERBUFFER,this.samples,g,b,f)}else a.renderbufferStorage(a.RENDERBUFFER,g,b,f)}get descriptor(){return this._descriptor}get samples(){const a=this._descriptor.samples,c=this._context.parameters.maxSamples;return a?Math.min(a,c):c}get gpuMemoryUsage(){return l.estimateMemory(this._descriptor)}resize(a,c){const b=this._descriptor;if(b.width!==a||b.height!==c)b.width=a,b.height=c,a=this._context.gl,this._context.bindRenderbuffer(this),b.multisampled?a.renderbufferStorageMultisample(a.RENDERBUFFER,
this.samples,b.internalFormat,b.width,b.height):a.renderbufferStorage(a.RENDERBUFFER,b.internalFormat,b.width,b.height)}dispose(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(e.ResourceType.Renderbuffer,this),this._context=null)}}d.Renderbuffer=m;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});
// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
if("undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document&&(window.dojoConfig||(window.dojoConfig={}),!window.dojoConfig.hasOwnProperty("baseUrl"))){const o=window.document.currentScript.src;let d;d=o.endsWith("/init.js")?o.slice(0,o.lastIndexOf("/"))+"/dojo":o.endsWith("/dojo/dojo.js")?o.slice(0,o.lastIndexOf("/")):o+(o.endsWith("/")?"dojo":"/dojo"),window.dojoConfig.baseUrl=d}
//>>built
(function(a,b){var d,f,e,k=function(){return"undefined"!==typeof z&&"function"!==typeof z?z:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),q=function(){},g=function(ca){for(var ya in ca)return 0;return 1},p={}.toString,l=function(ca){return"[object Function]"==p.call(ca)},n=function(ca){return"[object String]"==p.call(ca)},u=function(ca){return"[object Array]"==p.call(ca)},m=function(ca,ya){if(ca)for(var Na=0;Na<ca.length;)ya(ca[Na++])},c=function(ca,ya){for(var Na in ya)ca[Na]=
ya[Na];return ca},h=function(ca,ya){return c(Error(ca),{src:"dojoLoader",info:ya})},t=1,v=function(){return"_"+t++},w=function(ca,ya,Na){return R(ca,ya,Na,0,w)},z=k,y=z.document,r=y&&y.createElement("DiV"),x=w.has=function(ca){return l(B[ca])?B[ca]=B[ca](z,y,r):B[ca]},B=x.cache=b.hasCache;l(a)&&(a=a(k));x.add=function(ca,ya,Na,Oa){(void 0===B[ca]||Oa)&&(B[ca]=ya);return Na&&x(ca)};x.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);x("host-webworker")&&
(c(b.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(ca,ya){try{importScripts(ca),ya()}catch(Na){console.info("failed to load resource ("+ca+")"),console.error(Na)}}});for(var A in a.has)x.add(A,a.has[A],0,1);var E=0,F=[],L=0,D=q,M=q;w.isXdUrl=q;w.initSyncLoader=function(ca,ya,Na){L||(L=ca,D=ya,M=Na);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,
syncExecStack:F,modules:va,execQ:X,getModule:Ma,injectModule:nb,setArrived:ha,signal:Q,finishExec:yb,execModule:xb,dojoRequirePlugin:L,getLegacyMode:function(){return E},guardCheckComplete:Cb}};if(x("dom")||x("host-webworker")){var K=location.protocol,I=location.host;w.isXdUrl=function(ca){return/^\./.test(ca)?!1:/^\/\//.test(ca)?!0:(ca=ca.match(/^([^\/:]+:)\/+([^\/]+)/))&&(ca[1]!=K||I&&ca[2]!=I)};x.add("dojo-force-activex-xhr",x("host-browser")&&!y.addEventListener&&"file:"==window.location.protocol);
if(x("dojo-force-activex-xhr")){var P=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(e=0;3>e;)try{var T=P[e++];new ActiveXObject(T);break}catch(ca){}var Z=function(){return new ActiveXObject(T)}}else Z=function(){return new XMLHttpRequest};w.getXhr=Z;x.add("dojo-gettext-api",1);w.getText=function(ca,ya,Na){var Oa=Z();Oa.open("GET",Gb(ca),!1);Oa.send(null);if(200==Oa.status||!location.host&&!Oa.status)Na&&Na(Oa.responseText,ya);else throw h("xhrFailed",Oa.status);return Oa.responseText}}w.eval=
function(ca,ya){};var J={},Q=w.signal=function(ca,ya){ca=J[ca];m(ca&&ca.slice(0),function(Na){Na.apply(null,u(ya)?ya:[ya])})},N=w.on=function(ca,ya){var Na=J[ca]||(J[ca]=[]);Na.push(ya);return{remove:function(){for(var Oa=0;Oa<Na.length;Oa++)if(Na[Oa]===ya){Na.splice(Oa,1);break}}}},V=[],U={},sa=[],za={},Fa=w.map={},Da=[],va={},W="",ba={},fa={},Ba={},Ja=0;if(!x("foreign-loader"))var G=function(ca,ya){ya=!1!==ya;var Na,Oa;for(Na in fa){var Ra=fa[Na];if(Oa=Na.match(/^url:(.+)/))ba["url:"+qa(Oa[1],ca)]=
Ra;else if("*now"==Na)var Va=Ra;else"*noref"!=Na&&(Oa=xa(Na,ca,!0),ba[Oa.mid]=ba["url:"+Oa.url]=Ra)}Va&&Va(H(ca));ya&&(fa={})};var S=function(ca){return ca.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ya){return"\\"+ya})},ja=function(ca,ya){ya.splice(0,ya.length);for(var Na in ca)ya.push([Na,ca[Na],new RegExp("^"+S(Na)+"(/|$)"),Na.length]);ya.sort(function(Oa,Ra){return Ra[3]-Oa[3]});return ya},pa=function(ca,ya){m(ca,function(Na){ya.push([n(Na[0])?new RegExp("^"+S(Na[0])+"$"):Na[0],Na[1]])})},
Aa=function(ca){var ya=ca.name;ya||(ya=ca,ca={name:ya});ca=c({main:"main"},ca);ca.location=ca.location?ca.location:ya;ca.packageMap&&(Fa[ya]=ca.packageMap);ca.main.indexOf("./")||(ca.main=ca.main.substring(2));za[ya]=ca},Y=[],da=function(ca,ya,Na){for(var Oa in ca){"waitSeconds"==Oa&&(w.waitms=1E3*(ca[Oa]||0));"cacheBust"==Oa&&(W=ca[Oa]?n(ca[Oa])?ca[Oa]:(new Date).getTime()+"":"");if("baseUrl"==Oa||"combo"==Oa)w[Oa]=ca[Oa];if("async"==Oa){var Ra=ca[Oa];w.legacyMode=E=n(Ra)&&/sync|legacyAsync/.test(Ra)?
Ra:Ra?!1:"sync";w.async=!E}ca[Oa]!==B&&(w.rawConfig[Oa]=ca[Oa],"has"!=Oa&&x.add("config-"+Oa,ca[Oa],0,ya))}w.baseUrl||(w.baseUrl="./");/\/$/.test(w.baseUrl)||(w.baseUrl+="/");for(Oa in ca.has)x.add(Oa,ca.has[Oa],0,ya);m(ca.packages,Aa);for(var Va in ca.packagePaths)m(ca.packagePaths[Va],function(bb){var ob=Va+"/"+bb;n(bb)&&(bb={name:bb});bb.location=ob;Aa(bb)});ja(c(Fa,ca.map),Da);m(Da,function(bb){bb[1]=ja(bb[1],[]);"*"==bb[0]&&(Da.star=bb)});ja(c(U,ca.paths),sa);pa(ca.aliases,V);if(!x("foreign-loader")){if(ya)Y.push({config:ca.config});
else for(Oa in ca.config)ya=Ma(Oa,Na),ya.config=c(ya.config||{},ca.config[Oa]);ca.cache&&(G(),fa=ca.cache,G(0,!!ca.cache["*noref"]))}Q("config",[ca,w.rawConfig])};w.rawConfig={};da(b,1);da(a,1);da(Ba,1);if(!x("foreign-loader"))var ma=function(ca){Cb(function(){m(ca.deps,nb)})},R=function(ca,ya,Na,Oa,Ra){var Va;if(n(ca)){if((Va=Ma(ca,Oa,!0))&&Va.executed)return Va.result;throw h("undefinedModule",ca);}u(ca)||(da(ca,0,Oa),ca=ya,ya=Na);if(u(ca))if(ca.length){Na="require*"+v();for(var bb,ob=[],Jb=0;Jb<
ca.length;)bb=ca[Jb++],ob.push(Ma(bb,Oa));Va=c(aa("",Na,0,""),{injected:2,deps:ob,def:ya||q,require:Oa?Oa.require:w,gc:1});va[Va.mid]=Va;ma(Va);var Ob=zb&&"sync"!=E;Cb(function(){xb(Va,Ob)});Va.executed||X.push(Va);Eb()}else ya&&ya();return Ra},H=function(ca){if(!ca)return w;var ya=ca.require;ya||(ya=function(Na,Oa,Ra){return R(Na,Oa,Ra,ca,ya)},ca.require=c(ya,w),ya.module=ca,ya.toUrl=function(Na){return qa(Na,ca)},ya.toAbsMid=function(Na){return la(Na,ca)},ya.syncLoadNls=function(Na){Na=xa(Na,ca);
var Oa=va[Na.mid];if(!Oa||!Oa.executed)if(Ab=ba[Na.mid]||ba["url:"+Na.url])Fb(Ab),Oa=va[Na.mid];return Oa&&Oa.executed&&Oa.result});return ya},X=[],ia=[],ta={},Ca=function(ca){ca.injected=1;ta[ca.mid]=1;ca.url&&(ta[ca.url]=ca.pack||1);ib()},ha=function(ca){ca.injected=2;delete ta[ca.mid];ca.url&&delete ta[ca.url];g(ta)&&(La(),"xd"==E&&(E="sync"))},na=w.idle=function(){return!ia.length&&g(ta)&&!X.length&&!zb};var ra=function(ca,ya){if(ya)for(var Na=0;Na<ya.length;Na++)if(ya[Na][2].test(ca))return ya[Na];
return 0},Ia=function(ca){var ya=[];for(ca=ca.replace(/\\/g,"/").split("/");ca.length;){var Na=ca.shift();if(".."==Na&&ya.length&&".."!=Oa){ya.pop();var Oa=ya[ya.length-1]}else"."!=Na&&ya.push(Oa=Na)}return ya.join("/")},aa=function(ca,ya,Na,Oa){var Ra=w.isXdUrl(Oa);return{pid:ca,mid:ya,pack:Na,url:Oa,executed:0,def:0,isXd:Ra,isAmd:!!(Ra||za[ca]&&za[ca].isAmd)}},ka=function(ca,ya,Na,Oa,Ra,Va,bb,ob,Jb,Ob){var Hb,Vb,vb;var Pb=/^\./.test(ca);if(/(^\/)|(:)|(\.js$)/.test(ca)||Pb&&!ya)return aa(0,ca,0,
ca);ca=Ia(Pb?ya.mid+"/../"+ca:ca);if(/^\./.test(ca))throw h("irrationalPath",ca);Ob||Pb||!Va.star||(vb=ra(ca,Va.star[1]));!vb&&ya&&(vb=(vb=ra(ya.mid,Va))&&ra(ca,vb[1]));vb&&(ca=vb[1]+ca.substring(vb[3]));ya=(d=ca.match(/^([^\/]+)(\/(.+))?$/))?d[1]:"";(Hb=Na[ya])?ca=ya+"/"+(Vb=d[3]||Hb.main):ya="";var Qb=0;m(ob,function(Kb){var Wb=ca.match(Kb[0]);Wb&&0<Wb.length&&(Qb=l(Kb[1])?ca.replace(Kb[0],Kb[1]):Kb[1])});if(Qb)return ka(Qb,0,Na,Oa,Ra,Va,bb,ob,Jb);if(Na=Oa[ca])return Jb?aa(Na.pid,Na.mid,Na.pack,
Na.url):Oa[ca];Oa=(vb=ra(ca,bb))?vb[1]+ca.substring(vb[3]):ya?("/"===Hb.location.slice(-1)?Hb.location.slice(0,-1):Hb.location)+"/"+Vb:ca;/(^\/)|(:)/.test(Oa)||(Oa=Ra+Oa);return aa(ya,ca,Hb,Ia(Oa+".js"))},xa=function(ca,ya,Na){return ka(ca,ya,za,va,w.baseUrl,Da,sa,V,void 0,Na)};if(!x("foreign-loader"))var ua=function(ca,ya,Na){return ca.normalize?ca.normalize(ya,function(Oa){return la(Oa,Na)}):la(ya,Na)},Ea=0,Ma=function(ca,ya,Na){var Oa;if(Oa=ca.match(/^(.+?)!(.*)$/)){var Ra=Ma(Oa[1],ya,Na);"sync"!=
E||Ra.executed||(nb(Ra),2!==Ra.injected||Ra.executed||Cb(function(){xb(Ra)}),Ra.executed?jb(Ra):X.unshift(Ra));5!==Ra.executed||Ra.load||jb(Ra);Ra.load?(Oa=ua(Ra,Oa[2],ya),ca=Ra.mid+"!"+(Ra.dynamic?++Ea+"!":"")+Oa):(Oa=Oa[2],ca=Ra.mid+"!"+ ++Ea+"!waitingForPlugin");ca={plugin:Ra,mid:ca,req:H(ya),prid:Oa}}else ca=xa(ca,ya);return va[ca.mid]||!Na&&(va[ca.mid]=ca)};var la=w.toAbsMid=function(ca,ya){return xa(ca,ya).mid},qa=w.toUrl=function(ca,ya){ya=xa(ca+"/x",ya);var Na=ya.url;return Gb(0===ya.pid?
ca:Na.substring(0,Na.length-5))};if(!x("foreign-loader"))var Ka={injected:2,executed:5,def:3,result:3},Qa=function(ca){return va[ca]=c({mid:ca},Ka)},Ta=Qa("require"),Ya=Qa("exports"),ab=Qa("module"),db={},Za=0,jb=function(ca){var ya=ca.result;ca.dynamic=ya.dynamic;ca.normalize=ya.normalize;ca.load=ya.load;return ca},qb=function(ca){var ya={};m(ca.loadQ,function(Ra){var Va=ua(ca,Ra.prid,Ra.req.module),bb=ca.dynamic?Ra.mid.replace(/waitingForPlugin$/,Va):ca.mid+"!"+Va;Va=c(c({},Ra),{mid:bb,prid:Va,
injected:0});va[bb]&&va[bb].injected||Lb(va[bb]=Va);ya[Ra.mid]=va[bb];ha(Ra);delete va[Ra.mid]});ca.loadQ=0;var Na=function(Ra){for(var Va=Ra.deps||[],bb=0;bb<Va.length;bb++)(Ra=ya[Va[bb].mid])&&(Va[bb]=Ra)},Oa;for(Oa in va)Na(va[Oa]);m(X,Na)},yb=function(ca){w.trace("loader-finish-exec",[ca.mid]);ca.executed=5;ca.defOrder=Za++;m(ca.provides,function(ya){ya()});ca.loadQ&&(jb(ca),qb(ca));for(e=0;e<X.length;)X[e]===ca?X.splice(e,1):e++;/^require\*/.test(ca.mid)&&delete va[ca.mid]},Rb=[],xb=function(ca,
ya){if(4===ca.executed)return w.trace("loader-circular-dependency",[Rb.concat(ca.mid).join("-\x3e")]),!ca.def||ya?db:ca.cjs&&ca.cjs.exports;if(!ca.executed){if(!ca.def)return db;var Na=ca.mid,Oa=ca.deps||[],Ra,Va=[],bb=0;for(ca.executed=4;Ra=Oa[bb++];){Ra=Ra===Ta?H(ca):Ra===Ya?ca.cjs.exports:Ra===ab?ca.cjs:xb(Ra,ya);if(Ra===db)return ca.executed=0,w.trace("loader-exec-module",["abort",Na]),db;Va.push(Ra)}w.trace("loader-run-factory",[ca.mid]);ya=ca.def;F.unshift(ca);Va=l(ya)?ya.apply(null,Va):ya;
ca.result=void 0===Va&&ca.cjs?ca.cjs.exports:Va;F.shift(ca);yb(ca)}return ca.result},zb=0,Cb=function(ca){try{zb++,ca()}catch(ya){throw ya;}finally{zb--}na()&&Q("idle",[])},Eb=function(){zb||Cb(function(){D();for(var ca,ya,Na=0;Na<X.length;)ca=Za,ya=X[Na],xb(ya),ca!=Za?(D(),Na=0):Na++})};var Gb="function"==typeof a.fixupUrl?a.fixupUrl:function(ca){ca+="";return ca+(W?(/\?/.test(ca)?"\x26":"?")+W:"")};void 0===x("dojo-loader-eval-hint-url")&&x.add("dojo-loader-eval-hint-url",1);var Lb=function(ca){var ya=
ca.plugin;5!==ya.executed||ya.load||jb(ya);var Na=function(Oa){ca.result=Oa;ha(ca);yb(ca);Eb()};ya.load?ya.load(ca.prid,ca.req,Na):ya.loadQ?ya.loadQ.push(ca):(ya.loadQ=[ca],X.unshift(ya),nb(ya))},Ab=0,Fb=function(ca,ya){x("config-stripStrict")&&(ca=ca.replace(/(["'])use strict\1/g,""));ca===Ab?Ab.call(null):w.eval(ca,x("dojo-loader-eval-hint-url")?ya.url:ya.mid)},nb=function(ca){var ya=ca.mid,Na=ca.url;if(!(ca.executed||ca.injected||ta[ya]||ca.url&&(ca.pack&&ta[ca.url]===ca.pack||1==ta[ca.url])))if(Ca(ca),
ca.plugin)Lb(ca);else{var Oa=function(){Sb(ca);if(2!==ca.injected){if(x("dojo-enforceDefine")){Q("error",h("noDefine",ca));return}ha(ca);c(ca,Ka);w.trace("loader-define-nonmodule",[ca.url])}E?!F.length&&Eb():Eb()};if(Ab=ba[ya]||ba["url:"+ca.url])w.trace("loader-inject",["cache",ca.mid,Na]),Fb(Ab,ca),Oa();else{if(E)if(ca.isXd)"sync"==E&&(E="xd");else if(!ca.isAmd||"sync"==E){w.trace("loader-inject",["xhr",ca.mid,Na,"sync"!=E]);w.getText(Na,"sync"!=E,function(Ra){if("sync"==E){F.unshift(ca);Fb(Ra,ca);
F.shift();Sb(ca);ca.cjs||(ha(ca),yb(ca));if(ca.finish){Ra=ya+"*finish";var Va=ca.finish;delete ca.finish;Ua(Ra,["dojo",("dojo/require!"+Va.join(",")).replace(/\./g,"/")],function(bb){m(Va,function(ob){bb.require(ob)})});X.unshift(Ma(Ra))}Oa()}else(Ra=M(ca,Ra))?(Fb(Ra,ca),Oa()):w.injectUrl(Gb(Na),Oa,ca)});return}w.trace("loader-inject",["script",ca.mid,Na]);w.injectUrl(Gb(Na),Oa,ca)}}},Bb=function(ca,ya,Na){w.trace("loader-define-module",[ca.mid,ya]);var Oa=ca.mid;if(2===ca.injected)return Q("error",
h("multipleDefine",ca)),ca;c(ca,{deps:ya,def:Na,cjs:{id:ca.mid,uri:ca.url,exports:ca.result={},setExports:function(Va){ca.cjs.exports=Va},config:function(){return ca.config}}});for(var Ra=0;ya[Ra];Ra++)ya[Ra]=Ma(ya[Ra],ca);E&&!ta[Oa]&&(ma(ca),X.push(ca),Eb());ha(ca);l(Na)||ya.length||(ca.result=Na,yb(ca));return ca},Sb=function(ca,ya){for(var Na=[],Oa,Ra;ia.length;)Ra=ia.shift(),ya&&(Ra[0]=ya.shift()),Oa=Ra[0]&&Ma(Ra[0])||ca,Na.push([Oa,Ra[1],Ra[2]]);G(ca);m(Na,function(Va){ma(Bb.apply(null,Va))})},
La=q,ib=q;x("dom");if(x("dom")){var wb=function(ca,ya,Na,Oa){ca.addEventListener(ya,Oa,!1);return function(){ca.removeEventListener(ya,Oa,!1)}},rb=wb(window,"load","onload",function(){w.pageLoaded=1;try{"complete"!=y.readyState&&(y.readyState="complete")}catch(ca){}rb()});var pb=y.getElementsByTagName("script");for(e=0;!Ja;)/^dojo/.test((f=pb[e++])&&f.type)||(Ja=f);w.injectUrl=function(ca,ya,Na){Na=Na.node=y.createElement("script");var Oa=wb(Na,"load","onreadystatechange",function(Va){Va=Va||window.event;
var bb=Va.target||Va.srcElement;if("load"===Va.type||/complete|loaded/.test(bb.readyState))Oa(),Ra(),ya&&ya()}),Ra=wb(Na,"error","onerror",function(Va){Oa();Ra();Q("error",h("scriptError: "+ca,[ca,Va]))});Na.type="text/javascript";Na.charset="utf-8";Na.src=ca;Ja.parentNode.insertBefore(Na,Ja);return Na}}w.log=q;w.trace=q;if(x("foreign-loader"))Ua=q;else{var Ua=function(ca,ya,Na){var Oa=arguments.length,Ra=["require","exports","module"],Va=[0,ca,ya];1==Oa?Va=[0,l(ca)?Ra:[],ca]:2==Oa&&n(ca)?Va=[ca,
l(ya)?Ra:[],ya]:3==Oa&&(Va=[ca,ya,Na]);w.trace("loader-define",Va.slice(0,2));(Oa=Va[0]&&Ma(Va[0]))&&!ta[Oa.mid]?ma(Bb(Oa,Va[1],Va[2])):ia.push(Va)};Ua.amd={vendor:"dojotoolkit.org"}}c(c(w,b.loaderPatch),a.loaderPatch);N("error",function(ca){try{if(console.error(ca),ca instanceof Error){for(var ya in ca)console.log(ya+":",ca[ya]);console.log(".")}}catch(Na){}});c(w,{uid:v,cache:ba,packs:za});if(!z.define&&(z.define=Ua,z.require=w,!x("foreign-loader"))){m(Y,function(ca){da(ca)});var Wa=Ba.deps||a.deps||
b.deps,Ga=Ba.callback||a.callback||b.callback;w.boot=Wa||Ga?[Wa||[],Ga]:0}})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,deps:["esri/kernel"],hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../esri",name:"esri"}]});
require({cache:{"esri/Map":function(){define("./chunks/tslib.es6 ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/maybe ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/subclass ./layers/support/editableLayers ./support/basemapUtils ./support/collectionUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(a,b,d,f,e,k,q,g,p,l,n,u,
m,c,h,t,v,w){f=class extends w.TablesMixin(v.LayersMixin(k.EventedMixin(f))){constructor(z){super(z);this.allLayers=new e({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:y=>"layers"in y?y.layers:null});this.allTables=h.createFlattenedTablesCollection(this);this.basemap=null;this.editableLayers=new e({getCollections:()=>[this.allLayers],itemFilterFunction:m.isEditableLayer});this.ground=new d;this._basemapCache=c.createCache()}destroy(){c.destroyCache(this._basemapCache);
this._basemapCache=null;this.allLayers.destroy();this.allTables.destroy();this.editableLayers.destroy();this.basemap=q.destroyMaybe(this.basemap);q.destroyMaybe(this.ground);this._set("ground",null)}castBasemap(z){return c.ensureType(z,this._basemapCache)}castGround(z){z=t.ensureType(z);return null==z?this._get("ground"):z}findLayerById(z){return this.allLayers.find(y=>y.id===z)}findTableById(z){return this.allTables.find(y=>y.id===z)}};a.__decorate([g.property({readOnly:!0,dependsOn:[]})],f.prototype,
"allLayers",void 0);a.__decorate([g.property({readOnly:!0})],f.prototype,"allTables",void 0);a.__decorate([g.property({type:b,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],f.prototype,"basemap",void 0);a.__decorate([p.cast("basemap")],f.prototype,"castBasemap",null);a.__decorate([g.property({readOnly:!0})],f.prototype,"editableLayers",void 0);a.__decorate([g.property({type:d,nonNullable:!0})],f.prototype,"ground",void 0);a.__decorate([p.cast("ground")],f.prototype,"castGround",null);
return f=a.__decorate([u.subclass("esri.Map")],f)})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){"function"===typeof SuppressedError?SuppressedError:function(b,d,f){f=Error(f);return f.name="SuppressedError",f.error=b,f.suppressed=d,f};a.__awaiter=function(b,d,f,e){function k(q){return q instanceof f?q:new f(function(g){g(q)})}return new (f||(f=Promise))(function(q,g){function p(u){try{n(e.next(u))}catch(m){g(m)}}function l(u){try{n(e["throw"](u))}catch(m){g(m)}}function n(u){u.done?
q(u.value):k(u.value).then(p,l)}n((e=e.apply(b,d||[])).next())})};a.__decorate=function(b,d,f,e){var k=arguments.length,q=3>k?d:null===e?e=Object.getOwnPropertyDescriptor(d,f):e,g;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)q=Reflect.decorate(b,d,f,e);else for(var p=b.length-1;0<=p;p--)if(g=b[p])q=(3>k?g(q):3<k?g(d,f,q):g(d,f))||q;return 3<k&&q&&Object.defineProperty(d,f,q),q}})},"esri/Basemap":function(){define("require ./chunks/tslib.es6 ./request ./core/Collection ./core/collectionUtils ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./support/BasemapStyle ./webdoc/support/writeUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B){var A;let E=0;k=A=class extends k.JSONSupportMixin(g){constructor(D){super(D);this.thumbnailUrl=this.style=this.spatialReference=this.portalItem=this.id=null;this.title="Basemap";this.id=Date.now().toString(16)+"-basemap-"+E++;this.baseLayers=new f;this.referenceLayers=new f;const M=K=>{K.parent&&K.parent!==this&&"remove"in K.parent&&K.parent.remove(K);K.parent=this;"elevation"===K.type&&l.getLogger(this).error(`Layer '${K.title}, id:${K.id}' of type '${K.type}' is not supported as a basemap layer and will therefore be ignored.`)};
this.addHandles([this.baseLayers.on("after-add",K=>M(K.item)),this.referenceLayers.on("after-add",K=>M(K.item)),this.baseLayers.on("after-remove",K=>{K.item.parent=null}),this.referenceLayers.on("after-remove",K=>{K.item.parent=null})])}initialize(){this.when().catch(D=>{l.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,D)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var D=this.baseLayers.toArray();for(const M of D)M.destroy();
D=this.referenceLayers.toArray();for(const M of D)M.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();this.portalItem=n.destroyMaybe(this.portalItem)}normalizeCtorArgs(D){D&&"resourceInfo"in D&&(this._set("resourceInfo",D.resourceInfo),D={...D},delete D.resourceInfo);return D}set baseLayers(D){this._set("baseLayers",e.referenceSetter(D,this._get("baseLayers")))}_writeBaseLayers(D,M,K){const I=[];D&&(K={...K,layerContainerType:"basemap"},this.baseLayers.forEach(P=>{P=B.getLayerJSON(P,
K.webmap?K.webmap.getLayerJSONFromResourceInfo(P):null,K);null!=P&&I.push(P)}),this.referenceLayers.forEach(P=>{const T=B.getLayerJSON(P,K.webmap?K.webmap.getLayerJSONFromResourceInfo(P):null,K);null!=T&&("scene"!==P.type&&(T.isReference=!0),I.push(T))}));M.baseMapLayers=I}set referenceLayers(D){this._set("referenceLayers",e.referenceSetter(D,this._get("referenceLayers")))}writeTitle(D,M){M.title=D||"Basemap"}load(D){this.addResolvingPromise(this._loadFromSource(D));return Promise.resolve(this)}loadAll(){return p.loadAll(this,
D=>{D(this.baseLayers,this.referenceLayers)})}clone(){const D={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(M=>q.isClonable(M)?M.clone():M),referenceLayers:this.referenceLayers.map(M=>q.isClonable(M)?M.clone():M)};this.loaded&&(D.loadStatus="loaded");return(new A({resourceInfo:this.resourceInfo})).set(D)}read(D,M){this.resourceInfo||this._set("resourceInfo",{data:D,context:M});super.read(D,M)}write(D,M){D=D||{};M?.origin||(M={origin:"web-map",...M});super.write(D,
M);!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(D.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(K=>{K=q.clone(K);K.url&&m.isProtocolRelative(K.url)&&(K.url=`https:${K.url}`);K.templateUrl&&m.isProtocolRelative(K.templateUrl)&&(K.templateUrl=`https:${K.templateUrl}`);return K}));return D}async _loadFromSource(D){const {resourceInfo:M,portalItem:K,style:I}=this;u.throwIfAborted(D);const P=[];M?(P.push(this._loadLayersFromJSON(M.data,M.context?M.context.url:null,D)),M.data.id&&!M.data.title&&
P.push(r.getBasemapTitle(M.data.id).then(T=>{T&&this.read({title:T},M.context)}))):K?P.push(this._loadFromItem(K,D)):I&&P.push(this._loadFromStylesService(I,D));await Promise.all(P)}async _loadLayersFromJSON(D,M,K){const I=this.resourceInfo?.context,P=this.portalItem?.portal||I?.portal||null,T=L[I?.origin||""]??"web-map",{populateOperationalLayers:Z}=await new Promise((Q,N)=>a(["./layers/support/layersCreator"],Q,N)),J=[];u.throwIfAborted(K);if(D.baseMapLayers&&Array.isArray(D.baseMapLayers)){M={context:{...I,
origin:T,url:M,portal:P,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"};const Q=N=>"web-scene"===T&&"ArcGISSceneServiceLayer"===N.layerType||N.isReference;K=Z(this.baseLayers,D.baseMapLayers.filter(N=>!Q(N)),M);J.push(K);D=Z(this.referenceLayers,D.baseMapLayers.filter(Q),M);J.push(D)}await Promise.allSettled(J)}async _loadFromItem(D,M){const K=await (await D.load(M)).fetchData("json",M),I=m.urlToObject(D.itemUrl??"");this._set("resourceInfo",{data:K.baseMap??{},context:{origin:F[D.type||
""]??"web-map",portal:D.portal||z.getDefault(),url:I}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:K.spatialReference},this.resourceInfo.context);this.read({title:D.title,thumbnailUrl:D.thumbnailUrl},{origin:"portal-item",portal:D.portal||z.getDefault(),url:I});return this._loadLayersFromJSON(this.resourceInfo.data,I,M)}async _loadFromStylesService(D,M){var K=`${D.serviceUrl}/${D.id}`;D=(await d(K,{query:{language:D.getLanguageParamValue()},signal:M?.signal})).data;
if(D.baseMap&&Array.isArray(D.baseMap.baseMapLayers))for(const I of D.baseMap.baseMapLayers)if(!I.customParameters&&I.styleUrl?.includes("?")){const P=m.urlToObject(I.styleUrl);P.query&&(I.styleUrl=P.path,I.customParameters=P.query)}K=m.urlToObject(K);this._set("resourceInfo",{data:D.baseMap??{},context:{origin:"web-map",url:K}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:D.spatialReference},this.resourceInfo.context);return this._loadLayersFromJSON(this.resourceInfo.data,
K,M)}static fromId(D){return(D=r.esriBasemapDefinitions[D])?D.itemId?new A({portalItem:{id:D.itemId,portal:{url:"https://www.arcgis.com"}}}):A.fromJSON(D,{origin:D.is3d?"web-scene":"web-map"}):null}};b.__decorate([c.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(D,M,K,I){this._writeBaseLayers(D,M,I)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:f}},writer(D,M,K,I){this._writeBaseLayers(D,M,I)}}}}}})],k.prototype,"baseLayers",null);b.__decorate([c.property({type:String,
json:{origins:{"web-scene":{write:!0}}}})],k.prototype,"id",void 0);b.__decorate([c.property({type:y})],k.prototype,"portalItem",void 0);b.__decorate([c.property()],k.prototype,"referenceLayers",null);b.__decorate([c.property({readOnly:!0})],k.prototype,"resourceInfo",void 0);b.__decorate([c.property({type:w})],k.prototype,"spatialReference",void 0);b.__decorate([c.property({type:x})],k.prototype,"style",void 0);b.__decorate([c.property()],k.prototype,"thumbnailUrl",void 0);b.__decorate([c.property({type:String,
json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],k.prototype,"title",void 0);b.__decorate([v.writer("title")],k.prototype,"writeTitle",null);k=A=b.__decorate([t.subclass("esri.Basemap")],k);const F={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},L={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"};return k})},"esri/request":function(){define("require ./config ./kernel ./core/Error ./core/has ./core/lang ./core/promiseUtils ./core/urlUtils ./portal/support/urlUtils ./support/apiKeyUtils ./support/requestUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){async function u(J,Q){J instanceof URL&&(J=J.toString());Q?.query instanceof URLSearchParams&&(Q.query=g.queryToObject(Q.query.toString().replaceAll("+"," ")));var N=g.isDataProtocol(J);const V=g.isBlobProtocol(J);V||N||(J=g.normalize(J));const U={url:J,requestOptions:{...Q}};let sa=g.getInterceptor(J);if(sa){J=await r(sa,U);if(null!=J)return{data:J,getHeader:T,httpStatus:200,requestOptions:U.requestOptions,url:U.url};sa.after||sa.error||(sa=null)}J=U.url;Q=U.requestOptions;
if("image"===Q.responseType&&(e("host-webworker")||e("host-node")))throw h("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),U);if("head"===Q.method){if(Q.body)throw h("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),U);if(N||V)throw h("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),U);}await t();if(L)return L.execute(J,Q);const za=new AbortController;q.onAbort(Q,
()=>za.abort());N=await A({controller:za,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:sa,params:U,redoRequest:!1,useIdentity:D.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1});sa?.after?.(N);return N}function m(J){(J=g.getOrigin(J))&&!u._corsServers.includes(J)&&u._corsServers.push(J)}function c(J){J=g.getOrigin(J);return!J||J.endsWith(".arcgis.com")||u._corsServers.includes(J)||g.isTrustedServer(J)}function h(J,Q,N,V){let U="Error";const sa={url:N.url,
requestOptions:N.requestOptions,getHeader:T,ssl:!1};if(Q instanceof f)return Q.details?(Q.details=k.clone(Q.details),Q.details.url=N.url,Q.details.requestOptions=N.requestOptions):Q.details=sa,Q;if(Q){N=V&&(Fa=>V.headers.get(Fa));const za=Q.message;za&&(U=za);N&&(sa.getHeader=N);sa.httpStatus=(null!=Q.httpCode?Q.httpCode:Q.code)||V?.status||0;sa.subCode=Q.subcode;sa.messageCode=Q.messageCode;sa.messages="string"===typeof Q.details?[Q.details]:Q.details;sa.raw=Z in Q?Q[Z]:Q}return q.isAbortError(Q)?
q.createAbortError():new f(J,U,sa)}async function t(){e("host-webworker")?L||(L=await new Promise((J,Q)=>a(["./core/workers/request"],J,Q))):u._abortableFetch||(u._abortableFetch=globalThis.fetch.bind(globalThis))}async function v(){d.id||await new Promise((J,Q)=>a(["./identity/IdentityManager"],N=>J(Object.freeze(Object.defineProperty({__proto__:null,default:N},Symbol.toStringTag,{value:"Module"}))),Q))}async function w(J){const Q=J.params.url,N=J.params.requestOptions,V=J.controller.signal,U=N.body;
let sa=null,za=null;M&&"HTMLFormElement"in globalThis&&(U instanceof FormData?sa=U:U instanceof HTMLFormElement&&(sa=new FormData(U)));"string"===typeof U&&(za=U);J.fetchOptions={cache:!N.cacheBust||"polyfill"in u._abortableFetch?"default":"no-cache",credentials:"same-origin",headers:N.headers||{},method:"head"===N.method?"HEAD":"GET",mode:"cors",priority:D.priority,redirect:"follow",signal:V};if(sa||za)J.fetchOptions.body=sa||za;"anonymous"===N.authMode&&(J.useIdentity=!1);J.hasToken=!!(/token=/i.test(Q)||
N.query?.token||sa?.get("token"));!J.hasToken&&b.apiKey&&l.supportsApiKey(Q)&&(N.query||(N.query={}),N.query.token=b.apiKey,J.hasToken=!0);if(J.useIdentity&&!J.hasToken&&!J.credentialToken&&!z(Q)&&!q.isAborted(V)){let Fa;"immediate"===N.authMode?(await v(),Fa=await d.id.getCredential(Q,{signal:V}),J.credential=Fa):"no-prompt"===N.authMode?(await v(),Fa=await d.id.getCredential(Q,{prompt:!1,signal:V}).catch(()=>{}),J.credential=Fa):d.id&&(Fa=d.id.findCredential(Q));Fa&&(J.credentialToken=Fa.token,
J.useSSL=!!Fa.ssl)}}function z(J){return P.some(Q=>Q.test(J))}async function y(J){let Q=J.params.url;const N=J.params.requestOptions,V=J.fetchOptions??{},U=g.isBlobProtocol(Q)||g.isDataProtocol(Q),sa=N.responseType||"json";var za=U?0:null!=N.timeout?N.timeout:D.timeout,Fa=!1;if(!U){J.useSSL&&(Q=g.toHTTPS(Q));N.cacheBust&&"default"===V.cache&&(Q=g.addQueryParameter(Q,"request.preventCache",Date.now()));var Da={...N.query};J.credentialToken&&(Da.token=J.credentialToken);Fa=g.objectToQuery(Da);e("esri-url-encodes-apostrophe")&&
(Fa=Fa.replaceAll("'","%27"));const ba=Q.length+1+Fa.length;let fa;Fa="delete"===N.method||"post"===N.method||"put"===N.method||!!N.body||ba>D.maxUrlLength;const Ba=N.useProxy||!!g.getProxyRule(Q);if(Ba){const Ja=g.getProxyUrl(Q);fa=Ja.path;!Fa&&fa.length+1+ba>D.maxUrlLength&&(Fa=!0);Ja.query&&(Da={...Ja.query,...Da})}if("HEAD"===V.method&&(Fa||Ba)){if(Fa){if(ba>D.maxUrlLength)throw h("request:invalid-parameters",Error("URL exceeds maximum length"),J.params);throw h("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),
J.params);}if(Ba)throw h("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),J.params);}Fa?(V.method="delete"===N.method?"DELETE":"put"===N.method?"PUT":"POST",N.body?Q=g.addQueryParameters(Q,Da):(V.body=g.objectToQuery(Da),V.headers||(V.headers={}),V.headers["Content-Type"]="application/x-www-form-urlencoded")):Q=g.addQueryParameters(Q,Da);Ba&&(J.useProxy=!0,Q=`${fa}?${Q}`);Da.token&&M&&V.body instanceof FormData&&!p.isSecureProxyService(Q)&&V.body.set("token",Da.token);
N.hasOwnProperty("withCredentials")?J.withCredentials=N.withCredentials:g.hasSameOrigin(Q,g.getAppUrl())||(g.isTrustedServer(Q)?J.withCredentials=!0:d.id&&d.id.findServerInfo(Q)?.webTierAuth&&(J.withCredentials=!0));J.withCredentials&&(V.credentials="include",n.isNoCorsRequestRequired(Q)&&await n.sendNoCorsRequest(Fa?g.addQueryParameters(Q,Da):Q))}Da=0;let va=!1;0<za&&(Da=setTimeout(()=>{va=!0;J.controller.abort()},za));za=void 0;let W;try{if("native-request-init"===N.responseType)W=V,W.url=Q;else if("image"!==
N.responseType||"default"!==V.cache||"GET"!==V.method||Fa||x(N.headers)||!U&&!J.useProxy&&D.proxyUrl&&!c(Q))if(za=await u._abortableFetch(Q,V),J.useProxy||m(Q),"native"===N.responseType)W=za;else{if("HEAD"!==V.method)if(za.ok){switch(sa){case "array-buffer":W=await za.arrayBuffer();break;case "blob":case "image":W=await za.blob();break;default:W=await za.text()}Da&&(clearTimeout(Da),Da=0);if("json"===sa||"xml"===sa||"document"===sa)if(W)switch(sa){case "json":W=JSON.parse(W);break;case "xml":W=B(W,
"application/xml");break;case "document":W=B(W,"text/html")}else W=null;if(W){if("array-buffer"===sa||"blob"===sa){const ba=za.headers.get("Content-Type");if(ba&&/application\/json|text\/plain/i.test(ba)&&750>=W["blob"===sa?"size":"byteLength"])try{const fa=await (new Response(W)).json();fa.error&&(W=fa)}catch{}}"image"===sa&&W instanceof Blob&&(W=await F(URL.createObjectURL(W),J,!0))}}else{W=await za.text();try{W=JSON.parse(W)}catch{}}}else W=await F(Q,J)}catch(ba){if("AbortError"===ba.name){if(va)throw n.createTimeoutError();
throw q.createAbortError("Request canceled");}if(!za&&ba instanceof TypeError&&D.proxyUrl&&!N.body&&"delete"!==N.method&&"head"!==N.method&&"post"!==N.method&&"put"!==N.method&&!J.useProxy&&!c(Q))J.redoRequest=!0,g.addProxyRule({proxyUrl:D.proxyUrl,urlPrefix:g.getOrigin(Q)??""});else throw ba;}finally{Da&&clearTimeout(Da)}return[za,W]}async function r(J,Q){if(null!=J.responseData)return J.responseData;J.headers&&(Q.requestOptions.headers={...Q.requestOptions.headers,...J.headers});J.query&&(Q.requestOptions.query=
{...Q.requestOptions.query,...J.query});if(J.before){let N,V;try{V=await J.before(Q)}catch(U){N=h("request:interceptor",U,Q)}if(V instanceof Error||V instanceof f)N=h("request:interceptor",V,Q);if(N)throw J.error&&J.error(N),N;return V}}function x(J){if(J)for(const Q of Object.getOwnPropertyNames(J))if(J[Q])return!0;return!1}function B(J,Q){let N;try{N=(new DOMParser).parseFromString(J,Q)}catch{}if(!N||N.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return N}
async function A(J){await w(J);let Q;try{do[Q,N]=await y(J);while(!await E(J,Q,N))}catch(sa){var N=h("request:server",sa,J.params,Q);N.details.ssl=J.useSSL;J.interceptor?.error&&J.interceptor.error(N);throw N;}var V=J.params.url;N&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(V)&&(J.hasToken||J.credentialToken||!N.user?.username||g.isTrustedServer(V)||(V=g.getOrigin(V,!0))&&D.trustedServers.push(V),Array.isArray(N.authorizedCrossOriginNoCorsDomains)&&n.registerNoCorsDomains(N.authorizedCrossOriginNoCorsDomains));
var U=J.credential;U&&d.id&&(V=d.id.findServerInfo(U.server)?.owningSystemUrl)&&(V=V.replace(/\/?$/,"/sharing"),(U=d.id.findCredential(V,U.userId))&&-1===d.id._getIdenticalSvcIdx(V,U)&&U.resources.unshift(V));return{data:N,getHeader:Q?sa=>Q?.headers.get(sa):T,httpStatus:Q?.status??200,requestOptions:J.params.requestOptions,ssl:J.useSSL,url:J.params.url}}async function E(J,Q,N){if(J.redoRequest)return J.redoRequest=!1;var V=J.params.requestOptions;if(!Q||"native"===V.responseType||"native-request-init"===
V.responseType)return!0;let U;N&&(N.error?U=N.error:"error"===N.status&&Array.isArray(N.messages)&&(U={...N},U[Z]=N,U.details=N.messages));if(!U&&!Q.ok)throw U=Error(`Unable to load ${Q.url} status: ${Q.status}`),U[Z]=N,U;let sa;Q=null;let za;U&&(sa=Number(U.code),Q=U.hasOwnProperty("subcode")?Number(U.subcode):null,za=U.messageCode,za=za?.toUpperCase());V=V.authMode;if(403===sa&&(4===Q||U.message?.toLowerCase().includes("ssl")&&!U.message.toLowerCase().includes("permission"))){if(!J.useSSL)return J.useSSL=
!0,!1}else if(!(J.hasToken||!J.useIdentity||"no-prompt"===V&&498!==sa||void 0===sa||!K.has(sa)||z(J.params.url)||403===sa&&(za&&I.has(za)||!(null==Q||2===Q&&J.credentialToken)))){await v();try{const Fa=await d.id.getCredential(J.params.url,{error:h("request:server",U,J.params),prompt:"no-prompt"!==V,signal:J.controller.signal,token:J.credentialToken});J.credential=Fa;J.credentialToken=Fa.token;J.useSSL=J.useSSL||Fa.ssl;return!1}catch(Fa){if("no-prompt"===V)return J.credential=void 0,J.credentialToken=
void 0,!1;U=Fa}}if(U)throw U;return!0}function F(J,Q,N=!1){const V=Q.controller.signal,U=new Image;U.crossOrigin=Q.withCredentials?"use-credentials":"anonymous";U.alt="";U.fetchPriority=D.priority;U.src=J;return n.loadImageAsync(U,J,N,V)}let L;const D=b.request,M="FormData"in globalThis,K=new Set([499,498,403,401]),I=new Set(["COM_0056","COM_0057","SB_0008"]),P=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],T=()=>null,Z=Symbol();u._abortableFetch=null;u._corsServers=["https://server.arcgisonline.com",
"https://services.arcgisonline.com"];return u})},"esri/config":function(){define(["module","./core/has","./core/object"],function(a,b,d){b={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,
portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,priority:"high",proxyRules:[],proxyUrl:null,
timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(d.deepMerge(b,globalThis.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,b.assetsPath=a.slice(0,a.lastIndexOf("esri/")),b.defaultAssetsPath=b.assetsPath);return b})},"esri/core/has":function(){define(function(){function a(d){return"function"===typeof b[d]?b[d]=b[d](globalThis):b[d]}let b;b=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,
...globalThis.esriConfig?.has}:{};a.add=(d,f,e,k)=>{if(k||void 0===b[d])b[d]=f;return e&&a(d)};a.cache=b;a.add("big-integer-warning-enabled",!0);a.add("esri-deprecation-warnings",!0);a.add("esri-tests-disable-screenshots",!1);a.add("esri-tests-use-full-window",!1);a.add("esri-tests-post-to-influx",!0);(()=>{a.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);var d="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&
window.location===location&&window.document===document;a.add("host-browser",d);a.add("dom",d);if(a("host-browser")){var f=navigator;d=f.userAgent;var e=f.appVersion;f=parseFloat(e);a.add("edge",parseFloat(d.split("Edge/")[1])||void 0);a.add("webkit",!a("edge")&&parseFloat(d.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&parseFloat(d.split("Chrome/")[1])||void 0);a.add("safari",!e.includes("Safari")||a("chrome")||a("edge")?void 0:parseFloat(e.split("Version/")[1]));a.add("mac",e.includes("Macintosh"));
if(/(iPhone|iPod|iPad)/.test(d)){e=RegExp.$1.replace(/P/,"p");var k=/OS ([\d_]+)/.test(d)?RegExp.$1:"1";k=parseFloat(k.replace(/_/,".").replaceAll("_",""));a.add(e,k);a.add("ios",k)}a("webkit")||(d.includes("Gecko")&&!a("edge")&&a.add("mozilla",f),a("mozilla")&&a.add("ff",parseFloat(d.split("Firefox/")[1]||d.split("Minefield/")[1])||void 0))}})();(()=>{if(globalThis.navigator){var d=navigator.userAgent;const f=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(d);d=/iPhone/i.test(d);
f&&a.add("esri-mobile",f);d&&a.add("esri-iPhone",d);a.add("esri-geolocation",!!navigator.geolocation)}a.add("esri-wasm","WebAssembly"in globalThis);a.add("esri-performance-mode-frames-between-render",20);a.add("esri-force-performance-mode",!1);a.add("esri-shared-array-buffer",()=>{const f=!1===globalThis.crossOriginIsolated;return"SharedArrayBuffer"in globalThis&&!f});a.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,
98,11])));a.add("esri-atomics","Atomics"in globalThis);a.add("esri-workers","Worker"in globalThis);a.add("web-feat:cache","caches"in globalThis);a.add("esri-workers-arraybuffer-transfer",!a("safari")||12<=Number(a("safari")));a.add("workers-pool-size",8);a.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]);a.add("featurelayer-simplify-payload-size-factors",[1,1,4]);a.add("featurelayer-animation-enabled",!0);a.add("featurelayer-snapshot-enabled",!0);a.add("featurelayer-snapshot-point-min-threshold",
8E4);a.add("featurelayer-snapshot-point-max-threshold",4E5);a.add("featurelayer-snapshot-point-coverage",.1);a.add("featurelayer-advanced-symbols",!1);a.add("featurelayer-pbf",!0);a.add("featurelayer-pbf-statistics",!1);a.add("feature-layers-workers",!0);a.add("feature-polyline-generalization-factor",1);a.add("mapview-transitions-duration",200);a.add("mapview-srswitch-adjust-rotation-scale-threshold",24E6);a.add("mapserver-pbf-version-support",10.81);a.add("mapservice-popup-identify-max-tolerance",
20);a.add("heatmap-allow-raster-fallback",!1);a.add("heatmap-force-raster",!1);!a("host-webworker")&&a("host-browser")&&(a.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),a.add("esri-image-decode",()=>{if("decode"in new Image){const f=new Image;f.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';f.decode().then(()=>{a.add("esri-image-decode",!0,!0,!0)}).catch(()=>{a.add("esri-image-decode",!1,!0,!0)})}else return!1}),
a.add("esri-url-encodes-apostrophe",()=>{const f=window.document.createElement("a");f.href="?'";return f.href.includes("?%27")}))})();return a})},"esri/core/object":function(){define(["exports","./lang"],function(a,b){function d(e,k,q){for(const g of e){if(null==q)return;if(!(g in q))if(k)q[g]={};else return;q=q[g]}return q}function f(e,k,q){return k?Object.keys(k).reduce((g,p)=>{let l=g[p],n=k[p];if(l===n)return g;if(void 0===l)return g[p]=b.clone(n),g;if(Array.isArray(n)||Array.isArray(g))l=l?Array.isArray(l)?
g[p]=l.concat():g[p]=[l]:g[p]=[],n&&(Array.isArray(n)||(n=[n]),q?n.forEach(u=>{l.includes(u)||l.push(u)}):g[p]=n.concat());else if(n&&"object"===typeof n)g[p]=f(l,n,q);else if(!g.hasOwnProperty(p)||k.hasOwnProperty(p))g[p]=n;return g},e||{}):e}a.deepMerge=function(e,k,q=!1){return f(e,k,q)};a.getDeepValue=function(e,k){if(null!=k)return k[e]||d(e.split("."),!1,k)};a.setDeepValue=function(e,k,q){const g=e.split(".");e=g.pop();(q=d(g,!0,q))&&e&&(q[e]=k)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/lang":function(){define(["exports","./arrayUtils","./typedArrayUtil"],function(a,b,d){function f(m,c){let h;if(c)for(h in m)m.hasOwnProperty(h)&&(void 0===m[h]?delete m[h]:m[h]instanceof Object&&f(m[h],!0));else for(h in m)m.hasOwnProperty(h)&&void 0===m[h]&&delete m[h];return m}function e(m){if(!m||"object"!==typeof m||"function"===typeof m)return m;var c=n(m);if(null!=c)return c;if(q(m))return m.clone();if(g(m))return m.map(e);if(p(m))return m.clone();c={};for(const h of Object.getOwnPropertyNames(m))c[h]=
e(m[h]);return c}function k(m){if(!m||"object"!==typeof m||"function"===typeof m||"HTMLElement"in globalThis&&m instanceof HTMLElement)return m;var c=n(m);if(null!=c)return c;if(g(m)){let h=!0;m=m.map(t=>{const v=k(t);null!=t&&null==v&&(h=!1);return v});return h?m:null}if(q(m))return m.clone();if(m instanceof File||m instanceof Blob)return m;if(!p(m)){c=new (Object.getPrototypeOf(m).constructor);for(const h of Object.getOwnPropertyNames(m)){const t=m[h],v=k(t);if(null!=t&&null==v)return null;c[h]=
v}return c}return null}function q(m){return"function"===typeof m.clone}function g(m){return"function"===typeof m.map&&"function"===typeof m.forEach}function p(m){return"function"===typeof m.notifyChange&&"function"===typeof m.watch}function l(m){if("[object Object]"!==Object.prototype.toString.call(m))return!1;m=Object.getPrototypeOf(m);return null===m||m===Object.prototype}function n(m){if(d.isInt8Array(m)||d.isUint8Array(m)||d.isUint8ClampedArray(m)||d.isInt16Array(m)||d.isUint16Array(m)||d.isInt32Array(m)||
d.isUint32Array(m)||d.isFloat32Array(m)||d.isFloat64Array(m))return m.slice();if(m instanceof Date)return new Date(m.getTime());if(m instanceof ArrayBuffer)return m.slice(0,m.byteLength);if(m instanceof Map){var c=new Map;for(const [h,t]of m)c.set(h,e(t));return c}if(m instanceof Set){c=new Set;for(const h of m)c.add(e(h));return c}return null}function u(m,c){if(null===m||null===c)return!1;const h=Object.keys(m);if(null===c||Object.keys(c).length!==h.length)return!1;for(const t of h)if(m[t]!==c[t]||
!Object.prototype.hasOwnProperty.call(c,t))return!1;return!0}a.clone=e;a.equals=function(m,c){return m===c||"number"===typeof m&&isNaN(m)&&"number"===typeof c&&isNaN(c)||"function"===typeof m?.getTime&&"function"===typeof c?.getTime&&m.getTime()===c.getTime()||!1};a.equalsShallow=function(m,c){if(m===c)return!0;if(null===m||void 0===m||"string"===typeof m)return m===c;if("number"===typeof m)return m===c||"number"===typeof c&&isNaN(m)&&isNaN(c);if(m instanceof Date)return c instanceof Date&&m.getTime()===
c.getTime();if(Array.isArray(m))return Array.isArray(c)&&b.equals(m,c);if(m instanceof Set){var h;if(h=c instanceof Set)a:if(m.size!==c.size)h=!1;else{for(const t of m)if(!c.has(t)){h=!1;break a}h=!0}return h}if(m instanceof Map){if(h=c instanceof Map)a:if(m.size!==c.size)h=!1;else{for(const [t,v]of m)if(m=c.get(t),m!==v||void 0===m&&!c.has(t)){h=!1;break a}h=!0}return h}return l(m)?l(c)&&u(m,c):!1};a.fixJson=f;a.isAccessorLike=p;a.isClonable=q;a.isPlainObject=l;a.tryClone=k;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/arrayUtils":function(){define(["exports","./RandomLCG"],function(a,b){function d(m){return m}function f(m,c=d){if(m&&0!==m.length){var h=m[0],t=c(h);for(let v=1;v<m.length;++v){const w=m[v],z=Number(c(w));z>t&&(t=z,h=w)}return h}}function e(m,c,h,t){t=t||l;var v=Math.max(0,t.last-10);for(let w=v;w<h;++w)if(m[w]===c)return t.last=w;h=Math.min(v,h);for(v=0;v<h;++v)if(m[v]===c)return t.last=v;return-1}function k(m){return m?(u.seed=m,()=>u.getFloat()):
Math.random}const q=1/1.5,g=!!Array.prototype.fill;class p{constructor(){this.last=0}}const l=new p,n=new Set,u=new b;a.EmptyArray=[];a.PositionHint=p;a.ReallocGrowthFactor=1.5;a.ReallocShrinkFactor=q;a.ReallocShrinkTreshold=.5;a.addMany=function(m,c){if(!c)return m;for(const h of c)m.push(h);return m};a.binaryFindClosest=function(m,c,h){if(m&&0!==m.length){var t=m.length-1,v=m[0];if(c<=h(v))return v;v=m[t];if(c>=h(v))return v;var w=0;v=0;for(var z=t;w<z;){v=w+Math.floor((z-w)/2);const r=m[v],x=h(r);
if(x===c)return r;if(c<x){if(0<v){z=m[v-1];var y=h(z);if(c>y)return c-y>=x-c?r:z}z=v}else{if(v<t&&(w=m[v+1],y=h(w),c<y))return c-x>=y-c?w:r;w=v+1}}return m[v]}};a.binaryIndexOf=function(m,c,h){const t=m.length;let v=0;for(var w=t-1;v<w;){const z=v+Math.floor((w-v)/2);c>m[z]?v=z+1:w=z}w=m[v];return h?c>=m[t-1]?-1:w===c?v:v-1:w===c?v:-1};a.constant=function(m,c){if(g)return Array(m).fill(c);const h=Array(m);for(let t=0;t<m;t++)h[t]=c;return h};a.difference=function(m,c,h){let t,v;h?(t=c.filter(w=>!m.some(z=>
h(z,w))),v=m.filter(w=>!c.some(z=>h(z,w)))):(t=c.filter(w=>!m.includes(w)),v=m.filter(w=>!c.includes(w)));return{added:t,removed:v}};a.equals=function(m,c,h){if(null==m&&null==c)return!0;if(null==m||null==c||m.length!==c.length)return!1;if(h)for(let t=0;t<m.length;t++){if(!h(m[t],c[t]))return!1}else for(h=0;h<m.length;h++)if(m[h]!==c[h])return!1;return!0};a.filterInPlace=function(m,c){let h=0;for(let t=0;t<m.length;++t){const v=m[t];c(v,t)&&(m[h]=v,h++)}m.length=h};a.first=function(m){if(m)return 0<
m.length?m[0]:void 0};a.groupToMap=function(m,c){const h=new Map,t=m.length;for(let v=0;v<t;v++){const w=m[v],z=c(w,v,m),y=h.get(z);y?y.push(w):h.set(z,[w])}return h};a.indexOf=e;a.intersect=function(m,c,h){return m&&c?h?m.filter(t=>-1<c.findIndex(v=>h(t,v))):m.filter(t=>c.includes(t)):[]};a.isArrayLike=function(m){return m&&"number"===typeof m.length};a.isSome=function(m,c){return null!=m};a.last=function(m){if(m){var c=m.length;return 0<c?m[c-1]:void 0}};a.max=f;a.min=function(m,c=d){return f(m,
h=>-c(h))};a.pickRandom=function(m,c,h){const t=m.length;if(c>=t)return m.slice(0);h=k(h);const v=new Set,w=[];for(;w.length<c;){const z=Math.floor(h()*t);v.has(z)||(v.add(z),w.push(m[z]))}return w};a.range=function(m,c){void 0===c&&(c=m,m=0);const h=Array(c-m);for(let t=m;t<c;t++)h[t-m]=t;return h};a.remove=function(m,c){const h=m.indexOf(c);return-1!==h?(m.splice(h,1),c):null};a.removeUnordered=function(m,c,h,t){const v=null==h?m.length:h;t=e(m,c,v,t);if(-1!==t)return m[t]=m[v-1],null==h&&m.pop(),
c};a.removeUnorderedMany=function(m,c,h=m.length,t=c.length,v,w){if(0===t||0===h)return h;n.clear();for(let z=0;z<t;++z)n.add(c[z]);v=v||l;c=Math.max(0,v.last-10);for(t=c;t<h;++t)if(n.has(m[t])&&(w?.push(m[t]),n.delete(m[t]),m[t]=m[h-1],--h,--t,0===n.size||0===h))return n.clear(),h;for(t=0;t<c;++t)if(n.has(m[t])&&(w?.push(m[t]),n.delete(m[t]),m[t]=m[h-1],--h,--t,0===n.size||0===h))return n.clear(),h;n.clear();return h};a.shuffle=function(m,c){c=k(c);for(let h=m.length-1;0<h;h--){const t=Math.floor(c()*
(h+1)),v=m[h];m[h]=m[t];m[t]=v}return m};a.splitIntoChunks=function(m,c){const h=m.length;if(0===h)return[];const t=[];for(let v=0;v<h;v+=c)t.push(m.slice(v,v+c));return t};a.unique=function(m,c){return c?m.filter((h,t,v)=>v.findIndex(c.bind(null,h))===t):Array.from(new Set(m))};a.update=function(m,c){let h=m.length!==c.length;h&&(m.length=c.length);for(let t=0;t<c.length;++t)m[t]!==c[t]&&(m[t]=c[t],h=!0);return h};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/RandomLCG":function(){define(function(){class a{constructor(b=
1){this._seed=b}set seed(b){this._seed=null==b?Math.random()*a._m:b}getInt(){return this._seed=(a._a*this._seed+a._c)%a._m}getFloat(){return this.getInt()/(a._m-1)}getIntRange(b,d){return Math.round(this.getFloatRange(b,d))}getFloatRange(b,d){d-=b;const f=this.getInt()/a._m;return b+f*d}}a._m=2147483647;a._a=48271;a._c=0;return a})},"esri/core/typedArrayUtil":function(){define(["exports","./byteSizeEstimations","./has"],function(a,b,d){function f(c){return"Int8Array"===c?.constructor?.name}function e(c){return"Uint8Array"===
c?.constructor?.name}function k(c){return"Uint8ClampedArray"===c?.constructor?.name}function q(c){return"Int16Array"===c?.constructor?.name}function g(c){return"Uint16Array"===c?.constructor?.name}function p(c){return"Int32Array"===c?.constructor?.name}function l(c){return"Uint32Array"===c?.constructor?.name}function n(c){return"Float32Array"===c?.constructor?.name}function u(c){return"Float64Array"===c?.constructor?.name}function m(c){return!("buffer"in c)}a.estimateSize=function(...c){return c.reduce((h,
t)=>h+(t?m(t)?b.estimateFixedArraySize(t,b.estimateNumberByteSize()):t.byteLength+145:0),0)};a.isArray=m;a.isArrayBuffer=function(c){return c instanceof ArrayBuffer};a.isFloat=function(c){return u(c)||n(c)};a.isFloat32Array=n;a.isFloat64Array=u;a.isInt16Array=q;a.isInt32Array=p;a.isInt8Array=f;a.isSigned=function(c){return u(c)||n(c)||p(c)||q(c)||f(c)};a.isUint16Array=g;a.isUint32Array=l;a.isUint8Array=e;a.isUint8ClampedArray=k;a.maximumValue=function(c){return u(c)?1.79769E308:n(c)?3.402823E38:l(c)?
4294967295:g(c)?65535:e(c)||k(c)?255:p(c)?2147483647:q(c)?32767:f(c)?127:256};a.nativeArrayMaxSize=1024;a.typedArrayStaticSize=145;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(a){function b(e){return 32+e.length}function d(e){if(!e)return 0;if(Array.isArray(e)){var k=e.length;if(0===k||"number"===typeof e[0])e=32+8*k;else{var q=32;for(let g=0;g<k;g++)q+=f(e[g]);e=q}return e}q=32;for(k in e)e.hasOwnProperty(k)&&
(q+=f(e[k]));return q}function f(e){switch(typeof e){case "object":return d(e);case "string":return b(e);case "number":return 16;case "boolean":return 4;default:return 8}}a.estimateAttributesObjectSize=function(e){if(!e)return 0;let k=32;for(const q in e)if(e.hasOwnProperty(q)){const g=e[q];switch(typeof g){case "string":k+=b(g);break;case "number":k+=16;break;case "boolean":k+=4}}return k};a.estimateFixedArraySize=function(e,k){return 32+e.length*k};a.estimateNestedObjectSize=d;a.estimateNumberByteSize=
function(){return 16};a.estimateStringByteSize=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/kernel":function(){define(["exports","./core/has","./core/urlUtils","./support/revision"],function(a,b,d,f){Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose"));Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));a.id=void 0;if(!b("host-webworker")){console.debug(`Using ArcGIS Maps SDK for JavaScript ${"4.28"} [Date: ${f.buildDate}, Revision: ${f.commitHash.slice(0,
8)}]`);let e;"function"===typeof globalThis.require&&(e=globalThis.require);const k=q=>{const g=q.startsWith("@arcgis/core/")?q.replace("@arcgis/core/","esri/").replace(/.js$/,""):q;return new Promise(p=>e([g],p))};Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{import:q=>e?Array.isArray(q)?Promise.all(q.map(k)):k(q):Promise.reject("global AMD `require` function not found")}})}a.buildDate=f.buildDate;a.revision=f.commitHash;a.addTokenParameter=function(e){const k=
a.id?.findCredential(e);return k?.token?d.addQueryParameter(e,"token",k.token):e};a.fullVersion="4.28";a.setId=function(e){a.id=e};a.version="4.28";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/urlUtils":function(){define("exports ../config ./arrayUtils ./Error ./JSONSupport ./Logger ../portal/support/urlUtils ../support/base64Utils".split(" "),function(a,b,d,f,e,k,q,g){function p(H){if(!H)return null;const X={path:null,query:null},ia=new Ja(H),ta=H.indexOf("?");null===
ia.query?X.path=H:(X.path=H.substring(0,ta),X.query=l(ia.query));ia.fragment&&(X.hash=ia.fragment,null===ia.query&&(X.path=X.path.substring(0,X.path.length-(ia.fragment.length+1))));return X}function l(H){var X=H.split("\x26");H={};for(const ta of X){if(!ta)continue;var ia=ta.indexOf("\x3d");0>ia?(X=decodeURIComponent(ta),ia=""):(X=decodeURIComponent(ta.slice(0,ia)),ia=decodeURIComponent(ta.slice(ia+1)));let Ca=H[X];"string"===typeof Ca&&(Ca=H[X]=[Ca]);Array.isArray(Ca)?Ca.push(ia):H[X]=ia}return H}
function n(H,X){return H?X&&"function"===typeof X?Object.keys(H).map(ia=>encodeURIComponent(ia)+"\x3d"+encodeURIComponent(X(ia,H[ia]))).join("\x26"):Object.keys(H).map(ia=>{const ta=H[ia];if(null==ta)return"";const Ca=encodeURIComponent(ia)+"\x3d";return(ia=X?.[ia])?Ca+encodeURIComponent(ia(ta)):Array.isArray(ta)?ta.map(ha=>e.isSerializable(ha)?Ca+encodeURIComponent(JSON.stringify(ha)):Ca+encodeURIComponent(ha)).join("\x26"):e.isSerializable(ta)?Ca+encodeURIComponent(JSON.stringify(ta)):Ca+encodeURIComponent(ta)}).filter(ia=>
ia).join("\x26"):""}function u(H){const X=H.indexOf("?");-1!==X?(Y.path=H.slice(0,X),Y.query=H.slice(X+1)):(Y.path=H,Y.query=null);return Y}function m(H){H=u(H).path;H=Q(H);H=J(H,!0);return H=H.toLowerCase()}function c(H){const X=sa.proxyRules;H=m(H);for(let ia=0;ia<X.length;ia++)if(0===H.indexOf(X[ia].urlPrefix))return X[ia]}function h(H){H=w(H);const X=H.indexOf("/sharing");return 0<X?H.substring(0,X):H.replace(/\/+$/,"")}function t(H,X,ia=!1){if(!H||!X)return!1;H=V(H);X=V(X);return!ia&&H.scheme!==
X.scheme||null==H.host||null==X.host?!1:H.host.toLowerCase()===X.host.toLowerCase()&&H.port===X.port}function v(H,X=Aa,ia){if(D(H))return ia&&ia.preserveProtocolRelative?H:"http"===ja.scheme&&ja.authority===y(H).slice(2)?`http:${H}`:`https:${H}`;if(!M(H)){ia=z;if("/"===H[0]){var ta=X.indexOf("//");ta=X.indexOf("/",ta+2);X=-1===ta?X:X.slice(0,ta)}return ia(X,H)}return H}function w(H){H=H.trim();H=v(H);if(/^https?:\/\//i.test(H)){const X=u(H);H=X.path.replaceAll(/\/{2,}/g,"/");H=H.replace("/","//");
X.query&&(H+=`?${X.query}`)}H=H.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return H=N(H)}function z(...H){var X=H.filter(d.isSome);if(X?.length){H=[];if(r(X[0])){var ia=X[0],ta=ia.indexOf("//");-1!==ta&&(H.push(ia.slice(0,ta+1)),P(X[0])&&(H[0]+="/"),X[0]=ia.slice(ta+2))}else"/"===X[0][0]&&H.push("");X=X.reduce((Ca,ha)=>ha?Ca.concat(ha.split("/")):Ca,[]);for(ia=0;ia<X.length;ia++)ta=X[ia],".."===ta&&0<H.length&&".."!==H[H.length-1]?H.pop():(!ta&&ia===X.length-1||ta&&("."!==ta||0===H.length))&&
H.push(ta);return H.join("/")}}function y(H,X=!1){if(null==H||x(H)||B(H))return null;var ia=H.indexOf("://");if(-1===ia&&D(H))ia=2;else if(-1!==ia)ia+=3;else return null;ia=H.indexOf("/",ia);-1!==ia&&(H=H.slice(0,ia));X&&(H=J(H,!0));return H}function r(H){return D(H)||M(H)}function x(H){return null!=H&&"blob:"===H.slice(0,5)}function B(H){return null!=H&&"data:"===H.slice(0,5)}function A(H){return(H=E(H))&&H.isBase64?g.base64ToArrayBuffer(H.data):null}function E(H){H=H.match(da);if(!H)return null;
const [,X,ia,ta]=H;return{mediaType:X,isBase64:!!ia,data:ta}}function F(H){const X=A(H);if(!X)return null;H=E(H);return new Blob([X],{type:H.mediaType})}function L(H,X){if(!H)return!1;const ia=document.createElement("a");if(!("download"in ia))return!1;H=URL.createObjectURL(H);ia.download=X;ia.href=H;ia.style.display="none";document.body.appendChild(ia);ia.click();document.body.removeChild(ia);URL.revokeObjectURL(H);return!0}function D(H){return null!=H&&"/"===H[0]&&"/"===H[1]}function M(H){return null!=
H&&za.test(H)}function K(H){return null!=H&&Da.test(H)||"https"===ja.scheme&&D(H)}function I(H){return null!=H&&Fa.test(H)||"http"===ja.scheme&&D(H)}function P(H){return null!=H&&va.test(H)}function T(H){return D(H)?`https:${H}`:H.replace(Fa,"https:")}function Z(){return"https"===ja.scheme}function J(H,X=!1){if(D(H))return H.slice(2);H=H.replace(za,"");X&&1<H.length&&"/"===H[0]&&"/"===H[1]&&(H=H.slice(2));return H}function Q(H){return H.endsWith("/")?H:`${H}/`}function N(H){const X=sa.httpsDomains;
if(!I(H))return H;const ia=H.indexOf("/",7);let ta;ta=-1===ia?H:H.slice(0,ia);ta=ta.toLowerCase().slice(7);if(W.test(ta))if(ta.endsWith(":80"))ta=ta.slice(0,-3),H=H.replace(":80","");else return H;if("http"===ja.scheme&&ta===ja.authority&&!ba.test(H))return H;if(Z()&&ta===ja.authority||X&&X.some(Ca=>ta===Ca||ta.endsWith(`.${Ca}`))||Z()&&!c(H))H=T(H);return H}function V(H){if("string"===typeof H)return new Ja(v(H));H.scheme||(H.scheme=ja.scheme);return H}const U=k.getLogger("esri.core.urlUtils"),sa=
b.request,za=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,Fa=/^\s*http:/i,Da=/^\s*https:/i,va=/^\s*file:/i,W=/:\d+$/,ba=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,fa=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Ba=RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class Ja{constructor(H=""){this.uri=H;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;H=this.uri.match(fa);this.scheme=H[2]||(H[1]?
"":null);this.authority=H[4]||(H[3]?"":null);this.path=H[5];this.query=H[7]||(H[6]?"":null);this.fragment=H[9]||(H[8]?"":null);null!=this.authority&&(H=this.authority.match(Ba),this.user=H[3]||null,this.password=H[4]||null,this.host=H[6]||H[7],this.port=H[9]||null)}toString(){return this.uri}}const G={},S=new Ja(b.applicationUrl);let ja=S;const pa=function(){var H=ja.path;H=H.substring(0,H.lastIndexOf(H.split("/")[H.split("/").length-1]));return`${`${ja.scheme}://${ja.host}${null!=ja.port?`:${ja.port}`:
""}`}${H}`}();let Aa=pa;const Y={path:"",query:""},da=/^data:(.*?)(;base64)?,(.*)$/,ma=/([^.]*)\.([^\/]*)$/,R=/(^data:image\/svg|\.svg$)/i;a.Url=Ja;a.addProxy=function(H){var X=c(H),ia=void 0;if(X){var ta=u(X.proxyUrl);ia=ta.path;ta=ta.query?l(ta.query):null}ia&&(X=p(H),H=ia+"?"+X.path,(ia=n({...ta,...X.query}))&&(H=`${H}?${ia}`));return H};a.addProxyRule=function(H){H={proxyUrl:H.proxyUrl,urlPrefix:m(H.urlPrefix)};const X=sa.proxyRules,ia=H.urlPrefix;let ta=X.length;for(let Ca=0;Ca<X.length;Ca++){const ha=
X[Ca].urlPrefix;if(0===ia.indexOf(ha)){if(ia.length===ha.length)return-1;ta=Ca;break}0===ha.indexOf(ia)&&(ta=Ca+1)}X.splice(ta,0,H);return ta};a.addQueryParameter=function(H,X,ia){H=p(H);const ta=H.query||{};ta[X]=String(ia);return`${H.path}?${n(ta)}`};a.addQueryParameters=function(H,X){if(!X)return H;H=p(H);const ia=H.query||{};for(const [ta,Ca]of Object.entries(X))null!=Ca&&(ia[ta]=Ca);return(X=n(ia))?`${H.path}?${X}`:H.path};a.base64UrlEncode=function(H){return g.arrayBufferToBase64(H).replaceAll("+",
"-").replaceAll("/","_").replace(/=+$/,"")};a.blobUrlToBlob=async function(H){return(await fetch(H)).blob()};a.changeDomain=function(H,X,ia){if(!(X&&ia&&H&&r(H)))return H;const ta=H.indexOf("//");var Ca=H.indexOf("/",ta+2);const ha=H.indexOf(":",ta+2);Ca=Math.min(0>Ca?H.length:Ca,0>ha?H.length:ha);if(H.slice(ta+2,Ca).toLowerCase()!==X.toLowerCase())return H;X=H.slice(0,ta+2);H=H.slice(Ca);return`${X}${ia}${H}`};a.dataComponents=E;a.dataToArrayBuffer=A;a.dataToBlob=F;a.downloadBlobAsFile=function(H,
X){L(H,X)};a.downloadDataAsFile=function(H,X){(H=F(H))&&L(H,X)};a.ensureTrailingSlash=Q;a.getAppBaseUrl=()=>Aa;a.getAppUrl=()=>ja;a.getFilename=function(H,X){if(!H)return"";H=p(H).path.replace(/\/+$/,"");H=H.substring(H.lastIndexOf("/")+1);if(!X?.length)return H;X=new RegExp(`.(${X.join("|")})$`,"ig");return H.replace(X,"")};a.getInterceptor=function(H){const X=ta=>null==ta||ta instanceof RegExp&&ta.test(H)||"string"===typeof ta&&H.startsWith(ta),ia=sa.interceptors;if(ia)for(const ta of ia)if(Array.isArray(ta.urls)){if(ta.urls.some(X))return ta}else if(X(ta.urls))return ta;
return null};a.getOrigin=y;a.getPathExtension=function(H){return null==H?null:(H=H.match(ma))?H[2]:null};a.getProxyRule=c;a.getProxyUrl=function(H=!1){let X,ia=sa.proxyUrl;if("string"===typeof H){if(X=K(H),H=c(H))ia=H.proxyUrl}else X=!!H;if(!ia)throw U.warn("esri/config: esriConfig.request.proxyUrl is not set."),new f("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");X&&Z()&&(ia=T(ia));return p(ia)};a.hasProtocol=M;a.hasSameCanonicalArcGISOnlinePortal=function(H,X){if(!H||
!X)return!1;H=h(H);X=h(X);H=q.parseKnownArcGISOnlineDomain(H);X=q.parseKnownArcGISOnlineDomain(X);return null!=H&&null!=X?H.portalHostname===X.portalHostname:!1};a.hasSameCanonicalPortal=function(H,X){if(!H||!X)return!1;H=h(H);X=h(X);const ia=q.parseKnownArcGISOnlineDomain(H),ta=q.parseKnownArcGISOnlineDomain(X);return null!=ia&&null!=ta?ia.portalHostname===ta.portalHostname:null!=ia||null!=ta?!1:t(H,X,!0)};a.hasSameOrigin=t;a.hasSamePortal=function(H,X){H=h(H);X=h(X);return J(H)===J(X)};a.isAbsolute=
r;a.isAppHTTPS=Z;a.isBlobProtocol=x;a.isDataProtocol=B;a.isHTTPSProtocol=K;a.isProtocolRelative=D;a.isSVG=function(H){return R.test(H)};a.isTrustedServer=function(H){if("string"===typeof H)if(r(H))H=V(H);else return!0;if(t(H,ja))return!0;const X=sa.trustedServers||[];for(let ta=0;ta<X.length;ta++){var ia=X[ta];G[ia]||(M(ia)||D(ia)?G[ia]=[new Ja(v(ia))]:G[ia]=[new Ja(`http://${ia}`),new Ja(`https://${ia}`)]);ia=G[ia];for(let Ca=0;Ca<ia.length;Ca++)if(t(H,ia[Ca]))return!0}return!1};a.join=z;a.makeAbsolute=
v;a.makeData=function(H){return H.isBase64?`data:${H.mediaType};base64,${H.data}`:`data:${H.mediaType},${H.data}`};a.makeRelative=function(H,X=Aa,ia){if(null==H||!r(H))return H;var ta=w(H),Ca=ta.toLowerCase();X=w(X).toLowerCase().replace(/\/+$/,"");if((ia=ia?w(ia).toLowerCase().replace(/\/+$/,""):null)&&0!==X.indexOf(ia))return H;const ha=(Ia,aa,ka)=>{ka=Ia.indexOf(aa,ka);return-1===ka?Ia.length:ka};let na=ha(Ca,"/",Ca.indexOf("//")+2),ra=-1;for(;Ca.slice(0,na+1)===X.slice(0,na)+"/";){ra=na+1;if(na===
Ca.length)break;na=ha(Ca,"/",na+1)}if(-1===ra||ia&&ra<ia.length)return H;H=ta.slice(ra);ta=X.slice(ra-1).replaceAll(/[^/]+/g,"").length;if(0<ta)for(Ca=0;Ca<ta;Ca++)H=`../${H}`;else H=`./${H}`;return H};a.normalize=w;a.objectToQuery=n;a.parseData=async function(H){return"string"===typeof H?E(H)??{data:H}:new Promise((X,ia)=>{const ta=new FileReader;ta.readAsDataURL(H);ta.onload=()=>X(E(ta.result));ta.onerror=Ca=>ia(Ca)})};a.queryToObject=l;a.removeFile=function(H){let X=0;if(r(H)){var ia=H.indexOf("//");
-1!==ia&&(X=ia+2)}ia=H.lastIndexOf("/");return ia<X?H:H.slice(0,ia+1)};a.removeQueryParameter=function(H,X){const {path:ia,query:ta}=p(H);if(!ta)return H;delete ta[X];return(H=n(ta))?`${ia}?${H}`:ia};a.removeQueryParameters=function(H,X){H=p(H);const ia=Object.keys(H.query||{});0<ia.length&&X&&X.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${ia.join(", ")}.`);return H.path};a.removeTrailingSlash=function(H){return H.replace(/\/+$/,
"")};a.splitPathExtension=function(H){if(null==H)return null;const X=H.match(ma);return X?{path:X[1],extension:X[2]}:{path:H,extension:null}};a.test={setAppUrl:H=>ja=H,setAppBaseUrl:H=>Aa=H,restoreUrls:()=>{ja=S;Aa=pa}};a.toHTTP=function(H){return D(H)?`http:${H}`:H.replace(Da,"http:")};a.toHTTPS=T;a.trustedServersUrlCache=G;a.urlToObject=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Error":function(){define(["./lang","./Logger","./Message"],function(a,b,d){class f extends d{constructor(e,
k,q){super(e,k,q)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,k)=>{if(k&&"object"===typeof k&&"function"===typeof k.toJSON)return k;try{return a.clone(k)}catch(q){return"[object]"}}))}}catch(e){throw b.getLogger("esri.core.Error").error(e),e;}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new f(e.name,e.message,e.details)}}f.prototype.type="error";return f})},"esri/core/Logger":function(){define(["../config",
"./has","./string"],function(a,b,d){const f={info:0,warn:1,error:2,none:3};class e{constructor(k){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=k.level&&(this.level=k.level);null!=k.writer&&(this.writer=k.writer);this._module=k.module;e._loggers.set(this.module,this);k=this.module.lastIndexOf(".");-1!==k&&(this._parent=e.getLogger(this.module.slice(0,k)))}get module(){return this._module}get parent(){return this._parent}error(...k){this._log("error",
"always",...k)}warn(...k){this._log("warn","always",...k)}info(...k){this._log("info","always",...k)}errorOnce(...k){this._log("error","once",...k)}warnOnce(...k){this._log("warn","once",...k)}infoOnce(...k){this._log("info","once",...k)}errorOncePerTick(...k){this._log("error","oncePerTick",...k)}warnOncePerTick(...k){this._log("warn","oncePerTick",...k)}infoOncePerTick(...k){this._log("info","oncePerTick",...k)}get test(){const k=this;return{loggedMessages:k._loggedMessages,clearLoggedWarnings(){return k._loggedMessages.warn.clear()}}}static get test(){return{resetLoggers(k=
new Map){const q=e._loggers;e._loggers=k;return q},set throttlingDisabled(k){e._throttlingDisabled=k}}}static getLogger(k){k="string"!==typeof k?k.declaredClass:k;return e._loggers.get(k)||new e({module:k})}_log(k,q,...g){if(this._matchLevel(k)){if("always"!==q&&!e._throttlingDisabled){const p=this._argsToKey(g),l=this._loggedMessages[k].get(p);if("once"===q&&null!=l||"oncePerTick"===q&&l&&l>=e._tickCounter)return;this._loggedMessages[k].set(p,e._tickCounter);e._scheduleTickCounterIncrement()}for(const p of a.log.interceptors)if(p(k,
this.module,...g))return;this._inheritedWriter()(k,this.module,...g)}}_parentWithMember(k,q){let g=this;for(;null!=g;){const p=g[k];if(null!=p)return p;g=g.parent}return q}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(k,q,...g){console[k](`[${q}]`,...g)}_matchLevel(k){return f[this._parentWithMember("level",a.log.level||"warn")]<=f[k]}_argsToKey(...k){return d.numericHash(JSON.stringify(k,(q,g)=>"object"!==typeof g||Array.isArray(g)?g:"[Object]"))}static _scheduleTickCounterIncrement(){e._tickCounterScheduled||
(e._tickCounterScheduled=!0,Promise.resolve().then(()=>{e._tickCounter++;e._tickCounterScheduled=!1}))}}e._loggers=new Map;e._tickCounter=0;e._tickCounterScheduled=!1;e._throttlingDisabled=!1;return e})},"esri/core/string":function(){define(["exports","./object"],function(a,b){function d(e){return null==e?"":e}const f=/\{([^\}]+)\}/g;a.escapeRegExpString=function(e,k){return e.replaceAll(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,q=>k&&k.includes(q)?q:`\\${q}`)};a.numericHash=function(e){let k=0;for(let q=
0;q<e.length;q++)k=(k<<5)-k+e.charCodeAt(q),k|=0;return k};a.replace=function(e,k){return k?e.replaceAll(f,"object"===typeof k?(q,g)=>d(b.getDeepValue(g,k)):(q,g)=>d(k(g))):e};a.stripHTML=function(e){return(new DOMParser).parseFromString(e||"","text/html").body.innerText||""};a.templateHasKey=function(e,k){return(new RegExp(`{${k}}`,"ig")).test(e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Message":function(){define(["./object"],function(a){function b(f,e){return f.replaceAll(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,
(k,q)=>{if(""===q)return"$";k=a.getDeepValue(q,e);return(null==k?"":k).toString()})}class d{constructor(f,e,k){this.name=f;this.details=k;this.message=(e&&b(e,k))??""}toString(){return"["+this.name+"]: "+this.message}}return d})},"esri/core/JSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./accessorSupport/DefaultsStore ./accessorSupport/defaultsStoreUtils ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p){const l=n=>{n=class extends n{constructor(...u){super(...u);u=q.getProperties(this);const m=u.store,c=new f.DefaultsStore;u.store=c;e.setupConstructedDefaults(u,m,c)}read(u,m){k.read(this,u,m)}write(u,m){return g.write(this,u??{},m)}toJSON(u){return this.write({},u)}static fromJSON(u,m){if(u){if(u.declaredClass)throw Error("JSON object is already hydrated");var c=new this;c.read(u,m);u=c}else u=null;return u}};n=b.__decorate([p.subclass("esri.core.JSONSupport")],n);n.prototype.toJSON.isDefaultToJSON=
!0;return n};a.JSONSupport=class extends l(d){};a.JSONSupport=b.__decorate([p.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=l;a.isSerializable=function(n){return n&&"object"===typeof n&&"toJSON"in n&&"function"===typeof n.toJSON};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Accessor":function(){define("./deprecate ./Handles ./Logger ./maybe ./accessorSupport/beforeDestroy ./accessorSupport/get ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/testSupport ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m){function c(y){if(null==y)return{value:y};if(Array.isArray(y))return{type:[y[0]],value:null};switch(typeof y){case "object":return y.constructor?.__accessorMetadata__||y instanceof Date?{type:y.constructor,value:y}:y;case "boolean":return{type:Boolean,value:y};case "string":return{type:String,value:y};case "number":return{type:Number,value:y};case "function":return{type:y,value:null}}}const h=Symbol("Accessor-Handles"),t=Symbol("Accessor-Initialized");class v{static createSubclass(y=
{}){if(Array.isArray(y))throw Error("Multi-inheritance unsupported since 4.16");const {properties:r,declaredClass:x,constructor:B}=y;delete y.declaredClass;delete y.properties;delete y.constructor;const A=this;class E extends A{constructor(...F){super(...F);this.inherited=null;B&&B.apply(this,F)}}q.getPropertiesMetadata(E.prototype);for(const F in y){const L=y[F];E.prototype[F]="function"===typeof L?function(...D){const M=this.inherited;this.inherited=function(...I){if(A.prototype[F])return A.prototype[F].apply(this,
I)};let K=void 0;try{K=L.apply(this,D)}catch(I){throw this.inherited=M,I;}this.inherited=M;return K}:y[F]}for(const F in r)y=c(r[F]),u.property(y)(E.prototype,F);return m.subclass(x)(E)}constructor(...y){this[w]=null;this[z]=!1;if(this.constructor===v)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new g(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r});0<y.length&&this.normalizeCtorArgs&&(r.ctorArgs=this.normalizeCtorArgs.apply(this,
y));l.getAccessorInterceptor()?.onInstanceConstruct(this)}postscript(y){const r=this.__accessor__;y=r.ctorArgs||y;r.initialize();y&&(this.set(y),r.ctorArgs=null);r.constructed();this.initialize();this[t]=!0}initialize(){}[e.beforeDestroySymbol](){this[h]=f.destroyMaybe(this[h])}destroy(){this.destroyed||(n.removeTarget(this),this.__accessor__.destroy(),l.getAccessorInterceptor()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||
!1}get initialized(){return this[t]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(y){k.get(this,y)}get(y){a.deprecatedFunction(d.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"});return k.get(this,y)}hasOwnProperty(y){return this.__accessor__?this.__accessor__.has(y):Object.prototype.hasOwnProperty.call(this,
y)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(y,r){p.set(this,y,r);return this}watch(y,r,x){return n.watch(this,y,r,x)}addHandles(y,r){if(this.destroyed){y=Array.isArray(y)?y:[y];for(var x of y)x.remove()}else x=this[h],null==x&&(x=this[h]=new b),x.add(y,r)}removeHandles(y){const r=this[h];null!=r&&r.remove(y)}removeAllHandles(){const y=this[h];null!=y&&y.removeAll()}hasHandles(y){const r=this[h];return null!=r?r.has(y):!1}_override(y,r){void 0===r?this.__accessor__.clearOverride(y):
this.__accessor__.override(y,r)}_clearOverride(y){return this.__accessor__.clearOverride(y)}_overrideIfSome(y,r){null==r?this.__accessor__.clearOverride(y):this.__accessor__.override(y,r)}_isOverridden(y){return this.__accessor__.isOverridden(y)}notifyChange(y){this.__accessor__.notifyChange(y)}_get(y){return this.__accessor__.internalGet(y)}_set(y,r){this.__accessor__.internalSet(y,r);return this}}var w=h;var z=t;return v})},"esri/core/deprecate":function(){define(["exports","./has"],function(a,
b){function d(k,q,g=!1){g&&e.has(q)||(g&&e.add(q),k.warn(`\ud83d\uded1 DEPRECATED - ${q}`))}function f(k,q,g={}){if(b("esri-deprecation-warnings")){const {replacement:p,version:l,see:n,warnOnce:u}=g;p&&(q+=`\n\t\ud83d\udee0\ufe0f Replacement: ${p}`);l&&(q+=`\n\t\u2699\ufe0f Version: ${l}`);n&&(q+=`\n\t\ud83d\udd17 See ${n} for more details.`);d(k,q,u)}}const e=new Set;a.deprecated=f;a.deprecatedFunction=function(k,q,g={}){if(b("esri-deprecation-warnings")){const {moduleName:p}=g;f(k,`Function: ${(p?
p+"::":"")+q+"()"}`,g)}};a.deprecatedModule=function(k,q,g={}){b("esri-deprecation-warnings")&&f(k,`Module: ${q}`,g)};a.deprecatedProperty=function(k,q,g={}){if(b("esri-deprecation-warnings")){const {moduleName:p}=g;f(k,`Property: ${(p?p+"::":"")+q}`,g)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Handles":function(){define(["./iteratorUtils"],function(a){class b{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let d=0;this._groups.forEach(f=>
{d+=f.length});return d}add(d,f){if(a.isIterable(d)){f=this._getOrCreateGroup(f);for(const e of d)this._isHandle(e)&&f.push(e)}else this._isHandle(d)&&this._getOrCreateGroup(f).push(d);return this}forEach(d,f){if("function"===typeof d)this._groups.forEach(e=>e.forEach(d));else{const e=this._getGroup(d);e&&f&&e.forEach(f)}}has(d){return this._groups.has(this._ensureGroupKey(d))}remove(d){if("string"!==typeof d&&a.isIterable(d)){for(const f of d)this.remove(f);return this}if(!this.has(d))return this;
this._removeAllFromGroup(this._getGroup(d));this._groups.delete(this._ensureGroupKey(d));return this}removeAll(){this._groups.forEach(d=>this._removeAllFromGroup(d));this._groups.clear();return this}_isHandle(d){return d&&(!!d.remove||d instanceof b)}_getOrCreateGroup(d){if(this.has(d))return this._getGroup(d);const f=[];this._groups.set(this._ensureGroupKey(d),f);return f}_getGroup(d){return this._groups.get(this._ensureGroupKey(d))}_ensureGroupKey(d){return d||"_default_"}_removeAllFromGroup(d){for(const f of d)f instanceof
b?f.removeAll():f.remove()}}return b})},"esri/core/iteratorUtils":function(){define(["exports"],function(a){a.cache=function(b){const d=[];return function*(){yield*d;for(const f of b)d.push(f),yield f}};a.find=function(b,d){for(const f of b)if(null!=f&&d(f))return f};a.isIterable=function(b){return null!=b&&"function"===typeof b[Symbol.iterator]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/maybe":function(){define(["exports"],function(a){a.abortMaybe=function(b){b?.abort();
return null};a.assertIsSome=function(b,d){if(null==b)throw Error(d??"value is None");};a.destroyMaybe=function(b){b?.destroy();return null};a.disposeMaybe=function(b){b?.dispose();return null};a.equalsMaybe=function(b,d,f){return null!=b&&null!=d?null!=f?f(b,d):b.equals(d):b===d};a.mappedFind=function(b,d){let f=void 0;b.some((e,k)=>{f=d(e,k);return null!=f});return f??void 0};a.maybeProperty=function(b,d){return b?.[d]};a.releaseMaybe=function(b){b?.release();return null};a.removeMaybe=function(b){b?.remove();
return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/beforeDestroy":function(){define(["exports"],function(a){const b=Symbol("Accessor-beforeDestroy");a.beforeDestroySymbol=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,b){function d(k,q){k="?"===k[k.length-1]?k.slice(0,-1):k;if(null!=q.getItemAt||Array.isArray(q)){var g=parseInt(k,10);if(!isNaN(g))return Array.isArray(q)?
q[g]:q.at(g)}g=b.getProperties(q);return b.isPropertyDeclared(g,k)?g.get(k):q[k]}function f(k,q,g){if(null==k)return k;if((k=d(q[g],k))||!(g<q.length-1))return g===q.length-1?k:f(k,q,g+1)}function e(k,q,g=0){return"string"!==typeof q||q.includes(".")?f(k,b.pathToArray(q),g):d(q,k)}a.exists=function(k,q){return void 0!==e(q,k)};a.get=function(k,q){return e(k,q)};a.valueOf=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/utils":function(){define(["exports",
"../handleUtils","../lang"],function(a,b,d){function f(p){return p.__accessor__??null}function e(p,l,n){return l?Object.keys(l).reduce((u,m)=>{let c=null;var h="merge";n&&(c=n.path?`${n.path}.${m}`:m,h=n.policy(c));if("replace"===h||"replace-arrays"===h&&Array.isArray(u[m]))return u[m]=l[m],u;if(void 0===u[m])return u[m]=d.clone(l[m]),u;let t=u[m];h=l[m];if(t===h)return u;if(Array.isArray(h)||Array.isArray(u))t=t?Array.isArray(t)?u[m]=t.concat():u[m]=[t]:u[m]=[],h&&(Array.isArray(h)||(h=[h]),h.forEach(v=>
{t.includes(v)||t.push(v)}));else if(h&&"object"===typeof h)if(n){const v=n.path;n.path=c;u[m]=e(t,h,n);n.path=v}else u[m]=e(t,h,null);else if(!u.hasOwnProperty(m)||l.hasOwnProperty(m))u[m]=h;return u},p||{}):p}function k(p){return Array.isArray(p)?p:p.split(".")}function q(p){return p.includes(",")?p.split(",").map(l=>l.trim()):[p.trim()]}function g(p){if(Array.isArray(p)){const l=[];for(const n of p)l.push(...q(n));return l}return q(p)}a.getDependsInfo=function(p,l){const n=f(p);return n?n.getDependsInfo(p,
l,""):""};a.getProperties=f;a.isPropertyDeclared=function(p,l){return null!=p?.metadatas?.[l]};a.merge=function(p,l,n){return n?e(p,l,{policy:n,path:""}):e(p,l,null)};a.parse=function(p,l,n,u){l=g(l);return 1!==l.length?(l=l.map(m=>u(p,m,n)),b.handlesGroup(l)):u(p,l[0],n)};a.parseConditionalPath=function(p){if(!p.includes("?"))return null;p=k(p);const l=Array(p.length);for(let n=0;n<p.length;n++){const u=p[n];l[n]="?"===u[u.length-1];l[n]&&(p[n]=u.slice(0,-1))}return{fullPath:p.join("."),conditional:l}};
a.pathToArray=k;a.pathToStringOrArray=function(p){return!p||"string"===typeof p&&!p.includes(".")?p:k(p)};a.splitPath=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/handleUtils":function(){define(["exports"],function(a){function b(e){return e?{remove(){e&&(e(),e=void 0)}}:f}function d(e){e.forEach(k=>k?.remove())}const f={remove:()=>{}};a.abortHandle=function(e){return b(()=>e?.abort())};a.asyncHandle=function(e,k){let q=!1,g=null;e.then(p=>{q?p.remove():g=p});return b(()=>
{q=!0;null!=g?g.remove():null!=k&&(k.abort(),k=null)})};a.destroyHandle=function(e){return b(null!=e?()=>e.destroy():void 0)};a.handlesGroup=function(e){return b(()=>d(e))};a.makeHandle=b;a.refHandle=function(e){return b(()=>e()?.remove())};a.removeHandles=d;a.timeoutHandle=function(e,k){const q=setTimeout(e,k);return b(()=>clearTimeout(q))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","./utils"],function(a,
b,d){function f(q){let g=q.constructor.__accessorMetadata__;const p=Object.prototype.hasOwnProperty.call(q.constructor,"__accessorMetadata__");if(!g)g={},Object.defineProperty(q.constructor,"__accessorMetadata__",{value:g,enumerable:!1,configurable:!0,writable:!0});else if(!p){g=Object.create(g);for(const l in g)g[l]=b.clone(g[l]);Object.defineProperty(q.constructor,"__accessorMetadata__",{value:g,enumerable:!1,configurable:!0,writable:!0})}return q.constructor.__accessorMetadata__}function e(q){return k.test(q)?
"replace":"merge"}const k=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;a.getPropertiesMetadata=f;a.getPropertyMetadata=function(q,g){q=f(q);let p=q[g];p||(p=q[g]={});return p};a.mergeProperty=function(q,g){return d.merge(q,g,e)};a.setPropertyMetadata=function(q,g,p){f(q)[g]=p};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Properties":function(){define("../has ../lang ../Logger ../ObjectPool ./interfaces ./Property ./PropertyOrigin ./Store ./tracking ./tracking/Flags".split(" "),
function(a,b,d,f,e,k,q,g,p,l){d.getLogger("esri.core.accessorSupport.Properties");class n{constructor(c){this.host=c;this.propertiesByName=new Map;this.ctorArgs=null;this.destroyed=!1;this.lifecycle=e.Lifecycle.INITIALIZING;this.store=new g.Store;this._origin=q.OriginId.USER;c=this.host.constructor.__accessorMetadata__;for(const h in c){const t=new k.Property(h,c[h]);this.propertiesByName.set(h,t)}this.metadatas=c}initialize(){this.lifecycle=e.Lifecycle.CONSTRUCTING}constructed(){this.lifecycle=e.Lifecycle.CONSTRUCTED}destroy(){this.destroyed=
!0;for(const [c,h]of this.propertiesByName){if(h.metadata.autoDestroy){const t=this.internalGet(c);t&&t&&"function"===typeof t.destroy&&(t.destroy(),~h.flags&l.Flags.NonNullable&&this._internalSet(h,null))}h.destroy()}}get initialized(){return this.lifecycle!==e.Lifecycle.INITIALIZING}get(c){const h=this.propertiesByName.get(c);if(h.metadata.get)return h.getComputed(this);p.trackAccess(h);const t=this.store;return t.has(c)?t.get(c):h.metadata.value}originOf(c){const h=this.store.originOf(c);return void 0===
h&&(c=this.propertiesByName.get(c),void 0!==c&&c.flags&l.Flags.HasDefaultValue)?"defaults":q.idToName(h)}has(c){return this.propertiesByName.has(c)?this.store.has(c):!1}keys(){return[...this.propertiesByName.keys()]}internalGet(c){const h=this.propertiesByName.get(c);if(void 0!==h)return this.store.has(c)?this.store.get(c):h.metadata.value}internalSet(c,h){c=this.propertiesByName.get(c);void 0!==c&&this._internalSet(c,h)}getDependsInfo(c,h,t){const v=this.propertiesByName.get(h);if(void 0===v)return"";
const w=new Set,z=p.runTracked({onObservableAccessed:r=>w.add(r),onTrackingEnd:()=>{}},()=>v.metadata.get?.call(c)),y=c.declaredClass.split(".").pop();h=`${t}${y}.${h}: ${z}\n`;if(0===w.size)return h;t+="  ";for(const r of w)r instanceof k.Property&&(h+=`${t}${r.propertyName}: undefined\n`);return h}setAtOrigin(c,h,t){c=this.propertiesByName.get(c);if(void 0!==c)return this._setAtOrigin(c,h,t)}isOverridden(c){c=this.propertiesByName.get(c);return void 0!==c&&!!(c.flags&l.Flags.Overriden)}clearOverride(c){(c=
this.propertiesByName.get(c))&&c.flags&l.Flags.Overriden&&(c.flags&=~l.Flags.Overriden,c.notifyChange())}override(c,h){c=this.propertiesByName.get(c);if(!(void 0===c||null==h&&c.flags&l.Flags.NonNullable)){var t=c.metadata.cast;if(t){h=this._cast(t,h);const {valid:v,value:w}=h;m.release(h);if(!v)return;h=w}c.flags|=l.Flags.Overriden;this._internalSet(c,h)}}set(c,h){c=this.propertiesByName.get(c);if(!(void 0===c||null==h&&c.flags&l.Flags.NonNullable)){var t=c.metadata.cast;if(t){h=this._cast(t,h);
const {valid:v,value:w}=h;m.release(h);if(!v)return;h=w}(t=c.metadata.set)?t.call(this.host,h):this._internalSet(c,h)}}setDefaultOrigin(c){this._origin=q.nameToId(c)}getDefaultOrigin(){return q.idToName(this._origin)}notifyChange(c){c=this.propertiesByName.get(c);void 0!==c&&c.notifyChange()}invalidate(c){c=this.propertiesByName.get(c);void 0!==c&&c.invalidate()}commit(c){c=this.propertiesByName.get(c);void 0!==c&&c.commit()}_internalSet(c,h){this._setAtOrigin(c,h,this.lifecycle!==e.Lifecycle.INITIALIZING?
this._origin:q.OriginId.DEFAULTS)}_setAtOrigin(c,h,t){const v=this.store,w=c.propertyName;v.has(w,t)&&b.equals(h,v.get(w))&&~c.flags&l.Flags.Overriden&&t===v.originOf(w)||(c.invalidate(),v.set(w,h,t),c.commit(),p.initializeDependencyTracking(this.host,c))}_cast(c,h){const t=m.acquire();t.valid=!0;t.value=h;c&&(t.value=c.call(this.host,h,t));return t}}class u{constructor(){this.value=null;this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const m=new f(u);return n})},"esri/core/ObjectPool":function(){define(function(){class a{constructor(b,
d,f,e=1,k=0){this._ctor=b;this._acquireFunction=d;this._releaseFunction=f;this.allocationSize=e;this._pool=Array(k);this._initialSize=k;if(this._ctor)for(b=0;b<k;b++)this._pool[b]=new this._ctor;this.allocationSize=Math.max(e,1)}destroy(){this.prune(0)}acquire(...b){if(a.test.disabled)var d=new this._ctor;else{if(0===this._pool.length){d=this.allocationSize;for(let f=0;f<d;f++)this._pool[f]=new this._ctor}d=this._pool.pop()}this._acquireFunction?this._acquireFunction(d,...b):d?.acquire&&"function"===
typeof d.acquire&&d.acquire(...b);return d}release(b){b&&!a.test.disabled&&(this._releaseFunction?this._releaseFunction(b):b?.release&&"function"===typeof b.release&&b.release(),this._pool.push(b))}prune(b=this._initialSize){if(!(b>=this._pool.length)){for(let d=b;d<this._pool.length;++d)this._dispose(this._pool[d]);this._pool.length=b}}_dispose(b){b.dispose&&"function"===typeof b.dispose&&b.dispose()}}a.test={disabled:!1};return a})},"esri/core/accessorSupport/interfaces":function(){define(["exports"],
function(a){a.Lifecycle=void 0;var b=a.Lifecycle||(a.Lifecycle={});b[b.INITIALIZING=0]="INITIALIZING";b[b.CONSTRUCTING=1]="CONSTRUCTING";b[b.CONSTRUCTED=2]="CONSTRUCTED";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Property":function(){define(["exports","./ObservableBase","./PropertyOrigin","./tracking","./tracking/Flags"],function(a,b,d,f,e){class k extends b.ObservableBase{constructor(q,g){super();this.propertyName=q;this.metadata=g;this._handles=this._accessed=
null;this.flags=0;this.flags=e.Flags.Dirty|(g.nonNullable?e.Flags.NonNullable:0)|(g.hasOwnProperty("value")?e.Flags.HasDefaultValue:0)|(void 0===g.get?e.Flags.DepTrackingInitialized:0)|(void 0===g.dependsOn?e.Flags.AutoTracked:0)}destroy(){if(this.flags&e.Flags.Dirty)this.onCommitted();super.destroy();this._accessed=null;this._clearObservationHandles()}getComputed(q){f.trackAccess(this);var g=q.store;const p=this.propertyName;var l=this.flags;const n=g.get(p);if(l&e.Flags.Computing||~l&e.Flags.Dirty&&
g.has(p))return n;this.flags|=e.Flags.Computing;q=q.host;l&e.Flags.AutoTracked?l=f.runTracked(this,this.metadata.get,q):(f.trackExplicitDependencies(q,this),l=this.metadata.get.call(q));g.set(p,l,d.OriginId.COMPUTED);g=g.get(p);g===n?this.flags&=~e.Flags.Dirty:f.runUntracked(this.commit,this);this.flags&=~e.Flags.Computing;return g}onObservableAccessed(q){if(q!==this){var g=this._accessed;if(null==g)this._accessed=g=[];else if(g.includes(q))return;g.push(q)}}onTrackingEnd(){this._clearObservationHandles();
this.flags|=e.Flags.DepTrackingInitialized;const q=this._accessed;if(null!=q&&0!==q.length){var g=this._handles;null==g&&(this._handles=g=[]);for(let p=0;p<q.length;++p)g.push(q[p].observe(this));q.length=0}}notifyChange(){this.onInvalidated();this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~e.Flags.Dirty;this.onCommitted()}_clearObservationHandles(){const q=this._handles;if(null!==q){for(let g=0;g<q.length;++g)q[g].remove();q.length=0}}onInvalidated(){~this.flags&e.Flags.Overriden&&
(this.flags|=e.Flags.Dirty);const q=this._observers;if(q&&0<q.length)for(const g of q)g.onInvalidated()}onCommitted(){var q=this._observers;if(q&&0<q.length){q=q.slice();for(const g of q)g.onCommitted()}}}a.Property=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ObservableBase":function(){define(["exports","../handleUtils","./tracking/ObservationHandle"],function(a,b,d){class f{constructor(){this._observers=null;this.destroyed=!1}observe(k){if(this.destroyed||
k.destroyed)return e;null==this._observers&&(this._observers=[]);const q=this._observers;let g=!1,p=!1;const l=q.length;for(let n=0;n<l;++n){const u=q[n];if(u.destroyed)p=!0;else if(u===k){g=!0;break}}g||(q.push(k),p&&this._removeDestroyedObservers());return new d.ObservationHandle(q,k)}_removeDestroyedObservers(){const k=this._observers;if(k&&0!==k.length){var q=k.length,g=0;for(let p=0;p<q;++p){for(;p+g<q;)if(k[p+g].destroyed)++g;else break;if(0<g)if(p+g<q)k[p]=k[p+g];else break}k.length=q-g}}destroy(){if(!this.destroyed){this.destroyed=
!0;var k=this._observers;if(null!=k){for(const q of k)q.onCommitted();this._observers=null}}}}const e=b.makeHandle();a.ObservableBase=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports","../../arrayUtils"],function(a,b){class d{constructor(f,e){this._observers=f;this._observer=e}remove(){b.remove(this._observers,this._observer)}}a.ObservationHandle=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports"],function(a){function b(f){switch(f){case "defaults":return a.OriginId.DEFAULTS;case "service":return a.OriginId.SERVICE;case "portal-item":return a.OriginId.PORTAL_ITEM;case "web-scene":return a.OriginId.WEB_SCENE;case "web-map":return a.OriginId.WEB_MAP;case "link-chart":return a.OriginId.LINK_CHART;case "user":return a.OriginId.USER;default:return null}}function d(f){switch(f){case a.OriginId.DEFAULTS:return"defaults";case a.OriginId.SERVICE:return"service";
case a.OriginId.PORTAL_ITEM:return"portal-item";case a.OriginId.WEB_SCENE:return"web-scene";case a.OriginId.WEB_MAP:return"web-map";case a.OriginId.LINK_CHART:return"link-chart";case a.OriginId.USER:return"user"}}a.OriginId=void 0;(function(f){f[f.DEFAULTS=0]="DEFAULTS";f[f.COMPUTED=1]="COMPUTED";f[f.SERVICE=2]="SERVICE";f[f.PORTAL_ITEM=3]="PORTAL_ITEM";f[f.WEB_SCENE=4]="WEB_SCENE";f[f.WEB_MAP=5]="WEB_MAP";f[f.LINK_CHART=6]="LINK_CHART";f[f.USER=7]="USER"})(a.OriginId||(a.OriginId={}));a.OriginIdNum=
a.OriginId.USER+1;a.idToName=d;a.idToReadableName=function(f){return d(f)};a.idToWritableName=function(f){return d(f)};a.nameToId=b;a.readableNameToId=function(f){return b(f)};a.writableNameToId=function(f){return b(f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking":function(){define(["exports","../has","../Logger","./utils","./tracking/Flags"],function(a,b,d,f,e){function k(z){h.onObservableAccessed(z)}function q(z,y,r){if(t)return g(z,y,r);h=
z;c.push(z);z=y.call(r);p();return z}function g(z,y,r){const x=t;t=!0;h=z;c.push(z);z=null;try{z=y.call(r)}catch(B){v&&d.getLogger("esri.core.accessorSupport.tracking").error(B)}p();t=x;return z}function p(){var z=c.length;if(1<z){const y=c.pop();h=c[z-2];y.onTrackingEnd()}else 1===z?(z=c.pop(),h=m,z.onTrackingEnd()):h=m}function l(z,y){if(!(y.flags&e.Flags.DepTrackingInitialized)){var r=v;v=!1;y.flags&e.Flags.AutoTracked?g(y,y.metadata.get,z):n(z,y);v=r}}function n(z,y){y.flags&e.Flags.ExplicitlyTracking||
(y.flags|=e.Flags.ExplicitlyTracking,g(y,()=>{var r=y.metadata.dependsOn||w;for(const x of r)if("string"!==typeof x||x.includes(".")){r=f.pathToArray(x);for(let B=0,A=z;B<r.length&&null!=A&&"object"===typeof A;++B)A=u(A,r[B],B!==r.length-1)}else u(z,x,!1)}),y.flags&=~e.Flags.ExplicitlyTracking)}function u(z,y,r){y="?"===y[y.length-1]?y.slice(0,-1):y;if(null!=z.getItemAt||Array.isArray(z)){var x=parseInt(y,10);if(!isNaN(x))return Array.isArray(z)?z[x]:z.at(x)}if(x=f.getProperties(z))if(x=x.propertiesByName.get(y))k(x),
l(z,x);return r?z[y]:void 0}const m={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},c=[];let h=m,t=!1,v=!1;const w=[];a.initializeDependencyTracking=l;a.runTracked=q;a.runTrackedNoThrow=g;a.runUntracked=function(z,y){return q(m,z,y)};a.trackAccess=k;a.trackExplicitDependencies=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/Flags":function(){define(["exports"],function(a){a.Flags=void 0;var b=a.Flags||(a.Flags={});b[b.Dirty=1]="Dirty";b[b.Overriden=
2]="Overriden";b[b.Computing=4]="Computing";b[b.NonNullable=8]="NonNullable";b[b.HasDefaultValue=16]="HasDefaultValue";b[b.DepTrackingInitialized=32]="DepTrackingInitialized";b[b.AutoTracked=64]="AutoTracked";b[b.ExplicitlyTracking=128]="ExplicitlyTracking";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,d){class f{constructor(){this._values=new Map;this.multipleOriginsSupported=
!1}clone(e){const k=new f;this._values.forEach((q,g)=>{e&&e.has(g)||k.set(g,b.clone(q))});return k}get(e){return this._values.get(e)}originOf(){return d.OriginId.USER}keys(){return[...this._values.keys()]}set(e,k){this._values.set(e,k)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}}a.Store=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/set":function(){define(["exports","../Error","../has","../Logger",
"./get"],function(a,b,d,f,e){function k(q,g,p){if(q&&g)if("object"===typeof g)for(var l of Object.getOwnPropertyNames(g))k(q,l,g[l]);else if(g.includes("."))g=g.split("."),l=g.splice(-1,1)[0],k(e.get(q,g),l,p);else{l=q.__accessor__;if(null!=l&&d("esri-unknown-property-errors")&&null==l.metadatas[g])throw new b("set:unknown-property","setting unknown property '"+g+"' on instance of "+l.host.declaredClass);q[g]=p}}a.set=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/testSupport":function(){define(["exports"],
function(a){let b;a.InterceptorCollectAction=void 0;(function(d){d[d.Ignore=0]="Ignore";d[d.Destroy=1]="Destroy";d[d.ThrowError=2]="ThrowError"})(a.InterceptorCollectAction||(a.InterceptorCollectAction={}));a.getAccessorInterceptor=function(){return b};a.setAccessorInterceptor=function(d){b=d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/watch":function(){define("exports ../ArrayPool ../handleUtils ../lang ../ReentrantObjectPool ../scheduling ../SetUtils ../uid ./get ./trackingUtils ./utils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){function u(F){B.delete(F);B.add(F);A||(A=k.schedule(c))}function m(F){if(!F.removed){var L=F.oldValue,D=F.getValue();F.equals(L,D)||(F.oldValue=D,F.notify(D,L))}}function c(){let F=10;for(;A&&F--;){A=null;const L=h(),D=x.acquire();for(const M of L){const K=M.uid;m(M);K===M.uid&&M.removed&&D.push(M)}for(const M of B)M.removed&&(D.push(M),B.delete(M));for(const M of D)r.pool.release(M);x.release(D);x.release(L);E.forEach(M=>M())}}function h(){const F=x.acquire();F.length=
B.size;let L=0;for(const D of B)F[L]=D,++L;B.clear();return F}function t(F,L,D){let M=n.parse(F,L,D,(K,I,P)=>{let T,Z,J=l.reactionDeferred(()=>p.valueOf(K,I),(Q,N)=>{K.__accessor__.destroyed||T&&T.uid!==Z?M.remove():(T||(T=r.acquireUntracked(Q,P,N,K,I),Z=T.uid),u(T))});return d.makeHandle(()=>{J.remove();T&&(T.uid!==Z||T.removed||(T.removed=!0,u(T)),T=null);M=J=null})});return M}function v(F,L,D){const M=n.parse(F,L,D,(K,I,P)=>{let T=!1;return l.reaction(()=>p.valueOf(K,I),(Z,J)=>{K.__accessor__.destroyed?
M.remove():T||(T=!0,f.equals(J,Z)||P.call(K,Z,J,I,K),T=!1)})});return M}function w(F,L,D){let M,K,I=l.reactionDeferred(F,(P,T)=>{M&&M.uid!==K?I.remove():(M||(M=r.acquireTracked(P,L,T,D),K=M.uid),u(M))});return d.makeHandle(()=>{I.remove();M&&(M.uid!==K||M.removed||(M.removed=!0,u(M)),M=null);I=null})}function z(F,L,D){let M=!1;return l.reaction(F,(K,I)=>{M||(M=!0,D(I,K)||L(K,I),M=!1)})}var y;(function(F){F[F.Untracked=0]="Untracked";F[F.Tracked=1]="Tracked"})(y||(y={}));class r{constructor(){this.uid=
g.generateUID();this.removed=!1;this.equals=this.path=this.target=this.getValue=this.callback=this.oldValue=this.type=null}static acquireUntracked(F,L,D,M,K){return this.pool.acquire(y.Untracked,F,L,D,M,K,f.equals)}static acquireTracked(F,L,D,M){return this.pool.acquire(y.Tracked,F,L,D,null,null,M)}notify(F,L){this.type===y.Untracked?this.callback.call(this.target,F,L,this.path,this.target):this.callback.call(null,F,L,void 0,void 0)}acquire(F,L,D,M,K,I,P){this.uid=g.generateUID();this.removed=!1;
this.type=F;this.oldValue=L;this.callback=D;this.getValue=M;this.target=K;this.path=I;this.equals=P}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null;this.uid=g.generateUID();this.removed=!0}}r.pool=new e.ReentrantObjectPool(r);const x=new b,B=new Set;let A;const E=new Set;a.afterDispatch=function(F){E.add(F);return d.makeHandle(()=>E.delete(F))};a.dispatch=c;a.isValueInUse=function(F){return q.someSet(B,L=>L.oldValue===F)};a.removeTarget=function(F){for(const L of B.values())L.target===
F&&(L.removed=!0)};a.watch=function(F,L,D,M=!1){return!F.__accessor__||F.__accessor__.destroyed?d.makeHandle():M?v(F,L,D):t(F,L,D)};a.watchTracked=function(F,L,D=!1,M=f.equalsShallow){return D?z(F,L,M):w(F,L,M)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],function(a){function b(e){e.length=0}class d{constructor(e=50,k=50){this._pool=new a(Array,void 0,b,k,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return f.acquire()}static release(e){return f.release(e)}static prune(){f.prune()}}
const f=new d(100);return d})},"esri/core/ReentrantObjectPool":function(){define(["exports","./ObjectPool"],function(a,b){class d extends b{constructor(){super(...arguments);this._set=new Set}destroy(){super.destroy();this._set=null}acquire(...f){f=super.acquire(...f);this._set.delete(f);return f}release(f){f&&!this._set.has(f)&&(super.release(f),this._set.add(f))}_dispose(f){this._set.delete(f);super._dispose(f)}}a.ReentrantObjectPool=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/scheduling":function(){define("exports ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils ./time".split(" "),function(a,b,d,f,e,k){function q(F){F=new m(F);w.push(F);r.willDispatch||(r.willDispatch=!0,b.nextTick(n));return F}function g(F){F=new u(F);z.push(F);null==x&&(c=performance.now(),x=requestAnimationFrame(p));return new y(F)}function p(){const F=performance.now();x=null;x=0<z.length?requestAnimationFrame(p):null;r.executeFrameTasks(F)}function l(){z.forAll(F=>{F.removed&&
B.push(F)});z.removeUnorderedMany(B.data,B.length);B.clear()}function n(){for(;w.length;){const F=w.shift();F.isActive&&F.callback()}r.willDispatch=!1}class u{constructor(F){this.phases=F;this.paused=!1;this.ticks=-1;this.removed=!1}}class m{constructor(F){this.callback=F;this.isActive=!0}remove(){this.isActive=!1}}let c=0,h=0;const t={time:k.Milliseconds(0),deltaTime:k.Milliseconds(0),elapsedFrameTime:k.Milliseconds(0),frameDuration:k.Milliseconds(0)},v="prepare preRender render postRender update finish".split(" "),
w=[],z=new f;class y{constructor(F){this._task=F}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const r={frameTasks:z,willDispatch:!1,clearFrameTasks:function(F=!1){z.forAll(L=>{L.removed=!0});F&&l()},dispatch:n,executeFrameTasks:function(F){const L=k.Milliseconds(F-c);c=F;var D=0<h?h:1E3/60;const M=Math.max(0,L-D);t.time=F;t.frameDuration=k.Milliseconds(D-M);for(let K=0;K<v.length;K++){D=performance.now();const I=v[K];z.forAll(P=>{P.paused||P.removed||
(0===K&&P.ticks++,P.phases[I]&&(t.elapsedFrameTime=k.Milliseconds(performance.now()-F),t.deltaTime=0===P.ticks?k.Milliseconds(0):L,P.phases[I]?.call(P,t)))});A[K].record(performance.now()-D)}l();E.record(performance.now()-F)}};let x=null;const B=new f,A=v.map(F=>new d(F)),E=new d("total");a.FrameTaskHandle=y;a.addFrameTask=g;a.debug=r;a.performanceInfo=A;a.performanceTotal=E;a.schedule=q;a.setFrameDuration=function(F){h=Math.max(0,F)};a.waitAnimationFrame=function(){const F=e.createResolver(),L=g({postRender:()=>
{L.remove();q(F)}});return F.promise};a.waitTicks=function(F=1,L){const D=e.createResolver(),M=()=>{e.isAborted(L)?D.reject(e.createAbortError()):0===F?D():(--F,b.nextTick(()=>M()))};M();return D.promise};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/nextTick":function(){define(["exports"],function(a){const b=[];a.nextTick=function(d){b.push(d);1===b.length&&queueMicrotask(()=>{const f=b.slice();b.length=0;for(const e of f)e()})};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/PerformanceSampler":function(){define(function(){class a{constructor(b,d=30){this.name=b;this._counter=0;this._samples=Array(d)}record(b){null!=b&&(this._samples[++this._counter%this._samples.length]=b)}get median(){return this._samples.slice().sort((b,d)=>b-d)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((b,d)=>b+d,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}return a})},"esri/core/PooledArray":function(){define(["./arrayUtils",
"./HeapSort"],function(a,b){function d(e){e.data.length>1.5*e.length&&(e.data.length=Math.floor(1.1*e.length))}class f{constructor(e){this.data=[];this._length=0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=new a.PositionHint;e&&(e.initialSize&&(this.data=Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),void 0!==e.deallocator&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>d(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const k=
[];for(let q=0;q<this._length;q++){const g=this.data[q];e(g)&&k.push(g)}return k}at(e){e=Math.trunc(e)||0;0>e&&(e+=this._length);if(!(0>e||e>=this._length))return this.data[e]}includes(e,k){e=this.data.indexOf(e,k);return-1!==e&&e<this.length}get length(){return this._length}set length(e){if(e>this._length)if(this._allocator)for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=e;else{if(this._deallocator)for(let k=e;k<this._length;++k)this.data[k]=
this._deallocator(this.data[k]);this._length=e;this._shrink()}}clear(){this.length=0}prune(){this.clear();this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,k=e.length){for(let q=0;q<k;q++)this.data[this._length++]=e[q]}fill(e,k){for(let q=0;q<k;q++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];++this._length;return e}unshift(e){this.data.unshift(e);this._length++;d(this)}pop(){if(0!==
this.length){var e=this.data[this.length-1];--this.length;this._shrink();return e}}remove(e){const k=a.indexOf(this.data,e,this.length,this._hint);if(-1!==k)return this.data.splice(k,1),--this.length,e}removeUnordered(e){return this.removeUnorderedIndex(a.indexOf(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||0>e))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,k=e.length,q){this.length=a.removeUnorderedMany(this.data,e,this.length,k,this._hint,
q);this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(e,k){if(!(e>=this.length||k>=this.length||e===k)){var q=this.data[e];this.data[e]=this.data[k];this.data[k]=q}}sort(e){b.sort(this.data,0,this.length,e)}iterableSort(e){return b.iterableSort(this.data,0,this.length,e)}some(e,k){for(let q=0;q<this.length;++q)if(e.call(k,this.data[q],q,this.data))return!0;return!1}find(e,k){for(let q=0;q<this.length;++q){const g=this.data[q];
if(e.call(k,g,q))return g}}filterInPlace(e,k){let q=0;for(let g=0;g<this._length;++g){const p=this.data[g];e.call(k,p,g,this.data)&&(this.data[g]=this.data[q],this.data[q]=p,q++)}if(this._deallocator)for(e=q;e<this._length;e++)this.data[e]=this._deallocator(this.data[e]);this._length=q;this._shrink();return this}forAll(e,k){const q=this.length,g=this.data;for(let p=0;p<q;++p)e.call(k,g[p],p,g)}forEach(e,k){for(let q=0;q<this.length;++q)e.call(k,this.data[q],q,this.data)}map(e,k){const q=Array(this.length);
for(let g=0;g<this.length;++g)q[g]=e.call(k,this.data[g],g,this.data);return q}reduce(e,k){for(let q=0;q<this.length;++q)k=e(k,this.data[q],q,this.data);return k}has(e){const k=this.length,q=this.data;for(let g=0;g<k;++g)if(q[g]===e)return!0;return!1}}return f})},"esri/core/HeapSort":function(){define(function(){var a;(function(b){const d=(e,k,q,g)=>{let p=k;const l=q>>>1,n=e[p-1];for(;k<=l;){k=p<<1;k<q&&0>g(e[k-1],e[k])&&++k;const u=e[k-1];if(0>=g(u,n))break;e[p-1]=u;p=k}e[p-1]=n},f=(e,k)=>e<k?-1:
e>k?1:0;b.sort=function(e,k,q,g){void 0===k&&(k=0);void 0===q&&(q=e.length);void 0===g&&(g=f);for(var p=q>>>1;p>k;p--)d(e,p,q,g);p=k+1;for(--q;q>k;q--){const l=e[k];e[k]=e[q];e[q]=l;d(e,p,q,g)}};b.iterableSort=function*(e,k,q,g){void 0===k&&(k=0);void 0===q&&(q=e.length);void 0===g&&(g=f);for(var p=q>>>1;p>k;p--)d(e,p,q,g),yield;p=k+1;for(--q;q>k;q--){const l=e[k];e[k]=e[q];e[q]=l;d(e,p,q,g);yield}}})(a||(a={}));return a})},"esri/core/promiseUtils":function(){define("exports ./clock ./Error ./events ./Logger ./maybe".split(" "),
function(a,b,d,f,e,k){function q(w="Aborted"){return new d("AbortError",w)}function g(w,z="Aborted"){if(l(w))throw q(z);}function p(w){return null!=w?"aborted"in w?w:w.signal:w}function l(w){w=p(w);return null!=w&&w.aborted}function n(w,z){w=p(w);if(null!=w)if(w.aborted)z();else return f.once(w,"abort",()=>z())}function u(w){return"AbortError"===w?.name}async function m(w){if(w){if("function"!==typeof w.forEach){const z=Object.keys(w),y=z.map(B=>w[B]),r=await m(y),x={};z.map((B,A)=>x[B]=r[A]);return x}return Promise.allSettled(w).then(z=>
Array.from(w,(y,r)=>{r=z[r];return"fulfilled"===r.status?{promise:y,value:r.value}:{promise:y,error:r.reason}}))}}function c(w,z,y){const r=new AbortController;n(y,()=>r.abort());return new Promise((x,B)=>{let A=setTimeout(()=>{A=0;x(z)},w);n(r,()=>{A&&(clearTimeout(A),B(q()))})})}function h(w){return w&&"function"===typeof w.then}function t(w){return h(w)?w:Promise.resolve(w)}function v(){let w,z;const y=new Promise((x,B)=>{w=x;z=B}),r=x=>{w(x)};r.resolve=x=>w(x);r.reject=x=>z(x);r.timeout=(x,B)=>
b.clock.setTimeout(()=>r.reject(B),x);r.promise=y;return r}a.after=c;a.allSettledErrors=async function(w){return(await Promise.allSettled(w)).filter(z=>"rejected"===z.status).map(z=>z.reason)};a.allSettledValues=async function(w){return(await Promise.allSettled(w)).filter(z=>"fulfilled"===z.status).map(z=>z.value)};a.always=function(w,z){return w.then(z,z)};a.createAbortError=q;a.createResolver=v;a.debounce=function(w,z=-1){let y,r,x,B,A=null;const E=(...F)=>{if(y){r=F;B&&B.reject(q());B=v();F=B.promise;
if(A){var L=A;A=null;L.abort()}return F}x=B||v();B=null;if(0<z){const M=new AbortController,K=y=t(w(...F,M.signal));c(z).then(()=>{y===K&&(B?M.abort():A=M)})}else y=1,y=t(w(...F));F=()=>{const M=r;r=x=y=A=null;null!=M&&E(...M)};L=y;const D=x;L.then(F,F);L.then(D.resolve,D.reject);return D.promise};return E};a.eachAlways=m;a.eachAlwaysValues=async function(w){return(await m(w)).filter(z=>!!z.value).map(z=>z.value)};a.filter=async function(w,z){const y=w.slice(),r=await Promise.all(w.map((x,B)=>z(x,
B)));return y.filter((x,B)=>r[B])};a.ignoreAbortErrors=async function(w){try{return await w}catch(z){if(!u(z))throw z;}};a.isAbortError=u;a.isAborted=l;a.isPromiseLike=h;a.logOnError=async function(w,z=e.getLogger("esri")){try{return await w}catch(y){u(y)||z.error(y)}};a.onAbort=n;a.onAbortOrThrow=function(w,z){w=p(w);if(null!=w)return g(w),f.once(w,"abort",()=>z(q()))};a.settleWithPromise=function(w,z){z.then(w.resolve,w.reject)};a.throwIfAbortError=function(w){if(u(w))throw w;};a.throwIfAborted=
g;a.throwIfNotAbortError=function(w){if(!u(w))throw w;};a.timeout=function(w,z,y,r){const x=y&&"abort"in y?y:null;null!=r||x||(r=y);let B=setTimeout(()=>{B=0;x?.abort()},z);const A=()=>r||new d("promiseUtils:timeout","The wrapped promise did not resolve within "+z+" ms");return w.then(E=>{if(0===B)throw A();clearTimeout(B);return E},E=>{clearTimeout(B);throw 0===B?A():E;})};a.waitTick=async function(w){await Promise.resolve();g(w)};a.when=t;a.whenOrAbort=function(w,z){return null==p(z)?w:new Promise((y,
r)=>{let x=n(z,()=>r(q()));const B=()=>{x=k.removeMaybe(x)};w.then(B,B);w.then(y,r)})};a.whenOrTimeout=function(w,z,y){return Promise.race([w,c(z).then(()=>{throw new d("timeout",`Did not resolve within ${z} milliseconds (${y??"timeout"})`);})])};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/clock":function(){define(["exports","./handleUtils"],function(a,b){function d(e){return{setTimeout:(k,q)=>{const g=e.setTimeout(k,q);return b.makeHandle(()=>e.clearTimeout(g))}}}const f=
d(globalThis);a.clock=f;a.wrap=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/events":function(){define(["exports","./handleUtils"],function(a,b){function d(k){return k&&("function"===typeof k.on||"function"===typeof k.addEventListener)}function f(k,q,g){if(!d(k))throw new TypeError("target is not a Evented or EventTarget object");if("on"in k)return k.on(q,g);if(Array.isArray(q)){const p=q.slice();for(const l of p)k.addEventListener(l,g);return b.makeHandle(()=>{for(const l of p)k.removeEventListener(l,
g)})}k.addEventListener(q,g);return b.makeHandle(()=>k.removeEventListener(q,g))}const e={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function({key:k}){return e[k]||k};a.ieKeyNormalizationMap=e;a.isEventTarget=d;a.on=f;a.once=function(k,q,g){if(!d(k))throw new TypeError("target is not a Evented or EventTarget object");if("once"in
k)return k.once(q,g);const p=f(k,q,l=>{p.remove();g.call(k,l)});return p};a.pausable=function(k,q,g){let p=!1;const l=f(k,q,n=>{p||g.call(k,n)});return{resume(){p=!1},pause(){p=!0},remove(){l.remove()}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/time":function(){define(["exports"],function(a){a.Milliseconds=function(b){return b};a.Seconds=function(b){return b};a.millisecondsFromSeconds=function(b){return 1E3*b};a.now=function(){return performance.now()};a.secondsFromMilliseconds=
function(b){return.001*b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/SetUtils":function(){define(["exports"],function(a){function b(k,q){if(!q)return k;for(const g of q)k.add(g);return k}function d(k,q){const g=new Set;b(g,k);b(g,q);return g}function f(k,q){const g=new Set;for(const p of q)k.has(p)&&g.add(p);return g}function e(k,q){k=new Set(k);for(const g of q)k.delete(g);return k}a.addMany=b;a.difference=e;a.equals=function(k,q){if(null==k&&null==q)return!0;if(null==
k||null==q||k.size!==q.size)return!1;for(const g of k)if(!q.has(g))return!1;return!0};a.intersection=f;a.isSubsetOf=function(k,q){if(!k||!q)return!1;if(k===q)return!0;for(const g of k)if(!q.has(g))return!1;return!0};a.last=function(k){let q;for(q of k);return q};a.someSet=function(k,q){for(const g of k.entries())if(q(g[0]))return!0;return!1};a.symmetricDifference=function(k,q){return e(d(k,q),f(k,q))};a.union=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/uid":function(){define(["exports"],
function(a){let b=0;a.NullUID=0;a.generateUID=function(){return++b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports","../handleUtils","./tracking","./tracking/SimpleTrackingTarget"],function(a,b,d,f){let e=!1;const k=[];a.autorun=function(q){function g(){if(p&&!l)if(e)k.includes(g)||k.unshift(g);else for(p.clear(),l=e=!0,d.runTracked(p,q),e=l=!1;k.length;)k.pop()()}let p=new f.SimpleTrackingTarget(g),l=!1;l=!0;d.runTracked(p,
q);l=!1;return b.makeHandle(function(){p&&(p.destroy(),p=null)})};a.reaction=function(q,g){function p(){if(l&&!u)if(e)k.includes(p)||k.unshift(p);else{var m=n;l.clear();u=e=!0;n=d.runTracked(l,q);e=u=!1;for(g(n,m);k.length;)k.pop()()}}let l=new f.SimpleTrackingTarget(p),n=null,u=!1;u=!0;n=d.runTracked(l,q);u=!1;return b.makeHandle(function(){l&&(l.destroy(),n=l=null)})};a.reactionDeferred=function(q,g){function p(){if(!l)return null;l.clear();return n=d.runTracked(l,q)}let l=new f.SimpleTrackingTarget(function(){g(n,
p)}),n=null;p();return b.makeHandle(function(){l&&(l.destroy(),l=null);n=null})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports"],function(a){function b(){}class d{constructor(k){this._accessed=[];this._handles=[];this._observerObject=new f(k);e.register(this,new WeakRef(this._observerObject),this)}destroy(){e.unregister(this._observerObject);this._accessed.length=0;this._observerObject?.destroy();
this.clear()}onObservableAccessed(k){const q=this._accessed;q.includes(k)||q.push(k)}onTrackingEnd(){const k=this._handles,q=this._accessed,g=this._observerObject;for(let p=0;p<q.length;++p)k.push(q[p].observe(g));q.length=0}clear(){const k=this._handles;for(let q=0;q<k.length;++q)k[q].remove();k.length=0}}class f{constructor(k){this._notify=k;this._invalidCount=0;this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(!this.destroyed){var k=this._invalidCount;1===k?(this._invalidCount=
0,this._notify()):this._invalidCount=0<k?k-1:0}}destroy(){this.destroyed=!0;this._notify=b}}const e=new FinalizationRegistry(k=>{k.deref()?.destroy()});a.SimpleTrackingTarget=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,b,d,f,e,k){function q(p){let l=0;var n=p;if(d.isLongFormType(p))return d.ensureLongFormType(p);for(;Array.isArray(n)&&
1===n.length&&"string"!==typeof n[0]&&"number"!==typeof n[0];)n=n[0],l++;return d.isOneOf(n)?0===l?d.ensureOneOf(n):d.ensureNArrayTyped(d.ensureOneOf(n),l):1===l?d.ensureArray(n):1<l?d.ensureNArray(n,l):p.from?p.from:d.ensureType(p)}function g(p,l){return n=>{n=+p(n);null!=l.step&&(n=Math.round(n/l.step)*l.step);null!=l.min&&(n=Math.max(l.min,n));null!=l.max&&(n=Math.min(l.max,n));return n}}a.ensureRange=g;a.property=function(p={}){return(l,n)=>{if(l===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${l.name}.${n}. Accessor does not support static properties.`);
var u=Object.getOwnPropertyDescriptor(l,n);const m=e.getPropertyMetadata(l,n);u&&(u.get||u.set?(m.get=u.get||m.get,m.set=u.set||m.set):"value"in u&&("value"in p&&b.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${n}" on "${l.constructor.name}" already defined in the metadata`,p),m.value=p.value=u.value));null!=p.readOnly&&(m.readOnly=p.readOnly);if(l=p.aliasOf){const c="string"===typeof l?l:l.source;l="string"===typeof l?null:!0===l.overridable;
let h;m.dependsOn=[c];m.get=function(){let t=f.get(this,c);if("function"===typeof t){h||(h=c.split(".").slice(0,-1).join("."));const v=f.get(this,h);v&&(t=t.bind(v))}return t};m.readOnly||(m.set=l?function(t){this._override(n,t)}:function(t){k.set(this,c,t)})}l=p.type;u=p.types;m.cast||(l?m.cast=q(l):u&&(Array.isArray(u)?m.cast=d.ensureArrayTyped(d.ensureOneOfType(u[0])):m.cast=d.ensureOneOfType(u)));e.mergeProperty(m,p);p.range&&(m.cast=g(m.cast,p.range))}};a.propertyJSONMeta=function(p,l,n){p=e.getPropertyMetadata(p,
n);p.json||(p.json={});p=p.json;void 0!==l&&(p.origins||(p.origins={}),p.origins[l]||(p.origins[l]={}),p=p.origins[l]);return p};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger","../MapUtils"],function(a,b,d,f){function e(I){return null==I?I:new Date(I)}function k(I){return null==I?I:!!I}function q(I){return null==I?I:I.toString()}function g(I){if(null==I)return I;I=parseFloat(I);return isNaN(I)?
0:I}function p(I){return null==I?I:Math.round(parseFloat(I))}function l(I){return I?.constructor&&void 0!==I.constructor.__accessorMetadata__}function n(I,P){return null!=P&&I&&!(P instanceof I)}function u(I){return I?.Type?"function"===typeof I.Type?I.Type:I.Type.base:null}function m(I,P){var T;(T=!P?.constructor)||(T=P.constructor,T=!(T&&"isCollection"in T));if(T)return c(I,P)?P:new I(P);T=u(I.prototype.itemType);const Z=u(P.constructor.prototype.itemType);if(!T)return P;if(!Z)return new I(P);if(T===
Z)return P;if(T.prototype.isPrototypeOf(Z.prototype))return new I(P);c(I,P);return P}function c(I,P){return l(P)?(D.error("Accessor#set","Assigning an instance of '"+(P.declaredClass||"unknown")+"' which is not a subclass of '"+t(I)+"'"),!0):!1}function h(I,P){return null==P?P:I&&"isCollection"in I?m(I,P):n(I,P)?c(I,P)?P:new I(P):P}function t(I){return I?.prototype?.declaredClass||"unknown"}function v(I){switch(I){case Number:return g;case K:return p;case Boolean:return k;case String:return q;case Date:return e;
default:return f.getOrCreateMapValue(M,I,()=>h.bind(null,I))}}function w(I,P){const T=v(I);return 1===arguments.length?T:T(P)}function z(I,P,T){return 1===arguments.length?z.bind(null,I):P?Array.isArray(P)?P.map(Z=>I(Z,T)):[I(P,T)]:P}function y(I,P,T){return 0!==P&&Array.isArray(T)?T.map(Z=>y(I,P-1,Z)):I(T)}function r(I,P,T){if(2===arguments.length)return Q=>r(I,P,Q);if(!T)return T;T=y(I,P,T);let Z=P;for(var J=T;0<Z&&Array.isArray(J);)Z--,J=J[0];if(void 0!==J)for(J=0;J<Z;J++)T=[T];return T}function x(I,
P){if(2===arguments.length)return x(I).call(null,P);const T=new Set,Z=I.filter(V=>"function"!==typeof V),J=I.filter(V=>"function"===typeof V);for(const V of I)"string"!==typeof V&&"number"!==typeof V||T.add(V);let Q=null,N=null;return(V,U)=>{if(null==V)return V;const sa=typeof V,za="string"===sa||"number"===sa;if(za&&(T.has(V)||J.some(Fa=>"string"===sa&&Fa===String||"number"===sa&&Fa===Number))||"object"===sa&&J.some(Fa=>!n(V,Fa)))return V;za&&Z.length?(Q||(Q=Z.map(Fa=>"string"===typeof Fa?`'${Fa}'`:
`${Fa}`).join(", ")),D.error("Accessor#set",`'${V}' is not a valid value for this property, only the following values are valid: ${Q}`)):"object"===typeof V&&J.length?(N||(N=J.map(Fa=>t(Fa)).join(", ")),D.error("Accessor#set",`'${V}' is not a valid value for this property, value must be one of ${N}`)):D.error("Accessor#set",`'${V}' is not a valid value for this property`);U&&(U.valid=!1);return null}}function B(I,P){if(2===arguments.length)return B(I).call(null,P);const T={},Z=[],J=[];for(const N in I.typeMap){const V=
I.typeMap[N];T[N]=w(V);Z.push(t(V));J.push(N)}const Q="string"===typeof I.key?N=>N[I.key]:I.key;return N=>{if(I.base&&!n(I.base,N)||null==N)return N;var V=Q(N)||I.defaultKeyValue;const U=T[V];if(!U)return D.error("Accessor#set",`Invalid property value, value needs to be one of ${`'${Z.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${J.join("', '")}'`})`),null;if(!n(I.typeMap[V],N))return N;if("string"===typeof I.key&&!l(N)){V={};for(const sa in N)sa!==I.key&&(V[sa]=N[sa]);
return U(V)}return U(N)}}function A(I){switch(I.type){case "native":return w(I.value);case "array":return z(A(I.value));case "one-of":return E(I);default:return null}}function E(I){let P=null;return(T,Z)=>{if(L(T,I))return T;null==P&&(P=F(I));D.error("Accessor#set",`Invalid property value, value needs to be of type ${P}`);Z&&(Z.valid=!1);return null}}function F(I){switch(I.type){case "native":switch(I.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case K:return"integer";
case Date:return"date";default:return t(I.value)}case "array":return`array of ${F(I.value)}`;case "one-of":return I=I.values.map(P=>F(P)),`one of ${I.slice(0,-1)} or ${I[I.length-1]}`}return"unknown"}function L(I,P){if(null==I)return!0;switch(P.type){case "native":switch(P.value){case Number:case K:return"number"===typeof I;case Boolean:return"boolean"===typeof I;case String:return"string"===typeof I}return I instanceof P.value;case "array":return Array.isArray(I)?!I.some(T=>!L(T,P.value)):!1;case "one-of":return P.values.some(T=>
L(I,T))}}const D=d.getLogger("esri.core.accessorSupport.ensureTypes"),M=new WeakMap;class K{}a.Integer=K;a.ensureArray=function(I,P){return 1===arguments.length?z(T=>w(I,T)):z(T=>w(I,T),P)};a.ensureArrayTyped=z;a.ensureBoolean=k;a.ensureClass=h;a.ensureDate=e;a.ensureInteger=p;a.ensureLongFormType=A;a.ensureNArray=function(I,P,T){return 2===arguments.length?r(Z=>w(I,Z),P):r(Z=>w(I,Z),P,T)};a.ensureNArrayTyped=r;a.ensureNumber=g;a.ensureOneOf=x;a.ensureOneOfType=B;a.ensureString=q;a.ensureType=w;a.isClassedType=
l;a.isLongFormType=function(I){if(!(I&&"type"in I))return!1;switch(I.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(I){return Array.isArray(I)?!I.some(P=>{P=typeof P;return!("string"===P||"number"===P||"function"===P&&1<I.length)}):!1};a.requiresType=n;a.types={native(I){return{type:"native",value:I}},array(I){return{type:"array",value:I}},oneOf(I){return{type:"one-of",values:I}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MapUtils":function(){define(["exports"],
function(a){a.findInMap=function(b,d){for(const [f,e]of b)if(d(e,f))return e;return null};a.first=function(b){b=b.values().next();return!0!==b.done?b.value:null};a.getOrCreateMapValue=function(b,d,f){const e=b.get(d);if(void 0!==e)return e;f=f();b.set(d,f);return f};a.someMap=function(b,d){for(const [f,e]of b)if(d(e,f))return!0;return!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/subclass":function(){define("exports ../../has ../beforeDestroy ../interfaces ../metadata ../tracking ../extensions/serializableProperty".split(" "),
function(a,b,d,f,e,k,q){function g(u,m){return null==m.get?function(){var c=this.__accessor__;const h=c.propertiesByName.get(u);if(void 0!==h)return k.trackAccess(h),c=c.store,c.has(u)?c.get(u):h.metadata.value}:function(){const c=this.__accessor__,h=c.propertiesByName.get(u);if(void 0!==h)return h.getComputed(c)}}function p(u){const m=e.getPropertiesMetadata(u.prototype),c={};for(const h of Object.getOwnPropertyNames(m)){const t=m[h];q.processPrototypePropertyMetadata(t);c[h]={enumerable:!0,configurable:!0,
get:g(h,t),set(v){const w=this.__accessor__;if(void 0===w)Object.defineProperty(this,h,{enumerable:!0,configurable:!0,writable:!0,value:v});else if(!Object.isFrozen(this)){if(w.initialized&&t.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${h}' of ${this.declaredClass}`);if(w.lifecycle===f.Lifecycle.CONSTRUCTED&&t.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${h}' of ${this.declaredClass}`);w.set(h,v)}}}}Object.defineProperties(u.prototype,
c)}const l=new Set,n=new Set;a.finalizeClass=p;a.subclass=function(u){return m=>{u??(u="esri.core.Accessor");m.prototype.declaredClass=u;p(m);const c=[],h=[];let t=m.prototype;for(;t;)t.hasOwnProperty("initialize")&&!l.has(t.initialize)&&(l.add(t.initialize),c.push(t.initialize)),t.hasOwnProperty("destroy")&&!n.has(t.destroy)&&(n.add(t.destroy),h.push(t.destroy)),t=Object.getPrototypeOf(t);l.clear();n.clear();const v=class extends m{constructor(...w){super(...w);if(this.constructor===v&&"function"===
typeof this.postscript){c.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let z=c.length-1;0<=z;z--)c[z].call(this)}});if(h.length){let z=!1;const y=this[d.beforeDestroySymbol];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!z){z=!0;y.call(this);for(let r=0;r<h.length;r++)h[r].call(this)}}})}this.postscript(...w)}}};v.__accessorMetadata__=e.getPropertiesMetadata(m.prototype);v.prototype.declaredClass=u;m=(u||"AccessorSubclass").split(".").slice(-1)[0];
Object.defineProperty(v,"name",{value:m,configurable:!0});return v}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(a,b,d,f,e,k){function q(l,n,u){l=l?.json;l?.origins&&u&&(u="link-chart"===u?l.origins[u]&&("any"===n||n in l.origins[u])?
l.origins[u]:l.origins["web-map"]:l.origins[u])&&("any"===n||n in u)&&(l=u);return l}function g(l){if(l.type){var n=0;for(l=l.type;Array.isArray(l)&&!b.isOneOf(l);)l=l[0],n++;return{type:l,ndimArray:n}}}function p(l){if(l.types){var n=0;for(l=l.types;Array.isArray(l);)l=l[0],n++;return{types:l,ndimArray:n}}}a.originSpecificPropertyDefinition=function(l,n){return q(l,"any",n?.origin)};a.originSpecificReadPropertyDefinition=function(l,n){return q(l,"read",n?.origin)};a.originSpecificWritePropertyDefinition=
function(l,n){return q(l,"write",n?.origin)};a.processPrototypePropertyMetadata=function(l){if(e.process(l)){d.process(l);var n=l.json.types?p(l.json):l.type?g(l):p(l);if(l.json.origins)for(const m in l.json.origins){const c=l.json.origins[m];if(c.types){var u=c;u=u.type?g(u):p(u)}else u=n;f.create(u,c,!1);c.types&&!c.write&&l.json.write&&l.json.write.enabled&&(c.write={...l.json.write});k.create(u,c)}f.create(n,l.json,!0);k.create(n,l.json)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],function(a){a.process=function(b){if(b.json&&b.json.origins){const d=b.json.origins;b={"web-document":["web-scene","web-map"]};for(const f in b)if(d[f]){const e=d[f];b[f].forEach(k=>{d[k]=e});delete d[f]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),
function(a,b,d,f,e,k){function q(w){var z=w.ndimArray??0;if(1<z)return n(w);if(1===z)return u(w);if("type"in w&&m(w.type)){z=w.type.prototype?.itemType?.Type;const y=u("function"===typeof z?{type:z}:{types:z});return(r,x,B)=>(r=y(r,x,B))?new w.type(r):r}return g(w)}function g(w){return"type"in w?p(w.type):t(w.types)}function p(w){return w.prototype.read?(z,y,r)=>{if(null==z)return z;y=typeof z;if("object"!==y)v.error(`Expected JSON value of type 'object' to deserialize type '${w.prototype.declaredClass}', but got '${y}'`);
else return y=new w,y.read(z,r),y}:w.fromJSON}function l(w,z,y,r){return 0!==r&&Array.isArray(z)?z.map(x=>l(w,x,y,r-1)):w(z,void 0,y)}function n(w){const z=g(w),y=l.bind(null,z),r=w.ndimArray??0;return(x,B,A)=>{if(null==x)return x;x=y(x,A,r);B=r;for(A=x;0<B&&Array.isArray(A);)B--,A=A[0];if(void 0!==A)for(A=0;A<B;A++)x=[x];return x}}function u(w){const z=g(w);return(y,r,x)=>{if(null==y)return y;if(Array.isArray(y)){r=[];for(const B of y)y=z(B,void 0,x),void 0!==y&&r.push(y);return r}x=z(y,void 0,x);
return void 0!==x?[x]:void 0}}function m(w){return k.isCollection(w)?(w=w.prototype.itemType)&&w.Type?"function"===typeof w.Type?c(w.Type):h(w.Type):!1:!1}function c(w){return Array.isArray(w)?!1:!!w&&w.prototype&&("read"in w.prototype||"fromJSON"in w||m(w))}function h(w){for(const z in w.typeMap)if(!c(w.typeMap[z]))return!1;return!0}function t(w){let z=null;const y=w.errorContext??"type",r=w.validate;return(x,B,A)=>{if(null==x)return x;B=typeof x;if("object"!==B)v.error(`Expected JSON value of type 'object' to deserialize, but got '${B}'`);
else{if(!z){B={};for(var E in w.typeMap){const D=w.typeMap[E];var F=e.getPropertiesMetadata(D.prototype);if("function"===typeof w.key)continue;F=F[w.key];if(!F)continue;F.json?.type&&Array.isArray(F.json.type)&&1===F.json.type.length&&"string"===typeof F.json.type[0]&&(B[F.json.type[0]]=D);F=F.json?.write;if(!F?.writer){B[E]=D;continue}var L=F.target;L="string"===typeof L?L:w.key;const M={};F.writer(E,M,L);M[L]&&(B[M[L]]=D)}z=B}E=w.key;if("string"===typeof E){if(B=(E=x[E])?z[E]:w.defaultKeyValue?
w.typeMap[w.defaultKeyValue]:void 0)return E=new B,E.read(x,A),r?r(E):E;E=`Type '${E||"unknown"}' is not supported`;A?.messages&&x&&A.messages.push(new f(`${y}:unsupported`,E,{definition:x,context:A}));v.error(E)}}}}const v=b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(w,z,y){w&&(y||z.read)&&!z.read?.reader&&!1!==z.read?.enabled&&(y="types"in w?h(w.types):c(w.type),y&&d.setDeepValue("read.reader",q(w),z))};a.createTypeReader=q;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/Warning":function(){define(["./Message"],function(a){class b extends a{constructor(d,f,e){super(d,f,e)}}b.prototype.type="warning";return b})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(a){a.isCollection=function(b){return!!b&&b.prototype?.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],
function(a){function b(e){e.name&&(e.read?"object"===typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name}:e.read={source:e.name},e.write?"object"===typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name}:e.write={target:e.name})}function d(e){"boolean"===typeof e.read?e.read={enabled:e.read}:"function"===typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"===typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function f(e){"boolean"===
typeof e.write?e.write={enabled:e.write}:"function"===typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"===typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}a.process=function(e){e.json||(e.json={});d(e.json);f(e.json);b(e.json);if(e.json.origins)for(const k in e.json.origins)d(e.json.origins[k]),f(e.json.origins[k]),b(e.json.origins[k]);return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports",
"../../../Error","../../../Logger","../../../object","./type"],function(a,b,d,f,e){function k(h){return(t,v,w,z)=>{if(!t||q(t,h,z))return p(t,v,w,z)}}function q(h,t,v){for(var w in t.typeMap)if(h instanceof t.typeMap[w])return!0;v?.messages&&(w=t.errorContext??"type",t=`Values of type '${("function"!==typeof t.key?h[t.key]:h.declaredClass)??"Unknown"}' cannot be written`,v&&v.messages&&h&&v.messages.push(new b(`${w}:unsupported`,t,{definition:h,context:v})),d.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(t));
return!1}function g(h){return(t,v,w,z)=>{if(!t||!Array.isArray(t))return p(t,v,w,z);t=t.filter(y=>q(y,h,z));return p(t,v,w,z)}}function p(h,t,v,w){f.setDeepValue(v,l(h,w),t)}function l(h,t){return h&&"function"===typeof h.write?h.write({},t):h&&"function"===typeof h.toJSON?h.toJSON():"number"===typeof h?n(h):h}function n(h){return-Infinity===h?-Number.MAX_VALUE:Infinity===h?Number.MAX_VALUE:isNaN(h)?null:h}function u(h,t,v,w){null===h?h=null:h&&"function"===typeof h.map?(h=h.map(z=>l(z,w)),"function"===
typeof h.toArray&&(h=h.toArray())):h=[l(h,w)];f.setDeepValue(v,h,t)}function m(h,t,v){return 0!==v&&Array.isArray(h)?h.map(w=>m(w,t,v-1)):l(h,t)}function c(h){return(t,v,w,z)=>{if(null===t)t=null;else{t=m(t,z,h);z=h;for(var y=t;0<z&&Array.isArray(y);)z--,y=y[0];if(void 0!==y)for(y=0;y<z;y++)t=[t]}f.setDeepValue(w,t,v)}}a.create=function(h,t){if(t.write&&!t.write.writer&&(!1!==t.write.enabled||t.write.overridePolicy)){var v=h?.ndimArray??0;h&&(1===v||"type"in h&&e.isCollection(h.type))?t.write.writer=
u:1<v?t.write.writer=c(v):t.types?Array.isArray(t.types)?t.write.writer=g(t.types[0]):t.write.writer=k(t.types):t.write.writer=p}};a.numberToJSON=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/DefaultsStore":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,d){class f{constructor(){this._values=new Map;this.multipleOriginsSupported=!1}clone(k){const q=new f;this._values.forEach((g,p)=>{k&&k.has(p)||q.set(p,b.clone(g.value),g.origin)});
return q}get(k,q){q=this._normalizeOrigin(q);k=this._values.get(k);return null==q||k?.origin===q?k?.value:void 0}originOf(k){return this._values.get(k)?.origin??d.OriginId.USER}keys(k){k=this._normalizeOrigin(k);const q=[...this._values.keys()];return null==k?q:q.filter(g=>this._values.get(g)?.origin===k)}set(k,q,g){g=this._normalizeOrigin(g);if(g===d.OriginId.DEFAULTS){const p=this._values.get(k);if(null!=p?.origin&&p.origin>g)return}this._values.set(k,new e(q,g))}delete(k,q){q=this._normalizeOrigin(q);
null!=q&&this._values.get(k)?.origin!==q||this._values.delete(k)}has(k,q){q=this._normalizeOrigin(q);return null!=q?this._values.get(k)?.origin===q:this._values.has(k)}forEach(k){this._values.forEach(({value:q},g)=>k(q,g))}_normalizeOrigin(k){if(null!=k)return k===d.OriginId.DEFAULTS?k:d.OriginId.USER}}class e{constructor(k,q){this.value=k;this.origin=q}}a.DefaultsStore=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/defaultsStoreUtils":function(){define(["exports",
"./PropertyOrigin"],function(a,b){a.setupConstructedDefaults=function(d,f,e){f.keys().forEach(k=>{e.set(k,f.get(k),b.OriginId.DEFAULTS)});Object.keys(d.metadatas).forEach(k=>{d.internalGet(k)&&e.set(k,d.internalGet(k),b.OriginId.DEFAULTS)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],function(a,b,d,f){const e={origin:"service"};a.read=function(k,q,g=e){if(q&&"object"===
typeof q){var p=d.getProperties(k),l=p.metadatas,n={};for(const r of Object.getOwnPropertyNames(q)){var u=n,m=l,c=r,h=q,t=g,v=f.originSpecificReadPropertyDefinition(m[c],t);v&&(!v.read||!1!==v.read.enabled&&!v.read.source)&&(u[c]=!0);for(const x of Object.getOwnPropertyNames(m)){v=f.originSpecificReadPropertyDefinition(m[x],t);a:{var w=c;var z=h;if(v?.read&&!1!==v.read.enabled&&v.read.source){v=v.read.source;if("string"===typeof v){if(v===w||v.includes(".")&&0===v.indexOf(w)&&b.exists(v,z)){w=!0;
break a}}else for(const B of v)if(B===w||B.includes(".")&&0===B.indexOf(w)&&b.exists(B,z)){w=!0;break a}w=!1}else w=!1}w&&(u[x]=!0)}}p.setDefaultOrigin(g.origin);for(var y of Object.getOwnPropertyNames(n))u=f.originSpecificReadPropertyDefinition(l[y],g).read,m=(m=u?.source)&&"string"===typeof m?b.valueOf(q,m):q[y],u?.reader&&(m=u.reader.call(k,m,q,g)),void 0!==m&&p.set(y,m);if(!g||!g.ignoreDefaults){p.setDefaultOrigin("defaults");for(const r of Object.getOwnPropertyNames(l))n[r]||(y=k,q=r,l=p,u=g,
m=f.originSpecificPropertyDefinition(l.metadatas[q],u)?.default,void 0!==m&&(y="function"===typeof m?m.call(y,q,u):m,void 0!==y&&l.set(q,y)))}p.setDefaultOrigin("user")}};a.readLoadable=function(k,q,g,p=e){q={...p,messages:[]};g(q);q.messages?.forEach(l=>{"warning"!==l.type||k.loaded?p?.messages&&p.messages.push(l):k.loadWarnings.push(l)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/write":function(){define("exports ../arrayUtils ../Error ../Logger ./get ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),
function(a,b,d,f,e,k,q,g){function p(n,u,m,c,h){const t={};u.write?.writer?.call(n,c,t,m,h);return t}function l(n,u,m,c,h,t){if(!c?.write)return!1;const v=e.get(n,m);if(!h&&c.write.overridePolicy){var w=c.write.overridePolicy.call(n,v,m,t??void 0);void 0!==w&&(h=w)}h||(h=c.write);if(!h||!1===h.enabled||h.layerContainerTypes&&t?.layerContainerType&&!h.layerContainerTypes.includes(t.layerContainerType))return!1;if((null===v&&!h.allowNull&&!h.writerEnsuresNonNull||void 0===v)&&h.isRequired)return(u=
new d("web-document-write:property-required",`Missing value for required property '${m}' on '${n.declaredClass}'`,{propertyName:m,target:n}),t?.messages)?t.messages.push(u):u&&!t&&f.getLogger("esri.core.accessorSupport.write").error(u.name,u.message),!1;if(void 0===v||null===v&&!h.allowNull&&!h.writerEnsuresNonNull)return!1;if(w=!h.alwaysWriteDefaults&&(!u.store.multipleOriginsSupported||u.store.originOf(m)===k.OriginId.DEFAULTS))w=c.default,void 0===w?w=!1:null!=c.defaultEquals?w=c.defaultEquals(v):
"function"===typeof w?Array.isArray(v)?(n=w.call(n,m,t??void 0),w=b.equals(n,v)):w=!1:w=w===v;return w||!h.ignoreOrigin&&t?.origin&&u.store.multipleOriginsSupported&&u.store.originOf(m)<k.nameToId(t.origin)?!1:!0}a.willPropertyWrite=function(n,u,m,c){const h=q.getProperties(n),t=g.originSpecificWritePropertyDefinition(h.metadatas[u],c);return t?l(n,h,u,t,m,c):!1};a.write=function(n,u,m){if(n&&"function"===typeof n.toJSON&&(!n.toJSON.isDefaultToJSON||!n.write))return q.merge(u,n.toJSON(m));const c=
q.getProperties(n),h=c.metadatas;for(const t in h){const v=g.originSpecificWritePropertyDefinition(h[t],m);if(!l(n,c,t,v,void 0,m))continue;const w=e.get(n,t),z=p(n,v,v.write&&"string"===typeof v.write.target?v.write.target:t,w,m);0<Object.keys(z).length&&(u=q.merge(u,z),m?.resources?.pendingOperations?.length&&m.resources.pendingOperations.push(Promise.all(m.resources.pendingOperations).then(()=>q.merge(u,z,()=>"replace-arrays"))),m?.writtenProperties&&m.writtenProperties.push({target:n,propName:t,
oldOrigin:k.idToReadableName(c.store.originOf(t)),newOrigin:m.origin}))}return u};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/urlUtils":function(){define(["exports"],function(a){const b=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,d={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};
a.isSecureProxyService=function(f){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(f)};a.parseKnownArcGISOnlineDomain=function(f){f=f?.match(b);if(!f)return null;const [,e,k,q]=f;if(!e)return null;let g=f=null,p=null;const {devext:l,qaext:n,www:u}=d;if(k)if(f=e,q)switch(q.toLowerCase()){case "devext":({customBaseUrl:g,portalHostname:p}=l);break;case "qa":({customBaseUrl:g,portalHostname:p}=n);break;default:return null}else({customBaseUrl:g,portalHostname:p}=u);else switch(e.toLowerCase()){case "devext":({customBaseUrl:g,
portalHostname:p}=l);break;case "qaext":({customBaseUrl:g,portalHostname:p}=n);break;case "www":({customBaseUrl:g,portalHostname:p}=u);break;default:return null}return{customBaseUrl:g,isPortal:!1,portalHostname:p,urlKey:f}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/base64Utils":function(){define(["exports"],function(a){a.arrayBufferToBase64=function(b){b=new Uint8Array(b);let d="";for(let f=0;f<b.length;f++)d+=String.fromCharCode(b[f]);return btoa(d)};a.base64ToArrayBuffer=
function(b){b=atob(b);const d=new Uint8Array(b.length);for(let f=0;f<b.length;f++)d[f]=b.charCodeAt(f);return d.buffer};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/revision":function(){define(["exports"],function(a){a.buildDate="20231106";a.commitHash="f676d7ac6000f1c109ce177086454493e7e0c134";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/apiKeyUtils":function(){define(["exports","../core/urlUtils"],function(a,b){const d=new Set(["elevation3d.arcgis.com",
"js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);a.isApiKey=function(f){return!!f&&4<f.length&&f.startsWith("AAPK")};a.supportsApiKey=function(f){const e=b.getOrigin(f,!0);return e?e.endsWith(".arcgis.com")&&!d.has(e)&&!f.endsWith("/sharing/rest/generateToken"):!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestUtils":function(){define(["exports","../config","../core/has","../core/promiseUtils","../core/urlUtils"],function(a,b,d,f,e){function k(){try{return new DOMException("Aborted",
"AbortError")}catch{const q=Error();q.name="AbortError";return q}}a.createTimeoutError=function(){return Error("Timeout exceeded")};a.isNoCorsRequestRequired=function(q){const g=b.request.crossOriginNoCorsDomains;return g&&(q=e.getOrigin(q))?(q=q.toLowerCase(),!e.hasSameOrigin(q,e.getAppUrl())&&g[q]<Date.now()-36E5):!1};a.isTimeoutError=function(q){return"object"===typeof q&&!!q&&"message"in q&&"Timeout exceeded"===q.message};a.loadImageAsync=function(q,g,p=!1,l){return new Promise((n,u)=>{if(f.isAborted(l))u(k());
else{var m=()=>{t();u(Error(`Unable to load ${g}`))},c=()=>{const v=q;t();n(v)},h=()=>{if(q){var v=q;t();v.src="";u(k())}},t=()=>{d("esri-image-decode")||(q.removeEventListener("error",m),q.removeEventListener("load",c));q=c=m=null;null!=l&&l.removeEventListener("abort",h);h=null;p&&URL.revokeObjectURL(g)};null!=l&&l.addEventListener("abort",h);d("esri-image-decode")?q.decode().then(c,m):(q.addEventListener("error",m),q.addEventListener("load",c))}})};a.registerNoCorsDomains=function(q){b.request.crossOriginNoCorsDomains||
(b.request.crossOriginNoCorsDomains={});const g=b.request.crossOriginNoCorsDomains;for(let p of q)p=p.toLowerCase(),/^https?:\/\//.test(p)?g[e.getOrigin(p)??""]=0:(g[e.getOrigin("http://"+p)??""]=0,g[e.getOrigin("https://"+p)??""]=0)};a.sendNoCorsRequest=async function(q){var g=b.request.crossOriginNoCorsDomains;const p=e.getOrigin(q);g&&p&&(g[p.toLowerCase()]=Date.now());g=e.urlToObject(q);q=g.path;"json"===g.query?.f&&(q+="?f\x3djson");try{await fetch(q,{mode:"no-cors",credentials:"include"})}catch{}};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Collection":function(){define("../chunks/tslib.es6 ./ArrayPool ./Evented ./handleUtils ./lang ./ObjectPool ./ObservableChangesType ./scheduling ./accessorSupport/ensureType ./accessorSupport/tracking ./accessorSupport/decorators/property ./accessorSupport/decorators/shared ./accessorSupport/decorators/subclass ./accessorSupport/tracking/SimpleObservable".split(" "),function(a,b,d,f,e,k,q,g,p,l,n,u,m,c){function h(D){return D?
D instanceof L?D.toArray():D.length?Array.prototype.slice.apply(D):[]:[]}function t(D){if(D?.length)return D[0]}function v(D,M,K,I){M&&M.forEach((P,T,Z)=>{D.push(P);v(D,K.call(I,P,T,Z),K,I)})}var w;class z{constructor(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(D){this.defaultPrevented=!1;this.item=D}}class y{constructor(D,M,K,I,P){this.target=D;this.added=M;this.removed=K;this.start=I;
this.deleteCount=P}}const r=new k(z,void 0,D=>{D.item=null;D.target=null;D.defaultPrevented=!1;D.cancellable=!1}),x=new Set,B=new Set,A=new Set,E=new Map;let F=0,L=w=class extends d.EventedAccessor{static isCollection(D){return null!=D&&D instanceof w}constructor(D){super(D);this._chgListeners=[];this._timer=this._notifications=null;this._observable=new c.SimpleObservable;this.length=0;this._items=[];Object.defineProperty(this,"uid",{value:F++})}normalizeCtorArgs(D){return D?Array.isArray(D)||D instanceof
w?{items:D}:D:{}}destroy(){this._removeAllRaw()}*[Symbol.iterator](){yield*this.items}get items(){l.trackAccess(this._observable);return this._items}set items(D){this._emitBeforeChanges(q.ObservableChangesType.ADD)||(this._splice(0,this.length,h(D)),this._emitAfterChanges(q.ObservableChangesType.ADD))}hasEventListener(D){return"change"===D?0<this._chgListeners.length:this._emitter.hasEventListener(D)}on(D,M){if("change"===D){const K=this._chgListeners,I={removed:!1,callback:M};K.push(I);this._notifications&&
this._notifications.push({listeners:K.slice(),items:this._items.slice(),changes:[]});return f.makeHandle(()=>{I.removed=!0;K.splice(K.indexOf(I),1)})}return this._emitter.on(D,M)}once(D,M){const K="deref"in M?()=>M.deref():()=>M,I=this.on(D,P=>{K()?.call(null,P);I.remove()});return I}add(D,M){l.trackAccess(this._observable);if(this._emitBeforeChanges(q.ObservableChangesType.ADD))return this;M=this.getNextIndex(M??null);this._splice(M,0,[D]);this._emitAfterChanges(q.ObservableChangesType.ADD);return this}addMany(D,
M=this._items.length){l.trackAccess(this._observable);if(!D?.length||this._emitBeforeChanges(q.ObservableChangesType.ADD))return this;M=this.getNextIndex(M);this._splice(M,0,h(D));this._emitAfterChanges(q.ObservableChangesType.ADD);return this}at(D){l.trackAccess(this._observable);D=Math.trunc(D)||0;0>D&&(D+=this.length);if(!(0>D||D>=this.length))return this._items[D]}removeAll(){l.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(q.ObservableChangesType.REMOVE))return[];const D=
this._removeAllRaw();this._emitAfterChanges(q.ObservableChangesType.REMOVE);return D}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){l.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(e.clone)})}concat(...D){l.trackAccess(this._observable);D=D.map(h);return this._createNewInstance({items:this._items.concat(...D)})}drain(D,M){l.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(q.ObservableChangesType.REMOVE)){var K=
this._splice(0,this.length),I=K.length;for(let P=0;P<I;P++)D.call(M,K[P],P,K);this._emitAfterChanges(q.ObservableChangesType.REMOVE)}}every(D,M){l.trackAccess(this._observable);return this._items.every(D,M)}filter(D,M){l.trackAccess(this._observable);let K;K=2===arguments.length?this._items.filter(D,M):this._items.filter(D);return this._createNewInstance({items:K})}find(D,M){l.trackAccess(this._observable);return this._items.find(D,M)}findIndex(D,M){l.trackAccess(this._observable);return this._items.findIndex(D,
M)}flatten(D,M){l.trackAccess(this._observable);const K=[];v(K,this,D,M);return new w(K)}forEach(D,M){l.trackAccess(this._observable);return this._items.forEach(D,M)}getItemAt(D){l.trackAccess(this._observable);return this._items[D]}getNextIndex(D){l.trackAccess(this._observable);const M=this.length;D=null==D?M:D;0>D?D=0:D>M&&(D=M);return D}includes(D,M=0){l.trackAccess(this._observable);return this._items.includes(D,M)}indexOf(D,M=0){l.trackAccess(this._observable);return this._items.indexOf(D,M)}join(D=
","){l.trackAccess(this._observable);return this._items.join(D)}lastIndexOf(D,M=this.length-1){l.trackAccess(this._observable);return this._items.lastIndexOf(D,M)}map(D,M){l.trackAccess(this._observable);D=this._items.map(D,M);return new w({items:D})}reorder(D,M=this.length-1){l.trackAccess(this._observable);const K=this.indexOf(D);if(-1!==K){0>M?M=0:M>=this.length&&(M=this.length-1);if(K!==M){if(this._emitBeforeChanges(q.ObservableChangesType.MOVE))return D;this._splice(K,1);this._splice(M,0,[D]);
this._emitAfterChanges(q.ObservableChangesType.MOVE)}return D}}pop(){l.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(q.ObservableChangesType.REMOVE)){var D=t(this._splice(this.length-1,1));this._emitAfterChanges(q.ObservableChangesType.REMOVE);return D}}push(...D){l.trackAccess(this._observable);if(this._emitBeforeChanges(q.ObservableChangesType.ADD))return this.length;this._splice(this.length,0,D);this._emitAfterChanges(q.ObservableChangesType.ADD);return this.length}reduce(D,
M){l.trackAccess(this._observable);const K=this._items;return 2===arguments.length?K.reduce(D,M):K.reduce(D)}reduceRight(D,M){l.trackAccess(this._observable);const K=this._items;return 2===arguments.length?K.reduceRight(D,M):K.reduceRight(D)}remove(D){l.trackAccess(this._observable);return this.removeAt(this.indexOf(D))}removeAt(D){l.trackAccess(this._observable);if(!(0>D||D>=this.length||this._emitBeforeChanges(q.ObservableChangesType.REMOVE)))return D=t(this._splice(D,1)),this._emitAfterChanges(q.ObservableChangesType.REMOVE),
D}removeMany(D){l.trackAccess(this._observable);if(!D?.length||this._emitBeforeChanges(q.ObservableChangesType.REMOVE))return[];D=D instanceof w?D.toArray():D;const M=this._items,K=[],I=D.length;for(let J=0;J<I;J++){var P=M.indexOf(D[J]);if(-1<P){var T=J+1,Z=P+1;const Q=Math.min(D.length-T,M.length-Z);let N=0;for(;N<Q&&D[T+N]===M[Z+N];)N++;T=1+N;(P=this._splice(P,T))&&0<P.length&&K.push.apply(K,P);J+=T-1}}this._emitAfterChanges(q.ObservableChangesType.REMOVE);return K}reverse(){l.trackAccess(this._observable);
if(this._emitBeforeChanges(q.ObservableChangesType.MOVE))return this;const D=this._splice(0,this.length);D&&(D.reverse(),this._splice(0,0,D));this._emitAfterChanges(q.ObservableChangesType.MOVE);return this}shift(){l.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(q.ObservableChangesType.REMOVE)){var D=t(this._splice(0,1));this._emitAfterChanges(q.ObservableChangesType.REMOVE);return D}}slice(D=0,M=this.length){l.trackAccess(this._observable);return this._createNewInstance({items:this._items.slice(D,
M)})}some(D,M){l.trackAccess(this._observable);return this._items.some(D,M)}sort(D){l.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(q.ObservableChangesType.MOVE))return this;const M=this._splice(0,this.length);arguments.length?M.sort(D):M.sort();this._splice(0,0,M);this._emitAfterChanges(q.ObservableChangesType.MOVE);return this}splice(D,M,...K){l.trackAccess(this._observable);const I=(M?q.ObservableChangesType.REMOVE:0)|(K.length?q.ObservableChangesType.ADD:0);if(this._emitBeforeChanges(I))return[];
D=this._splice(D,M,K)||[];this._emitAfterChanges(I);return D}toArray(){l.trackAccess(this._observable);return this._items.slice()}toJSON(){l.trackAccess(this._observable);return this.toArray()}toLocaleString(){l.trackAccess(this._observable);return this._items.toLocaleString()}toString(){l.trackAccess(this._observable);return this._items.toString()}unshift(...D){l.trackAccess(this._observable);if(!D.length||this._emitBeforeChanges(q.ObservableChangesType.ADD))return this.length;this._splice(0,0,D);
this._emitAfterChanges(q.ObservableChangesType.ADD);return this.length}_createNewInstance(D){return new this.constructor(D)}_splice(D,M,K){const I=this._items;var P=this.itemType;let T=void 0;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=g.schedule(()=>this._dispatchChange()));0>D&&(D+=this.length);if(M){T=I.splice(D,M);if(this.hasEventListener("before-remove")){var Z=
r.acquire();Z.target=this;Z.cancellable=!0;for(let V=0,U=T.length;V<U;V++){var J=T[V];Z.reset(J);this.emit("before-remove",Z);Z.defaultPrevented&&(T.splice(V,1),I.splice(D,0,J),D+=1,--V,--U)}r.release(Z)}this.length=this._items.length;if(this.hasEventListener("after-remove")){J=r.acquire();J.target=this;J.cancellable=!1;Z=T.length;for(let V=0;V<Z;V++)J.reset(T[V]),this.emit("after-remove",J);r.release(J)}}if(K?.length){if(P){J=[];for(var Q of K)K=P.ensureType(Q),null==K&&null!=Q||J.push(K);K=J}P=
this.hasEventListener("before-add");Q=this.hasEventListener("after-add");J=D===this.length;if(P||Q){var N=r.acquire();N.target=this;N.cancellable=!0;Z=r.acquire();Z.target=this;Z.cancellable=!1;for(const V of K)P?(N.reset(V),this.emit("before-add",N),N.defaultPrevented||(J?I.push(V):I.splice(D++,0,V),this._set("length",I.length),Q&&(Z.reset(V),this.emit("after-add",Z)))):(J?I.push(V):I.splice(D++,0,V),this._set("length",I.length),Z.reset(V),this.emit("after-add",Z));r.release(Z);r.release(N)}else{if(J)for(N of K)I.push(N);
else I.splice(D,0,...K);this._set("length",I.length)}}(K?.length||T?.length)&&this._notifyChangeEvent(K,T);this.hasEventListener("after-splice")&&(D=new y(this,K,T,D,M),this.emit("after-splice",D));return T}_emitBeforeChanges(D){let M=!1;if(this.hasEventListener("before-changes")){const K=r.acquire();K.target=this;K.cancellable=!0;K.type=D;this.emit("before-changes",K);M=K.defaultPrevented;r.release(K)}return M}_emitAfterChanges(D){if(this.hasEventListener("after-changes")){const M=r.acquire();M.target=
this;M.cancellable=!1;M.type=D;this.emit("after-changes",M);r.release(M)}this._observable.notify()}_notifyChangeEvent(D,M){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:D,removed:M})}_dispatchChange(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var D=this._notifications;this._notifications=null;for(const M of D){D=M.changes;x.clear();B.clear();A.clear();for(const {added:J,removed:Q}of D){if(J)if(0===
A.size&&0===B.size)for(const N of J)x.add(N);else for(const N of J)B.has(N)?(A.add(N),B.delete(N)):A.has(N)||x.add(N);if(Q)if(0===A.size&&0===x.size)for(const N of Q)B.add(N);else for(const N of Q)x.has(N)?x.delete(N):(A.delete(N),B.add(N))}const K=b.acquire();x.forEach(J=>{K.push(J)});const I=b.acquire();B.forEach(J=>{I.push(J)});const P=this._items,T=M.items,Z=b.acquire();A.forEach(J=>{T.indexOf(J)!==P.indexOf(J)&&Z.push(J)});if(M.listeners&&(K.length||I.length||Z.length)){D={target:this,added:K,
removed:I,moved:Z};const J=M.listeners.length;for(let Q=0;Q<J;Q++){const N=M.listeners[Q];N.removed||N.callback.call(this,D)}}b.release(K);b.release(I);b.release(Z)}x.clear();B.clear();A.clear()}}};L.ofType=D=>{if(!D)return w;if(E.has(D))return E.get(D);let M=null;if("function"===typeof D)M=D.prototype.declaredClass;else if(D.base)M=D.base.prototype.declaredClass;else for(var K in D.typeMap){const I=D.typeMap[K].prototype.declaredClass;M=M?M+` | ${I}`:I}K=class extends w{};a.__decorate([u.shared({Type:D,
ensureType:"function"===typeof D?p.ensureType(D):p.ensureOneOfType(D)})],K.prototype,"itemType",void 0);K=a.__decorate([m.subclass(`esri.core.Collection<${M}>`)],K);E.set(D,K);return K};a.__decorate([n.property()],L.prototype,"length",void 0);a.__decorate([n.property()],L.prototype,"items",null);return L=w=a.__decorate([m.subclass("esri.core.Collection")],L)})},"esri/core/Evented":function(){define(["../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],function(a,
b,d,f){class e{constructor(){this._emitter=new e.EventEmitter(this)}emit(k,q){return this._emitter.emit(k,q)}on(k,q){return this._emitter.on(k,q)}once(k,q){return this._emitter.once(k,q)}hasEventListener(k){return this._emitter.hasEventListener(k)}}(function(k){class q{constructor(p=null){this._target=p;this._listenersMap=null}clear(){this._listenersMap?.clear();this._listenersMap=null}destroy(){this.clear()}emit(p,l){let n=this._listenersMap?.get(p);if(!n)return!1;const u=this._target||this;let m=
!1;for(const c of n.slice()){const h="deref"in c?c.deref():c;h?h?.call(u,l):m=!0}m&&(n=n.filter(c=>"deref"in c?null!=c.deref():!0),this._listenersMap.set(p,n));return 0<n.length}on(p,l){if(Array.isArray(p)){var n=p.map(u=>this.on(u,l));return d.handlesGroup(n)}if(p.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);n=this._listenersMap.get(p)||[];n.push(l);this._listenersMap.set(p,n);return d.makeHandle(()=>
{const u=this._listenersMap?.get(p),m=u?.indexOf(l)??-1;0<=m&&u.splice(m,1)})}once(p,l){const n=this.on(p,u=>{n.remove();("deref"in l?l.deref():l)?.call(null,u)});return n}hasEventListener(p){p=this._listenersMap?.get(p);return null!=p&&0<p.length}}k.EventEmitter=q;k.EventedMixin=p=>{p=class extends p{constructor(){super(...arguments);this._emitter=new q}destroy(){this._emitter.clear()}emit(l,n){return this._emitter.emit(l,n)}on(l,n){return this._emitter.on(l,n)}once(l,n){return this._emitter.once(l,
n)}hasEventListener(l){return this._emitter.hasEventListener(l)}};return p=a.__decorate([f.subclass("esri.core.Evented")],p)};let g=class extends b{constructor(){super(...arguments);this._emitter=new e.EventEmitter(this)}destroy(){this._emitter.clear()}emit(p,l){return this._emitter.emit(p,l)}on(p,l){return this._emitter.on(p,l)}once(p,l){return this._emitter.once(p,l)}hasEventListener(p){return this._emitter.hasEventListener(p)}};g=a.__decorate([f.subclass("esri.core.Evented")],g);k.EventedAccessor=
g})(e||(e={}));return e})},"esri/core/ObservableChangesType":function(){define(["exports"],function(a){a.ObservableChangesType=void 0;var b=a.ObservableChangesType||(a.ObservableChangesType={});b[b.ADD=1]="ADD";b[b.REMOVE=2]="REMOVE";b[b.MOVE=4]="MOVE";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],function(a){a.shared=function(b){return(d,f)=>{d[f]=b}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../ObservableBase"],function(a,b){class d extends b.ObservableBase{notify(){var f=this._observers;if(f&&0<f.length){f=f.slice();for(const e of f)e.onInvalidated(),e.onCommitted()}}}a.SimpleObservable=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(a,b){a.castForReferenceSetter=function(d){return d};a.referenceSetter=
function(d,f,e=b){f||(f=new e);if(f===d)return f;f.removeAll();d&&(Array.isArray(d)||"items"in d&&Array.isArray(d.items))?f.addMany(d):d&&f.add(d);return f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Loadable":function(){define("../chunks/tslib.es6 ./Error ./maybe ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q,g){const p=l=>{l=class extends l{constructor(...n){super(...n);
this.loadError=this._loadController=null;this.loadStatus="not-loaded";this._set("loadWarnings",[]);this.addResolvingPromise(new Promise(u=>{const m=this.load.bind(this);this.load=c=>{const h=new Promise((t,v)=>{const w=e.onAbortOrThrow(c,v);this.destroyed&&v(new b("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this}));this.when(t,v).finally(()=>{w&&w.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");
const t=this._loadController=new AbortController;m({signal:t.signal})}u();return h}}));this.when(()=>{this._set("loadStatus","loaded");this._loadController=null},u=>{this._set("loadStatus","failed");this._set("loadError",u);this._loadController=null})}destroy(){this._loadController&&(this._loadController=d.abortMaybe(this._loadController),this._promiseProps.abort());this._set("loadError",null);this._set("loadWarnings",[])}get loaded(){return"loaded"===this.loadStatus}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){if(this.isFulfilled())return this;
this._set("loadError",new b("load:cancelled","Cancelled"));this._loadController?.abort();this._promiseProps.abort();return this}};a.__decorate([q.property({readOnly:!0})],l.prototype,"loaded",null);a.__decorate([q.property({readOnly:!0})],l.prototype,"loadError",void 0);a.__decorate([q.property({clonable:!1})],l.prototype,"loadStatus",void 0);a.__decorate([q.property({type:[k],readOnly:!0})],l.prototype,"loadWarnings",null);return l=a.__decorate([g.subclass("esri.core.Loadable")],l)};f=class extends p(f.EsriPromise){};
f=a.__decorate([g.subclass("esri.core.Loadable")],f);(function(l){l.LoadableMixin=p;l.isLoadable=function(n){return!(!n||!n.load)}})(f||(f={}));return f})},"esri/core/Promise":function(){define(["exports","../chunks/tslib.es6","./Accessor","./promiseUtils","./accessorSupport/decorators/subclass"],function(a,b,d,f,e){var k;(function(p){p[p.PENDING=0]="PENDING";p[p.RESOLVED=1]="RESOLVED";p[p.REJECTED=2]="REJECTED"})(k||(k={}));class q{constructor(){this._resolver=f.createResolver();this._status=k.PENDING;
this._resolvingPromises=[];this._resolver.promise.then(()=>{this._status=k.RESOLVED;this._cleanUp()},()=>{this._status=k.REJECTED;this._cleanUp()});this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(p){this._resolvingPromises.push(p);this._tryResolve()}isResolved(){return this._status===k.RESOLVED}isRejected(){return this._status===k.REJECTED}isFulfilled(){return this._status!==k.PENDING}abort(){this._resolver.reject(f.createAbortError())}_cleanUp(){this._resolvingPromises=
this._allPromise=null}_tryResolve(){if(!this.isFulfilled()){var p=f.createResolver(),l=[...this._resolvingPromises,p.promise],n=this._allPromise=Promise.all(l);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},u=>{this.isFulfilled()||this._allPromise!==n||f.isAbortError(u)||this._resolver.reject(u)});p.resolve()}}}const g=p=>{p=class extends p{constructor(...l){super(...l);this._promiseProps=new q;this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(l,
n){return this._promiseProps.promise.then(()=>this).then(l,n)}catch(l){return this.when(null,l)}addResolvingPromise(l){l&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in l?l.when():l)}};return p=b.__decorate([e.subclass("esri.core.Promise")],p)};a.EsriPromise=class extends g(d){};a.EsriPromise=b.__decorate([e.subclass("esri.core.Promise")],a.EsriPromise);a.EsriPromiseMixin=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/loadAll":function(){define(["exports",
"./asyncUtils","./Collection","./Loadable"],function(a,b,d,f){async function e(k,q){const g=[],p=(...n)=>{for(const u of n)null!=u&&(Array.isArray(u)?p(...u):d.isCollection(u)?u.forEach(m=>p(m)):f.isLoadable(u)&&g.push(u))};q(p);let l=null;await b.map(g,async n=>{n=await b.result("loadAll"in n&&"function"===typeof n.loadAll?n.loadAll():n.load());!1!==n.ok||l||(l=n)});if(l)throw l.error;return k}a.loadAll=async function(k,q){await k.load();return e(k,q)};a.loadAllChildren=e;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/asyncUtils":function(){define("exports ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q){function g(m){return{ok:!0,value:m}}function p(m){return{ok:!1,error:m}}function l(m){return null!=m&&!0===m.ok?m.value:null}function n(m){return null!=m&&!1===m.ok?m.error:null}let u=class extends d{get value(){return l(this._result)}get error(){return n(this._result)}get finished(){return null!=
this._result}constructor(m,c){super({});this._abortHandle=this._result=null;this.remove=this.abort=()=>{this._abortController=f.abortMaybe(this._abortController)};this._abortController=new AbortController;const {signal:h}=this._abortController;this.promise=m(h);this.promise.then(t=>{this._result=g(t);this._cleanup()},t=>{this._result=p(t);this._cleanup()});this._abortHandle=e.onAbort(c,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=f.removeMaybe(this._abortHandle);
this._abortController=null}};b.__decorate([k.property()],u.prototype,"value",null);b.__decorate([k.property()],u.prototype,"error",null);b.__decorate([k.property()],u.prototype,"finished",null);b.__decorate([k.property()],u.prototype,"promise",void 0);b.__decorate([k.property()],u.prototype,"_result",void 0);u=b.__decorate([q.subclass("esri.core.asyncUtils.ReactiveTask")],u);a.assertResult=function(m){if(!0===m.ok)return m.value;throw m.error;};a.createTask=function(m,c){return new u(m,c)};a.forEach=
function(m,c,h){return e.eachAlways(m.map((t,v)=>c.apply(h,[t,v])))};a.makeResultError=p;a.makeResultOk=g;a.map=async function(m,c,h){return(await e.eachAlways(m.map((t,v)=>c.apply(h,[t,v])))).map(t=>t.value)};a.result=async function(m){if(null==m)return{ok:!1,error:Error("no promise provided")};try{return g(await m)}catch(c){return p(c)}};a.resultError=n;a.resultOrAbort=async function(m){try{return g(await m)}catch(c){return e.throwIfAbortError(c),p(c)}};a.resultValue=l;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","./property"],function(a,b){a.writer=function(d,f,e){let k,q;void 0===f?(q=d,k=[void 0]):"string"!==typeof f?(q=d,k=[void 0],e=f):(q=f,k=Array.isArray(d)?d:[d]);return(g,p)=>{const l=g.constructor.prototype;for(const n of k){const u=b.propertyJSONMeta(g,n,q);u.write&&"object"===typeof u.write||(u.write={});e&&(u.write.target=e);u.write.writer=l[p]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/SpatialReference":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/unitUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),function(a,b,d,f,e,k,q,g,p){var l;b=l=class extends b.JSONSupport{static fromJSON(n){if(!n)return null;if(n.wkid){if(102100===n.wkid)return l.WebMercator;if(4326===n.wkid)return l.WGS84}const u=
new l;u.read(n);return u}constructor(n){super(n);this.imageCoordinateSystem=this.latestVcsWkid=this.vcsWkid=this.wkt2=this.wkt=this.wkid=this.latestWkid=null}normalizeCtorArgs(n){return n&&"object"===typeof n?n:{["string"===typeof n?"wkt":"wkid"]:n}}get isWGS84(){return p.isWGS84(this)}get isWebMercator(){return p.isWebMercator(this)}get isGeographic(){return p.isGeographic(this)}get isWrappable(){return p.isWrappable(this)}get metersPerUnit(){return f.getMetersPerUnitForSR(this)}get unit(){return f.getUnitString(this)||
(this.isGeographic?"degrees":null)}writeWkt(n,u){this.wkid||(u.wkt=n)}clone(){if(this===l.WGS84)return l.WGS84;if(this===l.WebMercator)return l.WebMercator;const n=new l;null!=this.wkid?(n.wkid=this.wkid,null!=this.latestWkid&&(n.latestWkid=this.latestWkid),null!=this.vcsWkid&&(n.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(n.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(n.wkt=this.wkt),null!=this.wkt2&&(n.wkt2=this.wkt2));this.imageCoordinateSystem&&(n.imageCoordinateSystem=d.clone(this.imageCoordinateSystem));
return n}equals(n){if(null==n)return!1;if(this.imageCoordinateSystem||n.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==n.imageCoordinateSystem)return!1;const {id:u,referenceServiceName:m}=n.imageCoordinateSystem,{geodataXform:c}=n.imageCoordinateSystem,h=this.imageCoordinateSystem;return null==u||c?JSON.stringify(h)===JSON.stringify(n.imageCoordinateSystem):m?h.id===u&&h.referenceServiceName===m:h.id===u}return p.equals(this,n)}toJSON(n){return this.write(void 0,n)}};b.GCS_NAD_1927=
null;b.WGS84=null;b.WebMercator=null;b.PlateCarree=null;a.__decorate([k.property({readOnly:!0})],b.prototype,"isWGS84",null);a.__decorate([k.property({readOnly:!0})],b.prototype,"isWebMercator",null);a.__decorate([k.property({readOnly:!0})],b.prototype,"isGeographic",null);a.__decorate([k.property({readOnly:!0})],b.prototype,"isWrappable",null);a.__decorate([k.property({type:e.Integer,json:{write:!0}})],b.prototype,"latestWkid",void 0);a.__decorate([k.property({readOnly:!0})],b.prototype,"metersPerUnit",
null);a.__decorate([k.property({readOnly:!0})],b.prototype,"unit",null);a.__decorate([k.property({type:e.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],b.prototype,"wkid",void 0);a.__decorate([k.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],b.prototype,"wkt",void 0);a.__decorate([g.writer("wkt"),g.writer("web-scene","wkt")],b.prototype,"writeWkt",null);a.__decorate([k.property({type:String,
json:{write:!1}})],b.prototype,"wkt2",void 0);a.__decorate([k.property({type:e.Integer,json:{write:!0}})],b.prototype,"vcsWkid",void 0);a.__decorate([k.property({type:e.Integer,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);a.__decorate([k.property()],b.prototype,"imageCoordinateSystem",void 0);b=l=a.__decorate([q.subclass("esri.geometry.SpatialReference")],b);b.prototype.toJSON.isDefaultToJSON=!0;b.GCS_NAD_1927=new b({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});
b.WGS84=new b(p.WGS84);b.WebMercator=new b(p.WebMercator);b.PlateCarree=new b(p.PlateCarree);Object.freeze&&(Object.freeze(b.GCS_NAD_1927),Object.freeze(b.WGS84),Object.freeze(b.WebMercator));return b})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/ellipsoidUtils ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),function(a,b,d,f,e,k,q){function g(Q){Q=T[Q];if(!Q)throw Error("unknown type");return Q}
function p(Q){return P[Q].baseUnit}function l(Q,N=null){N=N||g(Q);return P[N].baseUnit===Q}function n(Q,N,V){if(N===V)return Q;const U=g(N);if(U!==g(V))throw Error("incompatible units");Q=l(N,U)?Q:Q*P[U].units[N].inBaseUnits;return l(V,U)?Q:Q/P[U].units[V].inBaseUnits}function u(Q){switch(Q){case "metric":return"meters";case "imperial":return"feet";default:return Q}}function m(Q,N){Q=n(Q,N,"meters");return 3E3>Math.abs(Q)?"meters":"kilometers"}function c(Q,N){Q=n(Q,N,"meters");return 1E5>Math.abs(Q)?
"meters":"kilometers"}function h(Q,N){Q=n(Q,N,"feet");return 1E3>Math.abs(Q)?"feet":"miles"}function t(Q,N){Q=n(Q,N,"feet");return 1E5>Math.abs(Q)?"feet":"miles"}function v(Q,N){Q=n(Q,N,"square-meters");return 3E6>Math.abs(Q)?"square-meters":"square-kilometers"}function w(Q,N){Q=n(Q,N,"square-feet");return 1E6>Math.abs(Q)?"square-feet":"square-miles"}function z(Q){return I.fromJSON(Q.toLowerCase())||null}function y(Q){const N=r(Q),V=f.getReferenceEllipsoid(Q).metersPerDegree;return N>=V?"meters":
A(Q)}function r(Q,N=e.earth.metersPerDegree){return x(Q,!0)??N}function x(Q,N=!1){const V=Q?.wkid??null;Q=Q?.wkt2??Q?.wkt??null;let U=null;if(V){if(k.isWKIDFromMars(V))return e.mars.metersPerDegree;if(k.isWKIDFromMoon(V))return e.moon.metersPerDegree;U=D.values[D[V]];!U&&N&&K.has(V)&&(U=F)}else Q&&(E(Q)?U=B(L.exec(Q),U):/^GEOCCS/i.test(Q)&&(U=B(M.exec(Q),U)));return U}function B(Q,N){return Q?.[1]?parseFloat(Q[1].split(",")[1]):N}function A(Q){var N=Q?.wkid??null,V=Q?.wkt2??Q?.wkt??null;Q=null;if(N)Q=
D.units[D[N]];else if(V&&(N=E(V)?L:/^GEOCCS/i.test(V)?M:null)&&(N=N.exec(V),N?.[1]&&(N=N[1],Q=/[\\"']{1}([^\\"']+)/.exec(N)?.[1],!Q||!D.units.includes(Q)))){N=parseFloat(N.split(",")[1]);Q=null;V=D.values;for(let U=0;U<V.length;++U)if(1E-7>Math.abs(N-V[U])){Q=D.units[U];break}}return null!=Q?z(Q):null}function E(Q){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(Q)}const F=e.earth.radius*Math.PI/200,L=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,D=q,M=/UNIT\[([^\]]+)]/i,K=new Set([4261,4305,4807,4810,4811,4812,
4816,4819,4821,4901,4902,37225,104139,104140]),I=d.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});
b={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};q={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},
"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(Q=>Q*Q)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const P={length:{baseUnit:"meters",units:b},area:{baseUnit:"square-meters",units:q},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},
"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},T=(()=>{const Q={};for(const N in P)for(const V in P[N].units)Q[V]=N;return Q})(),Z="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" "),
J=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);b=d.strict()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"});
q=d.strict()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"});d=d.strict()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"});a.adaptiveAreaUnit=function(Q,N,V){switch(V){case "metric":return v(Q,N);case "imperial":return w(Q,N);default:return V}};a.adaptiveImperialAreaUnit=w;a.adaptiveImperialLengthUnit=
h;a.adaptiveImperialVerticalLengthUnit=t;a.adaptiveLengthUnit=function(Q,N,V){switch(V){case "metric":return m(Q,N);case "imperial":return h(Q,N);default:return V}};a.adaptiveMetricAreaUnit=v;a.adaptiveMetricLengthUnit=m;a.adaptiveMetricVerticalLengthUnit=c;a.adaptiveVerticalLengthUnit=function(Q,N,V){switch(V){case "metric":return c(Q,N);case "imperial":return t(Q,N);default:return V}};a.angleUnitsJSONMap=d;a.areaUnitFromSpatialReference=function(Q){Q=A(Q);return null==Q?null:J.get(Q)};a.areaUnitsJSONMap=
b;a.baseUnitForUnit=function(Q){return p(g(Q))};a.baseUnitForUnitType=p;a.convertUnit=n;a.defaultAreaUnit=function(Q){switch(Q){case "metric":return"square-meters";case "imperial":return"square-feet";default:return Q}};a.defaultLengthUnit=u;a.defaultVerticalLengthUnit=function(Q){return u(Q)};a.getDefaultUnitSystem=function(Q){Q=A(Q);if(null==Q)return null;switch(Q){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};a.getMetersPerCartesianUnitForSR=function(Q){return k.isGeographic(Q)?1:r(Q)};a.getMetersPerUnit=x;a.getMetersPerUnitForSR=r;a.getMetersPerVerticalUnitForSR=function(Q){if(null!=Q&&!k.isEarth(Q))return 1;Q=r(Q);return 1E5<Q?1:Q};a.getUnitString=A;a.getVerticalUnitStringForSR=y;a.inchesPerMeter=39.37;a.isBaseUnit=l;a.isMeasurementSystem=function(Q){return"imperial"===Q||"metric"===Q};a.isProjectedWKT=E;a.lengthToDegrees=
function(Q,N,V){return n(Q,N,"meters")/(V*Math.PI/180)};a.lengthUnitFromSpatialReference=function(Q){Q=A(Q);return null!=Q&&Z.includes(Q)?Q:null};a.lengthUnitsJSONMap=q;a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");a.measurementLengthUnits=Z;a.unitFromRESTJSON=z;a.unitToRESTJSON=function(Q){return I.toJSON(Q)||null};a.unitType=g;a.verticalLengthUnitFromSpatialReference=function(Q){Q=
y(Q);return null!=Q&&Z.includes(Q)?Q:null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/jsonMap":function(){define(["exports","./object"],function(a,b){class d{constructor(f,e={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=f;this._options=e;this.apiValues=[];this.jsonValues=[];this._apiToJSON=this._invertMap(f);this.apiValues=this._getKeysSorted(this._apiToJSON);this.jsonValues=this._getKeysSorted(this._jsonToAPI);this.read=k=>this.fromJSON(k);this.write=(k,q,
g)=>{k=this.toJSON(k);void 0!==k&&b.setDeepValue(g,k,q)};this.write.isJSONMapWriter=!0}toJSON(f){return null==f?null:this._apiToJSON.hasOwnProperty(f)?(f=this._apiToJSON[f],this._options.useNumericKeys?+f:f):this._options.ignoreUnknown?void 0:f}fromJSON(f){return null!=f&&this._jsonToAPI.hasOwnProperty(f)?this._jsonToAPI[f]:this._options.ignoreUnknown?void 0:f}_invertMap(f){const e={};for(const k in f)e[f[k]]=k;return e}_getKeysSorted(f){const e=[];for(const k in f)e.push(k);e.sort();return e}}a.JSONMap=
d;a.strict=function(){return function(f,e){return new d(f,{ignoreUnknown:!0,...e})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/ellipsoidUtils":function(){define(["exports","./support/Ellipsoid","./support/spatialReferenceUtils"],function(a,b,d){function f(l){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${l.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}
function e(l){return d.equals(l,k)}const k=f(b.earth),q=f(b.mars),g=f(b.moon),p={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${b.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`};a.SphericalECEFSpatialReferenceLike=
k;a.SphericalPCPFMarsLike=q;a.SphericalPCPFMoonLike=g;a.WGS84ECEFSpatialReferenceLike=p;a.getReferenceEllipsoid=function(l){return null!=l&&(d.isMars(l)||d.equals(l,q))?b.mars:null!=l&&(d.isMoon(l)||d.equals(l,g))?b.moon:b.earth};a.getReferenceEllipsoidFromWKID=function(l){return d.isWKIDFromMars(l)?b.mars:d.isWKIDFromMoon(l)?b.moon:b.earth};a.isSphericalECEF=e;a.isSphericalPCPF=function(l){return e(l)||d.equals(l,q)||d.equals(l,g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/Ellipsoid":function(){define(["exports"],function(a){class b{constructor(k,q,g,p){this.semiMajorAxis=k;this.flattening=q;this.outerAtmosphereRimWidth=g;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-1;this.eccentricitySquared=p||2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=
(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const d=new b(6378137,1/298.257223563,3E5,.006694379990137799),f=new b(3396190,.005886007555525457,23E4),e=new b(1737400,0,0);a.Ellipsoid=b;a.earth=d;a.mars=f;a.moon=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/string","../../chunks/pe","./SupportedGCSWkids","./WKIDUnitConversion"],function(a,b,d,f,e){function k(w){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(w)}
function q(w){return u(w)&&null!=w.wkid&&!0===m[w.wkid]}function g(w){return w===f.SupportedGCSWkids.GCSMARS2000||w===f.SupportedGCSWkids.GCSMARS2000_SPHERE}function p(w){return u(w)&&null!=w.wkid&&g(w.wkid)}function l(w){return w===f.SupportedGCSWkids.GCSMOON2000}function n(w){return u(w)&&null!=w.wkid&&l(w.wkid)}function u(w){return null!=w&&(null!=w.wkid&&2E3<=w.wkid||null!=w.wkt2||null!=w.wkt)}const m={102113:!0,102100:!0,3857:!0,3785:!0},c={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,
104971:!0},h=[-2.0037508342788905E7,2.0037508342788905E7],t=[-2.0037508342787E7,2.0037508342787E7],v={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:h,origin:t,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:h,origin:t,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:h,origin:t,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:h,origin:t,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};b={wkid:4326,wkt:b.replace(v[4326].wkTemplate,{Central_Meridian:"0.0"})};a.PlateCarree={wkid:32662};a.WGS84=b;a.WebMercator={wkid:102100,latestWkid:3857};a.equals=function(w,z){if(w===z)return!0;if(null==w||null==z)return!1;if(null!=w.wkid||null!=z.wkid)return w.wkid===z.wkid||q(w)&&q(z)||null!=z.latestWkid&&w.wkid===z.latestWkid||null!=w.latestWkid&&z.wkid===w.latestWkid;w=w.wkt2??w.wkt;z=z.wkt2??z.wkt;return w&&z?w.toUpperCase()===z.toUpperCase():!1};a.getInfo=function(w){return u(w)&&
w.wkid?v[w.wkid]||null:null};a.getWKT=async function(w,z){if(1===z&&!k(w)||2===z&&k(w))return w;d.isLoaded()||await d.load();return d.PeFactory.fromString(d.PeDefs.PE_TYPE_NONE,w)?.toString(1===z?d.PeDefs.PE_STR_FMT_WKT:d.PeDefs.PE_STR_FMT_WKT2)??null};a.isCGCS2000=function(w){return u(w)&&w.wkid===f.SupportedGCSWkids.CGCS2000};a.isEarth=function(w){return!(p(w)||n(w))};a.isGeographic=function(w){return u(w)?w.wkid?null==e[w.wkid]:(w=w.wkt2||w.wkt)?/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(w):
!1:!1};a.isMars=p;a.isMoon=n;a.isPlateCarree=function(w){return u(w)&&32662===w.wkid};a.isValid=u;a.isWGS84=function(w){return u(w)&&4326===w.wkid};a.isWKIDFromMars=g;a.isWKIDFromMoon=l;a.isWKT2=k;a.isWebMercator=q;a.isWrappable=function(w){return u(w)&&null!=w.wkid&&!0===c[w.wkid]};a.srToRESTValue=function(w){if(w){if(w.wkid)return String(w.wkid);w=w.wkt||w.wkt2;return JSON.stringify(w?{wkt:w}:{})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/pe":function(){define(["require",
"exports","../assets","../core/has"],function(a,b,d,f){function e(){return!!b._pe}function k(){return!!f("esri-wasm")}function q(){return m?m:m=(new Promise((h,t)=>a(["./pe-wasm"],h,t))).then(h=>h.peWasm).then(({default:h})=>h({locateFile:t=>d.getAssetUrl(`esri/geometry/support/${t}`)})).then(h=>{g(h)})}function g(h){function t(z,y,r){z[y]=r(z[y])}b._pe=h;b.PeDefs.init();b.PeGTlistExtended.init();b.PeNotationMgrs.init();b.PeNotationUtm.init();b.PePCSInfo.init();b.PeGCSExtent=class extends b._pe.PeGCSExtent{destroy(){b._pe.destroy(this)}};
h=[b._pe.PeDatum,b._pe.PeGeogcs,b._pe.PeGeogtran,b._pe.PeObject,b._pe.PeParameter,b._pe.PePrimem,b._pe.PeProjcs,b._pe.PeSpheroid,b._pe.PeUnit];for(var v of h)t(v.prototype,"getName",z=>function(){return z.call(this,Array(b.PeDefs.PE_NAME_MAX))});for(const z of[b._pe.PeGeogtran,b._pe.PeProjcs])t(z.prototype,"getParameters",y=>function(){const r=Array(b.PeDefs.PE_PARM_MAX);let x=y.call(this);for(let B=0;B<r.length;B++){const A=b._pe.getValue(x,"*");r[B]=A?b._pe.wrapPointer(A,b._pe.PeParameter):null;
x+=Int32Array.BYTES_PER_ELEMENT}return r});t(b._pe.PeHorizon.prototype,"getCoord",z=>function(){const y=this.getSize();if(!y)return null;const r=[],x=z.call(this);u(r,y,x);return r});t(b._pe.PeGTlistExtendedEntry.prototype,"getEntries",z=>{const y=b._pe._pe_getPeGTlistExtendedGTsSize();return function(){let r=null;var x=z.call(this);if(!b._pe.compare(x,b._pe.NULL)){r=[x];const B=this.getSteps();if(1<B){x=b._pe.getPointer(x);for(let A=1;A<B;A++)r.push(b._pe.wrapPointer(x+y*A,b._pe.PeGTlistExtendedGTs))}}return r}});
const w=b._pe._pe_getPeHorizonSize();v=z=>function(){let y=this._cache;y||(this._cache=y=new Map);if(y.has(z))return y.get(z);let r=null;var x=z.call(this);if(!b._pe.compare(x,b._pe.NULL)){r=[x];const B=x.getNump();if(1<B){x=b._pe.getPointer(x);for(let A=1;A<B;A++)r.push(b._pe.wrapPointer(x+w*A,b._pe.PeHorizon))}}y.set(z,r);return r};t(b._pe.PeProjcs.prototype,"horizonGcsGenerate",v);t(b._pe.PeProjcs.prototype,"horizonPcsGenerate",v);b._pe.PeObject.prototype.toString=function(z=b.PeDefs.PE_STR_OPTS_NONE){b._pe.ensureCache.prepare();
const y=b._pe.getPointer(this),r=b._pe.ensureInt8(Array(b.PeDefs.PE_BUFFER_MAX));return b._pe.UTF8ToString(b._pe._pe_object_to_string_ext(y,z,r))}}function p(h){if(h){var t=b._pe.getClass(h);t&&(t=b._pe.getCache(t))&&(h=b._pe.getPointer(h))&&delete t[h]}}function l(h,t){const v=[];t=Array(t);for(let w=0;w<h;w++)v.push(b._pe.ensureInt8(t));return v}function n(h){let t;Array.isArray(h[0])?(t=[],h.forEach(v=>{t.push(v[0],v[1])})):t=h;return t}function u(h,t,v,w=!1){if(w)for(w=0;w<2*t;w++)h[w]=b._pe.getValue(v+
w*Float64Array.BYTES_PER_ELEMENT,"double");else{w=0===h.length;for(let z=0;z<t;z++)w&&(h[z]=Array(2)),h[z][0]=b._pe.getValue(v,"double"),h[z][1]=b._pe.getValue(v+Float64Array.BYTES_PER_ELEMENT,"double"),v+=2*Float64Array.BYTES_PER_ELEMENT}}let m;b._pe=null;b.PeCSTransformations=void 0;(function(h){function t(z,y,r){b._pe.ensureCache.prepare();var x=n(r);const B=r===x;x=b._pe.ensureFloat64(x);(z=b._pe._pe_geog_to_proj(b._pe.getPointer(z),y,x))&&u(r,y,x,B);return z}function v(z,y,r){return w(z,y,r,
0)}function w(z,y,r,x){b._pe.ensureCache.prepare();var B=n(r);const A=r===B;B=b._pe.ensureFloat64(B);(z=b._pe._pe_proj_to_geog_center(b._pe.getPointer(z),y,B,x))&&u(r,y,B,A);return z}h.geogToProj=t;h.projGeog=function(z,y,r,x){switch(x){case b.PeDefs.PE_TRANSFORM_P_TO_G:return v(z,y,r);case b.PeDefs.PE_TRANSFORM_G_TO_P:return t(z,y,r)}return 0};h.projToGeog=v;h.projToGeogCenter=w})(b.PeCSTransformations||(b.PeCSTransformations={}));b.PeDefs=void 0;(function(h){h.init=function(){h.PE_BUFFER_MAX=b._pe.PeDefs.prototype.PE_BUFFER_MAX;
h.PE_NAME_MAX=b._pe.PeDefs.prototype.PE_NAME_MAX;h.PE_MGRS_MAX=b._pe.PeDefs.prototype.PE_MGRS_MAX;h.PE_USNG_MAX=b._pe.PeDefs.prototype.PE_USNG_MAX;h.PE_DD_MAX=b._pe.PeDefs.prototype.PE_DD_MAX;h.PE_DDM_MAX=b._pe.PeDefs.prototype.PE_DDM_MAX;h.PE_DMS_MAX=b._pe.PeDefs.prototype.PE_DMS_MAX;h.PE_UTM_MAX=b._pe.PeDefs.prototype.PE_UTM_MAX;h.PE_PARM_MAX=b._pe.PeDefs.prototype.PE_PARM_MAX;h.PE_TYPE_NONE=b._pe.PeDefs.prototype.PE_TYPE_NONE;h.PE_TYPE_GEOGCS=b._pe.PeDefs.prototype.PE_TYPE_GEOGCS;h.PE_TYPE_PROJCS=
b._pe.PeDefs.prototype.PE_TYPE_PROJCS;h.PE_TYPE_GEOGTRAN=b._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;h.PE_TYPE_COORDSYS=b._pe.PeDefs.prototype.PE_TYPE_COORDSYS;h.PE_TYPE_UNIT=b._pe.PeDefs.prototype.PE_TYPE_UNIT;h.PE_TYPE_LINUNIT=b._pe.PeDefs.prototype.PE_TYPE_LINUNIT;h.PE_STR_OPTS_NONE=b._pe.PeDefs.prototype.PE_STR_OPTS_NONE;h.PE_STR_AUTH_NONE=b._pe.PeDefs.prototype.PE_STR_AUTH_NONE;h.PE_STR_AUTH_TOP=b._pe.PeDefs.prototype.PE_STR_AUTH_TOP;h.PE_STR_NAME_CANON=b._pe.PeDefs.prototype.PE_STR_NAME_CANON;h.PE_STR_FMT_WKT=
b._pe.PeDefs.prototype.PE_STR_FMT_WKT;h.PE_STR_FMT_WKT2=b._pe.PeDefs.prototype.PE_STR_FMT_WKT2;h.PE_PARM_X0=b._pe.PeDefs.prototype.PE_PARM_X0;h.PE_PARM_ND=b._pe.PeDefs.prototype.PE_PARM_ND;h.PE_TRANSFORM_1_TO_2=b._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;h.PE_TRANSFORM_2_TO_1=b._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;h.PE_TRANSFORM_P_TO_G=b._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;h.PE_TRANSFORM_G_TO_P=b._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;h.PE_HORIZON_RECT=b._pe.PeDefs.prototype.PE_HORIZON_RECT;
h.PE_HORIZON_POLY=b._pe.PeDefs.prototype.PE_HORIZON_POLY;h.PE_HORIZON_LINE=b._pe.PeDefs.prototype.PE_HORIZON_LINE;h.PE_HORIZON_DELTA=b._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(b.PeDefs||(b.PeDefs={}));b.PeFactory=void 0;(function(h){function t(y,r){let x=null,B=v[y];B||(B={},v[y]=B);B.hasOwnProperty(String(r))?x=B[r]:(y=b._pe.PeFactory.prototype.factoryByType(y,r),b._pe.compare(y,b._pe.NULL)||(x=y,B[r]=x));return x=z(x)}const v={},w={},z=y=>{if(y){const r=y.getType();switch(r){case b.PeDefs.PE_TYPE_GEOGCS:y=
b._pe.castObject(y,b._pe.PeGeogcs);break;case b.PeDefs.PE_TYPE_PROJCS:y=b._pe.castObject(y,b._pe.PeProjcs);break;case b.PeDefs.PE_TYPE_GEOGTRAN:y=b._pe.castObject(y,b._pe.PeGeogtran);break;default:r&b.PeDefs.PE_TYPE_UNIT&&(y=b._pe.castObject(y,b._pe.PeUnit))}}return y};h.initialize=function(){b._pe.PeFactory.prototype.initialize(null)};h.coordsys=function(y){return t(b.PeDefs.PE_TYPE_COORDSYS,y)};h.factoryByType=t;h.fromString=function(y,r){let x=null,B=w[y];B||(B={},w[y]=B);B.hasOwnProperty(r)?x=
B[r]:(y=b._pe.PeFactory.prototype.fromString(y,r),b._pe.compare(y,b._pe.NULL)||(x=y,B[r]=x));return x=z(x)};h.geogcs=function(y){return t(b.PeDefs.PE_TYPE_GEOGCS,y)};h.geogtran=function(y){return t(b.PeDefs.PE_TYPE_GEOGTRAN,y)};h.getCode=function(y){return b._pe.PeFactory.prototype.getCode(y)};h.projcs=function(y){return t(b.PeDefs.PE_TYPE_PROJCS,y)};h.unit=function(y){return t(b.PeDefs.PE_TYPE_UNIT,y)}})(b.PeFactory||(b.PeFactory={}));b.PeGCSExtent=null;b.PeGTlistExtended=void 0;(function(h){let t;
h.init=function(){h.PE_GTLIST_OPTS_COMMON=b._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;t=b._pe._pe_getPeGTlistExtendedEntrySize()};h.getGTlist=function(v,w,z,y,r,x){let B=null;const A=new b._pe.PeInteger(x);try{const E=b._pe.PeGTlistExtended.prototype.getGTlist(v,w,z,y,r,A);if(x=A.val)if(B=[E],1<x){const F=b._pe.getPointer(E);for(v=1;v<x;v++)B.push(b._pe.wrapPointer(F+t*v,b._pe.PeGTlistExtendedEntry))}}finally{b._pe.destroy(A)}return B}})(b.PeGTlistExtended||(b.PeGTlistExtended={}));b.PeGTlistExtendedEntry=
void 0;(function(h){h.destroy=function(t){if(t?.length){for(const v of t)p(v),v.getEntries().forEach(w=>{p(w);w=w.getGeogtran();p(w);w.getParameters().forEach(p);[w.getGeogcs1(),w.getGeogcs2()].forEach(z=>{p(z);const y=z.getDatum();p(y);p(y.getSpheroid());p(z.getPrimem());p(z.getUnit())})});b._pe.PeGTlistExtendedEntry.prototype.Delete(t[0])}}})(b.PeGTlistExtendedEntry||(b.PeGTlistExtendedEntry={}));b.PeGTTransformations=void 0;(function(h){h.geogToGeog=function(t,v,w,z,y){b._pe.ensureCache.prepare();
var r=n(w);const x=w===r;r=b._pe.ensureFloat64(r);let B=0;z&&(B=b._pe.ensureFloat64(z));(t=b._pe._pe_geog_to_geog(b._pe.getPointer(t),v,r,B,y))&&u(w,v,r,x);return t}})(b.PeGTTransformations||(b.PeGTTransformations={}));b.PeNotationDms=void 0;(function(h){const t=(w,z,y,r,x,B)=>{b._pe.ensureCache.prepare();switch(w){case "dd":var A=b._pe._pe_geog_to_dd;var E=b.PeDefs.PE_DD_MAX;break;case "ddm":A=b._pe._pe_geog_to_ddm;E=b.PeDefs.PE_DDM_MAX;break;case "dms":A=b._pe._pe_geog_to_dms,E=b.PeDefs.PE_DMS_MAX}w=
0;z&&(w=b._pe.getPointer(z));z=n(r);z=b._pe.ensureFloat64(z);E=l(y,E);r=b._pe.ensureInt32(E);if(x=A(w,y,z,x,r))for(A=0;A<y;A++)B[A]=b._pe.UTF8ToString(E[A]);return x},v=(w,z,y,r,x)=>{b._pe.ensureCache.prepare();switch(w){case "dd":var B=b._pe._pe_dd_to_geog;break;case "ddm":B=b._pe._pe_ddm_to_geog;break;case "dms":B=b._pe._pe_dms_to_geog}w=0;z&&(w=b._pe.getPointer(z));z=r.map(A=>b._pe.ensureString(A));r=b._pe.ensureInt32(z);z=b._pe.ensureFloat64(Array(2*y));(B=B(w,y,r,z))&&u(x,y,z);return B};h.geogToDms=
function(w,z,y,r,x){return t("dms",w,z,y,r,x)};h.dmsToGeog=function(w,z,y,r){return v("dms",w,z,y,r)};h.geogToDdm=function(w,z,y,r,x){return t("ddm",w,z,y,r,x)};h.ddmToGeog=function(w,z,y,r){return v("ddm",w,z,y,r)};h.geogToDd=function(w,z,y,r,x){return t("dd",w,z,y,r,x)};h.ddToGeog=function(w,z,y,r){return v("dd",w,z,y,r)}})(b.PeNotationDms||(b.PeNotationDms={}));b.PeNotationMgrs=void 0;(function(h){h.init=function(){h.PE_MGRS_STYLE_NEW=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;h.PE_MGRS_STYLE_OLD=
b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;h.PE_MGRS_STYLE_AUTO=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;h.PE_MGRS_180_ZONE_1_PLUS=b._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;h.PE_MGRS_ADD_SPACES=b._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};h.geogToMgrsExtended=function(t,v,w,z,y,r,x){b._pe.ensureCache.prepare();let B=0;t&&(B=b._pe.getPointer(t));t=n(w);w=b._pe.ensureFloat64(t);t=l(v,b.PeDefs.PE_MGRS_MAX);const A=b._pe.ensureInt32(t);if(z=b._pe._pe_geog_to_mgrs_extended(B,
v,w,z,y,r,A))for(y=0;y<v;y++)x[y]=b._pe.UTF8ToString(t[y]);return z};h.mgrsToGeogExtended=function(t,v,w,z,y){b._pe.ensureCache.prepare();let r=0;t&&(r=b._pe.getPointer(t));t=w.map(x=>b._pe.ensureString(x));w=b._pe.ensureInt32(t);t=b._pe.ensureFloat64(Array(2*v));(z=b._pe._pe_mgrs_to_geog_extended(r,v,w,z,t))&&u(y,v,t);return z}})(b.PeNotationMgrs||(b.PeNotationMgrs={}));b.PeNotationUsng=void 0;(function(h){h.geogToUsng=function(t,v,w,z,y,r,x){b._pe.ensureCache.prepare();let B=0;t&&(B=b._pe.getPointer(t));
t=n(w);w=b._pe.ensureFloat64(t);t=l(v,b.PeDefs.PE_MGRS_MAX);const A=b._pe.ensureInt32(t);if(z=b._pe._pe_geog_to_usng(B,v,w,z,y,r,A))for(y=0;y<v;y++)x[y]=b._pe.UTF8ToString(t[y]);return z};h.usngToGeog=function(t,v,w,z){b._pe.ensureCache.prepare();var y=0;t&&(y=b._pe.getPointer(t));t=w.map(r=>b._pe.ensureString(r));w=b._pe.ensureInt32(t);t=b._pe.ensureFloat64(Array(2*v));(y=b._pe._pe_usng_to_geog(y,v,w,t))&&u(z,v,t);return y}})(b.PeNotationUsng||(b.PeNotationUsng={}));b.PeNotationUtm=void 0;(function(h){h.init=
function(){h.PE_UTM_OPTS_NONE=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;h.PE_UTM_OPTS_ADD_SPACES=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;h.PE_UTM_OPTS_NS=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};h.geogToUtm=function(t,v,w,z,y){b._pe.ensureCache.prepare();var r=0;t&&(r=b._pe.getPointer(t));t=n(w);w=b._pe.ensureFloat64(t);t=l(v,b.PeDefs.PE_UTM_MAX);const x=b._pe.ensureInt32(t);if(z=b._pe._pe_geog_to_utm(r,v,w,z,x))for(r=0;r<v;r++)y[r]=b._pe.UTF8ToString(t[r]);return z};h.utmToGeog=
function(t,v,w,z,y){b._pe.ensureCache.prepare();let r=0;t&&(r=b._pe.getPointer(t));t=w.map(x=>b._pe.ensureString(x));w=b._pe.ensureInt32(t);t=b._pe.ensureFloat64(Array(2*v));(z=b._pe._pe_utm_to_geog(r,v,w,z,t))&&u(y,v,t);return z}})(b.PeNotationUtm||(b.PeNotationUtm={}));b.PePCSInfo=void 0;(function(h){const t=new Map;h.init=function(){h.PE_PCSINFO_OPTION_NONE=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;h.PE_PCSINFO_OPTION_DOMAIN=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;h.PE_POLE_OUTSIDE_BOUNDARY=
b._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;h.PE_POLE_POINT=b._pe.PePCSInfo.prototype.PE_POLE_POINT};h.generate=function(v,w=h.PE_PCSINFO_OPTION_DOMAIN){let z=null,y=null;t.has(v)&&(y=t.get(v),y[w]&&(z=y[w]));z||(z=b._pe.PePCSInfo.prototype.generate(v,w),y||(y=[],t.set(v,y)),y[w]=z);return z}})(b.PePCSInfo||(b.PePCSInfo={}));b.PeVersion=void 0;(function(h){h.versionString=function(){return b._pe.PeVersion.prototype.version_string()}})(b.PeVersion||(b.PeVersion={}));const c=Object.freeze(Object.defineProperty({__proto__:null,
get PeCSTransformations(){return b.PeCSTransformations},get PeDefs(){return b.PeDefs},get PeFactory(){return b.PeFactory},get PeGCSExtent(){return b.PeGCSExtent},get PeGTTransformations(){return b.PeGTTransformations},get PeGTlistExtended(){return b.PeGTlistExtended},get PeGTlistExtendedEntry(){return b.PeGTlistExtendedEntry},get PeNotationDms(){return b.PeNotationDms},get PeNotationMgrs(){return b.PeNotationMgrs},get PeNotationUsng(){return b.PeNotationUsng},get PeNotationUtm(){return b.PeNotationUtm},
get PePCSInfo(){return b.PePCSInfo},get PeVersion(){return b.PeVersion},_init:g,get _pe(){return b._pe},isLoaded:e,isSupported:k,load:q},Symbol.toStringTag,{value:"Module"}));b._init=g;b.isLoaded=e;b.isSupported=k;b.load=q;b.pe=c})},"esri/assets":function(){define("exports ./config ./request ./core/Error ./core/Logger ./core/urlUtils".split(" "),function(a,b,d,f,e,k){function q(p){if(!b.assetsPath)throw g.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),
new f("assets:path-not-set","config.assetsPath is not set");return k.join(b.assetsPath,p)}const g=e.getLogger("esri.assets");a.fetchAsset=function(p,l){return d(q(p),l)};a.getAssetUrl=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/SupportedGCSWkids":function(){define(["exports"],function(a){a.SupportedGCSWkids=void 0;var b=a.SupportedGCSWkids||(a.SupportedGCSWkids={});b[b.CGCS2000=4490]="CGCS2000";b[b.GCSMARS2000=104971]="GCSMARS2000";b[b.GCSMARS2000_SPHERE=
104905]="GCSMARS2000_SPHERE";b[b.GCSMOON2000=104903]="GCSMOON2000";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;const b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,
8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,
8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,
8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,
10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,
24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,
31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,
102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,
103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,
103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,
103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=
a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=
a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=
a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=
a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=
a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=
a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5167;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=
a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=
a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=
a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=
a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=a;a++)b[a]=0;for(a=9295;9297>=a;a++)b[a]=0;for(a=9356;9360>=a;a++)b[a]=0;for(a=9404;9407>=a;a++)b[a]=0;for(a=9476;9482>=a;a++)b[a]=0;for(a=9487;9494>=a;a++)b[a]=0;for(a=9697;9699>=a;a++)b[a]=0;for(a=9821;9865>=a;a++)b[a]=0;for(a=10285;10291>=a;a++)b[a]=0;for(a=10314;10317>=a;a++)b[a]=0;for(a=10448;10465>=a;a++)b[a]=0;for(a=
11114;11118>=a;a++)b[a]=0;for(a=20004;20032>=a;a++)b[a]=0;for(a=20047;20049>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20904;20932>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21004;21032>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21207;21264>=a;a++)b[a]=
0;for(a=21307;21364>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22207;22222>=a;a++)b[a]=0;for(a=22229;22232>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22243;22250>=a;a++)b[a]=0;for(a=22262;22265>=a;a++)b[a]=0;for(a=22307;22322>=
a;a++)b[a]=0;for(a=22348;22357>=a;a++)b[a]=0;for(a=22407;22422>=a;a++)b[a]=0;for(a=22462;22465>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22607;22622>=a;a++)b[a]=0;for(a=22641;22646>=a;a++)b[a]=0;for(a=22648;22657>=a;a++)b[a]=0;for(a=22707;22722>=a;a++)b[a]=0;for(a=22762;22765>=a;a++)b[a]=0;for(a=22807;22822>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23301;23333>=a;a++)b[a]=2;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=
a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=
a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=
a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=
a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32159>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32401;32460>=
a;a++)b[a]=0;for(a=32501;32560>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=
a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=
a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102901;102933>=a;a++)b[a]=2;for(a=102934;102950>=
a;a++)b[a]=13;for(a=102951;102955>=a;a++)b[a]=0;for(a=102961;102963>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=
a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=
a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=
a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=
a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103694>=a;a++)b[a]=0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103890>=a;a++)b[a]=0;for(a=103891;103896>=a;a++)b[a]=2;for(a=103900;103971>=a;a++)b[a]=2;for(a=103972;103977>=
a;a++)b[a]=0;for(a=112E3;112101>=a;a++)b[a]=0;return b})},"esri/portal/Portal":function(){define("require ../chunks/tslib.es6 ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ../intl/locale ./portalDefault ./PortalGroup ./PortalQueryParams ./PortalQueryResult ./PortalUser ../support/apiKeyUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B,A){function E(I){const P=f.id;return()=>{const T=I.deref();T&&P.findCredential(T.restUrl)&&T.signIn().catch(()=>{})}}const F=I=>Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));var L;let D;const M={PortalGroup:()=>Promise.resolve({default:y}),PortalItem:()=>new Promise((I,P)=>a(["./PortalItem"],T=>I(F(T)),P)),PortalUser:()=>Promise.resolve({default:B})};q=L=class extends q.JSONSupportMixin(g){constructor(I){super(I);
this.access=this._esriIdCredentialCreateHandle=null;this.allSSL=!1;this.authMode="auto";this.bingKey=this.basemapGalleryGroupQuery3D=this.basemapGalleryGroupQuery=this.authorizedCrossOriginDomains=null;this.canProvisionDirectPurchase=this.canListPreProvisionedItems=this.canListData=this.canListApps=!1;this.canSearchPublic=!0;this.canSignInIDP=this.canSignInArcGIS=this.canSharePublic=this.canShareBingPublic=!1;this.colorSetsGroupQuery=null;this.commentsEnabled=!1;this.livingAtlasGroupQuery=this.galleryTemplatesGroupQuery=
this.featuredItemsGroupQuery=this.featuredGroups=this.eueiEnabled=this.devBasemapGalleryGroupQuery=this.description=this.defaultVectorBasemap=this.defaultExtent=this.defaultDevBasemap=this.defaultBasemap=this.customBaseUrl=this.culture=this.created=null;this.hasCategorySchema=!1;this.ipCntryCode=this.id=this.httpsPort=this.httpPort=this.homePageFeaturedContentCount=this.homePageFeaturedContent=this.helperServices=null;this.isReadOnly=this.isPortal=!1;this.rotatorPanels=this.region=this.portalProperties=
this.portalMode=this.portalHostname=this.name=this.modified=this.maxTokenExpirationMinutes=this.layerTemplatesGroupQuery=null;this.showHomePageDescription=!1;this.sourceJSON=null;this.supportsHostedServices=!1;this.units=this.templatesGroupQuery=this.symbolSetsGroupQuery=null;this.url=d.portalUrl;this.user=this.urlKey=null;this.use3dBasemaps=!0;this.useVectorBasemaps=this.useStandardizedQuery=!1;this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(I){return"string"===typeof I?{url:I}:I}destroy(){K.unregister(this);
this.defaultBasemap=p.destroyMaybe(this.defaultBasemap);this.defaultDevBasemap=p.destroyMaybe(this.defaultDevBasemap);this.defaultVectorBasemap=p.destroyMaybe(this.defaultVectorBasemap);this._esriIdCredentialCreateHandle=p.removeMaybe(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(I){if(I)for(const P of I)d.request.trustedServers.includes(P)||d.request.trustedServers.push(P);return I}readDefaultBasemap(I){return this._readBasemap(I)}readDefaultDevBasemap(I){return this._readBasemap(I)}readDefaultVectorBasemap(I){return this._readBasemap(I)}get extraQuery(){const I=
!this.user?.orgId||this.canSearchPublic;return this.id&&!I?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let I=this.url;if(I){const P=I.indexOf("/sharing");I=0<P?I.substring(0,P):this.url.replace(/\/+$/,"");I+="/sharing/rest"}return I}get thumbnailUrl(){const I=this.restUrl,P=this.thumbnail;return I&&P?this._normalizeSSL(I+"/portals/self/resources/"+P):null}readUrlKey(I){return I?I.toLowerCase():
I}readUser(I){let P=null;I&&(P=B.fromJSON(I),P.portal=this);return P}load(I){const P=(new Promise((T,Z)=>a(["../Basemap"],J=>T(F(J)),Z))).then(({default:T})=>{l.throwIfAborted(I);D=T}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,I)).then(T=>{if(f.id){const Z=f.id;this.credential=Z.findCredential(this.restUrl);this.credential||this.authMode!==L.AUTH_MODE_AUTO||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=Z.on("credential-create",E(new WeakRef(this))),
K.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=T;this.read(T)});this.addResolvingPromise(P);return Promise.resolve(this)}async createElevationLayers(){await this.load();const I=this._getHelperService("defaultElevationLayers"),P=(await new Promise((T,Z)=>a(["../layers/ElevationLayer"],J=>T(F(J)),Z))).default;return I?I.map(T=>new P({id:T.id,url:T.url})):[]}async fetchBasemaps(I,P){const T=await this._fetchBasemaps(I,P);!0===P?.include3d&&!1!==this.use3dBasemaps&&(I=await this._fetchBasemaps3D(I,
P),T.unshift(...I));return T}fetchCategorySchema(I){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",I).then(P=>P.categorySchema):l.isAborted(I)?Promise.reject(l.createAbortError()):Promise.resolve([])}fetchFeaturedGroups(I){const P=this.featuredGroups,T=new r;T.num=100;T.sortField="title";if(P&&P.length){const Z=[];for(const J of P)Z.push(`(title:"${J.title}" AND owner:${J.owner})`);T.query=Z.join(" OR ");return this.queryGroups(T,I).then(J=>J.results)}return l.isAborted(I)?
Promise.reject(l.createAbortError()):Promise.resolve([])}fetchRegions(I){const P=this.user?.culture||this.culture||w.getLocale();return this.request(this.restUrl+"/portals/regions",{...I,query:{culture:P}})}fetchSettings(I){const P=this.user?.culture||this.culture||w.getLocale();return this.request(this.restUrl+"/portals/self/settings",{...I,query:{culture:P}})}static getDefault(){return z.ensureDefaultPortalInstance(()=>new L)}queryGroups(I,P){return this.queryPortal("/community/groups",I,"PortalGroup",
P)}queryItems(I,P){return this.queryPortal("/search",I,"PortalItem",P)}queryUsers(I,P){I.sortField||(I.sortField="username");return this.queryPortal("/community/users",I,"PortalUser",P)}fetchSelf(I=this.authMode,P=!1,T){const Z=this.restUrl+"/portals/self";I={authMode:I,query:{culture:w.getLocale().toLowerCase()},...T};"auto"===I.authMode&&(I.authMode="no-prompt");P&&(I.query.default=!0);return this.request(Z,I)}queryPortal(I,P,T,Z){const J=u.ensureType(r,P),Q=N=>this.request(this.restUrl+I,{...J.toRequestOptions(this),
...Z}).then(V=>{const U=J.clone();U.start=V.nextStart;return new x({nextQueryParams:U,queryParams:J,total:V.total,results:L._resultsToTypedArray(N,{portal:this},V,Z)})}).then(V=>Promise.all(V.results.map(U=>"function"===typeof U.when?U.when():V)).then(()=>V,U=>{l.throwIfAbortError(U);return V}));return T&&M[T]?M[T]().then(({default:N})=>{l.throwIfAborted(Z);return Q(N)}):Q()}signIn(){if(this.authMode===L.AUTH_MODE_ANONYMOUS)return Promise.reject(new k("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));
if("failed"===this.loadStatus)return Promise.reject(this.loadError);const I=P=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return P||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=P;return this.fetchSelf("immediate")});if(this.user&&this.credential===P)return null;this.credential=P;return this.fetchSelf("immediate")}).then(T=>{T&&(this.sourceJSON=T,this.read(T))});return f.id?
f.id.getCredential(this.restUrl).then(P=>I(P)):I(this.credential)}normalizeUrl(I){const P=this.credential?.token;return this._normalizeSSL(P?I+(I.includes("?")?"\x26":"?")+"token\x3d"+P:I)}requestToTypedArray(I,P,T){return this.request(I,P).then(Z=>{const J=L._resultsToTypedArray(T,{portal:this},Z);return Promise.all(J.map(Q=>"function"===typeof Q.when?Q.when():Z)).then(()=>J,()=>J)})}request(I,P={}){const T={f:"json",...P.query},{authMode:Z=this.authMode===L.AUTH_MODE_ANONYMOUS?"anonymous":"auto",
body:J=null,cacheBust:Q=!1,method:N="auto",responseType:V="json",signal:U}=P;P={authMode:Z,body:J,cacheBust:Q,method:N,query:T,responseType:V,timeout:0,signal:U};return e(this._normalizeSSL(I),P).then(sa=>sa.data)}toJSON(){throw new k("internal:not-yet-implemented","Portal.toJSON is not yet implemented");}static fromJSON(I){if(!I)return null;if(I.declaredClass)throw Error("JSON object is already hydrated");return new L({sourceJSON:I})}_getHelperService(I){const P=this.helperServices&&this.helperServices[I];
if(!P)throw new k("portal:service-not-found",`The \`helperServices\` do not include an entry named "${I}"`);return P}async _fetchBasemaps(I,P){const T=new r;T.query=I||(d.apiKey&&A.supportsApiKey(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);T.disableExtraQuery=!0;I=await this.queryGroups(T,P);if(!I.total)return[];I=I.results[0];T.num=100;T.query='type:"Web Map" -type:"Web Application"';T.sortField=I.sortField||
"name";T.sortOrder=I.sortOrder||"desc";P=await I.queryItems(T,P);return P.total?P.results.filter(Z=>"Web Map"===Z.type).map(Z=>new D({portalItem:Z})):[]}async _fetchBasemaps3D(I,P){I=I||this.basemapGalleryGroupQuery3D;if(!I)return[];I=new r({query:I,disableExtraQuery:!0});var T=await this.queryGroups(I,P);if(!T.total)return[];T=T.results[0];I.num=100;I.query='type:"Web Scene"';I.sortField=T.sortField||"name";I.sortOrder=T.sortOrder||"desc";P=await T.queryItems(I,P);return P.total?P.results.filter(Z=>
"Web Scene"===Z.type).map(Z=>new D({portalItem:Z})):[]}_normalizeSSL(I){return I.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(I){return I?(I=D.fromJSON(I),I.portalItem={portal:this},I):null}static _resultsToTypedArray(I,P,T,Z){let J=[];if(T){const Q=null!=Z?Z.signal:null;J=T.listings||T.notifications||T.userInvitations||T.tags||T.items||T.groups||T.comments||T.provisions||T.results||T.relatedItems||T;if(I||P)J=J.map(N=>{N=Object.assign(I?I.fromJSON(N):N,P);"function"===typeof N.load&&
N.load(Q);return N})}else J=[];return J}};q.AUTH_MODE_ANONYMOUS="anonymous";q.AUTH_MODE_AUTO="auto";q.AUTH_MODE_IMMEDIATE="immediate";b.__decorate([n.property()],q.prototype,"access",void 0);b.__decorate([n.property()],q.prototype,"allSSL",void 0);b.__decorate([n.property()],q.prototype,"authMode",void 0);b.__decorate([n.property()],q.prototype,"authorizedCrossOriginDomains",void 0);b.__decorate([h.reader("authorizedCrossOriginDomains")],q.prototype,"readAuthorizedCrossOriginDomains",null);b.__decorate([n.property()],
q.prototype,"basemapGalleryGroupQuery",void 0);b.__decorate([n.property({json:{name:"3DBasemapGalleryGroupQuery"}})],q.prototype,"basemapGalleryGroupQuery3D",void 0);b.__decorate([n.property()],q.prototype,"bingKey",void 0);b.__decorate([n.property()],q.prototype,"canListApps",void 0);b.__decorate([n.property()],q.prototype,"canListData",void 0);b.__decorate([n.property()],q.prototype,"canListPreProvisionedItems",void 0);b.__decorate([n.property()],q.prototype,"canProvisionDirectPurchase",void 0);
b.__decorate([n.property()],q.prototype,"canSearchPublic",void 0);b.__decorate([n.property()],q.prototype,"canShareBingPublic",void 0);b.__decorate([n.property()],q.prototype,"canSharePublic",void 0);b.__decorate([n.property()],q.prototype,"canSignInArcGIS",void 0);b.__decorate([n.property()],q.prototype,"canSignInIDP",void 0);b.__decorate([n.property()],q.prototype,"colorSetsGroupQuery",void 0);b.__decorate([n.property()],q.prototype,"commentsEnabled",void 0);b.__decorate([n.property({type:Date})],
q.prototype,"created",void 0);b.__decorate([n.property()],q.prototype,"credential",void 0);b.__decorate([n.property()],q.prototype,"culture",void 0);b.__decorate([n.property()],q.prototype,"currentVersion",void 0);b.__decorate([n.property()],q.prototype,"customBaseUrl",void 0);b.__decorate([n.property()],q.prototype,"defaultBasemap",void 0);b.__decorate([h.reader("defaultBasemap")],q.prototype,"readDefaultBasemap",null);b.__decorate([n.property()],q.prototype,"defaultDevBasemap",void 0);b.__decorate([h.reader("defaultDevBasemap")],
q.prototype,"readDefaultDevBasemap",null);b.__decorate([n.property({type:v})],q.prototype,"defaultExtent",void 0);b.__decorate([n.property()],q.prototype,"defaultVectorBasemap",void 0);b.__decorate([h.reader("defaultVectorBasemap")],q.prototype,"readDefaultVectorBasemap",null);b.__decorate([n.property()],q.prototype,"description",void 0);b.__decorate([n.property()],q.prototype,"devBasemapGalleryGroupQuery",void 0);b.__decorate([n.property()],q.prototype,"eueiEnabled",void 0);b.__decorate([n.property({readOnly:!0})],
q.prototype,"extraQuery",null);b.__decorate([n.property()],q.prototype,"featuredGroups",void 0);b.__decorate([n.property()],q.prototype,"featuredItemsGroupQuery",void 0);b.__decorate([n.property()],q.prototype,"galleryTemplatesGroupQuery",void 0);b.__decorate([n.property()],q.prototype,"livingAtlasGroupQuery",void 0);b.__decorate([n.property()],q.prototype,"hasCategorySchema",void 0);b.__decorate([n.property()],q.prototype,"helpBase",void 0);b.__decorate([n.property()],q.prototype,"helperServices",
void 0);b.__decorate([n.property()],q.prototype,"helpMap",void 0);b.__decorate([n.property()],q.prototype,"homePageFeaturedContent",void 0);b.__decorate([n.property()],q.prototype,"homePageFeaturedContentCount",void 0);b.__decorate([n.property()],q.prototype,"httpPort",void 0);b.__decorate([n.property()],q.prototype,"httpsPort",void 0);b.__decorate([n.property()],q.prototype,"id",void 0);b.__decorate([n.property()],q.prototype,"ipCntryCode",void 0);b.__decorate([n.property({readOnly:!0})],q.prototype,
"isOrganization",null);b.__decorate([n.property()],q.prototype,"isPortal",void 0);b.__decorate([n.property()],q.prototype,"isReadOnly",void 0);b.__decorate([n.property({readOnly:!0})],q.prototype,"itemPageUrl",null);b.__decorate([n.property()],q.prototype,"layerTemplatesGroupQuery",void 0);b.__decorate([n.property()],q.prototype,"maxTokenExpirationMinutes",void 0);b.__decorate([n.property({type:Date})],q.prototype,"modified",void 0);b.__decorate([n.property()],q.prototype,"name",void 0);b.__decorate([n.property()],
q.prototype,"portalHostname",void 0);b.__decorate([n.property()],q.prototype,"portalMode",void 0);b.__decorate([n.property()],q.prototype,"portalProperties",void 0);b.__decorate([n.property()],q.prototype,"region",void 0);b.__decorate([n.property({readOnly:!0})],q.prototype,"restUrl",null);b.__decorate([n.property()],q.prototype,"rotatorPanels",void 0);b.__decorate([n.property()],q.prototype,"showHomePageDescription",void 0);b.__decorate([n.property()],q.prototype,"sourceJSON",void 0);b.__decorate([n.property()],
q.prototype,"staticImagesUrl",void 0);b.__decorate([n.property({json:{name:"2DStylesGroupQuery"}})],q.prototype,"stylesGroupQuery2d",void 0);b.__decorate([n.property({json:{name:"stylesGroupQuery"}})],q.prototype,"stylesGroupQuery3d",void 0);b.__decorate([n.property()],q.prototype,"supportsHostedServices",void 0);b.__decorate([n.property()],q.prototype,"symbolSetsGroupQuery",void 0);b.__decorate([n.property()],q.prototype,"templatesGroupQuery",void 0);b.__decorate([n.property()],q.prototype,"thumbnail",
void 0);b.__decorate([n.property({readOnly:!0})],q.prototype,"thumbnailUrl",null);b.__decorate([n.property()],q.prototype,"units",void 0);b.__decorate([n.property()],q.prototype,"url",void 0);b.__decorate([n.property()],q.prototype,"urlKey",void 0);b.__decorate([h.reader("urlKey")],q.prototype,"readUrlKey",null);b.__decorate([n.property()],q.prototype,"user",void 0);b.__decorate([h.reader("user")],q.prototype,"readUser",null);b.__decorate([n.property()],q.prototype,"use3dBasemaps",void 0);b.__decorate([n.property()],
q.prototype,"useStandardizedQuery",void 0);b.__decorate([n.property()],q.prototype,"useVectorBasemaps",void 0);b.__decorate([n.property()],q.prototype,"vectorBasemapGalleryGroupQuery",void 0);b=q=L=b.__decorate([t.subclass("esri.portal.Portal")],q);const K=new FinalizationRegistry(I=>{I.remove()});return b})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","./property"],function(a,b){a.reader=function(d,f,e){let k,q;void 0===f||Array.isArray(f)?(q=d,e=f,k=[void 0]):(q=f,
k=Array.isArray(d)?d:[d]);return(g,p)=>{const l=g.constructor.prototype;k.forEach(n=>{n=b.propertyJSONMeta(g,n,q);n.read&&"object"===typeof n.read||(n.read={});n.read.reader=l[p];e&&(n.read.source=(n.read.source||[]).concat(e))})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Extent":function(){define("../chunks/tslib.es6 ../core/string ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersectsBase ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c){function h(v,w,z){return null==w?z:null==z?w:v(w,z)}var t;f=t=class extends g{constructor(...v){super(...v);this.type="extent";this.ymin=this.xmin=0;this.zmin=this.mmin=void 0;this.ymax=this.xmax=0;this.zmax=this.mmax=void 0}normalizeCtorArgs(v,w,z,y,r){return!v||"esri.geometry.SpatialReference"!==v.declaredClass&&null==v.wkid?"object"===typeof v?(v.spatialReference=null==v.spatialReference?l.WGS84:v.spatialReference,v):{xmin:v,ymin:w,xmax:z,ymax:y,spatialReference:null==
r?l.WGS84:r}:{spatialReference:v,xmin:0,ymin:0,xmax:0,ymax:0}}static fromBounds(v,w){return new t({xmin:v[0],ymin:v[1],xmax:v[2],ymax:v[3],spatialReference:w})}static fromPoint(v){return new t({xmin:v.x,ymin:v.y,zmin:v.z,xmax:v.x,ymax:v.y,zmax:v.z,spatialReference:v.spatialReference})}get cache(){this.commitProperty("xmin");this.commitProperty("ymin");this.commitProperty("zmin");this.commitProperty("mmin");this.commitProperty("xmax");this.commitProperty("ymax");this.commitProperty("zmax");this.commitProperty("mmax");
this.commitProperty("spatialReference");return{}}get center(){const v=new p({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(v.z=.5*(this.zmin+this.zmax));this.hasM&&(v.m=.5*(this.mmin+this.mmax));return v}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(v){const w=
this.center;return null!=v.z&&this.hasZ?this.offset(v.x-w.x,v.y-w.y,v.z-w.z):this.offset(v.x-w.x,v.y-w.y)}clone(){const v=new t;v.xmin=this.xmin;v.ymin=this.ymin;v.xmax=this.xmax;v.ymax=this.ymax;v.spatialReference=this.spatialReference;null!=this.zmin&&(v.zmin=this.zmin,v.zmax=this.zmax);null!=this.mmin&&(v.mmin=this.mmin,v.mmax=this.mmax);return v}contains(v){if(!v)return!1;const w=this.spatialReference,z=v.spatialReference;w&&z&&!w.equals(z)&&c.canProject(w,z)&&(v=w.isWebMercator?c.geographicToWebMercator(v):
c.webMercatorToGeographic(v,!0));return"point"===v.type?n.extentContainsPoint(this,v):"extent"===v.type?n.extentContainsExtent(this,v):!1}equals(v){if(this===v)return!0;if(null==v)return!1;const w=this.spatialReference,z=v.spatialReference;w&&z&&!w.equals(z)&&c.canProject(w,z)&&(v=w.isWebMercator?c.geographicToWebMercator(v):c.webMercatorToGeographic(v,!0));return this.xmin===v.xmin&&this.ymin===v.ymin&&this.zmin===v.zmin&&this.mmin===v.mmin&&this.xmax===v.xmax&&this.ymax===v.ymax&&this.zmax===v.zmax&&
this.mmax===v.mmax}expand(v){v=.5*(1-v);var w=this.width*v;const z=this.height*v;this.xmin+=w;this.ymin+=z;this.xmax-=w;this.ymax-=z;this.hasZ&&(w=(this.zmax-this.zmin)*v,this.zmin+=w,this.zmax-=w);this.hasM&&(v*=this.mmax-this.mmin,this.mmin+=v,this.mmax-=v);return this}intersects(v){if(null==v)return!1;"mesh"===v.type&&(v=v.extent);const w=this.spatialReference,z=v.spatialReference;w&&z&&!m.equals(w,z)&&c.canProject(w,z)&&(v=w.isWebMercator?c.geographicToWebMercator(v):c.webMercatorToGeographic(v,
!0));return u.getFeatureExtentIntersector(v.type)(this,v)}normalize(){const v=this._normalize(!1,!0);return Array.isArray(v)?v:[v]}offset(v,w,z){this.xmin+=v;this.ymin+=w;this.xmax+=v;this.ymax+=w;null!=z&&(this.zmin+=z,this.zmax+=z);return this}shiftCentralMeridian(){return this._normalize(!0)}union(v){if(this===v)return this;this.xmin=Math.min(this.xmin,v.xmin);this.ymin=Math.min(this.ymin,v.ymin);this.xmax=Math.max(this.xmax,v.xmax);this.ymax=Math.max(this.ymax,v.ymax);if(this.hasZ||v.hasZ)this.zmin=
h(Math.min,this.zmin,v.zmin),this.zmax=h(Math.max,this.zmax,v.zmax);if(this.hasM||v.hasM)this.mmin=h(Math.min,this.mmin,v.mmin),this.mmax=h(Math.max,this.mmax,v.mmax);return this}intersection(v){if(this===v)return this;if(null==v||!this.intersects(v))return null;this.xmin=Math.max(this.xmin,v.xmin);this.ymin=Math.max(this.ymin,v.ymin);this.xmax=Math.min(this.xmax,v.xmax);this.ymax=Math.min(this.ymax,v.ymax);if(this.hasZ||v.hasZ)this.zmin=h(Math.max,this.zmin,v.zmin),this.zmax=h(Math.min,this.zmax,
v.zmax);if(this.hasM||v.hasM)this.mmin=h(Math.max,this.mmin,v.mmin),this.mmax=h(Math.min,this.mmax,v.mmax);return this}toJSON(v){return this.write({},v)}_shiftCM(v=m.getInfo(this.spatialReference)){if(!v||!this.spatialReference)return this;const w=this.spatialReference,z=this._getCM(v);if(z){const y=w.isWebMercator?c.webMercatorToGeographic(z):z;this.xmin-=z.x;this.xmax-=z.x;w.isWebMercator||(y.x=this._normalizeX(y.x,v).x);this.spatialReference=new l(b.replace((w.isWGS84?v.altTemplate:null)??v.wkTemplate,
{Central_Meridian:y.x}))}return this}_getCM(v){let w=null;const [z,y]=v.valid;v=this.xmin;const r=this.xmax;v>=z&&v<=y&&r>=z&&r<=y||(w=this.center);return w}_normalize(v,w,z){const y=this.spatialReference;if(!y)return this;z=z??m.getInfo(y);if(null==z)return this;const r=this._getParts(z).map(A=>A.extent);if(2>r.length)return r[0]||this;if(2<r.length)return v?this._shiftCM(z):this.set({xmin:z.valid[0],xmax:z.valid[1]});if(v)return this._shiftCM(z);if(w)return r;let x=!0,B=!0;r.forEach(A=>{A.hasZ||
(x=!1);A.hasM||(B=!1)});return{rings:r.map(A=>{const E=[[A.xmin,A.ymin],[A.xmin,A.ymax],[A.xmax,A.ymax],[A.xmax,A.ymin],[A.xmin,A.ymin]];if(x){var F=(A.zmax-A.zmin)/2;for(let L=0;L<E.length;L++)E[L].push(F)}if(B)for(A=(A.mmax-A.mmin)/2,F=0;F<E.length;F++)E[F].push(A);return E}),hasZ:x,hasM:B,spatialReference:y}}_getParts(v){let w=this.cache._parts;if(!w){w=[];const {ymin:F,ymax:L,spatialReference:D}=this;var z=this.width,y=this.xmin,r=this.xmax;v=v||m.getInfo(D);const [M,K]=v.valid;var x=this._normalizeX(this.xmin,
v);var B=x.x,A=x.frameId;x=this._normalizeX(this.xmax,v);v=x.x;x=x.frameId;var E=B===v&&0<z;if(z>2*K){z=new t(y<r?B:v,F,K,L,D);y=new t(M,F,y<r?v:B,L,D);r=new t(0,F,K,L,D);B=new t(M,F,0,L,D);v=[];E=[];z.contains(r)&&v.push(A);z.contains(B)&&E.push(A);y.contains(r)&&v.push(x);y.contains(B)&&E.push(x);for(let I=A+1;I<x;I++)v.push(I),E.push(I);w.push({extent:z,frameIds:[A]},{extent:y,frameIds:[x]},{extent:r,frameIds:v},{extent:B,frameIds:E})}else B>v||E?w.push({extent:new t(B,F,K,L,D),frameIds:[A]},{extent:new t(M,
F,v,L,D),frameIds:[x]}):w.push({extent:new t(B,F,v,L,D),frameIds:[A]});this.cache._parts=w}x=this.hasZ;z=this.hasM;if(x||z)for(A={},x&&(A.zmin=this.zmin,A.zmax=this.zmax),z&&(A.mmin=this.mmin,A.mmax=this.mmax),x=0;x<w.length;x++)w[x].extent.set(A);return w}_normalizeX(v,w){const [z,y]=w.valid;w=2*y;var r=0;v>y?(r=Math.ceil(Math.abs(v-y)/w),v-=r*w):v<z&&(r=Math.ceil(Math.abs(v-z)/w),v+=r*w,r=-r);return{x:v,frameId:r}}};a.__decorate([d.property({readOnly:!0})],f.prototype,"cache",null);a.__decorate([d.property({readOnly:!0})],
f.prototype,"center",null);a.__decorate([d.property({readOnly:!0})],f.prototype,"extent",null);a.__decorate([d.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],f.prototype,"hasM",null);a.__decorate([d.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],f.prototype,"hasZ",null);a.__decorate([d.property({readOnly:!0})],f.prototype,"height",null);a.__decorate([d.property({readOnly:!0})],f.prototype,"width",null);a.__decorate([d.property({type:Number,json:{type:[Number,
String],write:{enabled:!0,allowNull:!0}}})],f.prototype,"xmin",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],f.prototype,"ymin",void 0);a.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],f.prototype,"mmin",void 0);a.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],f.prototype,"zmin",void 0);a.__decorate([d.property({type:Number,
json:{write:!0}})],f.prototype,"xmax",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],f.prototype,"ymax",void 0);a.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],f.prototype,"mmax",void 0);a.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],f.prototype,"zmax",void 0);f=t=a.__decorate([q.subclass("esri.geometry.Extent")],
f);f.prototype.toJSON.isDefaultToJSON=!0;return f})},"esri/geometry/Geometry":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./SpatialReference".split(" "),function(a,b,d,f,e,k,q,g,p){b=class extends b.JSONSupport{constructor(...l){super(...l);this.type=null;this.hasZ=this.hasM=!1;this.spatialReference=
p.WGS84}get cache(){this.commitProperty("spatialReference");return{}}get extent(){return null}readSpatialReference(l,n){if(l instanceof p)return l;if(null!=l){const u=new p;u.read(l,n);return u}return l}clone(){console.warn(".clone() is not implemented for "+this.declaredClass);return null}clearCache(){this.notifyChange("cache")}getCacheValue(l){return this.cache[l]}setCacheValue(l,n){this.cache[l]=n}};a.__decorate([d.property()],b.prototype,"type",void 0);a.__decorate([d.property({readOnly:!0})],
b.prototype,"cache",null);a.__decorate([d.property({readOnly:!0})],b.prototype,"extent",null);a.__decorate([d.property({type:Boolean,json:{write:{overridePolicy(l){return{enabled:l}}}}})],b.prototype,"hasM",void 0);a.__decorate([d.property({type:Boolean,json:{write:{overridePolicy(l){return{enabled:l}}}}})],b.prototype,"hasZ",void 0);a.__decorate([d.property({type:p,json:{write:!0},value:p.WGS84})],b.prototype,"spatialReference",void 0);a.__decorate([q.reader("spatialReference")],b.prototype,"readSpatialReference",
null);return b=a.__decorate([g.subclass("esri.geometry.Geometry")],b)})},"esri/geometry/Point":function(){define("../chunks/tslib.es6 ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h){function t(z){return z&&("esri.geometry.SpatialReference"===z.declaredClass||null!=z.wkid)}var v;const w=[0,0];e=v=class extends n{static copy(z,y){y._set("x",z._get("x"));y._set("y",z._get("y"));y._set("z",z._get("z"));y._set("m",z._get("m"));z=z._get("spatialReference");y._set("spatialReference",Object.isFrozen(z)?z:z.clone())}constructor(...z){super(...z);this.y=this.x=0;this.m=this.z=void 0;this.type="point"}normalizeCtorArgs(z,y,r,x,B){let A;if(Array.isArray(z))A=
z,B=y,z=A[0],y=A[1],r=A[2],x=A[3];else if(z&&"object"===typeof z){if(A=z,z=null!=A.x?A.x:A.longitude,y=null!=A.y?A.y:A.latitude,r=A.z,x=A.m,(B=A.spatialReference)&&"esri.geometry.SpatialReference"!==B.declaredClass&&(B=new u(B)),null!=A.longitude||null!=A.latitude)null==A.longitude?b.getLogger(this).warn(".longitude\x3d","Latitude was defined without longitude"):null==A.latitude?b.getLogger(this).warn(".latitude\x3d","Longitude was defined without latitude"):!A.declaredClass&&B&&B.isWebMercator&&
(y=h.lngLatToXY(A.longitude,A.latitude,w),z=y[0],y=y[1])}else t(r)?(B=r,r=null):t(x)&&(B=x,x=null);z={x:z,y};null==z.x&&null!=z.y?b.getLogger(this).warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==z.y&&null!=z.x&&b.getLogger(this).warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=B&&(z.spatialReference=B);null!=r&&(z.z=r);null!=x&&(z.m=x);return z}get cache(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");
this.commitProperty("spatialReference");return{}}get hasM(){return void 0!==this.m}set hasM(z){const y=void 0!==this._get("m");z!==y&&(this._set("m",z?0:void 0),this._set("hasM",z))}get hasZ(){return void 0!==this.z}set hasZ(z){const y=void 0!==this._get("z");z!==y&&(this._set("z",z?0:void 0),this._set("hasZ",z))}get latitude(){const {spatialReference:z,x:y,y:r}=this;if(z){if(z.isWebMercator)return h.xyToLngLat(y,r,w)[1];if(z.isGeographic)return r}return null}set latitude(z){const {spatialReference:y,
x:r}=this;null!=z&&y&&(y.isWebMercator?this._set("y",h.lngLatToXY(r,z,w)[1]):y.isGeographic&&this._set("y",z),this._set("latitude",z))}get longitude(){const {x:z,y,spatialReference:r}=this;if(r){if(r.isWebMercator)return h.xyToLngLat(z,y,w)[0];if(r.isGeographic)return z}return null}set longitude(z){const {y,spatialReference:r}=this;null!=z&&r&&(r.isWebMercator?this._set("x",h.lngLatToXY(z,y,w)[0]):r.isGeographic&&this._set("x",z),this._set("longitude",z))}writeX(z,y,r){y[r]=isNaN(z)?"NaN":z}readX(z){return"string"===
typeof z?NaN:z}clone(){const z=new v;z.x=this.x;z.y=this.y;z.z=this.z;z.m=this.m;z.spatialReference=this.spatialReference;return z}copy(z){v.copy(z,this);return this}equals(z){if(null==z)return!1;const {x:y,y:r,z:x,m:B,spatialReference:A}=this,{z:E,m:F}=z;let {x:L,y:D,spatialReference:M}=z;if(!A.equals(M))if(A.isWebMercator&&M.isWGS84)[L,D]=h.lngLatToXY(L,D),M=A;else if(A.isWGS84&&M.isWebMercator)[L,D]=h.xyToLngLat(L,D),M=A;else return!1;return y===L&&r===D&&x===E&&B===F&&A.wkid===M.wkid}offset(z,
y,r){this.x+=z;this.y+=y;null!=r&&(this.z=(this.z??0)+r);return this}normalize(){if(!this.spatialReference)return this;var z=c.getInfo(this.spatialReference);if(!z)return this;let y=this.x;const [r,x]=z.valid;z=2*x;let B;y>x?(B=Math.ceil(Math.abs(y-x)/z),y-=B*z):y<r&&(B=Math.ceil(Math.abs(y-r)/z),y+=B*z);this._set("x",y);return this}distance(z){return m.distance(this,z)}toArray(){const z=this.hasZ,y=this.hasM;return z&&y?[this.x,this.y,this.z,this.m]:z?[this.x,this.y,this.z]:y?[this.x,this.y,this.m]:
[this.x,this.y]}toJSON(z){return this.write({},z)}};a.__decorate([d.property({readOnly:!0})],e.prototype,"cache",null);a.__decorate([d.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],e.prototype,"hasM",null);a.__decorate([d.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],e.prototype,"hasZ",null);a.__decorate([d.property({type:Number})],e.prototype,"latitude",null);a.__decorate([d.property({type:Number})],e.prototype,"longitude",null);
a.__decorate([d.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),f.cast(z=>isNaN(z)?z:l.ensureNumber(z))],e.prototype,"x",void 0);a.__decorate([p.writer("x")],e.prototype,"writeX",null);a.__decorate([q.reader("x")],e.prototype,"readX",null);a.__decorate([d.property({type:Number,json:{write:!0}})],e.prototype,"y",void 0);a.__decorate([d.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],e.prototype,"z",void 0);a.__decorate([d.property({type:Number,
json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],e.prototype,"m",void 0);e=v=a.__decorate([g.subclass("esri.geometry.Point")],e);e.prototype.toJSON.isDefaultToJSON=!0;return e})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports","../ensureType","../metadata"],function(a,b,d){function f(g){const p="__accessorMetadata__"in g?b.ensureType(g):g;return function(...l){l.push(p);if("number"===typeof l[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");
return e.apply(this,l)}}function e(g,p,l,n){d.getPropertyMetadata(g,p).cast=n}function k(g){return(p,l)=>{d.getPropertyMetadata(p,g).cast=p[l]}}const q=Object.prototype.toString;a.cast=function(...g){if(3!==g.length||"string"!==typeof g[1]){if(1===g.length&&"[object Function]"===q.call(g[0]))return f(g[0]);if(1===g.length&&"string"===typeof g[0])return k(g[0])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/pointUtils":function(){define(["exports"],function(a){a.distance=
function(b,d){const f=b.x-d.x,e=b.y-d.y;b=b.hasZ&&d.hasZ?b.z-d.z:0;return Math.sqrt(f*f+e*e+b*b)};a.squareDistance=function(b,d){const f=b.x-d.x,e=b.y-d.y;b=b.hasZ&&d.hasZ?b.z-d.z:0;return f*f+e*e+b*b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/webMercatorUtils":function(){define(["exports","../../core/lang","../SpatialReference","./Ellipsoid","./spatialReferenceUtils"],function(a,b,d,f,e){function k(n,u,m,c,h){h.spatialReference=m;if("x"in n&&"x"in h)[h.x,
h.y]=u(n.x,n.y,l,c);else if("xmin"in n&&"xmin"in h)[h.xmin,h.ymin]=u(n.xmin,n.ymin,l,c),[h.xmax,h.ymax]=u(n.xmax,n.ymax,l,c);else if("paths"in n&&"paths"in h||"rings"in n&&"rings"in h){n="paths"in n?n.paths:n.rings;m=[];for(let v=0;v<n.length;v++){const w=n[v];var t=[];m.push(t);for(let z=0;z<w.length;z++)t.push(u(w[z][0],w[z][1],[0,0],c)),2<w[z].length&&t[z].push(w[z][2]),3<w[z].length&&t[z].push(w[z][3])}"paths"in h?h.paths=m:h.rings=m}else if("points"in n&&"points"in h){n=n.points;m=[];for(t=0;t<
n.length;t++)m[t]=u(n[t][0],n[t][1],[0,0],c),2<n[t].length&&m[t].push(n[t][2]),3<n[t].length&&m[t].push(n[t][3]);h.points=m}return h}function q(n,u){const m=n&&(null!=n.wkid||null!=n.wkt?n:n.spatialReference),c=u&&(null!=u.wkid||null!=u.wkt?u:u.spatialReference);return n&&"type"in n&&"mesh"===n.type||u&&"type"in u&&"mesh"===u.type||!m||!c?!1:e.equals(c,m)?!0:e.isWebMercator(c)&&e.isWGS84(m)||e.isWebMercator(m)&&e.isWGS84(c)}function g(n,u,m=[0,0]){89.99999<u?u=89.99999:-89.99999>u&&(u=-89.99999);
u*=.017453292519943;m[0]=.017453292519943*n*f.earth.radius;m[1]=f.earth.halfSemiMajorAxis*Math.log((1+Math.sin(u))/(1-Math.sin(u)));return m}function p(n,u,m=[0,0],c=!1){n=n/f.earth.radius*57.29577951308232;m[0]=c?n:n-360*Math.floor((n+180)/360);m[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-u/f.earth.radius)));return m}const l=[0,0];a.canProject=q;a.geographicToWebMercator=function(n,u=!1,m=b.clone(n)){return k(n,g,d.WebMercator,u,m)};a.lngLatToXY=g;a.project=function(n,u){if(null==n)return null;
const m=n.spatialReference;u=u&&(null!=u.wkid||null!=u.wkt?u:u.spatialReference);return q(m,u)?e.equals(m,u)?b.clone(n):e.isWebMercator(u)?k(n,g,d.WebMercator,!1,b.clone(n)):e.isWGS84(u)?k(n,p,d.WGS84,!1,b.clone(n)):null:null};a.webMercatorToGeographic=function(n,u=!1,m=b.clone(n)){return k(n,p,d.WGS84,u,m)};a.x2lon=function(n){return n/f.earth.radius};a.xyToLngLat=p;a.y2lat=function(n){return Math.PI/2-2*Math.atan(Math.exp(-n/f.earth.radius))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/contains":function(){define(["exports"],function(a){function b(g,p){return d(g,p[0],p[1])}function d(g,p,l,n){return p>=g.xmin&&p<=g.xmax&&l>=g.ymin&&l<=g.ymax?null!=n&&g.hasZ?n>=g.zmin&&n<=g.zmax:!0:!1}function f(g,p){return e(g.rings,p)}function e(g,p){if(!g)return!1;if(!Array.isArray(g[0][0]))return k(!1,g,p);let l=!1;for(let n=0,u=g.length;n<u;n++)l=k(l,g[n],p);return l}function k(g,p,l){const [n,u]=l;l=0;for(let m=0,c=p.length;m<c;m++){l++;l===c&&(l=0);const [h,t]=p[m],
[v,w]=p[l];(t<u&&w>=u||w<u&&t>=u)&&h+(u-t)/(w-t)*(v-h)<n&&(g=!g)}return g}const q=[0,0];a.extentContainsCoords2D=b;a.extentContainsCoords3D=function(g,p){return d(g,p[0],p[1],p[2])};a.extentContainsExtent=function(g,p){const {xmin:l,ymin:n,zmin:u,xmax:m,ymax:c,zmax:h}=p;return g.hasZ&&p.hasZ?d(g,l,n,u)&&d(g,l,c,u)&&d(g,m,c,u)&&d(g,m,n,u)&&d(g,l,n,h)&&d(g,l,c,h)&&d(g,m,c,h)&&d(g,m,n,h):d(g,l,n)&&d(g,l,c)&&d(g,m,c)&&d(g,m,n)};a.extentContainsMultipoint=function(g,p){if(!p.points||p.points.length)return!1;
for(const l of p.points)if(!b(g,l))return!1;return!0};a.extentContainsPoint=function(g,p){return null!=p?d(g,p.x,p.y,p.z):!1};a.extentContainsXYZ=d;a.polygonContainsCoords=f;a.polygonContainsPoint=function(g,p){q[1]=p.y;q[0]=p.x;return f(g,q)};a.ringsContainsCoords=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],function(a,b){function d(w,z){return b.extentContainsPoint(w,z)}function f(w,z){var y=w.hasZ&&
z.hasZ;if(w.xmin<=z.xmin){var r=z.xmin;if(w.xmax<r)return!1}else if(r=w.xmin,z.xmax<r)return!1;if(w.ymin<=z.ymin){if(r=z.ymin,w.ymax<r)return!1}else if(r=w.ymin,z.ymax<r)return!1;if(y&&z.hasZ)if(w.zmin<=z.zmin){if(y=z.zmin,w.zmax<y)return!1}else if(y=w.zmin,z.zmax<y)return!1;return!0}function e(w,z){const {points:y,hasZ:r}=z;z=r?b.extentContainsCoords3D:b.extentContainsCoords2D;for(const x of y)if(z(w,x))return!0;return!1}function k(w,z){return q(w,z.rings)}function q(w,z){n[0]=w.xmin;n[1]=w.ymax;
u[0]=w.xmax;u[1]=w.ymax;m[0]=w.xmin;m[1]=w.ymin;c[0]=w.xmax;c[1]=w.ymin;for(var y of h)if(b.ringsContainsCoords(z,y))return!0;for(const r of z)if(r.length){z=r[0];if(b.extentContainsCoords2D(w,z))return!0;for(y=1;y<r.length;y++){const x=r[y];if(b.extentContainsCoords2D(w,x)||p(z,x,t))return!0;z=x}}return!1}function g(w,z){n[0]=w.xmin;n[1]=w.ymax;u[0]=w.xmax;u[1]=w.ymax;m[0]=w.xmin;m[1]=w.ymin;c[0]=w.xmax;c[1]=w.ymin;z=z.paths;for(const y of z){if(!z.length)continue;let r=y[0];if(b.extentContainsCoords2D(w,
r))return!0;for(let x=1;x<y.length;x++){const B=y[x];if(b.extentContainsCoords2D(w,B)||p(r,B,t))return!0;r=B}}return!1}function p(w,z,y){for(let r=0;r<y.length;r++)if(l(w,z,y[r][0],y[r][1]))return!0;return!1}function l(w,z,y,r,x){const [B,A]=w,[E,F]=z,[L,D]=y,[M,K]=r;var I=M-L;w=B-L;z=E-B;const P=K-D;y=A-D;r=F-A;const T=P*z-I*r;if(0===T)return!1;I=(I*y-P*w)/T;w=(z*y-r*w)/T;return 0<=I&&1>=I&&0<=w&&1>=w?(x&&(x[0]=B+I*(E-B),x[1]=A+I*(F-A)),!0):!1}const n=[0,0],u=[0,0],m=[0,0],c=[0,0],h=[n,u,m,c],t=
[[m,n],[n,u],[u,c],[c,m]],v=[0,0];a.extentIntersectsExtent=f;a.extentIntersectsMultipoint=e;a.extentIntersectsPoint=d;a.extentIntersectsPolygon=k;a.extentIntersectsPolyline=g;a.extentIntersectsRings=q;a.getFeatureExtentIntersector=function(w){switch(w){case "esriGeometryEnvelope":case "extent":return f;case "esriGeometryMultipoint":case "multipoint":return e;case "esriGeometryPoint":case "point":return d;case "esriGeometryPolygon":case "polygon":return k;case "esriGeometryPolyline":case "polyline":return g}};
a.isSelfIntersecting=function(w){for(let F=0;F<w.length;F++){const L=w[F];for(var z=0;z<L.length-1;z++){var y=L[z],r=L[z+1];for(var x=F+1;x<w.length;x++)for(var B=0;B<w[x].length-1;B++){var A=w[x][B],E=w[x][B+1];if(l(y,r,A,E,v)&&!(v[0]===y[0]&&v[1]===y[1]||v[0]===A[0]&&v[1]===A[1]||v[0]===r[0]&&v[1]===r[1]||v[0]===E[0]&&v[1]===E[1]))return!0}}z=L.length;if(!(4>=z))for(y=0;y<z-3;y++)for(r=z-1,0===y&&(r=z-2),x=L[y],B=L[y+1],A=y+2;A<r;A++){E=L[A];const D=L[A+1];if(l(x,B,E,D,v)&&!(v[0]===x[0]&&v[1]===
x[1]||v[0]===E[0]&&v[1]===E[1]||v[0]===B[0]&&v[1]===B[1]||v[0]===D[0]&&v[1]===D[1]))return!0}}return!1};a.segmentIntersects=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/locale":function(){define(["exports","../core/handleUtils"],function(a,b){function d(){return p??globalThis.navigator?.language??"en"}function f(){void 0===g&&(g=d());return g}function e(m=f()){return/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(m)?.[1].toLowerCase()}function k(){const m=q??d();g!==m&&(g=m,
[...u].forEach(c=>{c.call(null,m)}),[...n].forEach(c=>{c.call(null,m)}))}let q=void 0,g=void 0;const p=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,l={he:!0,ar:!0},n=[],u=[];globalThis.addEventListener?.("languagechange",k);a.beforeLocaleChange=function(m){u.push(m);return b.makeHandle(()=>n.splice(u.indexOf(m),1))};a.getDefaultLocale=d;a.getLanguage=e;a.getLocale=f;a.onLocaleChange=function(m){n.push(m);return b.makeHandle(()=>n.splice(n.indexOf(m),1))};a.prefersRTL=function(m=f()){m=
e(m);return void 0!==m&&(l[m]||!1)};a.setLocale=function(m){q=m||void 0;k()};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/portalDefault":function(){define(["exports"],function(a){let b;a.clearDefaultPortalInstance=function(){b=void 0};a.ensureDefaultPortalInstance=function(d){if(!b||b.destroyed)b=d();return b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/PortalGroup":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),
function(a,b,d,f,e,k,q,g,p){var l;d=l=class extends d.JSONSupport{constructor(n){super(n);this.id=this.description=this.created=this.access=null;this.isInvitationOnly=!1;this.title=this.tags=this.sourceJSON=this.sortOrder=this.sortField=this.snippet=this.portal=this.owner=this.modified=null}get thumbnailUrl(){const n=this.url,u=this.thumbnail;return n&&u&&this.portal?this.portal?.normalizeUrl(`${n}/info/${u}?f=json`):null}get url(){const n=this.portal?.restUrl;return n?n+"/community/groups/"+this.id:
null}fetchCategorySchema(n){return this.portal.request(this.url+"/categorySchema",n).then(u=>{u=u.categorySchema||[];return u.some(m=>"contentCategorySetsGroupQuery.LivingAtlas"===m.source)?this._fetchCategorySchemaSet("LivingAtlas",n):u})}fetchMembers(n){return this.portal.request(this.url+"/users",n)}getThumbnailUrl(n){let u=this.thumbnailUrl;u&&n&&(u+=`&w=${n}`);return u}toJSON(){throw new b("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");}static fromJSON(n){if(!n)return null;
if(n.declaredClass)throw Error("JSON object is already hydrated");const u=new l;u.sourceJSON=n;u.read(n);return u}queryItems(n,u){n=e.ensureType(p,n);const m=this.portal;if(5<parseFloat(m.currentVersion))return n=n||new p,m.queryPortal(`/content/groups/${this.id}/search`,n,"PortalItem",u);n=n?n.clone():new p;n.query="group:"+this.id+(n.query?" "+n.query:"");return m.queryItems(n,u)}_fetchCategorySchemaSet(n,u){const m=this.portal;return m.fetchSelf(m.authMode,!0,u).then(c=>{if(c=c.contentCategorySetsGroupQuery){const h=
new p;h.disableExtraQuery=!0;h.num=1;h.query=c;return m.queryGroups(h,u)}throw new b("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(c=>{if(c.total){c=c.results[0];const h=new p;h.num=1;h.query=`typekeywords:"${n}"`;return c.queryItems(h,u)}throw new b("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(c=>c.total?c.results[0].fetchData("json",u).then(h=>{h=h?.categorySchema;return h?.length?h:[]}):[])}};a.__decorate([f.property()],
d.prototype,"access",void 0);a.__decorate([f.property({type:Date})],d.prototype,"created",void 0);a.__decorate([f.property()],d.prototype,"description",void 0);a.__decorate([f.property()],d.prototype,"id",void 0);a.__decorate([f.property()],d.prototype,"isInvitationOnly",void 0);a.__decorate([f.property({type:Date})],d.prototype,"modified",void 0);a.__decorate([f.property()],d.prototype,"owner",void 0);a.__decorate([f.property()],d.prototype,"portal",void 0);a.__decorate([f.property()],d.prototype,
"snippet",void 0);a.__decorate([f.property()],d.prototype,"sortField",void 0);a.__decorate([f.property()],d.prototype,"sortOrder",void 0);a.__decorate([f.property()],d.prototype,"sourceJSON",void 0);a.__decorate([f.property()],d.prototype,"tags",void 0);a.__decorate([f.property()],d.prototype,"thumbnail",void 0);a.__decorate([f.property({readOnly:!0})],d.prototype,"thumbnailUrl",null);a.__decorate([f.property()],d.prototype,"title",void 0);a.__decorate([f.property({readOnly:!0})],d.prototype,"url",
null);return d=l=a.__decorate([g.subclass("esri.portal.PortalGroup")],d)})},"esri/portal/PortalQueryParams":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),function(a,b,d,f,e,k,q,g,p,l){var n;const u=new d.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",
numComments:"num-comments",numViews:"num-views"});b=n=class extends b{constructor(m){super(m);this.categories=null;this.disableExtraQuery=!1;this.filter=this.extent=null;this.num=10;this.sortField=this.query=null;this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(m){"asc"!==m&&"desc"!==m||this._set("sortOrder",m)}clone(){return new n({categories:this.categories?f.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():
null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(m,c){let h=[];this.categories&&(h=this.categories.map(w=>Array.isArray(w)?JSON.stringify(w):w));let t="";if(this.extent){var v=l.project(this.extent,p.WGS84);null!=v&&(t=`${v.xmin},${v.ymin},${v.xmax},${v.ymax}`)}v=this.query;!this.disableExtraQuery&&m.extraQuery&&(v="("+v+")"+m.extraQuery);m={categories:h,bbox:t,q:v,filter:this.filter,num:this.num,sortField:null,
sortOrder:null,start:this.start};this.sortField&&(m.sortField=this.sortField.split(",").map(w=>u.toJSON(w.trim())).join(","),m.sortOrder=this.sortOrder);return{query:{...c,...m}}}};a.__decorate([e.property()],b.prototype,"categories",void 0);a.__decorate([e.property()],b.prototype,"disableExtraQuery",void 0);a.__decorate([e.property({type:g})],b.prototype,"extent",void 0);a.__decorate([e.property()],b.prototype,"filter",void 0);a.__decorate([e.property()],b.prototype,"num",void 0);a.__decorate([e.property()],
b.prototype,"query",void 0);a.__decorate([e.property()],b.prototype,"sortField",void 0);a.__decorate([e.property()],b.prototype,"sortOrder",null);a.__decorate([e.property()],b.prototype,"start",void 0);return b=n=a.__decorate([q.subclass("esri.portal.PortalQueryParams")],b)})},"esri/portal/PortalQueryResult":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q){b=class extends b{constructor(g){super(g);this.total=this.results=this.queryParams=this.nextQueryParams=null}};a.__decorate([d.property()],b.prototype,"nextQueryParams",void 0);a.__decorate([d.property()],b.prototype,"queryParams",void 0);a.__decorate([d.property()],b.prototype,"results",void 0);a.__decorate([d.property()],b.prototype,"total",void 0);return b=a.__decorate([q.subclass("esri.portal.PortalQueryResult")],b)})},"esri/portal/PortalUser":function(){define("require ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){var u;f=u=class extends f.JSONSupport{constructor(...m){super(...m);this.userType=this.username=this.units=this.sourceJSON=this.roleId=this.role=this.region=this.privileges=this.preferredView=this.portal=this.orgId=this.modified=this.fullName=this.email=this.description=this.culture=this.created=this.access=null}get thumbnailUrl(){const m=this.url,c=this.thumbnail;return m&&c?this.portal.normalizeUrl(`${m}/info/${c}?f=json`):null}get userContentUrl(){const m=this.portal?.restUrl;
return m?`${m}/content/users/${this.username}`:null}get url(){const m=this.portal?.restUrl;return m?`${m}/community/users/${this.username}`:null}addItem(m){const c=m&&m.item;var h=m?.data;m=m?.folder;const t={method:"post"};c&&(t.query=c.createPostQuery(),null!=h&&("string"===typeof h?t.query.text=h:"object"===typeof h&&(t.query.text=JSON.stringify(h))));h=this.userContentUrl;m&&(h+="/"+("string"===typeof m?m:m.id));return this.portal.request(h+"/addItem",t).then(v=>{c.id=v.id;c.portal=this.portal;
return c.loaded?c.reload():c.load()})}deleteItem(m){let c=this.userContentUrl;m.ownerFolder&&(c+="/"+m.ownerFolder);return this.portal.request(c+`/items/${m.id}/delete`,{method:"post"}).then(()=>{m.id=null;m.portal=null})}deleteItems(m){const c=this.userContentUrl+"/deleteItems";var h=m.map(t=>t.id);return h.length?(h={method:"post",query:{items:h.join(",")}},this.portal.request(c,h).then(()=>{m.forEach(t=>{t.id=null;t.portal=null})})):Promise.resolve(void 0)}fetchFolders(){return this.portal.request(this.userContentUrl??
"",{query:{num:1}}).then(m=>m&&m.folders?m.folders.map(c=>{c=l.fromJSON(c);c.portal=this.portal;return c}):[])}fetchGroups(){return this.portal.request(this.url??"").then(m=>m&&m.groups?m.groups.map(c=>{c=n.fromJSON(c);c.portal=this.portal;return c}):[])}fetchItems(m){const c=m??{};let h=this.userContentUrl??"";c.folder&&(h+="/"+c.folder.id);let t;return(new Promise((v,w)=>a(["./PortalItem"],z=>v(Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"}))),
w))).then(({default:v})=>{t=v;return this.portal.request(h,{query:{folders:!1,num:c.num||10,start:c.start||1,sortField:c.sortField||"created",sortOrder:c.sortOrder||"asc"}})}).then(v=>{let w;return v?.items?(w=v.items.map(z=>{z=t.fromJSON(z);z.portal=this.portal;return z}),Promise.all(w.map(z=>z.load())).catch(z=>z).then(()=>({items:w,nextStart:v.nextStart,total:v.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(m=>m.tags)}getThumbnailUrl(m){let c=
this.thumbnailUrl;c&&m&&(c+=`&w=${m}`);return c}queryFavorites(m){return this.favGroupId?(this._favGroup||(this._favGroup=new n({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(m)):Promise.reject(new d("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new d("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented");}static fromJSON(m){if(!m)return null;if(m.declaredClass)throw Error("JSON object is already hydrated");
const c=new u;c.sourceJSON=m;c.read(m);return c}};b.__decorate([e.property()],f.prototype,"access",void 0);b.__decorate([e.property({type:Date})],f.prototype,"created",void 0);b.__decorate([e.property()],f.prototype,"culture",void 0);b.__decorate([e.property()],f.prototype,"description",void 0);b.__decorate([e.property()],f.prototype,"email",void 0);b.__decorate([e.property()],f.prototype,"favGroupId",void 0);b.__decorate([e.property()],f.prototype,"fullName",void 0);b.__decorate([e.property({type:Date})],
f.prototype,"modified",void 0);b.__decorate([e.property()],f.prototype,"orgId",void 0);b.__decorate([e.property()],f.prototype,"portal",void 0);b.__decorate([e.property()],f.prototype,"preferredView",void 0);b.__decorate([e.property()],f.prototype,"privileges",void 0);b.__decorate([e.property()],f.prototype,"region",void 0);b.__decorate([e.property()],f.prototype,"role",void 0);b.__decorate([e.property()],f.prototype,"roleId",void 0);b.__decorate([e.property()],f.prototype,"sourceJSON",void 0);b.__decorate([e.property()],
f.prototype,"thumbnail",void 0);b.__decorate([e.property({readOnly:!0})],f.prototype,"thumbnailUrl",null);b.__decorate([e.property()],f.prototype,"units",void 0);b.__decorate([e.property({readOnly:!0})],f.prototype,"userContentUrl",null);b.__decorate([e.property({readOnly:!0})],f.prototype,"url",null);b.__decorate([e.property()],f.prototype,"username",void 0);b.__decorate([e.property()],f.prototype,"userType",void 0);return f=u=b.__decorate([p.subclass("esri.portal.PortalUser")],f)})},"esri/portal/PortalFolder":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g){d=class extends d.JSONSupport{constructor(p){super(p);this.username=this.title=this.portal=this.id=this.created=null}get url(){const p=this.portal?.restUrl;return p?`${p}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new b("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");}};a.__decorate([f.property({type:Date})],d.prototype,"created",void 0);a.__decorate([f.property()],d.prototype,"id",void 0);a.__decorate([f.property()],d.prototype,
"portal",void 0);a.__decorate([f.property()],d.prototype,"title",void 0);a.__decorate([f.property({readOnly:!0})],d.prototype,"url",null);a.__decorate([f.property()],d.prototype,"username",void 0);return d=a.__decorate([g.subclass("esri.portal.PortalFolder")],d)})},"esri/portal/PortalItem":function(){define("require ../chunks/tslib.es6 ../assets ../kernel ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v){var w;const z=new Set("Map Service;Feature Service;Feature Collection;Scene Service;Image Service;Stream Service;Vector Tile Service;GeoJson;CSV;KML;WFS;WMTS;WMS;Feed".split(";")),y=new Set(["KML","GeoJson","CSV"]);k=w=class extends k.JSONSupportMixin(g){static from(r){return n.ensureClass(w,r)}constructor(r){super(r);this.id=this.groupCategories=this.extent=this.description=this.culture=this.created=this.categories=this.avgRating=this.applicationProxies=
this.apiKey=this.accessInformation=this.access=null;this.isOrgItem=!1;this.url=this.typeKeywords=this.type=this.title=this.tags=this.spatialReference=this.sourceUrl=this.sourceJSON=this.snippet=this.size=this.screenshots=this.portal=this.ownerFolder=this.owner=this.numViews=this.numRatings=this.numComments=this.name=this.modified=this.licenseInfo=this.itemControl=null}destroy(){this.portal=null}get displayName(){const r=this.type,x=this.typeKeywords||[];let B=r;"Feature Service"===r||"Feature Collection"===
r?B=x.includes("Table")?"Table":x.includes("Route Layer")?"Route Layer":x.includes("Markup")?"Markup":"Feature Layer":"Image Service"===r?B=x.includes("Elevation 3D Layer")?"Elevation Layer":x.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===r?B="Scene Layer":"Video Service"===r?B="Video Layer":"Scene Package"===r?B="Scene Layer Package":"Stream Service"===r?B="Feature Layer":"Geoprocessing Service"===r?B=x.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===
r?B="Locator":"Geoenrichment Service"===r?B="GeoEnrichment Service":"Microsoft Powerpoint"===r?B="Microsoft PowerPoint":"GeoJson"===r?B="GeoJSON":"Globe Service"===r?B="Globe Layer":"Vector Tile Service"===r?B="Tile Layer":"netCDF"===r?B="NetCDF":"Map Service"===r?B=x.includes("Spatiotemporal")||!x.includes("Hosted Service")&&!x.includes("Tiled")||x.includes("Relational")?"Map Image Layer":"Tile Layer":r&&r.toLowerCase().includes("add in")?B=r.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===
r?B="Big Data File Share":"Compact Tile Package"===r?B="Tile Package (tpkx)":"OGCFeatureServer"===r?B="OGC Feature Layer":"web mapping application"===r&&x.includes("configurableApp")?B="Instant App":"Insights Page"===r?B="Insights Report":"Excalibur Imagery Project"===r&&(B="Excalibur Project");return B}readExtent(r){return r&&r.length?new c(r[0][0],r[0][1],r[1][0],r[1][1]):null}get iconUrl(){var r=this.type?.toLowerCase()||"";const x=this.typeKeywords||[];var B=!1;let A=!1,E=!1,F=!1,L=!1,D=!1;B=
!1;0<r.indexOf("service")||"feature collection"===r||"kml"===r||"wms"===r||"wmts"===r||"wfs"===r?(B=x.includes("Hosted Service"),"feature service"===r||"feature collection"===r||"kml"===r||"wfs"===r?(A=x.includes("Table"),E=x.includes("Route Layer"),F=x.includes("Markup"),L=x.includes("Spatiotemporal"),D=x.includes("UtilityNetwork"),r=L&&A?"spatiotemporaltable":A?"table":E?"routelayer":F?"markup":L?"spatiotemporal":B?"featureshosted":D?"utilitynetwork":"features"):r="map service"===r||"wms"===r||
"wmts"===r?B||x.includes("Tiled")||"wmts"===r?"maptiles":"mapimages":"scene service"===r?x.includes("Line")?"sceneweblayerline":x.includes("3DObject")?"sceneweblayermultipatch":x.includes("Point")?"sceneweblayerpoint":x.includes("IntegratedMesh")?"sceneweblayermesh":x.includes("PointCloud")?"sceneweblayerpointcloud":x.includes("Polygon")?"sceneweblayerpolygon":x.includes("Building")?"sceneweblayerbuilding":x.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===r?x.includes("Elevation 3D Layer")?
"elevationlayer":x.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===r?"streamlayer":"video service"===r?x.includes("Live Stream")?"livestreamvideolayer":"videolayer":"vector tile service"===r?"vectortile":"datastore catalog service"===r?"datastorecollection":"geocoding service"===r?"geocodeservice":"geoprocessing service"===r?x.includes("Web Tool")?"tool":"layers":"geodata service"===r?"geodataservice":"3dtiles service"===r?"3dtileslayer":"layers"):r="web map"===r||"cityengine web scene"===
r?"maps":"web scene"===r?x.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===r&&x.includes("configurableApp")?"instantapps":"web mapping application"===r||"mobile application"===r||"application"===r||"operation view"===r||"desktop application"===r?"apps":"map document"===r||"map package"===r||"published map"===r||"scene document"===r||"globe document"===r||"basemap package"===r||"mobile basemap package"===r||"mobile map package"===r||"project package"===r||
"project template"===r||"pro map"===r||"layout"===r||"layer"===r&&x.includes("ArcGIS Pro")||"explorer map"===r&&x.indexOf("Explorer Document")?"mapsgray":"service definition"===r||"csv"===r||"shapefile"===r||"cad drawing"===r||"geojson"===r||"netcdf"===r||"administrative report"===r?"datafiles":"explorer add in"===r||"desktop add in"===r||"windows viewer add in"===r||"windows viewer configuration"===r?"appsgray":"360 vr experience"===r?"360vr":"arcgis pro add in"===r||"arcgis pro configuration"===
r?"addindesktop":"rule package"===r||"file geodatabase"===r||"sqlite geodatabase"===r||"csv collection"===r||"kml collection"===r||"windows mobile package"===r||"map template"===r||"desktop application template"===r||"gml"===r||"arcpad package"===r||"code sample"===r||"document link"===r||"earth configuration"===r||"operations dashboard add in"===r||"rules package"===r||"image"===r||"workflow manager package"===r||"explorer map"===r&&x.includes("Explorer Mapping Application")||x.includes("Document")?
"datafilesgray":"network analysis service"===r||"geoprocessing service"===r||"geodata service"===r||"geometry service"===r||"geoprocessing package"===r||"locator package"===r||"geoprocessing sample"===r||"workflow manager service"===r?"toolsgray":"layer"===r||"layer package"===r||"explorer layer"===r?"layersgray":"scene package"===r?"scenepackage":"3dtiles package"===r?"3dtileslayerpackage":"mobile scene package"===r?"mobilescenepackage":"tile package"===r||"compact tile package"===r?"tilepackage":
"task file"===r?"taskfile":"report template"===r?"report-template":"statistical data collection"===r?"statisticaldatacollection":"insights workbook"===r?"workbook":"insights model"===r?"insightsmodel":"insights page"===r?"insightspage":"insights theme"===r?"insightstheme":"hub initiative"===r?"hubinitiative":"hubpage"===r?"hubpage":"hub event"===r?"hubevent":"hub site application"===r?"hubsite":"hub project"===r?"hubproject":"relational database connection"===r?"relationaldatabaseconnection":"big data file share"===
r?"datastorecollection":"image collection"===r?"imagecollection":"style"===r?"style":"desktop style"===r?"desktopstyle":"dashboard"===r?"dashboard":"raster function template"===r?"rasterprocessingtemplate":"vector tile package"===r?"vectortilepackage":"ortho mapping project"===r?"orthomappingproject":"ortho mapping template"===r?"orthomappingtemplate":"solution"===r?"solutions":"geopackage"===r?"geopackage":"deep learning package"===r?"deeplearningpackage":"real time analytic"===r?"realtimeanalytics":
"big data analytic"===r?"bigdataanalytics":"feed"===r?"feed":"excalibur imagery project"===r?"excaliburimageryproject":"notebook"===r?"notebook":"storymap"===r?"storymap":"survey123 add in"===r?"survey123addin":"mission"===r?"mission":"mission report"===r?"missionreport":"mission template"===r?"missiontemplate":"quickcapture project"===r?"quickcaptureproject":"pro report"===r?"proreport":"pro report template"===r?"proreporttemplate":"urban model"===r?"urbanmodel":"web experience"===r?"experiencebuilder":
"web experience template"===r?"webexperiencetemplate":"experience builder widget"===r?"experiencebuilderwidget":"experience builder widget package"===r?"experiencebuilderwidgetpackage":"workflow"===r?"workflow":"insights script"===r?"insightsscript":"kernel gateway connection"===r?"kernelgatewayconnection":"hub initiative template"===r?"hubinitiativetemplate":"storymap theme"===r?"storymaptheme":"knowledge graph"===r?"knowledgegraph":"knowledge studio project"===r?"knowledgestudio":"native application"===
r?"nativeapp":"native application installer"===r?"nativeappinstaller":"link chart"===r?"linkchart":"investigation"===r?"investigation":"ogcfeatureserver"===r?"features":"pro project"===r?"proproject":"insights workbook package"===r?"insightsworkbookpackage":"apache parquet"===r?"apacheparquet":"notebook code snippets"===r||"notebook code snippet library"===r?"notebookcodesnippets":"suitability model"===r?"suitabilitymodel":"esri classifier definition"===r?"classifierdefinition":"esri classification schema"===
r?"classificationschema":"insights data engineering workbook"===r?"dataengineeringworkbook":"insights data engineering model"===r?"dataengineeringmodel":"deep learning studio project"===r?"deeplearningproject":"discussion"===r?"discussion":"allsource project"===r?"allsourceproject":"api key"===r?"apikey":"data pipeline"===r?"datapipelines":"group layer"===r?(B=x.includes("Map"))?"layergroup2d":"layergroup":"media layer"===r?"onlinemedialayer":"form"===r?x.includes("Survey123")?"survey":"datafilesgray":
"maps";return r?d.getAssetUrl("esri/images/portal/"+r+"16.png"):null}get isLayer(){return null!=this.type&&z.has(this.type)}get itemCdnUrl(){let r=this.itemUrl;r&&f.id&&!f.id.findCredential(r)&&(r=f.id._normalizeAGOLorgDomain(r),r=r.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),r=r.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),r=r.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com"));return r}get itemPageUrl(){const r=this.portal?.itemPageUrl;
return r&&this.id?`${r}?id=${this.id}`:null}get itemUrl(){const r=this.portal?.restUrl;return r&&this.id?`${r}/content/items/${this.id}`:null}get thumbnailUrl(){const r=this.itemUrl,x=this.thumbnail;return r&&x?this.portal?.normalizeUrl(`${r}/info/${x}?f=json`)??null:null}get userItemUrl(){const r=this.portal?.restUrl;if(!r)return null;const x=this.owner||this.portal?.user?.username;return x?`${r}/content/users/${this.ownerFolder?`${x}/${this.ownerFolder}`:x}/items/${this.id}`:null}load(r){const x=
this.portal??(this.portal=h.getDefault()),B=x.load(r).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?x.request(this.itemUrl,{signal:null!=r?r.signal:null,query:{token:this.apiKey}}):{}).then(A=>{this.sourceJSON=A;this.read(A)});this.addResolvingPromise(B);return Promise.resolve(this)}async addRating(r){const x={method:"post",query:{}};r instanceof v&&(r=r.rating);null==r||isNaN(r)||"number"!==typeof r||(x.query.rating=r);if(!this.portal)return null;await this.portal.request(this.itemUrl+
"/addRating",x);return new v({rating:r,created:new Date})}clone(){var r={access:this.access,accessInformation:this.accessInformation,applicationProxies:q.clone(this.applicationProxies),avgRating:this.avgRating,categories:q.clone(this.categories),created:q.clone(this.created),culture:this.culture,description:this.description,extent:q.clone(this.extent),groupCategories:q.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:q.clone(this.modified),
name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:q.clone(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:q.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:q.clone(this.typeKeywords),url:this.url};this.loaded&&(r.loadStatus="loaded");r=(new w({sourceJSON:this.sourceJSON})).set(r);
r._set("isOrgItem",this.isOrgItem);return r}createPostQuery(){const r=this.toJSON();for(var x of["tags","typeKeywords","categories"])r[x]=r[x]?.join(", ");({extent:x}=r);x&&(r.extent=JSON.stringify(x));return r}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(r="json",x){return this.portal.request(this.itemUrl+"/data",{responseType:r,...x,query:{token:this.apiKey}})}async fetchRating(r){r=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},
...r});return null!=r.rating?(r.created=new Date(r.created),new v(r)):null}fetchRelatedItems(r,x){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...r,token:this.apiKey},...x},w)}getThumbnailUrl(r){let x=this.thumbnailUrl;x&&r&&(x+=`&w=${r}`);return x}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(r=>{this.sourceJSON=r;this.read(r);return this})}update(r){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>
{const x=r?.data,B={method:"post"};B.query=this.createPostQuery();for(const A in B.query)null===B.query[A]&&(B.query[A]="");B.query.clearEmptyFields=!0;null!=x&&("string"===typeof x?B.query.text=x:"object"===typeof x&&(B.query.text=JSON.stringify(x)));return this.portal.request(`${this.userItemUrl}/update`,B).then(()=>this.reload())}):Promise.reject(new e("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(r){if(!this.id)throw new e("portal:item-does-not-exist",
"The item does not exist yet");await this.load();const {portal:x,itemUrl:B}=this;await x.signIn();const {copyResources:A,folder:E,tags:F,title:L}=r||{};r={method:"post",query:{copyPrivateResources:"all"===A,folder:"string"===typeof E?E:E?.id,includeResources:!!A,tags:F?.join(","),title:L}};({itemId:r}=await x.request(`${B}/copy`,r));return new w({id:r,portal:x})}updateThumbnail(r){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const x=r.thumbnail,B=r.filename,A={method:"post"};
if("string"===typeof x)p.isDataProtocol(x)?A.query={data:x}:A.query={url:p.makeAbsolute(x)},null!=B&&(A.query.filename=B);else{const E=new FormData;null!=B?E.append("file",x,B):E.append("file",x);A.body=E}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,A).then(()=>this.reload())}):Promise.reject(new e("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(r={},x){const {fetchResources:B}=await new Promise((A,E)=>a(["./support/resourceUtils"],
A,E));return B(this,r,x)}async addResource(r,x,B){const {addOrUpdateResource:A}=await new Promise((E,F)=>a(["./support/resourceUtils"],E,F));r.portalItem=this;return A(r,"add",x,B)}async removeResource(r,x){const {removeResource:B}=await new Promise((A,E)=>a(["./support/resourceUtils"],A,E));if(r.portalItem&&r.portalItem.itemUrl!==this.itemUrl)throw new e("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return B(this,r,x)}async removeAllResources(r){const {removeAllResources:x}=
await new Promise((B,A)=>a(["./support/resourceUtils"],B,A));return x(this,r)}resourceFromPath(r){return new t({portalItem:this,path:r})}toJSON(){var r=this.extent;r={accessInformation:this.accessInformation,categories:q.clone(this.categories),created:this.created?.getTime(),description:this.description,extent:r&&[[r.xmin,r.ymin],[r.xmax,r.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,
snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:q.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:q.clone(this.typeKeywords),url:this.url};return q.fixJson(r)}static fromJSON(r){if(!r)return null;if(r.declaredClass)throw Error("JSON object is already hydrated");return new w({sourceJSON:r})}_getPostQuery(){const r=this.toJSON();for(const x in r)"tags"===x&&null!==r[x]&&(r[x]=r[x].join(", ")),"typeKeywords"===x&&null!==
r[x]&&(r[x]=r[x].join(", ")),"extent"===x&&r[x]&&(r[x]=JSON.stringify(r[x]));return r}};b.__decorate([l.property({type:["private","shared","org","public"]})],k.prototype,"access",void 0);b.__decorate([l.property()],k.prototype,"accessInformation",void 0);b.__decorate([l.property({type:String})],k.prototype,"apiKey",void 0);b.__decorate([l.property({json:{read:{source:"appProxies"}}})],k.prototype,"applicationProxies",void 0);b.__decorate([l.property()],k.prototype,"avgRating",void 0);b.__decorate([l.property()],
k.prototype,"categories",void 0);b.__decorate([l.property({type:Date})],k.prototype,"created",void 0);b.__decorate([l.property()],k.prototype,"culture",void 0);b.__decorate([l.property()],k.prototype,"description",void 0);b.__decorate([l.property({readOnly:!0})],k.prototype,"displayName",null);b.__decorate([l.property({type:c})],k.prototype,"extent",void 0);b.__decorate([u.reader("extent")],k.prototype,"readExtent",null);b.__decorate([l.property()],k.prototype,"groupCategories",void 0);b.__decorate([l.property({readOnly:!0})],
k.prototype,"iconUrl",null);b.__decorate([l.property()],k.prototype,"id",void 0);b.__decorate([l.property({readOnly:!0})],k.prototype,"isLayer",null);b.__decorate([l.property({type:Boolean,readOnly:!0})],k.prototype,"isOrgItem",void 0);b.__decorate([l.property()],k.prototype,"itemControl",void 0);b.__decorate([l.property({readOnly:!0})],k.prototype,"itemPageUrl",null);b.__decorate([l.property({readOnly:!0})],k.prototype,"itemUrl",null);b.__decorate([l.property()],k.prototype,"licenseInfo",void 0);
b.__decorate([l.property({type:Date})],k.prototype,"modified",void 0);b.__decorate([l.property()],k.prototype,"name",void 0);b.__decorate([l.property()],k.prototype,"numComments",void 0);b.__decorate([l.property()],k.prototype,"numRatings",void 0);b.__decorate([l.property()],k.prototype,"numViews",void 0);b.__decorate([l.property()],k.prototype,"owner",void 0);b.__decorate([l.property()],k.prototype,"ownerFolder",void 0);b.__decorate([l.property({type:h})],k.prototype,"portal",void 0);b.__decorate([l.property()],
k.prototype,"screenshots",void 0);b.__decorate([l.property()],k.prototype,"size",void 0);b.__decorate([l.property()],k.prototype,"snippet",void 0);b.__decorate([l.property()],k.prototype,"sourceJSON",void 0);b.__decorate([l.property({type:String})],k.prototype,"sourceUrl",void 0);b.__decorate([l.property({type:String})],k.prototype,"spatialReference",void 0);b.__decorate([l.property()],k.prototype,"tags",void 0);b.__decorate([l.property()],k.prototype,"thumbnail",void 0);b.__decorate([l.property({readOnly:!0})],
k.prototype,"thumbnailUrl",null);b.__decorate([l.property()],k.prototype,"title",void 0);b.__decorate([l.property()],k.prototype,"type",void 0);b.__decorate([l.property()],k.prototype,"typeKeywords",void 0);b.__decorate([l.property({type:String,json:{read(r,x){y.has(x.type)&&(x=this.portal?.restUrl,r||(r=x&&this.id?`${x}/content/items/${this.id}/data`:null));return r}}})],k.prototype,"url",void 0);b.__decorate([l.property({readOnly:!0})],k.prototype,"userItemUrl",null);return k=w=b.__decorate([m.subclass("esri.portal.PortalItem")],
k)})},"esri/portal/PortalItemResource":function(){define("require ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q,g,p,l,n){d=class extends d{constructor(u){super(u);this.portalItem=null}normalizeCtorArgs(u){return u?.portalItem&&u.path?{...u,path:this._normalizePath(u.path,
u.portalItem)}:u}set path(u){null!=u&&k.isAbsolute(u)?e.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",u)}_castPath(u){return this._normalizePath(u,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?
`./resources/${this.path}`:null}fetch(u="json",m){const c=this.cdnUrl;if(null==c)throw new f("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(c,{responseType:u,query:{token:this.portalItem.apiKey},signal:m?.signal})}async update(u,m){const {addOrUpdateResource:c}=await new Promise((h,t)=>a(["./support/resourceUtils"],h,t));return c(this,"update",u,m)}hasPath(){return null!=this.path}_normalizePath(u,m){if(null==u)return u;
u=u.replace(/^\/+/,"");null!=m&&k.isAbsolute(u)&&(u=k.makeRelative(u,m.itemUrl));return u?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,"")}};b.__decorate([q.property()],d.prototype,"portalItem",void 0);b.__decorate([q.property({type:String,value:null})],d.prototype,"path",null);b.__decorate([g.cast("path")],d.prototype,"_castPath",null);b.__decorate([q.property({type:String,readOnly:!0})],d.prototype,"url",null);b.__decorate([q.property({type:String,readOnly:!0})],d.prototype,"cdnUrl",null);
b.__decorate([q.property({type:String,readOnly:!0})],d.prototype,"itemRelativeUrl",null);return d=b.__decorate([n.subclass("esri.portal.PortalItemResource")],d)})},"esri/portal/PortalRating":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q){b=class extends b{constructor(g){super(g);this.rating=this.created=
null}};a.__decorate([d.property()],b.prototype,"created",void 0);a.__decorate([d.property()],b.prototype,"rating",void 0);return b=a.__decorate([q.subclass("esri.portal.PortalRating")],b)})},"esri/support/basemapDefinitions":function(){define(["exports","../assets","../intl/messages"],function(a,b,d){a.esriBasemapDefinitions={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",
styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get "dark-gray"(){return{...this["dark-gray-vector"],
id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,
opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",
layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,
opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",
title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},
"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",
layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",
is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",
layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",
layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},
"arcgis-imagery-standard":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",
isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray.jpg")},
title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},
title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",
baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",
baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",
title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",
title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",
title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,
title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",
title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",
title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",
title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}};a.getBasemapTitle=async function(f){if(f){var e=f.includes("-vector")?f.slice(0,f.indexOf("-vector")):
f.includes("-3d")?f.slice(0,f.indexOf("-3d")):f,k=await d.fetchMessageBundle("esri/t9n/basemaps");return k[f]||k[e]}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/messages":function(){define(["exports","../core/Error","../core/handleUtils","../core/promiseUtils","./locale"],function(a,b,d,f,e){function k(t){for(const v of m.keys())g(t.pattern,v)&&m.delete(v)}async function q(t,v){const w=[];for(const z of u)if(g(z.pattern,t))try{return await z.fetchMessageBundle(t,v)}catch(y){w.push(y)}if(w.length)throw new b("intl:message-bundle-error",
`Errors occurred while loading "${t}"`,{errors:w});throw new b("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`);}function g(t,v){return"string"===typeof t?v.startsWith(t):t.test(v)}const p=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,l={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,
"zh-TW":!0},n=Object.keys(l),u=[],m=new Map;e.beforeLocaleChange(()=>{m.clear()});const c=new class{constructor(){this._numLoading=0;this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){this._increase();t.then(()=>this._decrease(),()=>this._decrease());return this.waitForAll()}_increase(){this._numLoading++;this._dfd||(this._dfd=f.createResolver())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}},
h={cache:m,loaders:u};a.fetchMessageBundle=async function(t){const v=e.getLocale();m.has(t)||m.set(t,q(t,v));(t=m.get(t))&&await c.add(t);return t};a.messageBundlesLocales=n;a.normalizeMessageBundleLocale=function(t){if(!p.test(t))return null;t=p.exec(t);if(null===t)return null;const [,v,w]=t;t=v+(w?"-"+w.toUpperCase():"");return t in l?t:v in l?v:null};a.registerMessageBundleLoader=function(t){u.includes(t)||(k(t),u.unshift(t));return d.makeHandle(()=>{const v=u.indexOf(t);-1<v&&(u.splice(v,1),k(t))})};
a.test=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/BasemapStyle":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../intl/locale".split(" "),function(a,b,d,f,e,k,q,g){const p=new Set("ar bs ca hr cs da nl en et fi fr de el he hu id it ja ko lv lt nb pl ro ru sr es sv th tr uk vi".split(" "));b=class extends b{constructor(l){super(l);
this.language=this.id=null;this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps"}getLanguageParamValue(){if(this.language)return this.language;var l=g.getLocale().toLowerCase();switch(l){case "pt-br":return"pt-BR";case "pt-pt":return"pt-PT";case "zh-cn":return"zh-CN";case "zh-hk":return"zh-HK";case "zh-tw":return"zh-TW"}l=g.getLanguage(l);return"pt"===l?"pt-BR":l&&p.has(l)?l:"global"}};a.__decorate([d.property()],b.prototype,"id",void 0);a.__decorate([d.property()],
b.prototype,"language",void 0);a.__decorate([d.property()],b.prototype,"serviceUrl",void 0);return b=a.__decorate([q.subclass("esri.support.BasemapStyle")],b)})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer ../../layers/support/layerUtils".split(" "),function(a,b,d,f,e,k){function q(l,n){"maxScale"in l&&(n.maxScale=e.numberToJSON(l.maxScale)??void 0);"minScale"in l&&
(n.minScale=e.numberToJSON(l.minScale)??void 0)}const g=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile wms wmts".split(" ")),p=new Set("csv feature geo-rss geojson group imagery imagery-tile kml map-image map-notes media ogc-feature oriented-imagery route stream subtype-group tile unknown unsupported vector-tile web-tile wfs wms wmts".split(" "));a.disableRestrictedWriting=function(l){g.add(l);p.add(l)};a.enableRestrictedWriting=function(l){g.delete(l);
p.delete(l)};a.getLayerJSON=function(l,n,u){if(!l.persistenceEnabled)return null;if(!("write"in l&&l.write))return u?.messages&&u.messages.push(new b("layer:unsupported",`Layers (${l.title}, ${l.id}) of type '${l.declaredClass}' cannot be persisted`,{layer:l})),null;if(k.isFeatureCollectionLayer(l)&&!l.isTable)n=l.resourceInfo;else{if(u.restrictedWebMapWriting){var m="basemap"===u.layerContainerType?g:"operational-layers"===u.layerContainerType?p:null;m=null!=m?m.has(l.type)&&!k.isFeatureCollectionLayer(l):
!0}else m=!0;if(m)return n={},l.write(n,u)?n:null}if(null!=n){n=d.clone(n);if(u=n)k.isFeatureCollectionLayer(l)?(m=f.getDeepValue("featureCollection.layers",u)?.[0]?.layerDefinition)&&q(l,m):"group"!==l.type&&q(l,u);if(u&&(u.id=l.id,"blendMode"in l&&(u.blendMode=l.blendMode,"normal"===u.blendMode&&delete u.blendMode),u.opacity=e.numberToJSON(l.opacity)??void 0,u.title=l.title||"Layer",u.visibility=l.visible,"legendEnabled"in l&&"wmts"!==l.type))if(k.isFeatureCollectionLayer(l)){if(u=u.featureCollection)u.showLegend=
l.legendEnabled}else u.showLegend=l.legendEnabled}return n};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layerUtils":function(){define(["exports","../../kernel","../../request"],function(a,b,d){function f(k){return"scene"===k?.type}function e(k){k=k?.type;return"imagery-tile"===k||"tile"===k||"open-street-map"===k||"vector-tile"===k||"web-tile"===k||"wmts"===k}a.getEffectiveEditingEnabled=function(k){a:if("editingEnabled"in k)switch(k.type){case "csv":case "feature":case "geojson":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":var q=
!0;break a;default:q=!1}else q=!1;return q?"effectiveEditingEnabled"in k?k.effectiveEditingEnabled:k.editingEnabled:!1};a.getEffectiveLayerCapabilities=function(k){a:if("capabilities"in k)switch(k.type){case "csv":case "feature":case "geojson":case "imagery":case "knowledge-graph-sublayer":case "ogc-feature":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":case "wfs":var q=!0;break a;default:q=!1}else q=!1;return q?"effectiveCapabilities"in k?k.effectiveCapabilities:
k.capabilities:null};a.getOwningPortalUrl=async function(k,q){var g=b.id?.findServerInfo(k);if(null!=g?.currentVersion)return g.owningSystemUrl||null;g=k.toLowerCase().indexOf("/rest/services");if(-1===g)return null;k=`${k.substring(0,g)}/rest/info`;({data:q}=await d(k,{query:{f:"json"},responseType:"json",signal:null!=q?q.signal:null}));return q?.owningSystemUrl||null};a.getTileMaxtrixSetFromActiveLayer=function(k){if(k.activeLayer){const q=k.activeLayer.tileMatrixSet;if(q)return q;if(k=k.activeLayer.tileMatrixSets)return k}return null};
a.isBaseLayer=function(k){return null!=k?.parent&&"declaredClass"in k.parent&&"esri.Basemap"===k.parent.declaredClass&&k.parent.baseLayers.includes(k)};a.isBasemap3DSupportedLayer=function(k){return e(k)||f(k)};a.isBasemapSupportedTiledLayer=e;a.isFeatureCollectionLayer=function(k){return"feature"===k?.type&&!k.url&&"memory"===k.source?.type};a.isFeatureLayer=function(k){return null!=k&&"object"===typeof k&&"type"in k&&"feature"===k.type};a.isFeatureServiceLayer=function(k){return"feature"===k?.type&&
"feature-layer"===k.source?.type};a.isGraphicsLayer=function(k){return null!=k&&"object"===typeof k&&"type"in k&&"graphics"===k.type};a.isGroupLayer=function(k){return null!=k&&"type"in k&&"group"===k.type};a.isImageryTileLayer=function(k){return"imagery-tile"===k?.type};a.isKnowledgeGraphLayer=function(k){return null!=k&&"object"===typeof k&&"type"in k&&"knowledge-graph"===k.type&&"layers"in k};a.isLayerWithFeatureLayerSource=function(k){return("feature"===k?.type||"subtype-group"===k?.type)&&"feature-layer"===
k.source?.type};a.isMapNotesLayer=function(k){return null!=k&&"object"===typeof k&&"type"in k&&"map-notes"===k.type&&"sublayers"in k};a.isSceneLayer=f;a.isSceneServiceLayer=function(k){k=k?.type;return"building-scene"===k||"integrated-mesh"===k||"point-cloud"===k||"scene"===k};a.isSubtypeGroupLayer=function(k){return null!=k&&"object"===typeof k&&"type"in k&&"subtype-group"===k.type&&"sublayers"in k};a.isTable=function(k){return null!=k&&"object"===typeof k&&"isTable"in k&&!!k.isTable};a.isTiledLayer=
function(k){k=k?.type;return"base-tile"===k||"tile"===k||"elevation"===k||"imagery-tile"===k||"base-elevation"===k||"open-street-map"===k||"wcs"===k||"web-tile"===k||"wmts"===k||"vector-tile"===k};a.isVoxelLayer=function(k){return"voxel"===k?.type};a.sceneServiceLayerTypeToClassName={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};a.serializeLayerDefinitions=function(k){const q=/[:;]/,g=[];let p=!1;if(k&&(k.forEach((l,
n)=>{g.push([n,l]);!p&&q.test(l)&&(p=!0)}),0<g.length)){if(p){const l={};g.forEach(n=>{l[n[0]]=n[1]});k=JSON.stringify(l)}else{const l=[];g.forEach(n=>{l.push(n[0]+":"+n[1])});k=l.join(";")}return k}return null};a.serializeTimeOptions=function(k){if(k){var q=[];k.forEach((g,p)=>{q.push('"'+p+'":'+JSON.stringify(g))});if(q.length)return"{"+q.join(",")+"}"}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Ground":function(){define("require ./chunks/tslib.es6 ./Color ./core/Collection ./core/collectionUtils ./core/compilerUtils ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./ground/NavigationConstraint ./webdoc/support/opacityUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y){function r(B){return"elevation"===B.type||B&&"createElevationSampler"in B}var x;g=x=class extends g.JSONSupportMixin(l){constructor(B){super(B);this.opacity=1;this.navigationConstraint=this.surfaceColor=null;this.layers=new f;const A=E=>{E.parent&&E.parent!==this&&"remove"in E.parent&&E.parent.remove(E);E.parent=this;"elevation"!==E.type&&"base-elevation"!==E.type&&u.getLogger(this).error(`Layer '${E.title}, id:${E.id}' of type '${E.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};
this.addHandles([this.layers.on("after-add",E=>A(E.item)),this.layers.on("after-remove",E=>{E.item.parent=null})])}initialize(){this.when().catch(B=>{c.isAbortError(B)||u.getLogger(this).error("#load()","Failed to load ground",B)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const B=this.layers.removeAll();for(const A of B)m.destroyMaybe(A);this.layers.destroy()}normalizeCtorArgs(B){B&&"resourceInfo"in B&&(this._set("resourceInfo",B.resourceInfo),B={...B},
delete B.resourceInfo);return B}set layers(B){this._set("layers",e.referenceSetter(B,this._get("layers")))}writeLayers(B,A,E,F){const L=[];B&&(F={...F,layerContainerType:"ground"},B.forEach(D=>{if("write"in D){const M={};k.typeCast(D)().write(M,F)&&L.push(M)}else F?.messages&&F.messages.push(new q("layer:unsupported",`Layers (${D.title}, ${D.id}) of type '${D.declaredClass}' cannot be persisted in the ground`,{layer:D}))}));A.layers=L}load(B){this.addResolvingPromise(this._loadFromSource(B));return Promise.resolve(this)}loadAll(){return n.loadAll(this,
B=>{B(this.layers)})}async queryElevation(B,A){await this.load({signal:A?.signal});var {ElevationQuery:E}=await new Promise((L,D)=>a(["./layers/support/ElevationQuery"],L,D));c.throwIfAborted(A);E=new E;const F=this.layers.filter(r).toArray();return E.queryAll(F,B,A)}async createElevationSampler(B,A){await this.load({signal:A?.signal});var {ElevationQuery:E}=await new Promise((L,D)=>a(["./layers/support/ElevationQuery"],L,D));c.throwIfAborted(A);E=new E;const F=this.layers.filter(r).toArray();return E.createSamplerAll(F,
B,A)}clone(){const B={opacity:this.opacity,surfaceColor:p.clone(this.surfaceColor),navigationConstraint:p.clone(this.navigationConstraint),layers:this.layers.slice()};this.loaded&&(B.loadStatus="loaded");return(new x({resourceInfo:this.resourceInfo})).set(B)}read(B,A){this.resourceInfo||this._set("resourceInfo",{data:B,context:A});super.read(B,A)}_loadFromSource(B){const A=this.resourceInfo;return A?this._loadLayersFromJSON(A.data,A.context,B):Promise.resolve()}async _loadLayersFromJSON(B,A,E){const F=
A?.origin||"web-scene",L=A?.portal||null;A=A?.url||null;const {populateOperationalLayers:D}=await new Promise((M,K)=>a(["./layers/support/layersCreator"],M,K));c.throwIfAborted(E);E=[];B.layers&&Array.isArray(B.layers)&&E.push(D(this.layers,B.layers,{context:{origin:F,url:A,portal:L,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));await Promise.allSettled(E)}};b.__decorate([h.property({json:{read:!1}})],g.prototype,"layers",null);b.__decorate([w.writer("layers")],
g.prototype,"writeLayers",null);b.__decorate([h.property({readOnly:!0})],g.prototype,"resourceInfo",void 0);b.__decorate([h.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:t.Integer,read:{reader:y.transparencyToOpacity,source:"transparency"},write:{writer:(B,A)=>{A.transparency=y.opacityToTransparency(B)},target:"transparency"}}})],g.prototype,"opacity",void 0);b.__decorate([h.property({type:d,json:{type:[t.Integer],write:(B,A)=>{A.surfaceColor=B.toJSON().slice(0,3)}}})],g.prototype,
"surfaceColor",void 0);b.__decorate([h.property({type:z.NavigationConstraint,json:{write:!0}})],g.prototype,"navigationConstraint",void 0);return g=x=b.__decorate([v.subclass("esri.Ground")],g)})},"esri/Color":function(){define(["./colorUtils","./core/mathUtils","./core/accessorSupport/ensureType"],function(a,b,d){function f(g){return b.clamp(d.ensureInteger(g),0,255)}function e(g,p,l){g=Number(g);return isNaN(g)?l:g<p?p:g>l?l:g}function k(g,p){g=g.toString(16).padStart(2,"0");return p?g.substring(0,
1):g}class q{static blendColors(g,p,l,n=new q){n.r=Math.round(g.r+(p.r-g.r)*l);n.g=Math.round(g.g+(p.g-g.g)*l);n.b=Math.round(g.b+(p.b-g.b)*l);n.a=g.a+(p.a-g.a)*l;return n._sanitize()}static fromRgb(g,p){var l=g.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(l){g=l[2].split(/\s*,\s*/);l=l[1];if("rgb"===l&&3===g.length||"rgba"===l&&4===g.length)return l=g[0],"%"===l.charAt(l.length-1)?(l=g.map(n=>2.56*parseFloat(n)),4===g.length&&(l[3]=parseFloat(g[3])),q.fromArray(l,p)):q.fromArray(g.map(n=>
parseFloat(n)),p);if("hsl"===l&&3===g.length||"hsla"===l&&4===g.length)return q.fromArray(a.hsla2rgba(parseFloat(g[0]),parseFloat(g[1])/100,parseFloat(g[2])/100,parseFloat(g[3])),p)}return null}static fromHex(g,p=new q){if("#"!==g[0]||isNaN(Number(`0x${g.substring(1)}`)))return null;switch(g.length){case 4:case 5:var l=parseInt(g.substring(1,2),16),n=parseInt(g.substring(2,3),16),u=parseInt(g.substring(3,4),16);g=5===g.length?15:parseInt(g.substring(4),16);return q.fromArray([l+16*l,n+16*n,u+16*u,
(g+16*g)/255],p);case 7:case 9:return l=parseInt(g.substring(1,3),16),n=parseInt(g.substring(3,5),16),u=parseInt(g.substring(5,7),16),g=7===g.length?255:parseInt(g.substring(7),16),q.fromArray([l,n,u,g/255],p);default:return null}}static fromArray(g,p=new q){p._set(Number(g[0]),Number(g[1]),Number(g[2]),Number(g[3]));isNaN(p.a)&&(p.a=1);return p._sanitize()}static fromString(g,p){const l=a.isNamedColor(g)?a.getNamedColor(g):null;return l&&q.fromArray(l,p)||q.fromRgb(g,p)||q.fromHex(g,p)}static fromJSON(g){return null!=
g?new q([g[0],g[1],g[2],(g[3]??255)/255]):void 0}static toUnitRGB(g){return null!=g?[g.r/255,g.g/255,g.b/255]:null}static toUnitRGBA(g){return null!=g?[g.r/255,g.g/255,g.b/255,null!=g.a?g.a:1]:null}constructor(g){this.b=this.g=this.r=255;this.a=1;g&&this.setColor(g)}get isBright(){return 127<=.299*this.r+.587*this.g+.114*this.b}setColor(g){"string"===typeof g?q.fromString(g,this):Array.isArray(g)?q.fromArray(g,this):(this._set(g.r??0,g.g??0,g.b??0,g.a??1),g instanceof q||this._sanitize());return this}toRgb(){return[this.r,
this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(g){const p=g?.capitalize??!1;var l=g?.digits??6;g=3===l||4===l;const n=4===l||8===l;l=k(this.r,g);const u=k(this.g,g),m=k(this.b,g);g=n?k(Math.round(255*this.a),g):"";g=`#${l}${u}${m}${g}`;return p?g.toUpperCase():g}toCss(g=!1){const p=this.r+", "+this.g+", "+this.b;return g?`rgba(${p}, ${this.a})`:`rgb(${p})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(g=q.AlphaMode.ALWAYS){const p=f(this.r),l=f(this.g),
n=f(this.b);return g===q.AlphaMode.ALWAYS||1!==this.a?[p,l,n,f(255*this.a)]:[p,l,n]}clone(){return new q(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(g){return null!=g&&g.r===this.r&&g.g===this.g&&g.b===this.b&&g.a===this.a}_sanitize(){this.r=Math.round(e(this.r,0,255));this.g=Math.round(e(this.g,0,255));this.b=Math.round(e(this.b,0,255));this.a=e(this.a,0,1);return this}_set(g,p,l,n){this.r=g;this.g=p;this.b=l;this.a=n}}q.prototype.declaredClass="esri.Color";(function(g){g=
g.AlphaMode||(g.AlphaMode={});g[g.ALWAYS=0]="ALWAYS";g[g.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(q||(q={}));return q})},"esri/colorUtils":function(){define(["exports"],function(a){function b(e){return f[e]??f[e.toLowerCase()]}function d(e,k,q){0>q&&++q;1<q&&--q;const g=6*q;return 1>g?e+(k-e)*g:1>2*q?k:2>3*q?e+(k-e)*(2/3-q)*6:e}const f={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,
0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,
1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,
79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,
1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,
136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,
228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,
105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,
205,50,1]};a.getNamedColor=b;a.getNamedColorCopy=function(e){return[...b(e)]};a.hex2rgba=function(e){var k=5<e.length;const q=k?8:4,g=(1<<q)-1,p=k?1:17;k=k?9===e.length:5===e.length;e=Number("0x"+e.substr(1));if(isNaN(e))return null;const l=[0,0,0,1];k&&(k=e&g,e>>=q,l[3]=p*k/255);k=e&g;e>>=q;l[2]=p*k;k=e&g;e>>=q;l[1]=p*k;k=e&g;e>>=q;l[0]=p*k;return l};a.hsla2rgba=function(e,k,q,g=1){e=(e%360+360)%360/360;k=.5>=q?q*(k+1):q+k-q*k;q=2*q-k;return[Math.round(255*d(q,k,e+1/3)),Math.round(255*d(q,k,e)),
Math.round(255*d(q,k,e-1/3)),g]};a.isNamedColor=function(e){return!!f[e]||!!f[e.toLowerCase()]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/mathUtils":function(){define(["exports","../chunks/vec3","../chunks/vec4"],function(a,b,d){function f(v,w,z){return Math.min(Math.max(v,w),z)}function e(v,w,z){return v+(w-v)*z}function k(v){return Math.asin(f(v,-1,1))}function q(v,w,z=1E-6){return v===w?!0:Number.isFinite(v)&&Number.isFinite(w)?(v>w?v-w:w-v)<=z:!1}function g(v){m.setFloat64(0,
v);return m.getBigInt64(0)}function p(v){m.setBigInt64(0,v);return m.getFloat64(0)}function l(v){v=Math.abs(v);var w=g(v);w=w<=c?p(c):p(w-c);return Math.abs(v-w)}function n(v){u[0]=v;return u[0]}const u=new Float32Array(1),m=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT)),c=BigInt("1000000"),h=l(1),t=n(3.4028234663852886E38);a.acosClamped=function(v){return Math.acos(f(v,-1,1))};a.applyOpacity=function(v,w,z){return d.set(v,w[0],w[1],w[2],w[3]*z)};a.asinClamped=k;a.cartesianToSpherical=
function(v,w){const z=b.length(v),y=k(v[2]/z);b.set(w,z,y,Math.atan2(v[1]/z,v[0]/z));return w};a.clamp=f;a.clampFloat32=function(v){return n(Math.max(-t,Math.min(v,t)))};a.deg2rad=function(v){return v*Math.PI/180};a.floatEqualAbsolute=q;a.floatEqualRelative=function(v,w,z=1E-6){if(v===w)return!0;if(!Number.isFinite(v)||!Number.isFinite(w))return!1;const y=Math.abs(v-w),r=Math.abs(v),x=Math.abs(w);if(0===v||0===w||1E-12>r&&1E-12>x){if(y>.01*z)return!1}else if(y/(r+x)>z)return!1;return!0};a.floatEqualUlp=
function(v,w,z=h){if(v===w)return!0;if(!Number.isFinite(v)||!Number.isFinite(w))return!1;if(null!=z&&l(Math.min(Math.abs(v),Math.abs(w)))<z)return Math.abs(v-w)<=z;v=g(v);w=g(w);return 0>v!==0>w||(v<w?w-v:v-w)>c?!1:!0};a.hasScaling=function(v){const w=v[3]*v[3]+v[4]*v[4]+v[5]*v[5],z=v[6]*v[6]+v[7]*v[7]+v[8]*v[8];return!(q(v[0]*v[0]+v[1]*v[1]+v[2]*v[2],1)&&q(w,1)&&q(z,1))};a.isPowerOfTwo=function(v){return 0===(v&v-1)};a.lerp=e;a.moduloPositive=function(v,w){return(v%w+w)%w};a.nextHighestPowerOfTen=
function(v){return 10**Math.ceil(Math.LOG10E*Math.log(v))};a.nextHighestPowerOfTwo=function(v){--v;for(let w=1;32>w;w<<=1)v|=v>>w;return v+1};a.nextPowerOfTwo=function(v){v--;v|=v>>1;v|=v>>2;v|=v>>4;v|=v>>8;v|=v>>16;v++;return v};a.numberMaxFloat32=t;a.rad2deg=function(v){return 180*v/Math.PI};a.reciprocalClamped=function(v,w=1E-6){return(0>v?-1:1)/Math.max(Math.abs(v),w)};a.roundToNearest=function(v,w){return 0===w?0:Math.round(v/w)*w};a.scale=function(v,w,z,y,r){return e(y,r,(v-w)/(z-w))};a.smoothstep=
function(v,w,z){v=f((z-v)/(w-v),0,1);return v*v*(3-2*v)};a.sphericalToCartesian=function(v,w){const z=v[0],y=v[1];v=v[2];const r=Math.cos(y);b.set(w,z*r*Math.cos(v),z*r*Math.sin(v),z*Math.sin(y))};a.step=function(v,w){return w<v?0:1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec3":function(){define(["exports","./vec3f64","./common"],function(a,b,d){function f(W){const ba=W[0],fa=W[1];W=W[2];return Math.sqrt(ba*ba+fa*fa+W*W)}function e(W,ba){W[0]=ba[0];W[1]=ba[1];
W[2]=ba[2];return W}function k(W,ba,fa,Ba){W[0]=ba;W[1]=fa;W[2]=Ba;return W}function q(W,ba,fa){W[0]=ba[0]+fa[0];W[1]=ba[1]+fa[1];W[2]=ba[2]+fa[2];return W}function g(W,ba,fa){W[0]=ba[0]-fa[0];W[1]=ba[1]-fa[1];W[2]=ba[2]-fa[2];return W}function p(W,ba,fa){W[0]=ba[0]*fa[0];W[1]=ba[1]*fa[1];W[2]=ba[2]*fa[2];return W}function l(W,ba,fa){W[0]=ba[0]/fa[0];W[1]=ba[1]/fa[1];W[2]=ba[2]/fa[2];return W}function n(W,ba){W[0]=Math.ceil(ba[0]);W[1]=Math.ceil(ba[1]);W[2]=Math.ceil(ba[2]);return W}function u(W,
ba){W[0]=Math.floor(ba[0]);W[1]=Math.floor(ba[1]);W[2]=Math.floor(ba[2]);return W}function m(W,ba){W[0]=Math.abs(ba[0]);W[1]=Math.abs(ba[1]);W[2]=Math.abs(ba[2]);return W}function c(W,ba){W[0]=Math.sign(ba[0]);W[1]=Math.sign(ba[1]);W[2]=Math.sign(ba[2]);return W}function h(W,ba,fa){W[0]=Math.min(ba[0],fa[0]);W[1]=Math.min(ba[1],fa[1]);W[2]=Math.min(ba[2],fa[2]);return W}function t(W,ba,fa){W[0]=Math.max(ba[0],fa[0]);W[1]=Math.max(ba[1],fa[1]);W[2]=Math.max(ba[2],fa[2]);return W}function v(W,ba){W[0]=
Math.round(ba[0]);W[1]=Math.round(ba[1]);W[2]=Math.round(ba[2]);return W}function w(W,ba,fa){W[0]=ba[0]*fa;W[1]=ba[1]*fa;W[2]=ba[2]*fa;return W}function z(W,ba,fa,Ba){W[0]=ba[0]+fa[0]*Ba;W[1]=ba[1]+fa[1]*Ba;W[2]=ba[2]+fa[2]*Ba;return W}function y(W,ba){const fa=ba[0]-W[0],Ba=ba[1]-W[1];W=ba[2]-W[2];return Math.sqrt(fa*fa+Ba*Ba+W*W)}function r(W,ba){const fa=ba[0]-W[0],Ba=ba[1]-W[1];W=ba[2]-W[2];return fa*fa+Ba*Ba+W*W}function x(W){const ba=W[0],fa=W[1];W=W[2];return ba*ba+fa*fa+W*W}function B(W,ba){W[0]=
-ba[0];W[1]=-ba[1];W[2]=-ba[2];return W}function A(W,ba){W[0]=1/ba[0];W[1]=1/ba[1];W[2]=1/ba[2];return W}function E(W,ba){var fa=ba[0];const Ba=ba[1],Ja=ba[2];fa=fa*fa+Ba*Ba+Ja*Ja;0<fa&&(fa=1/Math.sqrt(fa),W[0]=ba[0]*fa,W[1]=ba[1]*fa,W[2]=ba[2]*fa);return W}function F(W,ba){return W[0]*ba[0]+W[1]*ba[1]+W[2]*ba[2]}function L(W,ba,fa){const Ba=ba[0],Ja=ba[1];ba=ba[2];const G=fa[0],S=fa[1];fa=fa[2];W[0]=Ja*fa-ba*S;W[1]=ba*G-Ba*fa;W[2]=Ba*S-Ja*G;return W}function D(W,ba,fa,Ba){const Ja=ba[0],G=ba[1];
ba=ba[2];W[0]=Ja+Ba*(fa[0]-Ja);W[1]=G+Ba*(fa[1]-G);W[2]=ba+Ba*(fa[2]-ba);return W}function M(W,ba,fa,Ba,Ja,G){const S=G*G,ja=S*(2*G-3)+1,pa=S*(G-2)+G,Aa=S*(G-1);G=S*(3-2*G);W[0]=ba[0]*ja+fa[0]*pa+Ba[0]*Aa+Ja[0]*G;W[1]=ba[1]*ja+fa[1]*pa+Ba[1]*Aa+Ja[1]*G;W[2]=ba[2]*ja+fa[2]*pa+Ba[2]*Aa+Ja[2]*G;return W}function K(W,ba,fa,Ba,Ja,G){var S=1-G,ja=S*S;const pa=G*G,Aa=ja*S;ja*=3*G;S*=3*pa;G*=pa;W[0]=ba[0]*Aa+fa[0]*ja+Ba[0]*S+Ja[0]*G;W[1]=ba[1]*Aa+fa[1]*ja+Ba[1]*S+Ja[1]*G;W[2]=ba[2]*Aa+fa[2]*ja+Ba[2]*S+Ja[2]*
G;return W}function I(W,ba){ba=ba||1;var fa=d.RANDOM;const Ba=2*fa()*Math.PI;fa=2*fa()-1;const Ja=Math.sqrt(1-fa*fa)*ba;W[0]=Math.cos(Ba)*Ja;W[1]=Math.sin(Ba)*Ja;W[2]=fa*ba;return W}function P(W,ba,fa){const Ba=ba[0],Ja=ba[1];ba=ba[2];W[0]=fa[0]*Ba+fa[4]*Ja+fa[8]*ba+fa[12];W[1]=fa[1]*Ba+fa[5]*Ja+fa[9]*ba+fa[13];W[2]=fa[2]*Ba+fa[6]*Ja+fa[10]*ba+fa[14];return W}function T(W,ba,fa){const Ba=ba[0],Ja=ba[1];ba=ba[2];W[0]=Ba*fa[0]+Ja*fa[3]+ba*fa[6];W[1]=Ba*fa[1]+Ja*fa[4]+ba*fa[7];W[2]=Ba*fa[2]+Ja*fa[5]+
ba*fa[8];return W}function Z(W,ba,fa){const Ba=fa[0],Ja=fa[1],G=fa[2],S=ba[0],ja=ba[1];ba=ba[2];let pa=Ja*ba-G*ja,Aa=G*S-Ba*ba,Y=Ba*ja-Ja*S;fa=2*fa[3];W[0]=S+pa*fa+2*(Ja*Y-G*Aa);W[1]=ja+Aa*fa+2*(G*pa-Ba*Y);W[2]=ba+Y*fa+2*(Ba*Aa-Ja*pa);return W}function J(W,ba,fa,Ba){const Ja=[],G=[];Ja[0]=ba[0]-fa[0];Ja[1]=ba[1]-fa[1];Ja[2]=ba[2]-fa[2];G[0]=Ja[0];G[1]=Ja[1]*Math.cos(Ba)-Ja[2]*Math.sin(Ba);G[2]=Ja[1]*Math.sin(Ba)+Ja[2]*Math.cos(Ba);W[0]=G[0]+fa[0];W[1]=G[1]+fa[1];W[2]=G[2]+fa[2];return W}function Q(W,
ba,fa,Ba){const Ja=[],G=[];Ja[0]=ba[0]-fa[0];Ja[1]=ba[1]-fa[1];Ja[2]=ba[2]-fa[2];G[0]=Ja[2]*Math.sin(Ba)+Ja[0]*Math.cos(Ba);G[1]=Ja[1];G[2]=Ja[2]*Math.cos(Ba)-Ja[0]*Math.sin(Ba);W[0]=G[0]+fa[0];W[1]=G[1]+fa[1];W[2]=G[2]+fa[2];return W}function N(W,ba,fa,Ba){const Ja=[],G=[];Ja[0]=ba[0]-fa[0];Ja[1]=ba[1]-fa[1];Ja[2]=ba[2]-fa[2];G[0]=Ja[0]*Math.cos(Ba)-Ja[1]*Math.sin(Ba);G[1]=Ja[0]*Math.sin(Ba)+Ja[1]*Math.cos(Ba);G[2]=Ja[2];W[0]=G[0]+fa[0];W[1]=G[1]+fa[1];W[2]=G[2]+fa[2];return W}function V(W,ba){e(Da,
W);e(va,ba);E(Da,Da);E(va,va);W=F(Da,va);return 1<W?0:-1>W?Math.PI:Math.acos(W)}function U(W){return"vec3("+W[0]+", "+W[1]+", "+W[2]+")"}function sa(W,ba){return W[0]===ba[0]&&W[1]===ba[1]&&W[2]===ba[2]}function za(W,ba){if(W===ba)return!0;const fa=W[0],Ba=W[1];W=W[2];const Ja=ba[0],G=ba[1];ba=ba[2];const S=d.getEpsilon();return Math.abs(fa-Ja)<=S*Math.max(1,Math.abs(fa),Math.abs(Ja))&&Math.abs(Ba-G)<=S*Math.max(1,Math.abs(Ba),Math.abs(G))&&Math.abs(W-ba)<=S*Math.max(1,Math.abs(W),Math.abs(ba))}function Fa(W,
ba,fa){const Ba=fa[0]-ba[0],Ja=fa[1]-ba[1];ba=fa[2]-ba[2];fa=Ba*Ba+Ja*Ja+ba*ba;if(0<fa)return fa=1/Math.sqrt(fa),W[0]=Ba*fa,W[1]=Ja*fa,W[2]=ba*fa,W;W[0]=0;W[1]=0;W[2]=0;return W}const Da=b.create(),va=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,abs:m,add:q,angle:V,bezier:K,ceil:n,copy:e,cross:L,direction:Fa,dist:y,distance:y,div:l,divide:l,dot:F,equals:za,exactEquals:sa,floor:u,hermite:M,inverse:A,len:f,length:f,lerp:D,max:t,min:h,mul:p,multiply:p,negate:B,normalize:E,random:I,
rotateX:J,rotateY:Q,rotateZ:N,round:v,scale:w,scaleAndAdd:z,set:k,sign:c,sqrDist:r,sqrLen:x,squaredDistance:r,squaredLength:x,str:U,sub:g,subtract:g,transformMat3:T,transformMat4:P,transformQuat:Z},Symbol.toStringTag,{value:"Module"}));a.abs=m;a.add=q;a.angle=V;a.bezier=K;a.ceil=n;a.copy=e;a.cross=L;a.direction=Fa;a.dist=y;a.distance=y;a.div=l;a.divide=l;a.dot=F;a.equals=za;a.exactEquals=sa;a.floor=u;a.hermite=M;a.inverse=A;a.len=f;a.length=f;a.lerp=D;a.max=t;a.min=h;a.mul=p;a.multiply=p;a.negate=
B;a.normalize=E;a.random=I;a.rotateX=J;a.rotateY=Q;a.rotateZ=N;a.round=v;a.scale=w;a.scaleAndAdd=z;a.set=k;a.sign=c;a.sqrDist=r;a.sqrLen=x;a.squaredDistance=r;a.squaredLength=x;a.str=U;a.sub=g;a.subtract=g;a.transformMat3=T;a.transformMat4=P;a.transformQuat=Z;a.vec3=b})},"esri/chunks/vec3f64":function(){define(["exports"],function(a){function b(){return[0,0,0]}function d(w){return[w[0],w[1],w[2]]}function f(w,z,y){return[w,z,y]}function e(w,z=b()){const y=Math.min(3,w.length);for(let r=0;r<y;++r)z[r]=
w[r];return z}function k(w,z){return new Float64Array(w,z,3)}function q(){return b()}function g(){return[1,1,1]}function p(){return[1,0,0]}function l(){return[0,1,0]}function n(){return[0,0,1]}const u=b(),m=g(),c=p(),h=l(),t=n(),v=Object.freeze(Object.defineProperty({__proto__:null,ONES:m,UNIT_X:c,UNIT_Y:h,UNIT_Z:t,ZEROS:u,clone:d,create:b,createView:k,fromArray:e,fromValues:f,ones:g,unitX:p,unitY:l,unitZ:n,zeros:q},Symbol.toStringTag,{value:"Module"}));a.ONES=m;a.UNIT_X=c;a.UNIT_Y=h;a.UNIT_Z=t;a.ZEROS=
u;a.clone=d;a.create=b;a.createView=k;a.fromArray=e;a.fromValues=f;a.ones=g;a.unitX=p;a.unitY=l;a.unitZ=n;a.vec3f64=v;a.zeros=q})},"esri/chunks/common":function(){define(["exports"],function(a){function b(){return q}function d(u){q=u}function f(u){return u*p}function e(u){return u*l}function k(u,m){return Math.abs(u-m)<=q*Math.max(1,Math.abs(u),Math.abs(m))}let q=1E-6;const g=Math.random,p=Math.PI/180,l=180/Math.PI,n=Object.freeze(Object.defineProperty({__proto__:null,RANDOM:g,equals:k,getEpsilon:b,
setEpsilon:d,toDegree:e,toRadian:f},Symbol.toStringTag,{value:"Module"}));a.RANDOM=g;a.common=n;a.equals=k;a.getEpsilon=b;a.setEpsilon=d;a.toDegree=e;a.toRadian=f})},"esri/chunks/vec4":function(){define(["exports","./common"],function(a,b){function d(P,T){P[0]=T[0];P[1]=T[1];P[2]=T[2];P[3]=T[3];return P}function f(P,T,Z,J,Q){P[0]=T;P[1]=Z;P[2]=J;P[3]=Q;return P}function e(P,T,Z){P[0]=T[0]+Z[0];P[1]=T[1]+Z[1];P[2]=T[2]+Z[2];P[3]=T[3]+Z[3];return P}function k(P,T,Z){P[0]=T[0]-Z[0];P[1]=T[1]-Z[1];P[2]=
T[2]-Z[2];P[3]=T[3]-Z[3];return P}function q(P,T,Z){P[0]=T[0]*Z[0];P[1]=T[1]*Z[1];P[2]=T[2]*Z[2];P[3]=T[3]*Z[3];return P}function g(P,T,Z){P[0]=T[0]/Z[0];P[1]=T[1]/Z[1];P[2]=T[2]/Z[2];P[3]=T[3]/Z[3];return P}function p(P,T){P[0]=Math.ceil(T[0]);P[1]=Math.ceil(T[1]);P[2]=Math.ceil(T[2]);P[3]=Math.ceil(T[3]);return P}function l(P,T){P[0]=Math.floor(T[0]);P[1]=Math.floor(T[1]);P[2]=Math.floor(T[2]);P[3]=Math.floor(T[3]);return P}function n(P,T,Z){P[0]=Math.min(T[0],Z[0]);P[1]=Math.min(T[1],Z[1]);P[2]=
Math.min(T[2],Z[2]);P[3]=Math.min(T[3],Z[3]);return P}function u(P,T,Z){P[0]=Math.max(T[0],Z[0]);P[1]=Math.max(T[1],Z[1]);P[2]=Math.max(T[2],Z[2]);P[3]=Math.max(T[3],Z[3]);return P}function m(P,T){P[0]=Math.round(T[0]);P[1]=Math.round(T[1]);P[2]=Math.round(T[2]);P[3]=Math.round(T[3]);return P}function c(P,T,Z){P[0]=T[0]*Z;P[1]=T[1]*Z;P[2]=T[2]*Z;P[3]=T[3]*Z;return P}function h(P,T,Z,J){P[0]=T[0]+Z[0]*J;P[1]=T[1]+Z[1]*J;P[2]=T[2]+Z[2]*J;P[3]=T[3]+Z[3]*J;return P}function t(P,T){const Z=T[0]-P[0],J=
T[1]-P[1],Q=T[2]-P[2];P=T[3]-P[3];return Math.sqrt(Z*Z+J*J+Q*Q+P*P)}function v(P,T){const Z=T[0]-P[0],J=T[1]-P[1],Q=T[2]-P[2];P=T[3]-P[3];return Z*Z+J*J+Q*Q+P*P}function w(P){const T=P[0],Z=P[1],J=P[2];P=P[3];return Math.sqrt(T*T+Z*Z+J*J+P*P)}function z(P){const T=P[0],Z=P[1],J=P[2];P=P[3];return T*T+Z*Z+J*J+P*P}function y(P,T){P[0]=-T[0];P[1]=-T[1];P[2]=-T[2];P[3]=-T[3];return P}function r(P,T){P[0]=1/T[0];P[1]=1/T[1];P[2]=1/T[2];P[3]=1/T[3];return P}function x(P,T){const Z=T[0],J=T[1],Q=T[2];T=
T[3];let N=Z*Z+J*J+Q*Q+T*T;0<N&&(N=1/Math.sqrt(N),P[0]=Z*N,P[1]=J*N,P[2]=Q*N,P[3]=T*N);return P}function B(P,T){return P[0]*T[0]+P[1]*T[1]+P[2]*T[2]+P[3]*T[3]}function A(P,T,Z,J){const Q=T[0],N=T[1],V=T[2];T=T[3];P[0]=Q+J*(Z[0]-Q);P[1]=N+J*(Z[1]-N);P[2]=V+J*(Z[2]-V);P[3]=T+J*(Z[3]-T);return P}function E(P,T){var Z=b.RANDOM;T=T||1;let J,Q,N,V,U,sa;do J=2*Z()-1,Q=2*Z()-1,U=J*J+Q*Q;while(1<=U);do N=2*Z()-1,V=2*Z()-1,sa=N*N+V*V;while(1<=sa);Z=Math.sqrt((1-U)/sa);P[0]=T*J;P[1]=T*Q;P[2]=T*N*Z;P[3]=T*V*
Z;return P}function F(P,T,Z){const J=T[0],Q=T[1],N=T[2];T=T[3];P[0]=Z[0]*J+Z[4]*Q+Z[8]*N+Z[12]*T;P[1]=Z[1]*J+Z[5]*Q+Z[9]*N+Z[13]*T;P[2]=Z[2]*J+Z[6]*Q+Z[10]*N+Z[14]*T;P[3]=Z[3]*J+Z[7]*Q+Z[11]*N+Z[15]*T;return P}function L(P,T,Z){var J=T[0];const Q=T[1],N=T[2],V=Z[0],U=Z[1],sa=Z[2];Z=Z[3];const za=Z*J+U*N-sa*Q,Fa=Z*Q+sa*J-V*N,Da=Z*N+V*Q-U*J;J=-V*J-U*Q-sa*N;P[0]=za*Z+J*-V+Fa*-sa-Da*-U;P[1]=Fa*Z+J*-U+Da*-V-za*-sa;P[2]=Da*Z+J*-sa+za*-U-Fa*-V;P[3]=T[3];return P}function D(P){return"vec4("+P[0]+", "+P[1]+
", "+P[2]+", "+P[3]+")"}function M(P,T){return P[0]===T[0]&&P[1]===T[1]&&P[2]===T[2]&&P[3]===T[3]}function K(P,T){const Z=P[0],J=P[1],Q=P[2];P=P[3];const N=T[0],V=T[1],U=T[2];T=T[3];const sa=b.getEpsilon();return Math.abs(Z-N)<=sa*Math.max(1,Math.abs(Z),Math.abs(N))&&Math.abs(J-V)<=sa*Math.max(1,Math.abs(J),Math.abs(V))&&Math.abs(Q-U)<=sa*Math.max(1,Math.abs(Q),Math.abs(U))&&Math.abs(P-T)<=sa*Math.max(1,Math.abs(P),Math.abs(T))}const I=Object.freeze(Object.defineProperty({__proto__:null,add:e,ceil:p,
copy:d,dist:t,distance:t,div:g,divide:g,dot:B,equals:K,exactEquals:M,floor:l,inverse:r,len:w,length:w,lerp:A,max:u,min:n,mul:q,multiply:q,negate:y,normalize:x,random:E,round:m,scale:c,scaleAndAdd:h,set:f,sqrDist:v,sqrLen:z,squaredDistance:v,squaredLength:z,str:D,sub:k,subtract:k,transformMat4:F,transformQuat:L},Symbol.toStringTag,{value:"Module"}));a.add=e;a.ceil=p;a.copy=d;a.dist=t;a.distance=t;a.div=g;a.divide=g;a.dot=B;a.equals=K;a.exactEquals=M;a.floor=l;a.inverse=r;a.len=w;a.length=w;a.lerp=
A;a.max=u;a.min=n;a.mul=q;a.multiply=q;a.negate=y;a.normalize=x;a.random=E;a.round=m;a.scale=c;a.scaleAndAdd=h;a.set=f;a.sqrDist=v;a.sqrLen=z;a.squaredDistance=v;a.squaredLength=z;a.str=D;a.sub=k;a.subtract=k;a.transformMat4=F;a.transformQuat=L;a.vec4=I})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(a,b){a.neverReached=function(d){};a.neverReachedSilent=function(d){};a.typeCast=function(d){return()=>d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/ground/NavigationConstraint":function(){define("exports ../chunks/tslib.es6 ../core/JSONSupport ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/Error ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p,l){var n;a.NavigationConstraint=n=class extends d.JSONSupport{constructor(u){super(u);this.type="none"}clone(){return new n({type:this.type})}};b.__decorate([p.enumeration({none:"none",stayAbove:"stay-above"})],a.NavigationConstraint.prototype,"type",void 0);a.NavigationConstraint=n=b.__decorate([l.subclass("esri.ground.NavigationConstraint")],a.NavigationConstraint);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports",
"../../jsonMap","./property"],function(a,b,d){a.enumeration=function(f,e={}){f=f instanceof b.JSONMap?f:new b.JSONMap(f,e);f={type:e?.ignoreUnknown??!0?f.apiValues:String,json:{type:f.jsonValues,read:e?.readOnly?!1:{reader:f.read},write:{writer:f.write}}};void 0!==e?.readOnly&&(f.readOnly=!!e.readOnly);void 0!==e?.default&&(f.json.default=e.default);void 0!==e?.name&&(f.json.name=e.name);void 0!==e?.nonNullable&&(f.nonNullable=e.nonNullable);return d.property(f)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/webdoc/support/opacityUtils":function(){define(["exports","../../core/accessorSupport/ensureType"],function(a,b){a.opacityToTransparency=function(d){d=b.ensureInteger(100*(1-d));return Math.max(0,Math.min(d,100))};a.transparencyToOpacity=function(d){return Math.max(0,Math.min(1-d/100,1))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/CollectionFlattener":function(){define("../chunks/tslib.es6 ./Collection ./asyncUtils ./Error ./Logger ./accessorSupport/watch ./accessorSupport/trackingUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p){d=class extends b{constructor(l){super(l);this.getCollections=null}initialize(){this.addHandles(q.autorun(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const l=null!=this.getCollections?this.getCollections():null;if(null==l)this.removeAll();else{var n=0;for(const u of l)null!=u&&(n=this._processCollection(n,u));this.splice(n,this.length)}}_createNewInstance(l){return new b(l)}_processCollection(l,n){if(!n)return l;const u=this.itemFilterFunction??
(m=>!!m);for(const m of n)if(m&&(u(m)&&(n=this.indexOf(m,l),0<=n?n!==l&&this.reorder(m,l):this.add(m,l),++l),this.getChildrenFunction))if(n=this.getChildrenFunction(m),Array.isArray(n))for(const c of n)l=this._processCollection(l,c);else l=this._processCollection(l,n);return l}};a.__decorate([g.property()],d.prototype,"getCollections",void 0);a.__decorate([g.property()],d.prototype,"getChildrenFunction",void 0);a.__decorate([g.property()],d.prototype,"itemFilterFunction",void 0);return d=a.__decorate([p.subclass("esri.core.CollectionFlattener")],
d)})},"esri/layers/support/editableLayers":function(){define(["exports","../../core/Logger","../../geometry/support/spatialReferenceUtils","./infoFor3D","./layerUtils"],function(a,b,d,f,e){function k(q){var {associatedLayer:g}=q,p=g?.infoFor3D;if(!p)return!0;const {supportedFormats:l,queryFormats:n}=p;p=f.getMimeTypeFormatId("model/gltf-binary",l)??f.getFilenameFormatId("glb",l);if(null==p||!n.includes(p))return b.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${q.title??"Untitled layer"}, ${q.id}) is not editable because it does not support GLB queries.`),
!1;const u=q.spatialReference;p=g.spatialReference;if(!d.equals(u,p))return b.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${q.title??"Untitled layer"}, ${q.id}) is not editable because its spatial reference (wkid:${u.wkid}) is different from its associated FeatureLayer's spatial reference (wkid:${p.wkid}).`),!1;g=g.sourceJSON.sourceSpatialReference;return null==g||d.equals(g,p)?!0:(b.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${q.title??"Untitled layer"}, ${q.id}) is not editable because the spatial reference of its associated FeatureLayer's service (wkid:${p.wkid}) is different from its source spatial reference (wkid:${g.wkid}).`),
!1)}a.isEditableLayer=function(q){return!(!(q&&"object"===typeof q&&"loaded"in q&&q.loaded&&e.getEffectiveLayerCapabilities(q)?.operations?.supportsEditing&&"type"in q)||"editingEnabled"in q&&!e.getEffectiveEditingEnabled(q)||"scene"===q.type&&!k(q))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/infoFor3D":function(){define(["exports"],function(a){function b(u,m){return g(k(u,m))}function d(u,m){return g(q(u,m))}function f(u,m){return d(u.name,m)??b(u.type,
m)}function e(u,m){return[...n,...m].find(c=>g(c)===u)}function k(u,m){const c=u.toLowerCase();return[...n,...m].find(h=>p(h)===c)}function q(u,m){const c=u.toLowerCase();return[...n,...m].find(h=>l(h).some(t=>c.endsWith(t)))}function g(u){return u?.[0]}function p(u){return u?.[1].toLowerCase()}function l(u){return u?.[2].split(",").map(m=>m.toLowerCase())??[]}const n=[["binary","application/octet-stream","bin",""]];a.getAssetMapTable=function(u){return u.tables?.find(m=>"assetMaps"===m.role)};a.getFileFormatId=
f;a.getFilePickerAcceptType=function(u){const m={};for(const c of[...n,...(u?.supportedFormats??[])]){[u]=p(c).split(";");u=u.trim().toLowerCase();const h=l(c).map(t=>`.${t}`);m[u]??(m[u]=[]);m[u].push(...h)}return{description:"3D Models",accept:m}};a.getFilenameFormatId=d;a.getFormatDescription=function(u){return u?.[3]};a.getFormatExtensions=l;a.getFormatId=g;a.getFormatIdMimeType=function(u,m){return p(e(u,m))};a.getFormatMimeType=p;a.getMimeTypeFormatId=b;a.getSupportedExtensions=function(u){return[...n,
...(u?.supportedFormats??[])].flatMap(l).map(m=>`.${m}`)};a.isFileEditFormat=function(u,m){if(!u)return!1;m=f(m,u.supportedFormats??[]);return null!=m&&u.editFormats.includes(m)};a.isFileSupported=function(u,m){return null!=q(m.name,u?.supportedFormats??[])};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/basemapUtils":function(){define("exports ../Basemap ../config ../core/Collection ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/ensureType ../layers/effects/utils ./basemapDefinitions".split(" "),
function(a,b,d,f,e,k,q,g,p,l){function n(K,I){let P;if("string"===typeof K){const T=K in l.esriBasemapDefinitions,Z=!T&&K.includes("/");if(!T&&!Z)return I=Object.entries(l.esriBasemapDefinitions).filter(([,J])=>d.apiKey&&!J.classic||!d.apiKey&&(J.classic||J.is3d)).map(([J])=>`"${J}"`).sort().join(", "),L.warn(`Unable to find basemap definition for: ${K}. Try one of these: ${I}`),null;I&&(P=I[K]);P||(P=T?b.fromId(K):new b({style:{id:K}}),I&&(I[K]=P))}else P=g.ensureType(b,K);P?.destroyed&&(L.warn("The provided basemap is already destroyed",
{basemap:P}),P=null);return P}function u(K){if(D)return D(K);let I=null;K=t(K);const P=!K?.baseLayers.length;for(const Z in l.esriBasemapDefinitions){var T=y(l.esriBasemapDefinitions[Z]);T=x(K,T,{mustMatchReferences:P});if("equal"===T){I=Z;break}"base-layers-equal"===T&&(I=Z)}return I}function m(K,I){const P=new f;K.forEach(T=>{const Z=I.find(J=>"scene"!==J.type&&A(w(T),w(J)))||T;P.includes(Z)?P.push(T):P.push(Z)});return P}function c(K){if(h(K.url))return!0;if("vector-tile"===K.type)for(const I in K.sourceNameToSource)if(h(K.sourceNameToSource[I]?.sourceUrl))return!0;
return!1}function h(K){if(!K)return!1;K=new q.Url(q.makeAbsolute(K));return!!K.authority&&M.test(K.authority)}function t(K){return K?!K.loaded&&K.resourceInfo?y(K.resourceInfo.data):{baseLayers:v(K.baseLayers),referenceLayers:v(K.referenceLayers)}:null}function v(K){return(f.isCollection(K)?K.toArray():K).map(w)}function w(K){return{type:K.type,effect:"effect"in K?K.effect:void 0,url:E("urlTemplate"in K&&K.urlTemplate||K.url||"styleUrl"in K&&K.styleUrl||""),minScale:"minScale"in K&&null!=K.minScale?
K.minScale:0,maxScale:"maxScale"in K&&null!=K.maxScale?K.maxScale:0,opacity:null!=K.opacity?K.opacity:1,visible:null!=K.visible?!!K.visible:!0,sublayers:"map-image"!==K.type&&"wms"!==K.type||null==K.sublayers?void 0:K.sublayers?.map(I=>({id:I.id,visible:I.visible})),activeLayerId:"wmts"===K.type?K.activeLayer?.id:void 0}}function z(K){return K.isReference||"ArcGISSceneServiceLayer"===K.layerType}function y(K){return K?{baseLayers:r((K.baseMapLayers??[]).filter(I=>!z(I))),referenceLayers:r((K.baseMapLayers??
[]).filter(I=>z(I)))}:null}function r(K){return K.map(I=>{let P;switch(I.layerType){case "VectorTileLayer":P="vector-tile";break;case "ArcGISTiledMapServiceLayer":P="tile";break;case "ArcGISSceneServiceLayer":P="scene";break;default:P="unknown"}return{type:P,effect:I.effect,url:E(I.templateUrl||I.urlTemplate||I.styleUrl||I.url),minScale:I.minScale??0,maxScale:I.maxScale??0,opacity:I.opacity??1,visible:null!=I.visibility?!!I.visibility:!0,sublayers:void 0,activeLayerId:void 0}})}function x(K,I,P){return null!=
K!==(null!=I)?"not-equal":K&&I?B(K.baseLayers,I.baseLayers)?B(K.referenceLayers,I.referenceLayers)?"equal":P.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function B(K,I){if(K.length!==I.length)return!1;for(let P=0;P<K.length;P++)if(!A(K[P],I[P]))return!1;return!0}function A(K,I){if(K.type!==I.type||K.url!==I.url||K.minScale!==I.minScale||K.maxScale!==I.maxScale||K.visible!==I.visible||K.opacity!==I.opacity||!p.effectEquals(K.effect,I.effect))return!1;if(null!=K.activeLayerId||
null!=I.activeLayerId)return K.activeLayerId===I.activeLayerId;if(null!=K.sublayers||null!=I.sublayers){if(null==K.sublayers||null==I.sublayers||K.sublayers.length!==I.sublayers.length)return!1;for(let P=0;P<K.sublayers.length;P++){const T=K.sublayers.at(P),Z=I.sublayers.at(P);if(T?.id!==Z?.id||T?.visible!==Z?.visible)return!1}}return!0}function E(K){return K?q.normalize(K).replace(/^\s*https?:/i,"").toLowerCase():""}function F(K){return"portalItem"in K?K.portalItem?.thumbnailUrl:void 0}const L=e.getLogger("esri.support.basemapUtils");
let D;const M=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;a.clonePreservingTiledLayers=function(K,I=null){K=n(K);if(!K)return null;K=K.clone();I&&(K.baseLayers=m(K.baseLayers,I.baseLayers),K.referenceLayers=m(K.referenceLayers,I.referenceLayers));return K};a.contentEquals=function(K,I){if(K===I||null!=K?.portalItem?.id&&K.portalItem.id===I?.portalItem?.id)return!0;K=t(K);I=t(I);return"equal"===x(K,I,{mustMatchReferences:!0})};a.createCache=function(){return{}};a.destroyCache=function(K){for(const I in K)k.destroyMaybe(K[I]),
delete K[I]};a.ensureType=n;a.findSpatialReference=function(K,I){if(null==I||null==K)return{spatialReference:null,updating:!1};if("not-loaded"===I.loadStatus)return I.load(),{spatialReference:null,updating:!0};if(I.spatialReference)return{spatialReference:I.spatialReference,updating:!1};if(0===I.baseLayers.length)return{spatialReference:null,updating:!1};I=I.baseLayers.at(0);switch(I.loadStatus){case "not-loaded":I.load();case "loading":return{spatialReference:null,updating:!0};case "failed":return{spatialReference:null,
updating:!1}}I=(("supportedSpatialReferences"in I?I.supportedSpatialReferences:null)||["tileInfo"in I?I.tileInfo?.spatialReference:I.spatialReference]).filter(Boolean);const P=K.spatialReference;return P?{spatialReference:I.find(T=>P.equals(T))??I[0]??null,updating:!1}:{spatialReference:I[0],updating:!1}};a.getBasemapThumbnailUrl=function(K){if(!K)return null;var {thumbnailUrl:I}=K;return I?I:(I=u(K))?l.esriBasemapDefinitions[I].thumbnailUrl:k.mappedFind(K.baseLayers,F)};a.getWellKnownBasemapId=u;
a.hasDeveloperBasemapLayer=function(K){return!!K?.baseLayers.concat(K.referenceLayers).some(c)};a.isBasemap3D=function(K){return"Web Scene"===K.portalItem?.type};a.isBasemapInBeta=function(K){return!!K?.portalItem?.tags?.some(I=>"beta"===I.toLowerCase())};a.isBasemapLayer=function(K,I){return K.basemap?.referenceLayers?.some(P=>P.uid===I)||K.basemap?.baseLayers?.some(P=>P.uid===I)};a.isDeveloperBasemapLayer=c;a.overrideGetWellKnownBasemapId=function(K){D=K};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/effects/utils":function(){define(["exports","./effects"],function(a,b){a.canInterpolateEffects=function(d,f){const e=d.length>f.length?d:f;return(d.length>f.length?f:d).every((k,q)=>k.type===e[q].type)};a.effectEquals=function(d,f){d=JSON.stringify(d??null);f=JSON.stringify(f??null);return d===f};a.isEffectFunctions=function(d){return(d=d[0])?"type"in d:!1};a.normalizeEffects=function(d,f){const e=d.length>f.length?d:f;d=d.length>f.length?f:d;for(f=d.length;f<e.length;f++)d.push(b.createEffectWithInitialValues(e[f]))};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/effects":function(){define(["exports","../../colorUtils","../../core/screenUtils","../../chunks/mat4f32","./colorMatrixFunctions"],function(a,b,d,f,e){function k(c,h,t){return c+(h-c)*t}function q(c){return Math.round(1E3*d.px2pt(c))/1E3}class g{constructor(c,h,t){this.strength=c;this.radius=h;this.threshold=t;this.type="bloom"}interpolate(c,h,t){this.strength=k(c.strength,h.strength,t);this.radius=k(c.radius,h.radius,
t);this.threshold=k(c.threshold,h.threshold,t)}clone(){return new g(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:q(this.radius),strength:this.strength,threshold:this.threshold}}}class p{constructor(c){this.radius=c;this.type="blur"}interpolate(c,h,t){this.radius=Math.round(k(c.radius,h.radius,t))}clone(){return new p(this.radius)}toJSON(){return{type:"blur",radius:q(this.radius)}}}class l{constructor(c,h){this.type=c;this.amount=h;if("invert"===this.type||"grayscale"===
this.type||"sepia"===this.type)this.amount=Math.min(this.amount,1)}get colorMatrix(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}interpolate(c,h,t){this.amount=k(c.amount,h.amount,t);this._updateMatrix()}clone(){return new l(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const c=this._colorMatrix||f.create();switch(this.type){case "brightness":this._colorMatrix=e.brightness(c,this.amount);break;case "contrast":this._colorMatrix=e.contrast(c,
this.amount);break;case "grayscale":this._colorMatrix=e.grayscale(c,this.amount);break;case "invert":this._colorMatrix=e.invert(c,this.amount);break;case "saturate":this._colorMatrix=e.saturate(c,this.amount);break;case "sepia":this._colorMatrix=e.sepia(c,this.amount)}}}class n{constructor(c,h,t,v){this.offsetX=c;this.offsetY=h;this.blurRadius=t;this.color=v;this.type="drop-shadow"}interpolate(c,h,t){this.offsetX=k(c.offsetX,h.offsetX,t);this.offsetY=k(c.offsetY,h.offsetY,t);this.blurRadius=k(c.blurRadius,
h.blurRadius,t);this.color[0]=Math.round(k(c.color[0],h.color[0],t));this.color[1]=Math.round(k(c.color[1],h.color[1],t));this.color[2]=Math.round(k(c.color[2],h.color[2],t));this.color[3]=k(c.color[3],h.color[3],t)}clone(){return new n(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const c=[...this.color];c[3]*=255;return{type:"drop-shadow",xoffset:q(this.offsetX),yoffset:q(this.offsetY),blurRadius:q(this.blurRadius),color:c}}}class u{constructor(c){this.angle=c;this.type="hue-rotate"}get colorMatrix(){this._colorMatrix||
this._updateMatrix();return this._colorMatrix}interpolate(c,h,t){this.angle=k(c.angle,h.angle,t);this._updateMatrix()}clone(){return new u(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const c=this._colorMatrix||f.create();this._colorMatrix=e.rotateHue(c,this.angle)}}class m{constructor(c){this.amount=c;this.type="opacity";this.amount=Math.min(this.amount,1)}interpolate(c,h,t){this.amount=k(c.amount,h.amount,t)}clone(){return new m(this.amount)}toJSON(){return{type:"opacity",
amount:this.amount}}}a.BloomEffect=g;a.BlurEffect=p;a.ColorMatrixEffect=l;a.DropShadowEffect=n;a.HueRotateEffect=u;a.OpacityEffect=m;a.createEffectWithInitialValues=function(c){switch(c.type){case "grayscale":case "sepia":case "invert":return new l(c.type,0);case "saturate":case "brightness":case "contrast":return new l(c.type,1);case "opacity":return new m(1);case "hue-rotate":return new u(0);case "blur":return new p(0);case "drop-shadow":return new n(0,0,0,[...b.getNamedColor("transparent")]);case "bloom":return new g(0,
0,1)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/screenUtils":function(){define(["exports"],function(a){function b(f){return f?72*f/96:0}const d=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.castRenderScreenPointArray=function(f){return f};a.castRenderScreenPointArray3=function(f){return f};a.castScreenPointArray=function(f){return f};a.createRenderScreenPoint=function(f=0,e=0){return{x:f,y:e}};a.createRenderScreenPointArray=function(f=0,e=0){return[f,e]};a.createRenderScreenPointArray3=
function(f=0,e=0,k=0){return[f,e,k]};a.createScreenPoint=function(f=0,e=0){return{x:f,y:e}};a.createScreenPointArray=function(f=0,e=0){return[f,e]};a.pt2px=function(f){return f?f/72*96:0};a.px2pt=b;a.screenPointArrayToObject=function(f,e){return e?(e.x=f[0],e.y=f[1],e):{x:f[0],y:f[1]}};a.screenPointObjectToArray=function(f,e){return e?(e[0]=f.x,e[1]=f.y,2<e.length&&(e[2]=0),e):[f.x,f.y]};a.toPt=function(f){if("string"===typeof f){var e=f.match(d);if(e){var k=Number(e[1]);e=e[3]&&e[3].toLowerCase();
f="-"===f.charAt(0);k="px"===e?b(k):k;return f?-k:k}console.warn("screenUtils.toPt: input not recognized!");return null}return f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat4f32":function(){define(["exports"],function(a){function b(){const g=new Float32Array(16);g[0]=1;g[5]=1;g[10]=1;g[15]=1;return g}function d(g){const p=new Float32Array(16);p[0]=g[0];p[1]=g[1];p[2]=g[2];p[3]=g[3];p[4]=g[4];p[5]=g[5];p[6]=g[6];p[7]=g[7];p[8]=g[8];p[9]=g[9];p[10]=g[10];p[11]=g[11];
p[12]=g[12];p[13]=g[13];p[14]=g[14];p[15]=g[15];return p}function f(g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B){const A=new Float32Array(16);A[0]=g;A[1]=p;A[2]=l;A[3]=n;A[4]=u;A[5]=m;A[6]=c;A[7]=h;A[8]=t;A[9]=v;A[10]=w;A[11]=z;A[12]=y;A[13]=r;A[14]=x;A[15]=B;return A}function e(g,p){return new Float32Array(g,p,16)}const k=b(),q=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:k,clone:d,create:b,createView:e,fromValues:f},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=k;a.clone=d;a.create=b;a.createView=
e;a.fromValues=f;a.mat4f32=q})},"esri/layers/effects/colorMatrixFunctions":function(){define(["exports","../../chunks/mat4"],function(a,b){a.brightness=(d,f)=>{d=b.set(d,f,0,0,0,0,f,0,0,0,0,f,0,0,0,0,1);return b.transpose(d,d)};a.contrast=(d,f)=>{d=b.set(d,f,0,0,.5-.5*f,0,f,0,.5-.5*f,0,0,f,.5-.5*f,0,0,0,1);return b.transpose(d,d)};a.grayscale=(d,f)=>{f=1-f;d=b.set(d,.2126+.7874*f,.7152-.7152*f,.0722-.0722*f,0,.2126-.2126*f,.7152+.2848*f,.0722-.0722*f,0,.2126-.2126*f,.7152-.7152*f,.0722+.9278*f,0,
0,0,0,1);return b.transpose(d,d)};a.invert=(d,f)=>{const e=1-2*f;d=b.set(d,e,0,0,f,0,e,0,f,0,0,e,f,0,0,0,1);return b.transpose(d,d)};a.rotateHue=(d,f)=>{const e=Math.sin(f*Math.PI/180);f=Math.cos(f*Math.PI/180);d=b.set(d,.213+.787*f-.213*e,.715-.715*f-.715*e,.072-.072*f+.928*e,0,.213-.213*f+.143*e,.715+.285*f+.14*e,.072-.072*f-.283*e,0,.213-.213*f-.787*e,.715-.715*f+.715*e,.072+.928*f+.072*e,0,0,0,0,1);return b.transpose(d,d)};a.saturate=(d,f)=>{d=b.set(d,.213+.787*f,.715-.715*f,.072-.072*f,0,.213-
.213*f,.715+.285*f,.072-.072*f,0,.213-.213*f,.715-.715*f,.072+.928*f,0,0,0,0,1);return b.transpose(d,d)};a.sepia=(d,f)=>{f=1-f;d=b.set(d,.393+.607*f,.769-.769*f,.189-.189*f,0,.349-.349*f,.686+.314*f,.168-.168*f,0,.272-.272*f,.534-.534*f,.131+.869*f,0,0,0,0,1);return b.transpose(d,d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(a,b,d){function f(G,S){G[0]=S[0];G[1]=S[1];G[2]=S[2];G[3]=S[3];G[4]=S[4];
G[5]=S[5];G[6]=S[6];G[7]=S[7];G[8]=S[8];G[9]=S[9];G[10]=S[10];G[11]=S[11];G[12]=S[12];G[13]=S[13];G[14]=S[14];G[15]=S[15];return G}function e(G,S,ja,pa,Aa,Y,da,ma,R,H,X,ia,ta,Ca,ha,na,ra){G[0]=S;G[1]=ja;G[2]=pa;G[3]=Aa;G[4]=Y;G[5]=da;G[6]=ma;G[7]=R;G[8]=H;G[9]=X;G[10]=ia;G[11]=ta;G[12]=Ca;G[13]=ha;G[14]=na;G[15]=ra;return G}function k(G){G[0]=1;G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=1;G[6]=0;G[7]=0;G[8]=0;G[9]=0;G[10]=1;G[11]=0;G[12]=0;G[13]=0;G[14]=0;G[15]=1;return G}function q(G,S){if(G===S){const ja=
S[1],pa=S[2],Aa=S[3],Y=S[6],da=S[7],ma=S[11];G[1]=S[4];G[2]=S[8];G[3]=S[12];G[4]=ja;G[6]=S[9];G[7]=S[13];G[8]=pa;G[9]=Y;G[11]=S[14];G[12]=Aa;G[13]=da;G[14]=ma}else G[0]=S[0],G[1]=S[4],G[2]=S[8],G[3]=S[12],G[4]=S[1],G[5]=S[5],G[6]=S[9],G[7]=S[13],G[8]=S[2],G[9]=S[6],G[10]=S[10],G[11]=S[14],G[12]=S[3],G[13]=S[7],G[14]=S[11],G[15]=S[15];return G}function g(G,S){p(G,S)||k(G);return G}function p(G,S){const ja=S[0],pa=S[1],Aa=S[2],Y=S[3],da=S[4],ma=S[5],R=S[6],H=S[7],X=S[8],ia=S[9],ta=S[10],Ca=S[11],ha=
S[12],na=S[13],ra=S[14];S=S[15];const Ia=ja*ma-pa*da,aa=ja*R-Aa*da,ka=ja*H-Y*da,xa=pa*R-Aa*ma,ua=pa*H-Y*ma,Ea=Aa*H-Y*R,Ma=X*na-ia*ha,la=X*ra-ta*ha,qa=X*S-Ca*ha,Ka=ia*ra-ta*na,Qa=ia*S-Ca*na,Ta=ta*S-Ca*ra;let Ya=Ia*Ta-aa*Qa+ka*Ka+xa*qa-ua*la+Ea*Ma;if(!Ya)return null;Ya=1/Ya;G[0]=(ma*Ta-R*Qa+H*Ka)*Ya;G[1]=(Aa*Qa-pa*Ta-Y*Ka)*Ya;G[2]=(na*Ea-ra*ua+S*xa)*Ya;G[3]=(ta*ua-ia*Ea-Ca*xa)*Ya;G[4]=(R*qa-da*Ta-H*la)*Ya;G[5]=(ja*Ta-Aa*qa+Y*la)*Ya;G[6]=(ra*ka-ha*Ea-S*aa)*Ya;G[7]=(X*Ea-ta*ka+Ca*aa)*Ya;G[8]=(da*Qa-ma*
qa+H*Ma)*Ya;G[9]=(pa*qa-ja*Qa-Y*Ma)*Ya;G[10]=(ha*ua-na*ka+S*Ia)*Ya;G[11]=(ia*ka-X*ua-Ca*Ia)*Ya;G[12]=(ma*la-da*Ka-R*Ma)*Ya;G[13]=(ja*Ka-pa*la+Aa*Ma)*Ya;G[14]=(na*aa-ha*xa-ra*Ia)*Ya;G[15]=(X*xa-ia*aa+ta*Ia)*Ya;return G}function l(G,S){const ja=S[0],pa=S[1],Aa=S[2],Y=S[3],da=S[4],ma=S[5],R=S[6],H=S[7],X=S[8],ia=S[9],ta=S[10],Ca=S[11],ha=S[12],na=S[13],ra=S[14];S=S[15];G[0]=ma*(ta*S-Ca*ra)-ia*(R*S-H*ra)+na*(R*Ca-H*ta);G[1]=-(pa*(ta*S-Ca*ra)-ia*(Aa*S-Y*ra)+na*(Aa*Ca-Y*ta));G[2]=pa*(R*S-H*ra)-ma*(Aa*S-
Y*ra)+na*(Aa*H-Y*R);G[3]=-(pa*(R*Ca-H*ta)-ma*(Aa*Ca-Y*ta)+ia*(Aa*H-Y*R));G[4]=-(da*(ta*S-Ca*ra)-X*(R*S-H*ra)+ha*(R*Ca-H*ta));G[5]=ja*(ta*S-Ca*ra)-X*(Aa*S-Y*ra)+ha*(Aa*Ca-Y*ta);G[6]=-(ja*(R*S-H*ra)-da*(Aa*S-Y*ra)+ha*(Aa*H-Y*R));G[7]=ja*(R*Ca-H*ta)-da*(Aa*Ca-Y*ta)+X*(Aa*H-Y*R);G[8]=da*(ia*S-Ca*na)-X*(ma*S-H*na)+ha*(ma*Ca-H*ia);G[9]=-(ja*(ia*S-Ca*na)-X*(pa*S-Y*na)+ha*(pa*Ca-Y*ia));G[10]=ja*(ma*S-H*na)-da*(pa*S-Y*na)+ha*(pa*H-Y*ma);G[11]=-(ja*(ma*Ca-H*ia)-da*(pa*Ca-Y*ia)+X*(pa*H-Y*ma));G[12]=-(da*(ia*
ra-ta*na)-X*(ma*ra-R*na)+ha*(ma*ta-R*ia));G[13]=ja*(ia*ra-ta*na)-X*(pa*ra-Aa*na)+ha*(pa*ta-Aa*ia);G[14]=-(ja*(ma*ra-R*na)-da*(pa*ra-Aa*na)+ha*(pa*R-Aa*ma));G[15]=ja*(ma*ta-R*ia)-da*(pa*ta-Aa*ia)+X*(pa*R-Aa*ma);return G}function n(G){const S=G[0],ja=G[1],pa=G[2],Aa=G[3],Y=G[4],da=G[5],ma=G[6],R=G[7],H=G[8],X=G[9],ia=G[10],ta=G[11],Ca=G[12],ha=G[13],na=G[14];G=G[15];return(S*da-ja*Y)*(ia*G-ta*na)-(S*ma-pa*Y)*(X*G-ta*ha)+(S*R-Aa*Y)*(X*na-ia*ha)+(ja*ma-pa*da)*(H*G-ta*Ca)-(ja*R-Aa*da)*(H*na-ia*Ca)+(pa*
R-Aa*ma)*(H*ha-X*Ca)}function u(G,S,ja){const pa=S[0],Aa=S[1],Y=S[2],da=S[3],ma=S[4],R=S[5],H=S[6],X=S[7],ia=S[8],ta=S[9],Ca=S[10],ha=S[11],na=S[12],ra=S[13],Ia=S[14];S=S[15];let aa=ja[0],ka=ja[1],xa=ja[2],ua=ja[3];G[0]=aa*pa+ka*ma+xa*ia+ua*na;G[1]=aa*Aa+ka*R+xa*ta+ua*ra;G[2]=aa*Y+ka*H+xa*Ca+ua*Ia;G[3]=aa*da+ka*X+xa*ha+ua*S;aa=ja[4];ka=ja[5];xa=ja[6];ua=ja[7];G[4]=aa*pa+ka*ma+xa*ia+ua*na;G[5]=aa*Aa+ka*R+xa*ta+ua*ra;G[6]=aa*Y+ka*H+xa*Ca+ua*Ia;G[7]=aa*da+ka*X+xa*ha+ua*S;aa=ja[8];ka=ja[9];xa=ja[10];
ua=ja[11];G[8]=aa*pa+ka*ma+xa*ia+ua*na;G[9]=aa*Aa+ka*R+xa*ta+ua*ra;G[10]=aa*Y+ka*H+xa*Ca+ua*Ia;G[11]=aa*da+ka*X+xa*ha+ua*S;aa=ja[12];ka=ja[13];xa=ja[14];ua=ja[15];G[12]=aa*pa+ka*ma+xa*ia+ua*na;G[13]=aa*Aa+ka*R+xa*ta+ua*ra;G[14]=aa*Y+ka*H+xa*Ca+ua*Ia;G[15]=aa*da+ka*X+xa*ha+ua*S;return G}function m(G,S,ja){const pa=ja[0],Aa=ja[1];ja=ja[2];if(S===G)G[12]=S[0]*pa+S[4]*Aa+S[8]*ja+S[12],G[13]=S[1]*pa+S[5]*Aa+S[9]*ja+S[13],G[14]=S[2]*pa+S[6]*Aa+S[10]*ja+S[14],G[15]=S[3]*pa+S[7]*Aa+S[11]*ja+S[15];else{const Y=
S[0],da=S[1],ma=S[2],R=S[3],H=S[4],X=S[5],ia=S[6],ta=S[7],Ca=S[8],ha=S[9],na=S[10],ra=S[11];G[0]=Y;G[1]=da;G[2]=ma;G[3]=R;G[4]=H;G[5]=X;G[6]=ia;G[7]=ta;G[8]=Ca;G[9]=ha;G[10]=na;G[11]=ra;G[12]=Y*pa+H*Aa+Ca*ja+S[12];G[13]=da*pa+X*Aa+ha*ja+S[13];G[14]=ma*pa+ia*Aa+na*ja+S[14];G[15]=R*pa+ta*Aa+ra*ja+S[15]}return G}function c(G,S,ja){const pa=ja[0],Aa=ja[1];ja=ja[2];G[0]=S[0]*pa;G[1]=S[1]*pa;G[2]=S[2]*pa;G[3]=S[3]*pa;G[4]=S[4]*Aa;G[5]=S[5]*Aa;G[6]=S[6]*Aa;G[7]=S[7]*Aa;G[8]=S[8]*ja;G[9]=S[9]*ja;G[10]=S[10]*
ja;G[11]=S[11]*ja;G[12]=S[12];G[13]=S[13];G[14]=S[14];G[15]=S[15];return G}function h(G,S,ja,pa){let Aa=pa[0],Y=pa[1];pa=pa[2];let da=Math.sqrt(Aa*Aa+Y*Y+pa*pa);var ma=void 0,R=void 0;let H=void 0,X=void 0,ia=void 0,ta=void 0,Ca=void 0,ha=void 0,na=void 0,ra=void 0,Ia=void 0,aa=void 0,ka=void 0,xa=void 0,ua=void 0,Ea=void 0,Ma=void 0,la=void 0,qa=void 0,Ka=void 0,Qa=void 0,Ta=void 0;R=ma=void 0;if(da<d.getEpsilon())return null;da=1/da;Aa*=da;Y*=da;pa*=da;ma=Math.sin(ja);R=Math.cos(ja);H=1-R;X=S[0];
ia=S[1];ta=S[2];Ca=S[3];ha=S[4];na=S[5];ra=S[6];Ia=S[7];aa=S[8];ka=S[9];xa=S[10];ua=S[11];Ea=Aa*Aa*H+R;Ma=Y*Aa*H+pa*ma;la=pa*Aa*H-Y*ma;qa=Aa*Y*H-pa*ma;Ka=Y*Y*H+R;Qa=pa*Y*H+Aa*ma;Ta=Aa*pa*H+Y*ma;ma=Y*pa*H-Aa*ma;R=pa*pa*H+R;G[0]=X*Ea+ha*Ma+aa*la;G[1]=ia*Ea+na*Ma+ka*la;G[2]=ta*Ea+ra*Ma+xa*la;G[3]=Ca*Ea+Ia*Ma+ua*la;G[4]=X*qa+ha*Ka+aa*Qa;G[5]=ia*qa+na*Ka+ka*Qa;G[6]=ta*qa+ra*Ka+xa*Qa;G[7]=Ca*qa+Ia*Ka+ua*Qa;G[8]=X*Ta+ha*ma+aa*R;G[9]=ia*Ta+na*ma+ka*R;G[10]=ta*Ta+ra*ma+xa*R;G[11]=Ca*Ta+Ia*ma+ua*R;S!==G&&(G[12]=
S[12],G[13]=S[13],G[14]=S[14],G[15]=S[15]);return G}function t(G,S,ja){const pa=Math.sin(ja);ja=Math.cos(ja);const Aa=S[4],Y=S[5],da=S[6],ma=S[7],R=S[8],H=S[9],X=S[10],ia=S[11];S!==G&&(G[0]=S[0],G[1]=S[1],G[2]=S[2],G[3]=S[3],G[12]=S[12],G[13]=S[13],G[14]=S[14],G[15]=S[15]);G[4]=Aa*ja+R*pa;G[5]=Y*ja+H*pa;G[6]=da*ja+X*pa;G[7]=ma*ja+ia*pa;G[8]=R*ja-Aa*pa;G[9]=H*ja-Y*pa;G[10]=X*ja-da*pa;G[11]=ia*ja-ma*pa;return G}function v(G,S,ja){const pa=Math.sin(ja);ja=Math.cos(ja);const Aa=S[0],Y=S[1],da=S[2],ma=
S[3],R=S[8],H=S[9],X=S[10],ia=S[11];S!==G&&(G[4]=S[4],G[5]=S[5],G[6]=S[6],G[7]=S[7],G[12]=S[12],G[13]=S[13],G[14]=S[14],G[15]=S[15]);G[0]=Aa*ja-R*pa;G[1]=Y*ja-H*pa;G[2]=da*ja-X*pa;G[3]=ma*ja-ia*pa;G[8]=Aa*pa+R*ja;G[9]=Y*pa+H*ja;G[10]=da*pa+X*ja;G[11]=ma*pa+ia*ja;return G}function w(G,S,ja){const pa=Math.sin(ja);ja=Math.cos(ja);const Aa=S[0],Y=S[1],da=S[2],ma=S[3],R=S[4],H=S[5],X=S[6],ia=S[7];S!==G&&(G[8]=S[8],G[9]=S[9],G[10]=S[10],G[11]=S[11],G[12]=S[12],G[13]=S[13],G[14]=S[14],G[15]=S[15]);G[0]=
Aa*ja+R*pa;G[1]=Y*ja+H*pa;G[2]=da*ja+X*pa;G[3]=ma*ja+ia*pa;G[4]=R*ja-Aa*pa;G[5]=H*ja-Y*pa;G[6]=X*ja-da*pa;G[7]=ia*ja-ma*pa;return G}function z(G,S){G[0]=1;G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=1;G[6]=0;G[7]=0;G[8]=0;G[9]=0;G[10]=1;G[11]=0;G[12]=S[0];G[13]=S[1];G[14]=S[2];G[15]=1;return G}function y(G,S){G[0]=S[0];G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=S[1];G[6]=0;G[7]=0;G[8]=0;G[9]=0;G[10]=S[2];G[11]=0;G[12]=0;G[13]=0;G[14]=0;G[15]=1;return G}function r(G,S,ja){if(0===S)return k(G);let pa=ja[0],Aa=ja[1];ja=
ja[2];let Y=Math.sqrt(pa*pa+Aa*Aa+ja*ja),da=void 0,ma=void 0,R=void 0;if(Y<d.getEpsilon())return null;Y=1/Y;pa*=Y;Aa*=Y;ja*=Y;da=Math.sin(S);ma=Math.cos(S);R=1-ma;G[0]=pa*pa*R+ma;G[1]=Aa*pa*R+ja*da;G[2]=ja*pa*R-Aa*da;G[3]=0;G[4]=pa*Aa*R-ja*da;G[5]=Aa*Aa*R+ma;G[6]=ja*Aa*R+pa*da;G[7]=0;G[8]=pa*ja*R+Aa*da;G[9]=Aa*ja*R-pa*da;G[10]=ja*ja*R+ma;G[11]=0;G[12]=0;G[13]=0;G[14]=0;G[15]=1;return G}function x(G,S){const ja=Math.sin(S);S=Math.cos(S);G[0]=1;G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=S;G[6]=ja;G[7]=0;G[8]=
0;G[9]=-ja;G[10]=S;G[11]=0;G[12]=0;G[13]=0;G[14]=0;G[15]=1;return G}function B(G,S){const ja=Math.sin(S);S=Math.cos(S);G[0]=S;G[1]=0;G[2]=-ja;G[3]=0;G[4]=0;G[5]=1;G[6]=0;G[7]=0;G[8]=ja;G[9]=0;G[10]=S;G[11]=0;G[12]=0;G[13]=0;G[14]=0;G[15]=1;return G}function A(G,S){const ja=Math.sin(S);S=Math.cos(S);G[0]=S;G[1]=ja;G[2]=0;G[3]=0;G[4]=-ja;G[5]=S;G[6]=0;G[7]=0;G[8]=0;G[9]=0;G[10]=1;G[11]=0;G[12]=0;G[13]=0;G[14]=0;G[15]=1;return G}function E(G,S,ja){var pa=S[0],Aa=S[1],Y=S[2],da=S[3],ma=pa+pa,R=Aa+Aa;
const H=Y+Y;S=pa*ma;const X=pa*R;pa*=H;const ia=Aa*R;Aa*=H;Y*=H;ma*=da;R*=da;da*=H;G[0]=1-(ia+Y);G[1]=X+da;G[2]=pa-R;G[3]=0;G[4]=X-da;G[5]=1-(S+Y);G[6]=Aa+ma;G[7]=0;G[8]=pa+R;G[9]=Aa-ma;G[10]=1-(S+ia);G[11]=0;G[12]=ja[0];G[13]=ja[1];G[14]=ja[2];G[15]=1;return G}function F(G,S){const ja=Ja,pa=-S[0],Aa=-S[1],Y=-S[2],da=S[3],ma=S[4],R=S[5],H=S[6],X=S[7],ia=pa*pa+Aa*Aa+Y*Y+da*da;0<ia?(ja[0]=2*(ma*da+X*pa+R*Y-H*Aa)/ia,ja[1]=2*(R*da+X*Aa+H*pa-ma*Y)/ia,ja[2]=2*(H*da+X*Y+ma*Aa-R*pa)/ia):(ja[0]=2*(ma*da+X*
pa+R*Y-H*Aa),ja[1]=2*(R*da+X*Aa+H*pa-ma*Y),ja[2]=2*(H*da+X*Y+ma*Aa-R*pa));E(G,S,ja);return G}function L(G,S){G[0]=S[12];G[1]=S[13];G[2]=S[14];return G}function D(G,S){const ja=S[0],pa=S[1],Aa=S[2],Y=S[4],da=S[5],ma=S[6],R=S[8],H=S[9];S=S[10];G[0]=Math.sqrt(ja*ja+pa*pa+Aa*Aa);G[1]=Math.sqrt(Y*Y+da*da+ma*ma);G[2]=Math.sqrt(R*R+H*H+S*S);return G}function M(G,S){const ja=S[0]+S[5]+S[10];let pa=0;0<ja?(pa=2*Math.sqrt(ja+1),G[3]=.25*pa,G[0]=(S[6]-S[9])/pa,G[1]=(S[8]-S[2])/pa,G[2]=(S[1]-S[4])/pa):S[0]>S[5]&&
S[0]>S[10]?(pa=2*Math.sqrt(1+S[0]-S[5]-S[10]),G[3]=(S[6]-S[9])/pa,G[0]=.25*pa,G[1]=(S[1]+S[4])/pa,G[2]=(S[8]+S[2])/pa):S[5]>S[10]?(pa=2*Math.sqrt(1+S[5]-S[0]-S[10]),G[3]=(S[8]-S[2])/pa,G[0]=(S[1]+S[4])/pa,G[1]=.25*pa,G[2]=(S[6]+S[9])/pa):(pa=2*Math.sqrt(1+S[10]-S[0]-S[5]),G[3]=(S[1]-S[4])/pa,G[0]=(S[8]+S[2])/pa,G[1]=(S[6]+S[9])/pa,G[2]=.25*pa);return G}function K(G,S,ja,pa){var Aa=S[0],Y=S[1],da=S[2],ma=S[3],R=Aa+Aa,H=Y+Y,X=da+da;S=Aa*R;const ia=Aa*H;Aa*=X;const ta=Y*H;Y*=X;da*=X;R*=ma;H*=ma;ma*=
X;X=pa[0];const Ca=pa[1];pa=pa[2];G[0]=(1-(ta+da))*X;G[1]=(ia+ma)*X;G[2]=(Aa-H)*X;G[3]=0;G[4]=(ia-ma)*Ca;G[5]=(1-(S+da))*Ca;G[6]=(Y+R)*Ca;G[7]=0;G[8]=(Aa+H)*pa;G[9]=(Y-R)*pa;G[10]=(1-(S+ta))*pa;G[11]=0;G[12]=ja[0];G[13]=ja[1];G[14]=ja[2];G[15]=1;return G}function I(G,S,ja,pa,Aa){var Y=S[0],da=S[1],ma=S[2],R=S[3],H=Y+Y,X=da+da,ia=ma+ma;S=Y*H;var ta=Y*X,Ca=Y*ia;Y=da*X;da*=ia;var ha=ma*ia;ma=R*H;X*=R;const na=R*ia;var ra=pa[0],Ia=pa[1];ia=pa[2];pa=Aa[0];R=Aa[1];Aa=Aa[2];H=(1-(Y+ha))*ra;const aa=(ta+
na)*ra;ra*=Ca-X;ta=(ta-na)*Ia;ha=(1-(S+ha))*Ia;Ia*=da+ma;Ca=(Ca+X)*ia;da=(da-ma)*ia;S=(1-(S+Y))*ia;G[0]=H;G[1]=aa;G[2]=ra;G[3]=0;G[4]=ta;G[5]=ha;G[6]=Ia;G[7]=0;G[8]=Ca;G[9]=da;G[10]=S;G[11]=0;G[12]=ja[0]+pa-(H*pa+ta*R+Ca*Aa);G[13]=ja[1]+R-(aa*pa+ha*R+da*Aa);G[14]=ja[2]+Aa-(ra*pa+Ia*R+S*Aa);G[15]=1;return G}function P(G,S){var ja=S[0],pa=S[1],Aa=S[2];S=S[3];var Y=ja+ja,da=pa+pa;const ma=Aa+Aa;ja*=Y;const R=pa*Y;pa*=da;const H=Aa*Y,X=Aa*da;Aa*=ma;Y*=S;da*=S;S*=ma;G[0]=1-pa-Aa;G[1]=R+S;G[2]=H-da;G[3]=
0;G[4]=R-S;G[5]=1-ja-Aa;G[6]=X+Y;G[7]=0;G[8]=H+da;G[9]=X-Y;G[10]=1-ja-pa;G[11]=0;G[12]=0;G[13]=0;G[14]=0;G[15]=1;return G}function T(G,S,ja,pa,Aa,Y,da){const ma=1/(ja-S),R=1/(Aa-pa),H=1/(Y-da);G[0]=2*Y*ma;G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=2*Y*R;G[6]=0;G[7]=0;G[8]=(ja+S)*ma;G[9]=(Aa+pa)*R;G[10]=(da+Y)*H;G[11]=-1;G[12]=0;G[13]=0;G[14]=da*Y*2*H;G[15]=0;return G}function Z(G,S,ja,pa,Aa){S=1/Math.tan(S/2);let Y=void 0;G[0]=S/ja;G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=S;G[6]=0;G[7]=0;G[8]=0;G[9]=0;G[11]=-1;G[12]=
0;G[13]=0;G[15]=0;null!=Aa&&Infinity!==Aa?(Y=1/(pa-Aa),G[10]=(Aa+pa)*Y,G[14]=2*Aa*pa*Y):(G[10]=-1,G[14]=-2*pa);return G}function J(G,S,ja,pa){const Aa=Math.tan(S.upDegrees*Math.PI/180),Y=Math.tan(S.downDegrees*Math.PI/180),da=Math.tan(S.leftDegrees*Math.PI/180);S=Math.tan(S.rightDegrees*Math.PI/180);const ma=2/(da+S),R=2/(Aa+Y);G[0]=ma;G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=R;G[6]=0;G[7]=0;G[8]=-((da-S)*ma*.5);G[9]=(Aa-Y)*R*.5;G[10]=pa/(ja-pa);G[11]=-1;G[12]=0;G[13]=0;G[14]=pa*ja/(ja-pa);G[15]=0;return G}
function Q(G,S,ja,pa,Aa,Y,da){const ma=1/(S-ja),R=1/(pa-Aa),H=1/(Y-da);G[0]=-2*ma;G[1]=0;G[2]=0;G[3]=0;G[4]=0;G[5]=-2*R;G[6]=0;G[7]=0;G[8]=0;G[9]=0;G[10]=2*H;G[11]=0;G[12]=(S+ja)*ma;G[13]=(Aa+pa)*R;G[14]=(da+Y)*H;G[15]=1;return G}function N(G,S,ja,pa){const Aa=S[0],Y=S[1];S=S[2];let da=Aa-ja[0],ma=Y-ja[1];ja=S-ja[2];var R=d.getEpsilon();if(Math.abs(da)<R&&Math.abs(ma)<R&&Math.abs(ja)<R)k(G);else{var H=1/Math.sqrt(da*da+ma*ma+ja*ja);da*=H;ma*=H;ja*=H;H=pa[0];var X=pa[1];R=pa[2];pa=X*ja-R*ma;R=R*da-
H*ja;X=H*ma-X*da;(H=Math.sqrt(pa*pa+R*R+X*X))?(H=1/H,pa*=H,R*=H,X*=H):X=R=pa=0;var ia=ma*X-ja*R,ta=ja*pa-da*X,Ca=da*R-ma*pa;(H=Math.sqrt(ia*ia+ta*ta+Ca*Ca))?(H=1/H,ia*=H,ta*=H,Ca*=H):Ca=ta=ia=0;G[0]=pa;G[1]=ia;G[2]=da;G[3]=0;G[4]=R;G[5]=ta;G[6]=ma;G[7]=0;G[8]=X;G[9]=Ca;G[10]=ja;G[11]=0;G[12]=-(pa*Aa+R*Y+X*S);G[13]=-(ia*Aa+ta*Y+Ca*S);G[14]=-(da*Aa+ma*Y+ja*S);G[15]=1}}function V(G,S,ja,pa){const Aa=S[0],Y=S[1];S=S[2];var da=pa[0];const ma=pa[1];var R=pa[2];pa=Aa-ja[0];let H=Y-ja[1];ja=S-ja[2];let X=
pa*pa+H*H+ja*ja;0<X&&(X=1/Math.sqrt(X),pa*=X,H*=X,ja*=X);let ia=ma*ja-R*H;R=R*pa-da*ja;da=da*H-ma*pa;X=ia*ia+R*R+da*da;0<X&&(X=1/Math.sqrt(X),ia*=X,R*=X,da*=X);G[0]=ia;G[1]=R;G[2]=da;G[3]=0;G[4]=H*da-ja*R;G[5]=ja*ia-pa*da;G[6]=pa*R-H*ia;G[7]=0;G[8]=pa;G[9]=H;G[10]=ja;G[11]=0;G[12]=Aa;G[13]=Y;G[14]=S;G[15]=1;return G}function U(G){return"mat4("+G[0]+", "+G[1]+", "+G[2]+", "+G[3]+", "+G[4]+", "+G[5]+", "+G[6]+", "+G[7]+", "+G[8]+", "+G[9]+", "+G[10]+", "+G[11]+", "+G[12]+", "+G[13]+", "+G[14]+", "+
G[15]+")"}function sa(G){return Math.sqrt(G[0]**2+G[1]**2+G[2]**2+G[3]**2+G[4]**2+G[5]**2+G[6]**2+G[7]**2+G[8]**2+G[9]**2+G[10]**2+G[11]**2+G[12]**2+G[13]**2+G[14]**2+G[15]**2)}function za(G,S,ja){G[0]=S[0]+ja[0];G[1]=S[1]+ja[1];G[2]=S[2]+ja[2];G[3]=S[3]+ja[3];G[4]=S[4]+ja[4];G[5]=S[5]+ja[5];G[6]=S[6]+ja[6];G[7]=S[7]+ja[7];G[8]=S[8]+ja[8];G[9]=S[9]+ja[9];G[10]=S[10]+ja[10];G[11]=S[11]+ja[11];G[12]=S[12]+ja[12];G[13]=S[13]+ja[13];G[14]=S[14]+ja[14];G[15]=S[15]+ja[15];return G}function Fa(G,S,ja){G[0]=
S[0]-ja[0];G[1]=S[1]-ja[1];G[2]=S[2]-ja[2];G[3]=S[3]-ja[3];G[4]=S[4]-ja[4];G[5]=S[5]-ja[5];G[6]=S[6]-ja[6];G[7]=S[7]-ja[7];G[8]=S[8]-ja[8];G[9]=S[9]-ja[9];G[10]=S[10]-ja[10];G[11]=S[11]-ja[11];G[12]=S[12]-ja[12];G[13]=S[13]-ja[13];G[14]=S[14]-ja[14];G[15]=S[15]-ja[15];return G}function Da(G,S,ja){G[0]=S[0]*ja;G[1]=S[1]*ja;G[2]=S[2]*ja;G[3]=S[3]*ja;G[4]=S[4]*ja;G[5]=S[5]*ja;G[6]=S[6]*ja;G[7]=S[7]*ja;G[8]=S[8]*ja;G[9]=S[9]*ja;G[10]=S[10]*ja;G[11]=S[11]*ja;G[12]=S[12]*ja;G[13]=S[13]*ja;G[14]=S[14]*ja;
G[15]=S[15]*ja;return G}function va(G,S,ja,pa){G[0]=S[0]+ja[0]*pa;G[1]=S[1]+ja[1]*pa;G[2]=S[2]+ja[2]*pa;G[3]=S[3]+ja[3]*pa;G[4]=S[4]+ja[4]*pa;G[5]=S[5]+ja[5]*pa;G[6]=S[6]+ja[6]*pa;G[7]=S[7]+ja[7]*pa;G[8]=S[8]+ja[8]*pa;G[9]=S[9]+ja[9]*pa;G[10]=S[10]+ja[10]*pa;G[11]=S[11]+ja[11]*pa;G[12]=S[12]+ja[12]*pa;G[13]=S[13]+ja[13]*pa;G[14]=S[14]+ja[14]*pa;G[15]=S[15]+ja[15]*pa;return G}function W(G,S){return G[0]===S[0]&&G[1]===S[1]&&G[2]===S[2]&&G[3]===S[3]&&G[4]===S[4]&&G[5]===S[5]&&G[6]===S[6]&&G[7]===S[7]&&
G[8]===S[8]&&G[9]===S[9]&&G[10]===S[10]&&G[11]===S[11]&&G[12]===S[12]&&G[13]===S[13]&&G[14]===S[14]&&G[15]===S[15]}function ba(G,S){if(G===S)return!0;const ja=G[0],pa=G[1],Aa=G[2],Y=G[3],da=G[4],ma=G[5],R=G[6],H=G[7],X=G[8],ia=G[9],ta=G[10],Ca=G[11],ha=G[12],na=G[13],ra=G[14];G=G[15];const Ia=S[0],aa=S[1],ka=S[2],xa=S[3],ua=S[4],Ea=S[5],Ma=S[6],la=S[7],qa=S[8],Ka=S[9],Qa=S[10],Ta=S[11],Ya=S[12],ab=S[13],db=S[14];S=S[15];const Za=d.getEpsilon();return Math.abs(ja-Ia)<=Za*Math.max(1,Math.abs(ja),Math.abs(Ia))&&
Math.abs(pa-aa)<=Za*Math.max(1,Math.abs(pa),Math.abs(aa))&&Math.abs(Aa-ka)<=Za*Math.max(1,Math.abs(Aa),Math.abs(ka))&&Math.abs(Y-xa)<=Za*Math.max(1,Math.abs(Y),Math.abs(xa))&&Math.abs(da-ua)<=Za*Math.max(1,Math.abs(da),Math.abs(ua))&&Math.abs(ma-Ea)<=Za*Math.max(1,Math.abs(ma),Math.abs(Ea))&&Math.abs(R-Ma)<=Za*Math.max(1,Math.abs(R),Math.abs(Ma))&&Math.abs(H-la)<=Za*Math.max(1,Math.abs(H),Math.abs(la))&&Math.abs(X-qa)<=Za*Math.max(1,Math.abs(X),Math.abs(qa))&&Math.abs(ia-Ka)<=Za*Math.max(1,Math.abs(ia),
Math.abs(Ka))&&Math.abs(ta-Qa)<=Za*Math.max(1,Math.abs(ta),Math.abs(Qa))&&Math.abs(Ca-Ta)<=Za*Math.max(1,Math.abs(Ca),Math.abs(Ta))&&Math.abs(ha-Ya)<=Za*Math.max(1,Math.abs(ha),Math.abs(Ya))&&Math.abs(na-ab)<=Za*Math.max(1,Math.abs(na),Math.abs(ab))&&Math.abs(ra-db)<=Za*Math.max(1,Math.abs(ra),Math.abs(db))&&Math.abs(G-S)<=Za*Math.max(1,Math.abs(G),Math.abs(S))}function fa(G){const S=d.getEpsilon(),ja=G[0],pa=G[1],Aa=G[2],Y=G[4],da=G[5],ma=G[6],R=G[8],H=G[9];G=G[10];return Math.abs(1-(ja*ja+Y*Y+R*
R))<=S&&Math.abs(1-(pa*pa+da*da+H*H))<=S&&Math.abs(1-(Aa*Aa+ma*ma+G*G))<=S}function Ba(G){return 1===G[0]&&0===G[1]&&0===G[2]&&0===G[4]&&1===G[5]&&0===G[6]&&0===G[8]&&0===G[9]&&1===G[10]}const Ja=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,add:za,adjoint:l,copy:f,determinant:n,equals:ba,exactEquals:W,frob:sa,fromQuat:P,fromQuat2:F,fromRotation:r,fromRotationTranslation:E,fromRotationTranslationScale:K,fromRotationTranslationScaleOrigin:I,fromScaling:y,fromTranslation:z,fromXRotation:x,
fromYRotation:B,fromZRotation:A,frustum:T,getRotation:M,getScaling:D,getTranslation:L,hasIdentityRotation:Ba,identity:k,invert:p,invertOrIdentity:g,isOrthoNormal:fa,lookAt:N,mul:u,multiply:u,multiplyScalar:Da,multiplyScalarAndAdd:va,ortho:Q,perspective:Z,perspectiveFromFieldOfView:J,rotate:h,rotateX:t,rotateY:v,rotateZ:w,scale:c,set:e,str:U,sub:Fa,subtract:Fa,targetTo:V,translate:m,transpose:q},Symbol.toStringTag,{value:"Module"}));a.add=za;a.adjoint=l;a.copy=f;a.determinant=n;a.equals=ba;a.exactEquals=
W;a.frob=sa;a.fromQuat=P;a.fromQuat2=F;a.fromRotation=r;a.fromRotationTranslation=E;a.fromRotationTranslationScale=K;a.fromRotationTranslationScaleOrigin=I;a.fromScaling=y;a.fromTranslation=z;a.fromXRotation=x;a.fromYRotation=B;a.fromZRotation=A;a.frustum=T;a.getRotation=M;a.getScaling=D;a.getTranslation=L;a.hasIdentityRotation=Ba;a.identity=k;a.invert=p;a.invertOrIdentity=g;a.isOrthoNormal=fa;a.lookAt=N;a.mat4=b;a.mul=u;a.multiply=u;a.multiplyScalar=Da;a.multiplyScalarAndAdd=va;a.ortho=Q;a.perspective=
Z;a.perspectiveFromFieldOfView=J;a.rotate=h;a.rotateX=t;a.rotateY=v;a.rotateZ=w;a.scale=c;a.set=e;a.str=U;a.sub=Fa;a.subtract=Fa;a.targetTo=V;a.translate=m;a.transpose=q})},"esri/support/collectionUtils":function(){define(["exports","../core/CollectionFlattener"],function(a,b){a.createFlattenedTablesCollection=function(d){return new b({getCollections:()=>[d.tables,d.layers],getChildrenFunction:f=>{const e=[];"tables"in f&&e.push(f.tables);"layers"in f&&e.push(f.layers);return e},itemFilterFunction:f=>
{const e=f.parent;return!!e&&"tables"in e&&e.tables.includes(f)}})};a.destroyMap=function(d){for(const f of d.values())f?.destroy();d.clear()};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/groundUtils":function(){define(["exports","../Ground","../core/Logger","../core/accessorSupport/ensureType"],function(a,b,d,f){const e={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},
"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};a.ensureType=function(k){let q=null;"string"===typeof k?k in e?q=new b({resourceInfo:{data:{layers:[e[k]]}}}):d.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${k}. Try "world-elevation"`):q=f.ensureType(b,k);return q};a.groundElevationLayers=e;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/support/LayersMixin":function(){define("exports ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../layers/Layer".split(" "),function(a,b,d,f,e,k,q,g,p,l,n,u){function m(c,h,t){if(c)for(let w=0,z=c.length;w<z;w++){var v=c.at(w);if(v?.[h]===t||"group"===v?.type&&(v=m(v.layers,
h,t)))return v}}a.LayersMixin=c=>{c=class extends c{constructor(...h){super(...h);this.layers=new d;const t=w=>{w.parent=this;this.layerAdded(w);"elevation"!==w.type&&"base-elevation"!==w.type||e.getLogger(this).error(`Layer 'title:${w.title}, id:${w.id}' of type '${w.type}' is not supported as an operational layer and will therefore be ignored.`)},v=w=>{w.parent=null;this.layerRemoved(w)};this.addHandles([this.layers.on("before-add",w=>{w=w.item;w.parent&&"remove"in w.parent&&w.parent.remove(w)}),
this.layers.on("after-add",w=>t(w.item)),this.layers.on("after-remove",w=>v(w.item))])}destroy(){const h=this.layers.toArray();for(const t of h)t.destroy();this.layers.destroy()}set layers(h){this._set("layers",f.referenceSetter(h,this._get("layers")))}add(h,t){const v=this.layers;t=v.getNextIndex(t);h instanceof u?h.parent===this?this.reorder(h,t):v.add(h,t):k.isPromiseLike(h)?h.then(w=>{this.destroyed||this.add(w,t)}):e.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(h,
t){const v=this.layers;let w=v.getNextIndex(t);h.slice().forEach(z=>{z.parent===this?this.reorder(z,w):(v.add(z,w),w+=1)})}findLayerById(h){return m(this.layers,"id",h)}findLayerByUid(h){return m(this.layers,"uid",h)}remove(h){return this.layers.remove(h)}removeMany(h){return this.layers.removeMany(h)}removeAll(){return this.layers.removeAll()}reorder(h,t){return this.layers.reorder(h,t)}layerAdded(h){}layerRemoved(h){}};b.__decorate([q.property()],c.prototype,"layers",null);return c=b.__decorate([n.subclass("esri.support.LayersMixin")],
c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/Layer":function(){define("require ../chunks/tslib.es6 ../geometry ../request ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./support/fromPortalItem ../geometry/Extent ../geometry/SpatialReference".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z){let y=0;d=class extends k.EventedMixin(q.IdentifiableMixin(g)){constructor(){super(...arguments);this.attributionDataUrl=null;this.fullExtent=new w(-180,-90,180,90,z.WGS84);this.id=Date.now().toString(16)+"-layer-"+y++;this.legendEnabled=!0;this.listMode="show";this.opacity=1;this.parent=null;this.persistenceEnabled=!1;this.attributionVisible=this.popupEnabled=!0;this.spatialReference=z.WGS84;this.url=this.type=this.title=null;this.visible=!0}static async fromArcGISServerUrl(r){r=
"string"===typeof r?{url:r}:r;return(await new Promise((x,B)=>a(["./support/arcgisLayers"],x,B))).fromUrl(r)}static fromPortalItem(r){return v.fromPortalItem(r)}initialize(){this.when().catch(r=>{l.isAbortError(r)||p.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:r})})}destroy(){const r=this.parent;r&&("layers"in r&&r.layers.includes(this)?r.layers.remove(this):"tables"in r&&r.tables.includes(this)?r.tables.remove(this):
"baseLayers"in r&&r.baseLayers.includes(this)?r.baseLayers.remove(this):"referenceLayers"in r&&r.referenceLayers.includes(this)&&r.referenceLayers.remove(this),this._set("parent",null))}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return n.urlToObject(this.url)}async fetchAttributionData(){const r=this.attributionDataUrl;if(this.hasAttributionData&&r)return(await f(r,{query:{f:"json"},responseType:"json"})).data;throw new e("layer:no-attribution-data","Layer does not have attribution data");
}};b.__decorate([u.property({type:String})],d.prototype,"attributionDataUrl",void 0);b.__decorate([u.property({type:w})],d.prototype,"fullExtent",void 0);b.__decorate([u.property({readOnly:!0})],d.prototype,"hasAttributionData",null);b.__decorate([u.property({type:String,clonable:!1})],d.prototype,"id",void 0);b.__decorate([u.property({type:Boolean,nonNullable:!0})],d.prototype,"legendEnabled",void 0);b.__decorate([u.property({type:["show","hide","hide-children"]})],d.prototype,"listMode",void 0);
b.__decorate([u.property({type:Number,range:{min:0,max:1},nonNullable:!0})],d.prototype,"opacity",void 0);b.__decorate([u.property({clonable:!1})],d.prototype,"parent",void 0);b.__decorate([u.property({readOnly:!0})],d.prototype,"parsedUrl",null);b.__decorate([u.property({type:Boolean,readOnly:!0})],d.prototype,"persistenceEnabled",void 0);b.__decorate([u.property({type:Boolean})],d.prototype,"popupEnabled",void 0);b.__decorate([u.property({type:Boolean})],d.prototype,"attributionVisible",void 0);
b.__decorate([u.property({type:z})],d.prototype,"spatialReference",void 0);b.__decorate([u.property({type:String})],d.prototype,"title",void 0);b.__decorate([u.property({readOnly:!0,json:{read:!1}})],d.prototype,"type",void 0);b.__decorate([u.property()],d.prototype,"url",void 0);b.__decorate([u.property({type:Boolean,nonNullable:!0})],d.prototype,"visible",void 0);return d=b.__decorate([t.subclass("esri.layers.Layer")],d)})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){const u={base:f,key:"type",typeMap:{extent:d,multipoint:e,point:k,polyline:g,polygon:q}};b=b.ensureOneOfType(u);a.Extent=d;a.BaseGeometry=f;a.Multipoint=e;a.Point=k;a.Polygon=q;a.Polyline=g;a.SpatialReference=p;a.featureGeometryTypeKebabDictionary=l.featureGeometryTypeKebabDictionary;a.typeKebabDictionary=l.typeKebabDictionary;a.fromJSON=n.fromJSON;a.ensureType=b;a.geometryTypes=u;a.isGeometry=function(m){return m instanceof f};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/Multipoint":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),function(a,b,d,f,e,k,q,g,p,l){function n(m){return(c,h)=>null==c?h:null==h?c:m(c,h)}var u;f=u=class extends g{constructor(...m){super(...m);this.points=[];this.type="multipoint"}normalizeCtorArgs(m,
c){if(!m&&!c)return{};const h={};Array.isArray(m)?(h.points=m,h.spatialReference=c):!m||"esri.geometry.SpatialReference"!==m.declaredClass&&null==m.wkid?(m.points&&(h.points=m.points),m.spatialReference&&(h.spatialReference=m.spatialReference),m.hasZ&&(h.hasZ=m.hasZ),m.hasM&&(h.hasM=m.hasM)):h.spatialReference=m;if(m=h.points?.[0])void 0===h.hasZ&&void 0===h.hasM?(h.hasZ=2<m.length,h.hasM=!1):void 0===h.hasZ?h.hasZ=3<m.length:void 0===h.hasM&&(h.hasM=3<m.length);return h}get cache(){this.commitProperty("points");
this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get extent(){const m=this.points;if(!m.length)return null;const c=new q,h=this.hasZ,t=this.hasM,v=h?3:2;var w=m[0];const z=n(Math.min),y=n(Math.max);let [r,x]=w,[B,A]=w,E,F,L,D;for(let M=0,K=m.length;M<K;M++){w=m[M];const [I,P]=w;r=z(r,I);x=z(x,P);B=y(B,I);A=y(A,P);if(h&&2<w.length){const T=w[2];E=z(E,T);L=y(L,T)}t&&w.length>v&&(w=w[v],F=z(F,w),D=y(D,w))}c.xmin=r;c.ymin=x;c.xmax=B;c.ymax=A;c.spatialReference=
this.spatialReference;h?(c.zmin=E,c.zmax=L):(c.zmin=void 0,c.zmax=void 0);t?(c.mmin=F,c.mmax=D):(c.mmin=void 0,c.mmax=void 0);return c}writePoints(m,c){c.points=b.clone(this.points)}addPoint(m){l.updateSupportFromPoint(this,m);Array.isArray(m)?this.points.push(m):this.points.push(m.toArray());this.notifyChange("points");return this}clone(){const m={points:b.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(m.hasZ=!0);this.hasM&&(m.hasM=!0);return new u(m)}getPoint(m){if(!this._validateInputs(m))return null;
m=this.points[m];const c={x:m[0],y:m[1],spatialReference:this.spatialReference};let h=2;this.hasZ&&(c.z=m[2],h=3);this.hasM&&(c.m=m[h]);return new p(c)}removePoint(m){if(!this._validateInputs(m))return null;m=new p(this.points.splice(m,1)[0],this.spatialReference);this.notifyChange("points");return m}setPoint(m,c){if(!this._validateInputs(m))return this;l.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.points[m]=c;this.notifyChange("points");return this}toJSON(m){return this.write({},
m)}_validateInputs(m){return null!=m&&0<=m&&m<this.points.length}};a.__decorate([d.property({readOnly:!0})],f.prototype,"cache",null);a.__decorate([d.property()],f.prototype,"extent",null);a.__decorate([d.property({type:[[Number]],json:{write:{isRequired:!0}}})],f.prototype,"points",void 0);a.__decorate([k.writer("points")],f.prototype,"writePoints",null);f=u=a.__decorate([e.subclass("esri.geometry.Multipoint")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f})},"esri/geometry/support/zmUtils":function(){define(["exports"],
function(a){a.updateSupportFromPoint=function(b,d,f=!1){let {hasM:e,hasZ:k}=b;Array.isArray(d)?4!==d.length||e||k?3===d.length&&f&&!e?(k=!0,e=!1):3===d.length&&e&&k&&(k=e=!1):k=e=!0:(k=!k&&d.hasZ&&(!e||d.hasM),e=!e&&d.hasM&&(!k||d.hasZ));b.hasZ=k;b.hasM=e};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polygon":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersectsBase ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w){var z;e=z=class extends p{static fromExtent(y){var r=y.clone().normalize();y=y.spatialReference;let x=!1,B=!1;for(const A of r)A.hasZ&&(x=!0),A.hasM&&(B=!0);r={rings:r.map(A=>{const E=[[A.xmin,A.ymin],[A.xmin,A.ymax],[A.xmax,A.ymax],[A.xmax,A.ymin],[A.xmin,A.ymin]];if(x&&A.hasZ){var F=A.zmin+.5*(A.zmax-A.zmin);for(let L=0;L<E.length;L++)E[L].push(F)}if(B&&A.hasM)for(A=A.mmin+.5*(A.mmax-A.mmin),F=0;F<E.length;F++)E[F].push(A);return E}),spatialReference:y};
x&&(r.hasZ=!0);B&&(r.hasM=!0);return new z(r)}constructor(...y){super(...y);this.rings=[];this.type="polygon"}normalizeCtorArgs(y,r){let x=null,B,A,E=null;y&&!Array.isArray(y)?(x=y.rings??null,r||(y.spatialReference?r=y.spatialReference:y.rings||(r=y)),B=y.hasZ,A=y.hasM):x=y;x=x||[];r=r||n.WGS84;x.length&&null!=x[0]?.[0]&&"number"===typeof x[0][0]&&(x=[x]);if(E=x[0]?.[0])void 0===B&&void 0===A?(B=2<E.length,A=3<E.length):void 0===B?B=A?3<E.length:2<E.length:void 0===A&&(A=B?3<E.length:2<E.length);
return{rings:x,spatialReference:r,hasZ:B,hasM:A}}get cache(){this.commitProperty("rings");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get centroid(){const y=u.polygonCentroid(this);if(!y||isNaN(y[0])||isNaN(y[1])||this.hasZ&&isNaN(y[2]))return null;const r=new l;r.x=y[0];r.y=y[1];r.spatialReference=this.spatialReference;this.hasZ&&(r.z=y[2]);return r}get extent(){const {spatialReference:y}=this;var r=h.getPolygonExtent(this);if(!r)return null;
r=new g(r);r.spatialReference=y;return r}get isSelfIntersecting(){return t.isSelfIntersecting(this.rings)}writeRings(y,r){r.rings=d.clone(this.rings)}addRing(y){if(y){var r=this.rings,x=r.length;if(Array.isArray(y[0]))r[x]=y.concat();else{const B=[];for(let A=0,E=y.length;A<E;A++)B[A]=y[A].toArray();r[x]=B}this.notifyChange("rings");return this}}clone(){const y=new z;y.spatialReference=this.spatialReference;y.rings=d.clone(this.rings);y.hasZ=this.hasZ;y.hasM=this.hasM;return y}equals(y){if(this===
y)return!0;if(null==y)return!1;var r=this.spatialReference,x=y.spatialReference;if(null!=r!==(null!=x)||null!=r&&null!=x&&!r.equals(x)||this.rings.length!==y.rings.length)return!1;r=([B,A,E,F],[L,D,M,K])=>B===L&&A===D&&(null==E&&null==M||E===M)&&(null==F&&null==K||F===K);for(x=0;x<this.rings.length;x++)if(!b.equals(this.rings[x],y.rings[x],r))return!1;return!0}contains(y){if(!y)return!1;const r=v.project(y,this.spatialReference);return m.polygonContainsPoint(this,null!=r?r:y)}isClockwise(y){y=Array.isArray(y[0])?
y:y.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]);return c.isClockwise(y)}getPoint(y,r){if(!this._validateInputs(y,r))return null;y=this.rings[y][r];r=this.hasZ;const x=this.hasM;return r&&!x?new l(y[0],y[1],y[2],void 0,this.spatialReference):x&&!r?new l(y[0],y[1],void 0,y[2],this.spatialReference):r&&x?new l(y[0],y[1],y[2],y[3],this.spatialReference):new l(y[0],y[1],this.spatialReference)}insertPoint(y,r,x){if(!this._validateInputs(y,r,!0))return this;w.updateSupportFromPoint(this,
x);Array.isArray(x)||(x=x.toArray());this.rings[y].splice(r,0,x);this.notifyChange("rings");return this}removePoint(y,r){if(!this._validateInputs(y,r))return null;y=new l(this.rings[y].splice(r,1)[0],this.spatialReference);this.notifyChange("rings");return y}removeRing(y){if(!this._validateInputs(y,null))return null;y=this.rings.splice(y,1)[0];const r=this.spatialReference;y=y.map(x=>new l(x,r));this.notifyChange("rings");return y}setPoint(y,r,x){if(!this._validateInputs(y,r))return this;w.updateSupportFromPoint(this,
x);Array.isArray(x)||(x=x.toArray());this.rings[y][r]=x;this.notifyChange("rings");return this}_validateInputs(y,r,x=!1){return null==y||0>y||y>=this.rings.length||null!=r&&(y=this.rings[y],x&&(0>r||r>y.length)||!x&&(0>r||r>=y.length))?!1:!0}toJSON(y){return this.write({},y)}};a.__decorate([f.property({readOnly:!0})],e.prototype,"cache",null);a.__decorate([f.property({readOnly:!0})],e.prototype,"centroid",null);a.__decorate([f.property({readOnly:!0})],e.prototype,"extent",null);a.__decorate([f.property({readOnly:!0})],
e.prototype,"isSelfIntersecting",null);a.__decorate([f.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],e.prototype,"rings",void 0);a.__decorate([q.writer("rings")],e.prototype,"writeRings",null);e=z=a.__decorate([k.subclass("esri.geometry.Polygon")],e);e.prototype.toJSON.isDefaultToJSON=!0;return e})},"esri/geometry/support/centroid":function(){define(["exports","../geometryCursorCollectUtils","./coordsUtils"],function(a,b,d){function f(l,n){if(!l?.length)return null;const u=[],m=[],c=
n?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let h=0,t=l.length;h<t;h++){const v=e(l[h],n,c);v&&m.push(v)}m.sort((h,t)=>{let v=h[2]-t[2];0===v&&n&&(v=h[4]-t[4]);return v});m.length&&(u[0]=m[0][0],u[1]=m[0][1],n&&(u[2]=m[0][3]),u[0]<c[0]||u[0]>c[1]||u[1]<c[2]||u[1]>c[3]||n&&(u[2]<c[4]||u[2]>c[5]))&&(u.length=0);if(!u.length)if(l=l[0]&&l[0].length?k(l[0],n):null)u[0]=l[0],u[1]=l[1],n&&2<l.length&&(u[2]=l[2]);else return null;return u}function e(l,
n,u){let m=0,c=0,h=0,t=0,v=0;const w=l.length?l[0][0]:0,z=l.length?l[0][1]:0,y=l.length&&n?l[0][2]:0;for(let A=0;A<l.length;A++){var r=l[A],x=l[(A+1)%l.length];const [E,F,L]=r;var B=E-w;const D=F-z,[M,K,I]=x,P=M-w,T=K-z,Z=B*T-P*D;t+=Z;m+=(B+P)*Z;c+=(D+T)*Z;n&&2<r.length&&2<x.length&&(r=L-y,x=I-y,B=B*x-P*r,h+=(r+x)*B,v+=B);E<u[0]&&(u[0]=E);E>u[1]&&(u[1]=E);F<u[2]&&(u[2]=F);F>u[3]&&(u[3]=F);n&&(L<u[4]&&(u[4]=L),L>u[5]&&(u[5]=L))}0<t&&(t*=-1);0<v&&(v*=-1);if(!t)return null;t*=.5;v*=.5;l=[m/(6*t)+w,c/
(6*t)+z,t];n&&(u[4]===u[5]||0===v?(l[3]=(u[4]+u[5])/2,l[4]=0):(l[3]=h/(6*v)+y,l[4]=v));return l}function k(l,n){const u=n?[0,0,0]:[0,0],m=n?[0,0,0]:[0,0];let c=0,h=0,t=0,v=0;for(let z=0,y=l.length;z<y-1;z++){var w=l[z];const r=l[z+1];if(w&&r){u[0]=w[0];u[1]=w[1];m[0]=r[0];m[1]=r[1];n&&2<w.length&&2<r.length&&(u[2]=w[2],m[2]=r[2]);const x=d.getLength(u,m);x&&(c+=x,w=d.getMidpoint(w,r),h+=x*w[0],t+=x*w[1],n&&2<w.length&&(v+=x*w[2]))}}return 0<c?n?[h/c,t/c,v/c]:[h/c,t/c]:l.length?l[0]:null}function q(l){const {hasZ:n,
totalSize:u}=l;if(0===u)return null;const m=[],c=[],h=n?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(l.reset();l.nextPath();){const t=e(b.collectPath(l),l.hasZ,h);t&&c.push(t)}c.sort((t,v)=>{let w=t[2]-v[2];0===w&&n&&(w=t[4]-v[4]);return w});c.length&&(m[0]=c[0][0],m[1]=c[0][1],n&&(m[2]=
c[0][3]),m[0]<h[0]||m[0]>h[1]||m[1]<h[2]||m[1]>h[3]||n&&(m[2]<h[4]||m[2]>h[5]))&&(m.length=0);if(!m.length)if(l.reset(),l.nextPath(),l=l.pathSize?g(l):null)m[0]=l[0],m[1]=l[1],n&&2<l.length&&(m[2]=l[2]);else return null;return m}function g(l){const {hasZ:n}=l,u=n?[0,0,0]:[0,0],m=n?[0,0,0]:[0,0];let c=0,h=0,t=0,v=0;if(l.nextPoint()){var w=l.x,z=l.y;let y=l.z;for(;l.nextPoint();){const r=l.x,x=l.y,B=l.z;u[0]=w;u[1]=z;m[0]=r;m[1]=x;n&&(u[2]=y,m[2]=B);if(w=d.getLength(u,m))c+=w,z=d.getMidpoint(u,m),h+=
w*z[0],t+=w*z[1],n&&2<z.length&&(v+=w*z[2]);w=r;z=x;y=B}}return 0<c?n?[h/c,t/c,v/c]:[h/c,t/c]:l.pathSize?(l.seekPathStart(),l.nextPoint(),[l.x,l.y]):null}const p=1/3;a.extentCentroid=function(l){return l?l.hasZ?[l.xmax-l.xmin/2,l.ymax-l.ymin/2,l.zmax-l.zmin/2]:[l.xmax-l.xmin/2,l.ymax-l.ymin/2]:null};a.lineCentroid=k;a.lineCentroidCursor=g;a.polygonCentroid=function(l){return l?f(l.rings,l.hasZ??!1):null};a.ringCentroid=e;a.ringCentroidCursorXY=function(l,n){let u=0,m=0,c=0;l.nextPoint();const h=l.pathSize?
l.x:0,t=l.pathSize?l.y:0;for(let z=0;z<l.pathSize;z++){l.seekInPath(z);var v=[l.x,l.y];l.seekInPath((z+1)%l.pathSize);var w=[l.x,l.y];const [y,r]=v;v=y-h;const x=r-t,[B,A]=w;w=B-h;const E=A-t,F=v*E-w*x;c+=F;u+=(v+w)*F;m+=(x+E)*F;y<n[0]&&(n[0]=y);y>n[1]&&(n[1]=y);r<n[2]&&(n[2]=r);r>n[3]&&(n[3]=r)}0<c&&(c*=-1);if(!c)return null;c*=.5;return[u/(6*c)+h,m/(6*c)+t,c]};a.ringsCentroid=f;a.ringsCentroidCursor=q;a.weightedAreaCentroid=function(l){let n=0;for(l.reset();l.nextPath();)n+=l.getCurrentRingArea();
if(1E-6>n)return(l=q(l))?[l[0],l[1]]:null;const u=[0,0];l.reset();if(!l.nextPath()||!l.nextPoint())return null;const m=[l.x,l.y];for(l.reset();l.nextPath();)a:{let w=void 0;var c=u,h=m,t=l;if(!c||!t||3>t.pathSize)break a;t.nextPoint();var v=t.x;const z=t.y;t.nextPoint();let y=t.x-v,r=t.y-z,x=0,B=0;for(;t.nextPoint();)x=t.x-v,B=t.y-z,w=.5*p*(x*r-B*y),c[0]+=w*(y+x),c[1]+=w*(r+B),y=x,r=B;t=t.getCurrentRingArea();v=[v,z];v[0]-=h[0];v[1]-=h[1];v[0]*=t;v[1]*=t;c[0]+=v[0];c[1]+=v[1]}u[0]*=1/n;u[1]*=1/n;
u[0]+=m[0];u[1]+=m[1];return u};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/geometryCursorCollectUtils":function(){define(["exports"],function(a){a.collectMultipath=function(b){const d=[];for(b.reset();b.nextPath();){const f=[];for(;b.nextPoint();)f.push([b.x,b.y]);d.push(f)}b.reset();return d};a.collectPath=function(b){const d=[];for(;b.nextPoint();)d.push([b.x,b.y]);b.seekPathStart();return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/coordsUtils":function(){define(["exports",
"../../core/arrayUtils","./Axis","./spatialReferenceUtils"],function(a,b,d,f){function e(c,h){const t=h[0]-c[0],v=h[1]-c[1];return 2<c.length&&2<h.length?(c=c[2]-h[2],Math.sqrt(t*t+v*v+c*c)):Math.sqrt(t*t+v*v)}function k(c,h,t){const v=c[0]+t*(h[0]-c[0]),w=c[1]+t*(h[1]-c[1]);return 2<c.length&&2<h.length?[v,w,c[2]+t*(h[2]-c[2])]:[v,w]}function q(c,h,t,v){const [w,z]=h,[y,r]=t,[x,B]=v;h=x-y;t=B-r;v=Math.min(1,Math.max(0,((w-y)*h+(z-r)*t)/(h*h+t*t)));c[0]=y+h*v;c[1]=r+t*v;return c}function g(c,h,t,
v,w,z){let y=w-t,r=z-v;if(0!==y||0!==r){const x=((c-t)*y+(h-v)*r)/(y*y+r*r);1<x?(t=w,v=z):0<x&&(t+=y*x,v+=r*x)}y=c-t;r=h-v;return y*y+r*r}function p(c,h=d.Axis.X,t=d.Axis.Y){let v=0;const w=c.length;let z=c[0];for(let y=0;y<w-1;y++){const r=c[y+1];v+=(r[h]-z[h])*(r[t]+z[t]);z=r}return 0<=v}function l(c){const h=c.length;return 2<h&&b.equals(c[0],c[h-1])}function n(c){if("rings"in c)for(const h of c.rings)l(h)||h.push(h[0].slice())}function u(c,h){var t=f.getInfo(h);if(t){h=t.valid[0];t=t.valid[1];
var v=t-h;for(const w of c){c=Infinity;let z=-Infinity;for(const y of w){const r=m(y[0],h,t);c=Math.min(c,r);z=Math.max(z,r);y[0]=r}c=z-c;v-c<c&&w.forEach(y=>{0>y[0]&&(y[0]+=v)})}}}function m(c,h,t){const v=t-h;return c<h?t-(h-c)%v:c>t?h+(c-h)%v:c}a.closeRings=n;a.closeRingsAndFixWinding=function(c){if("rings"in c&&(n(c),0<c.rings.length&&!p(c.rings[0])))for(const h of c.rings)h.reverse()};a.distanceFromPointToPolygon=function(c,h,t){let v=!1,w=Infinity,z,y,r,x;for(t.reset();t.nextPath();)if(t.nextPoint())for(z=
t.x,y=t.y;t.nextPoint();)r=t.x,x=t.y,y>h!==x>h&&c<(r-z)*(h-y)/(x-y)+z&&(v=!v),w=Math.min(w,g(c,h,z,y,r,x)),z=r,y=x;return 0===w?0:(v?1:-1)*Math.sqrt(w)};a.distanceToSegmentSquared=g;a.geometryToCoordinates=function(c){if(!c)return null;if(Array.isArray(c))return c;const h=c.hasZ,t=c.hasM;if("point"===c.type)return t&&h?[c.x,c.y,c.z,c.m]:h?[c.x,c.y,c.z]:t?[c.x,c.y,c.m]:[c.x,c.y];if("polygon"===c.type)return c.rings.slice(0);if("polyline"===c.type)return c.paths.slice(0);if("multipoint"===c.type)return c.points.slice(0);
if("extent"===c.type){c=c.clone().normalize();if(!c)return null;let v=!1,w=!1;c.forEach(z=>{z.hasZ&&(v=!0);z.hasM&&(w=!0)});return c.map(z=>{const y=[[z.xmin,z.ymin],[z.xmin,z.ymax],[z.xmax,z.ymax],[z.xmax,z.ymin],[z.xmin,z.ymin]];if(v&&z.hasZ){var r=.5*(z.zmax-z.zmin);for(let x=0;x<y.length;x++)y[x].push(r)}if(w&&z.hasM)for(z=.5*(z.mmax-z.mmin),r=0;r<y.length;r++)y[r].push(z);return y})}return null};a.getLength=e;a.getMidpoint=function(c,h){return k(c,h,.5)};a.getPathLength=function(c){const h=c.length;
let t=0;for(let v=0;v<h-1;++v)t+=e(c[v],c[v+1]);return t};a.getPointOnPath=function(c,h){if(0>=h)return c[0];const t=c.length;let v=0;for(let w=0;w<t-1;++w){const z=e(c[w],c[w+1]);if(h-v<z)return k(c[w],c[w+1],(h-v)/z);v+=z}return c[t-1]};a.getRingArea=function(c){if(!c||3>c.length)return 0;let h=0;const t=c.length-1;for(let v=0;v<t;v++)h+=(c[v][0]-c[v+1][0])*(c[v][1]+c[v+1][1]);h+=(c[t][0]-c[0][0])*(c[t][1]+c[0][1]);return-.5*h};a.hasCompatibleTopology=function(c,h){if(c===h)return!0;if(c.type!==
h.type)return!1;if("point"===c.type||"mesh"===c.type||"extent"===c.type)return!0;if("multipoint"===c.type)return c.points.length===h.points.length;const [t,v]="polyline"===c.type?[c.paths,h.paths]:[c.rings,h.rings];return t.length===v.length&&t.every((w,z)=>w.length===v[z].length)};a.isClockwise=p;a.isClosed=l;a.projectPointOnLine=function(c,h,t,v){return q(c,h,t[v],t[v+1])};a.projectPointOnLineSeg=q;a.unnormalizeGeometryOnDatelineCrossing=function(c){if("polygon"!==c.type&&"polyline"!==c.type)return c;
u("polygon"===c.type?c.rings:c.paths,c.spatialReference);return c};a.unnormalizeVerticesOnDatelineCrossing=u;a.unnormalizedCoordinate=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Axis":function(){define(["exports"],function(a){a.Axis=void 0;var b=a.Axis||(a.Axis={});b[b.X=0]="X";b[b.Y=1]="Y";b[b.Z=2]="Z";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(a,
b){function d(p,l=!1,n=!1){return l?n?{xmin:p[0],ymin:p[1],zmin:p[2],mmin:p[3],xmax:p[4],ymax:p[5],zmax:p[6],mmax:p[7]}:{xmin:p[0],ymin:p[1],zmin:p[2],xmax:p[3],ymax:p[4],zmax:p[5]}:n?{xmin:p[0],ymin:p[1],mmin:p[2],xmax:p[3],ymax:p[4],mmax:p[5]}:{xmin:p[0],ymin:p[1],xmax:p[2],ymax:p[3]}}function f(p){const {hasZ:l,hasM:n,points:u}=p;return d(b.getPointsBounds(g,u,l??!1,n??!1),l,n)}function e(p){const {x:l,y:n,z:u,m}=p;p=null!=m;return null!=u?p?{xmin:l,ymin:n,zmin:u,mmin:m,xmax:l,ymax:n,zmax:u,mmax:m}:
{xmin:l,ymin:n,zmin:u,xmax:l,ymax:n,zmax:u}:p?{xmin:l,ymin:n,mmin:m,xmax:l,ymax:n,mmax:m}:{xmin:l,ymin:n,xmax:l,ymax:n}}function k(p){const {hasZ:l,hasM:n,rings:u}=p;return(p=b.getRingsOrPathsBounds(g,u,l??!1,n??!1))?d(p,l,n):null}function q(p){const {hasZ:l,hasM:n,paths:u}=p;return(p=b.getRingsOrPathsBounds(g,u,l??!1,n??!1))?d(p,l,n):null}const g=[];a.getGeometryExtent=function(p){return p?void 0!==p.xmin&&void 0!==p.ymin&&void 0!==p.xmax&&void 0!==p.ymax?p:void 0!==p.x&&void 0!==p.y?e(p):void 0!==
p.rings?k(p):void 0!==p.paths?q(p):void 0!==p.points?f(p):null:null};a.getMultipointExtent=f;a.getPointExtent=e;a.getPolygonExtent=k;a.getPolylineExtent=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/boundsUtils":function(){define(["exports","./aaBoundingRect"],function(a,b){function d(n){return void 0!==n.xmin&&void 0!==n.ymin&&void 0!==n.xmax&&void 0!==n.ymax}function f(n){return function(u,m){return null==u?m:null==m?u:n(u,m)}}function e(n){let u,m,c,h;
u=c=Infinity;for(m=h=-Infinity;n.nextPoint();)u=Math.min(n.x,u),c=Math.min(n.y,c),m=Math.max(n.x,m),h=Math.max(n.y,h);return b.create([u,c,m,h])}function k(n,u,m,c){const h=m?3:2;if(!u.length||!u[0].length)return null;let [t,v]=u[0][0],[w,z]=u[0][0],y=void 0,r=void 0,x=void 0;var B=void 0;for(let A=0;A<u.length;A++){const E=u[A];for(let F=0;F<E.length;F++){const L=E[F],[D,M]=L;t=p(t,D);v=p(v,M);w=l(w,D);z=l(z,M);if(m&&2<L.length){const K=L[2];y=p(y,K);r=l(r,K)}c&&L.length>h&&(B=L[h],x=p(y,B),B=l(r,
B))}}if(m){if(c)return n[0]=t,n[1]=v,n[2]=y,n[3]=x,n[4]=w,n[5]=z,n[6]=r,n[7]=B,n.length=8,n;n[0]=t;n[1]=v;n[2]=y;n[3]=w;n[4]=z;n[5]=r;n.length=6;return n}if(c)return n[0]=t,n[1]=v,n[2]=x,n[3]=w,n[4]=z,n[5]=B,n.length=6,n;n[0]=t;n[1]=v;n[2]=w;n[3]=z;n.length=4;return n}function q(n,u,m,c,h,t){m=u.xmin;c=u.xmax;const v=u.ymin,w=u.ymax;let z=u.zmin,y=u.zmax,r=u.mmin;u=u.mmax;if(h){z=z||0;y=y||0;if(t)return n[0]=m,n[1]=v,n[2]=z,n[3]=r||0,n[4]=c,n[5]=w,n[6]=y,n[7]=u||0,n;n[0]=m;n[1]=v;n[2]=z;n[3]=c;n[4]=
w;n[5]=y;return n}if(t)return n[0]=m,n[1]=v,n[2]=r||0,n[3]=c,n[4]=w,n[5]=u||0,n;n[0]=m;n[1]=v;n[2]=c;n[3]=w;return n}function g(n,u,m,c,h,t){const v=m?3:2;c=c&&t;m=m&&h;if(!u.length||!u[0].length)return null;let [w,z]=u[0],[y,r]=u[0],x=void 0,B=void 0,A=void 0;var E=void 0;for(let F=0;F<u.length;F++){const L=u[F],[D,M]=L;w=p(w,D);z=p(z,M);y=l(y,D);r=l(r,M);if(m&&2<L.length){const K=L[2];x=p(x,K);B=l(B,K)}c&&L.length>v&&(E=L[v],A=p(x,E),E=l(B,E))}if(h){x=x||0;B=B||0;if(t)return n[0]=w,n[1]=z,n[2]=
x,n[3]=A||0,n[4]=y,n[5]=r,n[6]=B,n[7]=E||0,n;n[0]=w;n[1]=z;n[2]=x;n[3]=y;n[4]=r;n[5]=B;return n}if(t)return n[0]=w,n[1]=z,n[2]=A||0,n[3]=y,n[4]=r,n[5]=E||0,n;n[0]=w;n[1]=z;n[2]=y;n[3]=r;return n}const p=f(Math.min),l=f(Math.max);a.getBoundsXY=function(n,u){if(void 0!==u.paths)return k(n,u.paths,!1,!1);if(void 0!==u.rings)return k(n,u.rings,!1,!1);if(void 0!==u.points)return g(n,u.points,!1,!1,!1,!1);if(d(u))return q(n,u);void 0!==u.x&&void 0!==u.y&&(n[0]=u.x,n[1]=u.y,n[2]=u.x,n[3]=u.y);return n};
a.getBoundsXYZ=function(n,u){if(void 0!==u.paths)return k(n,u.paths,!0,!1);if(void 0!==u.rings)return k(n,u.rings,!0,!1);if(void 0!==u.points)return g(n,u.points,!0,!1,!0,!1);if(d(u))return q(n,u,!0,!1,!0,!1);void 0!==u.x&&void 0!==u.y&&(n[0]=u.x,n[1]=u.y,n[2]=u.z,n[3]=u.x,n[4]=u.y,n[5]=u.z);return n};a.getCursorBoundsXY=function(n){n.reset();let u,m,c,h;u=c=Infinity;for(m=h=-Infinity;n.nextPath();){const t=e(n);u=Math.min(t[0],u);c=Math.min(t[1],c);m=Math.max(t[2],m);h=Math.max(t[3],h)}return b.create([u,
c,m,h])};a.getCursorPathBounds=e;a.getExtentBounds=q;a.getPointsBounds=g;a.getRingsOrPathsBounds=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../Extent"],function(a,b,d,f){function e(m=u){return[m[0],m[1],m[2],m[3]]}function k(m,c){m!==c&&(m[0]=c[0],m[1]=c[1],m[2]=c[2],m[3]=c[3]);return m}function q(m){return null==m||m[0]>=m[2]?0:m[2]-m[0]}function g(m){return null==m||
m[1]>=m[3]?0:m[3]-m[1]}function p(m,c,h){return c>=m[0]&&h>=m[1]&&c<=m[2]&&h<=m[3]}function l(m){return null!=m&&4===m.length}const n=[Infinity,Infinity,-Infinity,-Infinity],u=[0,0,0,0];a.allFinite=function(m){for(let c=0;4>c;c++)if(!isFinite(m[c]))return!1;return!0};a.area=function(m){return q(m)*g(m)};a.center=function(m,c=[0,0]){c[0]=(m[0]+m[2])/2;c[1]=(m[1]+m[3])/2;return c};a.clone=function(m){return[m[0],m[1],m[2],m[3]]};a.contains=function(m,c){return c[0]>=m[0]&&c[2]<=m[2]&&c[1]>=m[1]&&c[3]<=
m[3]};a.containsPoint=function(m,c){return p(m,c[0],c[1])};a.containsPointObject=function(m,c){return p(m,c.x,c.y)};a.containsPointWithMargin=function(m,c,h){return c[0]>=m[0]-h&&c[1]>=m[1]-h&&c[0]<=m[2]+h&&c[1]<=m[3]+h};a.containsXY=p;a.containsXYWithMargin=function(m,c,h,t){return c>=m[0]-t&&h>=m[1]-t&&c<=m[2]+t&&h<=m[3]+t};a.copy=k;a.create=e;a.distance=function(m,c){const h=(m[1]+m[3])/2,t=Math.max(Math.abs(c[0]-(m[0]+m[2])/2)-q(m)/2,0);m=Math.max(Math.abs(c[1]-h)-g(m)/2,0);return Math.sqrt(t*
t+m*m)};a.empty=function(m){return m?k(m,n):e(n)};a.equals=function(m,c){return l(m)&&l(c)?m[0]===c[0]&&m[1]===c[1]&&m[2]===c[2]&&m[3]===c[3]:m===c};a.expand=function(m,c,h){if(null==c)k(h,m);else if("length"in c)if(l(c))h[0]=Math.min(m[0],c[0]),h[1]=Math.min(m[1],c[1]),h[2]=Math.max(m[2],c[2]),h[3]=Math.max(m[3],c[3]);else{if(2===c.length||3===c.length)h[0]=Math.min(m[0],c[0]),h[1]=Math.min(m[1],c[1]),h[2]=Math.max(m[2],c[0]),h[3]=Math.max(m[3],c[1])}else switch(c.type){case "extent":h[0]=Math.min(m[0],
c.xmin);h[1]=Math.min(m[1],c.ymin);h[2]=Math.max(m[2],c.xmax);h[3]=Math.max(m[3],c.ymax);break;case "point":h[0]=Math.min(m[0],c.x),h[1]=Math.min(m[1],c.y),h[2]=Math.max(m[2],c.x),h[3]=Math.max(m[3],c.y)}};a.expandPointInPlace=function(m,c){c[0]<m[0]&&(m[0]=c[0]);c[0]>m[2]&&(m[2]=c[0]);c[1]<m[1]&&(m[1]=c[1]);c[1]>m[3]&&(m[3]=c[1])};a.expandWithNestedArray=function(m,c,h=m){const t=c.length;let v=m[0],w=m[1],z=m[2];m=m[3];for(let y=0;y<t;y++){const r=c[y];v=Math.min(v,r[0]);w=Math.min(w,r[1]);z=Math.max(z,
r[0]);m=Math.max(m,r[1])}h[0]=v;h[1]=w;h[2]=z;h[3]=m;return h};a.fromExtent=function(m,c=e()){c[0]=m.xmin;c[1]=m.ymin;c[2]=m.xmax;c[3]=m.ymax;return c};a.fromValues=function(m,c,h,t,v=e()){v[0]=m;v[1]=c;v[2]=h;v[3]=t;return v};a.hasArea=function(m){return 0<q(m)&&0<g(m)};a.height=g;a.intersection=function(m,c,h){if(null==c)return k(h,m);const t=c[0],v=c[1],w=c[2];c=c[3];h[0]=d.clamp(m[0],t,w);h[1]=d.clamp(m[1],v,c);h[2]=d.clamp(m[2],t,w);h[3]=d.clamp(m[3],v,c);return h};a.intersects=function(m,c){return Math.max(c[0],
m[0])<=Math.min(c[2],m[2])&&Math.max(c[1],m[1])<=Math.min(c[3],m[3])};a.intersectsSegment=function(m,c,h){const t=m[0],v=m[1],w=m[2];m=m[3];const {x:z,y}=c,{x:r,y:x}=h;var B=(E,F)=>0>(x-y)*E+(z-r)*F+(r*y-z*x);c=B(t,m);h=B(w,m);const A=B(w,v);B=B(t,v);return c===h&&h===A&&A===B&&B===c||z<t&&r<t||z>w&&r>w||y>m&&x>m||y<v&&x<v?!1:!0};a.intersectsSphere=function(m,c){const h=c[3];var t=Math.abs(c[0]-.5*(m[0]+m[2]));const v=.5*(m[2]-m[0]);if(t>h+v)return!1;var w=.5*(m[3]-m[1]);m=Math.abs(c[1]-.5*(m[1]+
m[3]));if(m>h+w)return!1;if(t<v||m<w)return!0;t-=v;w=m-w;return t*t+w*w<=h*h};a.is=l;a.isPoint=function(m){return(0===q(m)||!isFinite(m[0]))&&(0===g(m)||!isFinite(m[1]))};a.negativeInfinity=n;a.offset=function(m,c,h,t=m){t[0]=m[0]+c;t[1]=m[1]+h;t[2]=m[2]+c;t[3]=m[3]+h;return t};a.pad=function(m,c,h=m){h[0]=m[0]-c;h[1]=m[1]-c;h[2]=m[2]+c;h[3]=m[3]+c;return h};a.positiveInfinity=[-Infinity,-Infinity,Infinity,Infinity];a.setMax=function(m,c,h=m){h[2]=c[0];h[3]=c[1];h!==m&&(h[0]=m[0],h[1]=m[1]);return m};
a.setMin=function(m,c,h=m){h[0]=c[0];h[1]=c[1];h!==m&&(h[2]=m[2],h[3]=m[3]);return h};a.size=function(m,c){c[0]=m[2]-m[0];c[1]=m[3]-m[1]};a.toExtent=function(m,c){return new f({xmin:m[0],ymin:m[1],xmax:m[2],ymax:m[3],spatialReference:c})};a.unit=[0,0,1,1];a.width=q;a.zero=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polyline":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u){var m;f=m=class extends g{constructor(...c){super(...c);this.paths=[];this.type="polyline"}normalizeCtorArgs(c,h){let t=null,v,w,z=null;c&&!Array.isArray(c)?(t=c.paths??null,h||(c.spatialReference?h=c.spatialReference:c.paths||(h=c)),v=c.hasZ,w=c.hasM):t=c;t=t||[];h=h||l.WGS84;t.length&&null!=t[0]?.[0]&&"number"===typeof t[0][0]&&(t=[t]);if(z=t[0]?.[0])void 0===v&&void 0===w?(v=2<z.length,w=!1):void 0===v?v=!w&&3<z.length:void 0===w&&(w=!v&&3<z.length);return{paths:t,
spatialReference:h,hasZ:v,hasM:w}}get cache(){this.commitProperty("paths");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get extent(){const {spatialReference:c}=this;var h=n.getPolylineExtent(this);if(!h)return null;h=new q(h);h.spatialReference=c;return h}writePaths(c,h){h.paths=b.clone(this.paths)}addPath(c){if(c){var h=this.paths,t=h.length;if(Array.isArray(c[0]))h[t]=c.concat();else{const v=[];for(let w=0,z=c.length;w<z;w++)v[w]=c[w].toArray();
h[t]=v}this.notifyChange("paths");return this}}clone(){const c=new m;c.spatialReference=this.spatialReference;c.paths=b.clone(this.paths);c.hasZ=this.hasZ;c.hasM=this.hasM;return c}getPoint(c,h){if(!this._validateInputs(c,h))return null;c=this.paths[c][h];h=this.hasZ;const t=this.hasM;return h&&!t?new p(c[0],c[1],c[2],void 0,this.spatialReference):t&&!h?new p(c[0],c[1],void 0,c[2],this.spatialReference):h&&t?new p(c[0],c[1],c[2],c[3],this.spatialReference):new p(c[0],c[1],this.spatialReference)}insertPoint(c,
h,t){if(!this._validateInputs(c,h,!0))return this;u.updateSupportFromPoint(this,t);Array.isArray(t)||(t=t.toArray());this.paths[c].splice(h,0,t);this.notifyChange("paths");return this}removePath(c){if(!this._validateInputs(c,null))return null;c=this.paths.splice(c,1)[0];const h=this.spatialReference;c=c.map(t=>new p(t,h));this.notifyChange("paths");return c}removePoint(c,h){if(!this._validateInputs(c,h))return null;c=new p(this.paths[c].splice(h,1)[0],this.spatialReference);this.notifyChange("paths");
return c}setPoint(c,h,t){if(!this._validateInputs(c,h))return this;u.updateSupportFromPoint(this,t);Array.isArray(t)||(t=t.toArray());this.paths[c][h]=t;this.notifyChange("paths");return this}_validateInputs(c,h,t=!1){return null==c||0>c||c>=this.paths.length||null!=h&&(c=this.paths[c],t&&(0>h||h>c.length)||!t&&(0>h||h>=c.length))?!1:!0}toJSON(c){return this.write({},c)}};a.__decorate([d.property({readOnly:!0})],f.prototype,"cache",null);a.__decorate([d.property({readOnly:!0})],f.prototype,"extent",
null);a.__decorate([d.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],f.prototype,"paths",void 0);a.__decorate([k.writer("paths")],f.prototype,"writePaths",null);f=m=a.__decorate([e.subclass("esri.geometry.Polyline")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f})},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap"],function(a,b){const d=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});
b=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=d;a.typeKebabDictionary=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/jsonUtils":function(){define("exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,d,f,e,k,q){function g(c){return void 0!==
c.xmin&&void 0!==c.ymin&&void 0!==c.xmax&&void 0!==c.ymax}function p(c){return void 0!==c.points}function l(c){return void 0!==c.x&&void 0!==c.y}function n(c){return void 0!==c.paths}function u(c){return void 0!==c.rings}const m={esriGeometryPoint:e,esriGeometryPolyline:q,esriGeometryPolygon:k,esriGeometryEnvelope:b,esriGeometryMultipoint:f};a.fromJSON=function(c){return null==c?null:c instanceof d?c:l(c)?e.fromJSON(c):n(c)?q.fromJSON(c):u(c)?k.fromJSON(c):p(c)?f.fromJSON(c):g(c)?b.fromJSON(c):null};
a.getGeometryType=function(c){return c&&m[c]||null};a.getJsonType=function(c){return c?l(c)?"esriGeometryPoint":n(c)?"esriGeometryPolyline":u(c)?"esriGeometryPolygon":g(c)?"esriGeometryEnvelope":p(c)?"esriGeometryMultipoint":null:null};a.isExtent=g;a.isMesh=function(c){return void 0!==c.vertexAttributes};a.isMultipoint=p;a.isPoint=l;a.isPolygon=u;a.isPolyline=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Identifiable":function(){define(["exports","../chunks/tslib.es6",
"./accessorSupport/decorators/subclass"],function(a,b,d){let f=0;const e=k=>{k=class extends k{constructor(...q){super(...q);Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+f++})}};return k=b.__decorate([d.subclass("esri.core.Identifiable")],k)};a.Identifiable=class extends e(class{}){};a.Identifiable=b.__decorate([d.subclass("esri.core.Identifiable")],a.Identifiable);a.IdentifiableMixin=e;a.NumericIdentifiableMixin=k=>{k=class extends k{constructor(...q){super(...q);
Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:f++})}};return k=b.__decorate([d.subclass("esri.core.NumericIdentifiable")],k)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/fromPortalItem":function(){define(["require","exports","../../config","../../core/Logger"],function(a,b,d,f){b.fromPortalItem=async function(e){e="portalItem"in e?e:{portalItem:e};var {fromItem:k}=await new Promise((q,g)=>a(["../../portal/support/portalLayers"],q,g));
try{return await k(e)}catch(q){throw k=e&&e.portalItem,e=k?.id||"unset",k=k&&k.portal&&k.portal.url||d.portalUrl,f.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+k+"', id: '"+e+"')",q),q;}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/support/TablesMixin":function(){define("exports ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p,l){function n(u,m,c){if(u)for(let t=0,v=u.length;t<v;t++){var h=u.at(t);if(h[m]===c||"group"===h?.type&&(h=n(h.tables,m,c)))return h}}a.TablesMixin=u=>{u=class extends u{constructor(...m){super(...m);this.tables=new d;this.addHandles([this.tables.on("after-add",c=>{c=c.item;c.parent&&c.parent!==this&&"tables"in c.parent&&c.parent.tables.remove(c);c.parent=this;"feature"!==c.type&&e.getLogger(this).error(`Layer 'title:${c.title}, id:${c.id}' of type '${c.type}' is not supported as a table and will therefore be ignored.`)}),
this.tables.on("after-remove",c=>{c.item.parent=null})])}destroy(){const m=this.tables.toArray();for(const c of m)c.destroy();this.tables.destroy()}set tables(m){this._set("tables",f.referenceSetter(m,this._get("tables")))}findTableById(m){return n(this.tables,"id",m)}findTableByUid(m){return n(this.tables,"uid",m)}};b.__decorate([k.property()],u.prototype,"tables",null);return u=b.__decorate([l.subclass("esri.support.TablesMixin")],u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/Viewpoint":function(){define("./chunks/tslib.es6 ./Camera ./geometry ./core/JSONSupport ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),function(a,b,d,f,e,k,q,g,p,l){function n(){return{enabled:!this.camera}}var u;f=u=class extends f.JSONSupport{constructor(m){super(m);this.scale=this.rotation=0;this.camera=this.targetGeometry=null}castRotation(m){m%=
360;0>m&&(m+=360);return m}clone(){return new u({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};a.__decorate([e.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:n}}}}})],f.prototype,"rotation",void 0);a.__decorate([k.cast("rotation")],f.prototype,"castRotation",null);a.__decorate([e.property({type:Number,json:{write:!0,
origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:n}}}}})],f.prototype,"scale",void 0);a.__decorate([e.property({types:d.geometryTypes,json:{read:l.fromJSON,write:!0,origins:{"web-scene":{read:l.fromJSON,write:{overridePolicy:n}}}}})],f.prototype,"targetGeometry",void 0);a.__decorate([e.property({type:b,json:{write:!0}})],f.prototype,"camera",void 0);return f=u=a.__decorate([p.subclass("esri.Viewpoint")],f)})},"esri/Camera":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/Cyclical ./core/JSONSupport ./core/mathUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./geometry/Point".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c){b=class extends b.ClonableMixin(f.JSONSupport){constructor(...h){super(...h);this.position=new c([0,0,0]);this.tilt=this.heading=0;this.fov=55}normalizeCtorArgs(h,t,v,w){return h&&"object"===typeof h&&("x"in h||Array.isArray(h))?(h={position:h},null!=t&&(h.heading=t),null!=v&&(h.tilt=v),null!=w&&(h.fov=w),h):h}writePosition(h,t,v,w){const z=h.clone();z.x=m.ensureNumber(h.x||0);z.y=m.ensureNumber(h.y||0);z.z=h.hasZ?m.ensureNumber(h.z||0):h.z;t[v]=z.write({},w)}readPosition(h,
t){const v=new c;v.read(h,t);v.x=m.ensureNumber(v.x||0);v.y=m.ensureNumber(v.y||0);v.z=v.hasZ?m.ensureNumber(v.z||0):v.z;return v}equals(h){return null==h?!1:this.tilt===h.tilt&&this.heading===h.heading&&this.fov===h.fov&&this.position.equals(h.position)}};a.__decorate([k.property({type:c,json:{write:{isRequired:!0}}})],b.prototype,"position",void 0);a.__decorate([u.writer("position")],b.prototype,"writePosition",null);a.__decorate([l.reader("position")],b.prototype,"readPosition",null);a.__decorate([k.property({type:Number,
nonNullable:!0,json:{write:{isRequired:!0}}}),q.cast(h=>d.cyclicalDegrees.normalize(m.ensureNumber(h)))],b.prototype,"heading",void 0);a.__decorate([k.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),q.cast(h=>e.clamp(m.ensureNumber(h),-180,180))],b.prototype,"tilt",void 0);a.__decorate([k.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"fov",void 0);return b=a.__decorate([n.subclass("esri.Camera")],b)})},"esri/core/Clonable":function(){define("exports ../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p,l){f=n=>{n=class extends n{clone(){var u=p.getProperties(this);q.assertIsSome(u,"unable to clone instance of non-accessor class");var m=u.metadatas;const c=u.store,h={};u=new Map;for(var t in m){var v=m[t];const w=c?.originOf(t),z=v.clonable;if(v.readOnly||!1===z||w!==g.OriginId.USER&&w!==g.OriginId.DEFAULTS&&w!==g.OriginId.WEB_MAP&&w!==g.OriginId.WEB_SCENE)continue;v=this[t];let y=null;y="function"===typeof z?z(v):"reference"===z?v:e.tryClone(v);if(null==v||null!=y)w===
g.OriginId.DEFAULTS?u.set(t,y):h[t]=y}m=new (Object.getPrototypeOf(this).constructor)(h);if(u.size&&(t=p.getProperties(m)?.store))for(const [w,z]of u)t.set(w,z,g.OriginId.DEFAULTS);return m}};return n=b.__decorate([l.subclass("esri.core.Clonable")],n)};a.Clonable=class extends f(d){};a.Clonable=b.__decorate([l.subclass("esri.core.Clonable")],a.Clonable);a.ClonableMixin=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Cyclical":function(){define(["exports","./mathUtils"],
function(a,b){function d(g){for(const p in g){const l=g[p];l instanceof Function&&(g[p]=l.bind(g))}return g}class f{constructor(g,p){this.min=g;this.max=p;this.range=p-g}ndiff(g,p=0){return Math.ceil((g-p)/this.range)*this.range+p}_normalize(g,p,l,n=0,u=!1){l-=n;l<g?l+=this.ndiff(g-l):l>p&&(l-=this.ndiff(l-p));u&&l===p&&(l=g);return l+n}normalize(g,p=0,l=!1){return this._normalize(this.min,this.max,g,p,l)}clamp(g,p=0){return b.clamp(g-p,this.min,this.max)+p}monotonic(g,p,l){return g<p?p:p+this.ndiff(g-
p,l)}minimalMonotonic(g,p,l){return this._normalize(g,g+this.range,p,l)}center(g,p,l){p=this.monotonic(g,p,l);return this.normalize((g+p)/2,l)}diff(g,p,l){return this.monotonic(g,p,l)-g}shortestSignedDiff(g,p){g=this.normalize(g);p=this.normalize(p);const l=p-g;g=p<g?this.minimalMonotonic(g,p)-g:p-this.minimalMonotonic(p,g);return Math.abs(l)<Math.abs(g)?l:g}contains(g,p,l){p=this.minimalMonotonic(g,p);l=this.minimalMonotonic(g,l);return l>g&&l<p}}const e=d(new f(0,2*Math.PI)),k=d(new f(-Math.PI,
Math.PI)),q=d(new f(0,360));a.Cyclical=f;a.cyclical2PI=e;a.cyclicalDegrees=q;a.cyclicalPI=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OperationalLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/Error ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/layerContainerType ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t){a.OperationalLayer=v=>{v=class extends v{constructor(){super(...arguments);this.persistenceEnabled=!0;this.title=null}readId(w,z,y){return"Group Layer"===y?.portalItem?.type?void 0:w}writeListMode(w,z,y,r){r&&"ground"===r.layerContainerType?z[y]=w:w&&c.willPropertyWrite(this,y,{},r)&&(z[y]=w)}writeOperationalLayerType(w,z,y,r){w&&"tables"!==r?.layerContainerType&&(z.layerType=w)}writeTitle(w,z){z.title=w??"Layer"}read(w,z){z&&(z.layer=this);m.readLoadable(this,
w,y=>super.read(w,y),z)}write(w,z){if(!this.persistenceEnabled)return null;if(z?.origin){var y=`${z.origin}/${z.layerContainerType||"operational-layers"}`;let r=!!h.supportedTypes[y]?.[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===y&&(r=!1);"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===y&&(r=!1);if(!r)return z.messages?.push(new d("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${y}'`,
{layer:this})),null}w=super.write(w,{...z,layer:this});y=!!z&&!!z.messages&&!!z.messages.filter(r=>r instanceof d&&"web-document-write:property-required"===r.name).length;return f.isBlobProtocol(w?.url)?(z?.messages?.push(new d("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&y?null:w}beforeSave(){}};b.__decorate([e.property({type:String,json:{write:{ignoreOrigin:!0},
origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],v.prototype,"id",void 0);b.__decorate([p.reader("id",["id"])],v.prototype,"readId",null);b.__decorate([e.property(t.listMode)],v.prototype,"listMode",void 0);b.__decorate([n.writer("listMode")],v.prototype,"writeListMode",null);b.__decorate([e.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,
ignoreOrigin:!0,layerContainerTypes:u.excludeTables}}}}})],v.prototype,"operationalLayerType",void 0);b.__decorate([n.writer("operationalLayerType")],v.prototype,"writeOperationalLayerType",null);b.__decorate([e.property(t.opacity)],v.prototype,"opacity",void 0);b.__decorate([e.property({type:Boolean,readOnly:!1})],v.prototype,"persistenceEnabled",void 0);b.__decorate([e.property({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,
writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],v.prototype,"title",void 0);b.__decorate([n.writer("title"),n.writer(["web-scene"],"title")],v.prototype,"writeTitle",null);b.__decorate([e.property({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:u.excludeTables}}},name:"visibility",write:!0}})],v.prototype,"visible",void 0);return v=b.__decorate([l.subclass("esri.layers.mixins.OperationalLayer")],v)};a.isOperationalLayer=function(v){return"operationalLayerType"in
v};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/layerContainerType":function(){define(["exports"],function(a){a.excludeTables=["operational-layers","basemap","ground"];Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/operationalLayers":function(){define(["exports"],function(a){const b={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,
ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},d={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,
WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},f={ArcGISFeatureLayer:!0};a.supportedTypes={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,
VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":b,"web-map/basemap":d,"web-map/tables":f,
"link-chart/operational-layers":{...b,LinkChartLayer:!0},"link-chart/basemap":d,"link-chart/tables":f,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISImageServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/commonProperties":function(){define("exports ../../TimeExtent ../../core/accessorSupport/layerContainerType ../../geometry/Extent ../../geometry/SpatialReference ../../chunks/persistableUrlUtils ../../support/timeUtils ../../symbols/support/ElevationInfo ../../webdoc/support/opacityUtils".split(" "),
function(a,b,d,f,e,k,q,g,p){const l={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:d.excludeTables}}},n={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader(y,r){return!r.disablePopup}},write:{enabled:!0,writer(y,r,x){r[x]=!y}}}},u={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:d.excludeTables}}};k={type:String,json:{origins:{"portal-item":{write:!1}},
write:{isRequired:!0,ignoreOrigin:!0,writer:k.write}}};const m={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:d.excludeTables}}};g={value:null,type:g,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:d.excludeTables}}};var c={write:{enabled:!0,layerContainerTypes:d.excludeTables},read:!0};const h={type:Number,json:{origins:{"web-document":c,
"portal-item":{write:!0}}}};c={...h,json:{...h.json,origins:{"web-document":{...c,write:{enabled:!0,layerContainerTypes:d.excludeTables,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader(y,r,x){if((!x||"service"===x.origin)&&r.drawingInfo&&void 0!==r.drawingInfo.transparency)return p.transparencyToOpacity(r.drawingInfo.transparency);if(r.layerDefinition?.drawingInfo&&
void 0!==r.layerDefinition.drawingInfo.transparency)return p.transparencyToOpacity(r.layerDefinition.drawingInfo.transparency)}}}};const t={type:f,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(y,r)=>{y=f.fromJSON(y);null!=r.spatialReference&&"object"===typeof r.spatialReference&&(y.spatialReference=e.fromJSON(r.spatialReference));return y}}}},read:!1}},v={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},w={type:Number,json:{origins:{service:{write:{enabled:!1}},
"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:d.excludeTables}}},name:"layerDefinition.minScale",write:!0}},z={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:d.excludeTables}}},name:"layerDefinition.maxScale",write:!0}};d={json:{write:{ignoreOrigin:!0,layerContainerTypes:d.excludeTables},origins:{"web-map":{read:!1,write:!1}}}};a.combinedViewLayerTimeExtentProperty={type:b,
readOnly:!0,get(){if(!this.layer?.timeInfo)return null;const {datesInUnknownTimezone:y,timeOffset:r,useViewTime:x}=this.layer;var B=this.view?.timeExtent,A=this.layer.timeExtent;y&&(A=q.toLocalTimeExtent(A));B=x?B&&A?B.intersection(A):B||A:A;if(!B||B.isEmpty||B.isAllTime)return B;r&&(B=B.offset(-r.value,r.unit));y&&(B=q.toUTCTimeExtent(B));A=this._get("timeExtent");return B.equals(A)?A:B}};a.elevationInfo=g;a.id=v;a.labelsVisible=u;a.legendEnabled=m;a.listMode=d;a.maxScale=z;a.minScale=w;a.opacity=
h;a.opacityDrawingInfo=c;a.popupEnabled=n;a.readOnlyService=function(y){return{type:y,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};a.sceneLayerFullExtent=t;a.screenSizePerspectiveEnabled=l;a.url=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/TimeExtent":function(){define("./chunks/tslib.es6 ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./time/timeZoneUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){var u;b=u=class extends b.JSONSupport{static get allTime(){return m}static get empty(){return c}constructor(h){super(h);this.start=this.end=null}readEnd(h,t){return null!=t.end?new Date(t.end):null}writeEnd(h,t){t.end=h?.getTime()??null}get isAllTime(){return this.equals(u.allTime)}get isEmpty(){return this.equals(u.empty)}readStart(h,t){return null!=t.start?new Date(t.start):null}writeStart(h,t){t.start=h?.getTime()??null}clone(){return new u({end:this.end,start:this.start})}equals(h){if(!h)return!1;
const t=this.start?.getTime()??this.start,v=this.end?.getTime()??this.end,w=h.start?.getTime()??h.start;h=h.end?.getTime()??h.end;return t===w&&v===h}expandTo(h,t=n.system){if(this.isEmpty||this.isAllTime)return this.clone();let v=this.start;v&&(v=d.truncateDate(v,h,t));let w=this.end;if(w){const z=d.truncateDate(w,h,t);w=w.getTime()===z.getTime()?z:d.offsetDate(z,1,h,t)}return new u({start:v,end:w})}intersection(h){if(!h)return this.clone();if(this.isEmpty||h.isEmpty)return u.empty;if(this.isAllTime)return h.clone();
if(h.isAllTime)return this.clone();var t=this.start?.getTime()??-Infinity;const v=this.end?.getTime()??Infinity,w=h.start?.getTime()??-Infinity;h=h.end?.getTime()??Infinity;let z,y;w>=t&&w<=v?z=w:t>=w&&t<=h&&(z=t);v>=w&&v<=h?y=v:h>=t&&h<=v&&(y=h);return null==z||null==y||isNaN(z)||isNaN(y)?u.empty:(t=new u,t.start=-Infinity===z?null:new Date(z),t.end=Infinity===y?null:new Date(y),t)}offset(h,t,v=n.system){if(this.isEmpty||this.isAllTime)return this.clone();const w=new u,{start:z,end:y}=this;null!=
z&&(w.start=d.offsetDate(z,h,t,v));null!=y&&(w.end=d.offsetDate(y,h,t,v));return w}union(h){if(!h||h.isEmpty)return this.clone();if(this.isEmpty)return h.clone();if(this.isAllTime||h.isAllTime)return m.clone();const t=null!=this.start&&null!=h.start?new Date(Math.min(this.start.getTime(),h.start.getTime())):null;h=null!=this.end&&null!=h.end?new Date(Math.max(this.end.getTime(),h.end.getTime())):null;return new u({start:t,end:h})}};a.__decorate([f.property({type:Date,json:{write:{allowNull:!0}}})],
b.prototype,"end",void 0);a.__decorate([g.reader("end")],b.prototype,"readEnd",null);a.__decorate([l.writer("end")],b.prototype,"writeEnd",null);a.__decorate([f.property({readOnly:!0,json:{read:!1}})],b.prototype,"isAllTime",null);a.__decorate([f.property({readOnly:!0,json:{read:!1}})],b.prototype,"isEmpty",null);a.__decorate([f.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"start",void 0);a.__decorate([g.reader("start")],b.prototype,"readStart",null);a.__decorate([l.writer("start")],
b.prototype,"writeStart",null);b=u=a.__decorate([p.subclass("esri.TimeExtent")],b);const m=new b,c=new b({start:void 0,end:void 0});return b})},"esri/core/timeUtils":function(){define(["exports","../intl/date","../time/timeZoneUtils","../chunks/datetime"],function(a,b,d,f){function e(g,p,l){return 0===g?0:g*q[p]/q[l]}function k(g){switch(g){case "milliseconds":return"millisecond";case "seconds":return"second";case "minutes":return"minute";case "hours":return"hour";case "days":return"day";case "weeks":return"week";
case "months":return"month";case "years":return"year"}}const q={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};a.convertTime=e;a.isValidDate=function(g){return g instanceof Date&&!isNaN(g.getTime())};a.makeUTCTime=function(g,p,l="milliseconds"){p=new Date(e(p,l,"milliseconds"));p.setUTCFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate());return p};a.mergeTimeExtents=function(g,p){return g&&p?g.intersection(p):
g||p};a.millisecondsPerTimeUnit=q;a.offsetDate=function(g,p,l,n=d.system){n=new f.IANAZone(b.resolveTimeZone(n));g=f.DateTime.fromJSDate(g,{zone:n});n="decades"===l||"centuries"===l?"year":k(l);"decades"===l&&(p*=10);"centuries"===l&&(p*=100);return g.plus({[n]:p}).toJSDate()};a.offsetDateUTC=function(g,p,l="milliseconds"){g=g.getTime();p=e(p,l,"milliseconds");return new Date(g+p)};a.resetUTCDate=function(g,p){g=new Date(g.getTime());g.setUTCFullYear(p.getFullYear(),p.getMonth(),p.getDate());return g};
a.timeSinceUTCMidnight=function(g,p="milliseconds"){const l=e(g.getUTCHours(),"hours","milliseconds"),n=e(g.getUTCMinutes(),"minutes","milliseconds"),u=e(g.getUTCSeconds(),"seconds","milliseconds");g=g.getUTCMilliseconds();return e(l+n+u+g,"milliseconds",p)};a.truncateDate=function(g,p,l=d.system){l=new f.IANAZone(b.resolveTimeZone(l));g=f.DateTime.fromJSDate(g,{zone:l});if("decades"===p||"centuries"===p)return g=g.startOf("year"),{year:l}=g,g.set({year:l-l%("decades"===p?10:100)}).toJSDate();p=k(p);
return g.startOf(p).toJSDate()};a.truncateLocalTime=function(g){const p=new Date(0);p.setHours(0);p.setMinutes(0);p.setSeconds(0);p.setMilliseconds(0);p.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate());return p};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/date":function(){define(["exports","../core/jsonMap","./locale","../time/timeZoneUtils","../chunks/datetime"],function(a,b,d,f,e){function k(E){var F=B.get(E);if(!F){F=d.getLocale();F=x[F]||F;const L=
g(E.timeZone??f.system);F=new Intl.DateTimeFormat(F,{...E,timeZone:L});B.set(E,F)}return F}function q(E,F=A){return k(F).format(E)}function g(E){switch(E){case f.system:return f.systemTimeZone;case f.unknown:return f.utc;default:return E}}function p(E,F){const L=d.getLocale();return(new Intl.DateTimeFormat(x[L]??L,F)).formatToParts(E)}const l={year:void 0,month:void 0,day:void 0,weekday:void 0},n={hour:void 0,minute:void 0,second:void 0},u={timeZone:f.utc},m={year:"numeric",month:"numeric",day:"numeric"},
c={year:"numeric",month:"long",day:"numeric"},h={year:"numeric",month:"short",day:"numeric"},t={year:"numeric",month:"long",weekday:"long",day:"numeric"},v={hour:"numeric",minute:"numeric"},w={...v,second:"numeric"};var z={hourCycle:"h23"};const y={...v,...z};z={...w,...z};const r={"short-date":m,"short-date-short-time":{...m,...v},"short-date-short-time-24":{...m,...y},"short-date-long-time":{...m,...w},"short-date-long-time-24":{...m,...z},"short-date-le":m,"short-date-le-short-time":{...m,...v},
"short-date-le-short-time-24":{...m,...y},"short-date-le-long-time":{...m,...w},"short-date-le-long-time-24":{...m,...z},"long-month-day-year":c,"long-month-day-year-short-time":{...c,...v},"long-month-day-year-short-time-24":{...c,...y},"long-month-day-year-long-time":{...c,...w},"long-month-day-year-long-time-24":{...c,...z},"day-short-month-year":h,"day-short-month-year-short-time":{...h,...v},"day-short-month-year-short-time-24":{...h,...y},"day-short-month-year-long-time":{...h,...w},"day-short-month-year-long-time-24":{...h,
...z},"long-date":t,"long-date-short-time":{...t,...v},"long-date-short-time-24":{...t,...y},"long-date-long-time":{...t,...w},"long-date-long-time-24":{...t,...z},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":v,"long-time":w};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",
shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",
dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",
shortMonthYear:"short-month-year",year:"year"});const x={ar:"ar-u-nu-latn-ca-gregory"};let B=new WeakMap;const A=r["short-date-short-time"];d.beforeLocaleChange(()=>{B=new WeakMap});a.convertDateFormatToIntlOptions=function(E){return r[E]};a.dateFormatJSONMap=b;a.formatDate=q;a.formatDateOnly=function(E,F=A){return q(new Date(E),{...F,...u,...n})};a.formatTimeOnly=function(E,F=A){return q(new Date(`1970-01-01T${E}Z`),{...F,...u,...l})};a.formatTimestamp=function(E,F=A){if(F.timeZone)return q(new Date(E),
F);E=e.DateTime.fromISO(E,{setZone:!0});const L=d.getLocale();return E.toLocaleString({...F,timeZone:0===E.offset?f.utc:F.timeZone},{locale:x[L]??L})};a.getDateTimeFormatter=k;a.getShortOffsetTimeZoneSuffix=function(E,F=new Date){return p(F,{timeZone:E,timeZoneName:f.shortTimeZoneName}).find(({type:L})=>"timeZoneName"===L)?.value};a.resolveTimeZone=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/timeZoneUtils":function(){define(["exports","./legacyTimeZoneMap","../chunks/datetime"],
function(a,b,d){function f(g,p="system"){return g?"timeZoneIANA"in g?g.timeZoneIANA:k(g,p):p}function e(g){return{timeZoneIANA:g}}function k(g,p="system"){if(!g||!b.legacyTimeZoneMap.has(g.timeZone))return p;p=b.legacyTimeZoneMap.get(g.timeZone);if(g.timeZone.startsWith("UTC")||g.respectsDaylightSaving)return p;g=d.DateTime.local().setZone(p);g=Math.min(g.set({month:1,day:1}).offset,g.set({month:5}).offset);g=0===g?"Etc/UTC":`Etc/GMT${d.FixedOffsetZone.instance(-g).formatOffset(0,"narrow")}`;return g}
const q=Intl.DateTimeFormat().resolvedOptions().timeZone;a.convertLegacyTimeZone=k;a.fromTimeReference=f;a.getTimeZoneComponents=function(g){g="system"===g?q:g;var p=/^(?<area>[\w-]+)(?:\/(?<region>[\w-]+))?\/(?<location>[\w+-]+)$/;if(p.test(g)){p=p.exec(g)?.groups;const {area:l,region:n,location:u}=p;return{area:l,region:n,location:u,timeZone:g}}return{timeZone:g}};a.getTimeZoneFormattingOptions=function(g,p,l,n,u){if(p&&"date"===u)return{timeZone:"UTC",timeZoneName:void 0};p=n.timeStyle||n.hour;
n="unknown"===l;return{timeZone:n?"timestamp-offset"===u?void 0:g??"UTC":l,timeZoneName:n&&p?"shortOffset":void 0}};a.shortTimeZoneName="shortOffset";a.system="system";a.systemTimeZone=q;a.timeZoneProperty=function(g,p=!1){return{json:{read:{source:g,reader(l,n){return n[g]?f(n[g]):null}},write:p?{allowNull:!0,writer(l,n){n[g]=l?e(l):null}}:!1}}};a.toTimeReference=e;a.unknown="unknown";a.utc="UTC";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/legacyTimeZoneMap":function(){define(["exports"],
function(a){const b=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],
["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time",
"Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time",
"Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time",
"Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time",
"Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time",
"Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time",
"Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time",
"Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time",
"Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time",
"Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],
["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],
["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);
a.legacyTimeZoneMap=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/datetime":function(){define(["exports"],function(a){function b(C,O={}){const ea=JSON.stringify([C,O]);let oa=oc[ea];oa||(oa=new Intl.ListFormat(C,O),oc[ea]=oa);return oa}function d(C,O={}){const ea=JSON.stringify([C,O]);let oa=ac[ea];oa||(oa=new Intl.DateTimeFormat(C,O),ac[ea]=oa);return oa}function f(C,O={}){const ea=JSON.stringify([C,O]);let oa=bc[ea];oa||(oa=new Intl.NumberFormat(C,O),bc[ea]=oa);
return oa}function e(C,O={}){const {base:ea,...oa}=O,wa=JSON.stringify([C,oa]);let Ha=cc[wa];Ha||(Ha=new Intl.RelativeTimeFormat(C,O),cc[wa]=Ha);return Ha}function k(C){const O=[];for(let ea=1;12>=ea;ea++){const oa=cb.utc(2009,ea,1);O.push(C(oa))}return O}function q(C){const O=[];for(let ea=1;7>=ea;ea++){const oa=cb.utc(2016,11,13+ea);O.push(C(oa))}return O}function g(C,O,ea,oa){C=C.listingMode();return"error"===C?null:"en"===C?ea(O):oa(O)}function p(C,O){if(l(C)||null===C)return O;if(C instanceof
Tb)return C;if("string"===typeof C){const ea=C.toLowerCase();return"default"===ea?O:"local"===ea||"system"===ea?dc.instance:"utc"===ea||"gmt"===ea?sb.utcInstance:sb.parseSpecifier(ea)||Ib.create(C)}return n(C)?sb.instance(C):"object"===typeof C&&"offset"in C&&"function"===typeof C.offset?C:new Nc(C)}function l(C){return"undefined"===typeof C}function n(C){return"number"===typeof C}function u(C){return"number"===typeof C&&0===C%1}function m(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(C){return!1}}
function c(C,O,ea){if(0!==C.length)return C.reduce((oa,wa)=>{wa=[O(wa),wa];return oa?ea(oa[0],wa[0])===oa[0]?oa:wa:wa},null)[1]}function h(C,O){return O.reduce((ea,oa)=>{ea[oa]=C[oa];return ea},{})}function t(C,O){return Object.prototype.hasOwnProperty.call(C,O)}function v(C,O,ea){return u(C)&&C>=O&&C<=ea}function w(C,O=2){return 0>C?"-"+(""+-C).padStart(O,"0"):(""+C).padStart(O,"0")}function z(C){if(!l(C)&&null!==C&&""!==C)return parseInt(C,10)}function y(C){if(!l(C)&&null!==C&&""!==C)return parseFloat(C)}
function r(C){if(!l(C)&&null!==C&&""!==C)return C=1E3*parseFloat("0."+C),Math.floor(C)}function x(C,O,ea=!1){O=10**O;return(ea?Math.trunc:Math.round)(C*O)/O}function B(C){return 0===C%4&&(0!==C%100||0===C%400)}function A(C,O){var ea=O-1;ea=ea-12*Math.floor(ea/12)+1;return 2===ea?B(C+(O-ea)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][ea-1]}function E(C){let O=Date.UTC(C.year,C.month-1,C.day,C.hour,C.minute,C.second,C.millisecond);100>C.year&&0<=C.year&&(O=new Date(O),O.setUTCFullYear(C.year,
C.month-1,C.day));return+O}function F(C){var O=C-1;O=(O+Math.floor(O/4)-Math.floor(O/100)+Math.floor(O/400))%7;return 4===(C+Math.floor(C/4)-Math.floor(C/100)+Math.floor(C/400))%7||3===O?53:52}function L(C){return 99<C?C:C>mb.twoDigitCutoffYear?1900+C:2E3+C}function D(C,O,ea,oa=null){C=new Date(C);const wa={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};oa&&(wa.timeZone=oa);return(O=(new Intl.DateTimeFormat(ea,{timeZoneName:O,...wa})).formatToParts(C).find(Ha=>
"timezonename"===Ha.type.toLowerCase()))?O.value:null}function M(C,O){C=parseInt(C,10);Number.isNaN(C)&&(C=0);O=parseInt(O,10)||0;O=0>C||Object.is(C,-0)?-O:O;return 60*C+O}function K(C){const O=Number(C);if("boolean"===typeof C||""===C||Number.isNaN(O))throw new pb(`Invalid unit value ${C}`);return O}function I(C,O){const ea={};for(const oa in C)if(t(C,oa)){const wa=C[oa];void 0!==wa&&null!==wa&&(ea[O(oa)]=K(wa))}return ea}function P(C,O){const ea=Math.trunc(Math.abs(C/60)),oa=Math.trunc(Math.abs(C%
60));C=0<=C?"+":"-";switch(O){case "short":return`${C}${w(ea,2)}:${w(oa,2)}`;case "narrow":return`${C}${ea}${0<oa?`:${oa}`:""}`;case "techie":return`${C}${w(ea,2)}${w(oa,2)}`;default:throw new RangeError(`Value format ${O} is out of range for property format`);}}function T(C){return h(C,["hour","minute","second","millisecond"])}function Z(C){switch(C){case "narrow":return[...Oc];case "short":return[...pc];case "long":return[...Pc];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");
default:return null}}function J(C){switch(C){case "narrow":return[...Qc];case "short":return[...qc];case "long":return[...rc];case "numeric":return"1234567".split("");default:return null}}function Q(C){switch(C){case "narrow":return[...Rc];case "short":return[...Sc];case "long":return[...Tc];default:return null}}function N(C,O,ea="always",oa=!1){const wa={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute",
"min."],seconds:["second","sec."]};var Ha=-1===["hours","minutes","seconds"].indexOf(C);if("auto"===ea&&Ha)switch(ea="days"===C,O){case 1:return ea?"tomorrow":`next ${wa[C][0]}`;case -1:return ea?"yesterday":`last ${wa[C][0]}`;case 0:return ea?"today":`this ${wa[C][0]}`}ea=Object.is(O,-0)||0>O;O=Math.abs(O);Ha=1===O;const Pa=wa[C];C=oa?Ha?Pa[1]:Pa[2]||Pa[1]:Ha?wa[C][0]:C;return ea?`${O} ${C} ago`:`in ${O} ${C}`}function V(C,O){let ea="";for(const oa of C)ea=oa.literal?ea+oa.val:ea+O(oa.val);return ea}
function U(...C){C=C.reduce((O,ea)=>O+ea.source,"");return RegExp(`^${C}$`)}function sa(...C){return O=>C.reduce(([ea,oa,wa],Ha)=>{const [Pa,Sa,Xa]=Ha(O,wa);return[{...ea,...Pa},Sa||oa,Xa]},[{},null,1]).slice(0,2)}function za(C,...O){if(null==C)return[null,null];for(const [ea,oa]of O)if(O=ea.exec(C))return oa(O);return[null,null]}function Fa(...C){return(O,ea)=>{const oa={};let wa;for(wa=0;wa<C.length;wa++)oa[C[wa]]=z(O[ea+wa]);return[oa,null,ea+wa]}}function Da(C,O,ea){C=C[O];return l(C)?ea:z(C)}
function va(C,O){return[{hours:Da(C,O,0),minutes:Da(C,O+1,0),seconds:Da(C,O+2,0),milliseconds:r(C[O+3])},null,O+4]}function W(C,O){const ea=!C[O]&&!C[O+1];C=M(C[O+1],C[O+2]);return[{},ea?null:sb.instance(C),O+3]}function ba(C,O){return[{},C[O]?Ib.create(C[O]):null,O+1]}function fa(C){const [O,ea,oa,wa,Ha,Pa,Sa,Xa,eb]=C,$a="-"===O[0];C=Xa&&"-"===Xa[0];const gb=(fb,tb=!1)=>void 0!==fb&&(tb||fb&&$a)?-fb:fb;return[{years:gb(y(ea)),months:gb(y(oa)),weeks:gb(y(wa)),days:gb(y(Ha)),hours:gb(y(Pa)),minutes:gb(y(Sa)),
seconds:gb(y(Xa),"-0"===Xa),milliseconds:gb(r(eb),C)}]}function Ba(C,O,ea,oa,wa,Ha,Pa){O={year:2===O.length?L(z(O)):z(O),month:pc.indexOf(ea)+1,day:z(oa),hour:z(wa),minute:z(Ha)};Pa&&(O.second=z(Pa));C&&(O.weekday=3<C.length?rc.indexOf(C)+1:qc.indexOf(C)+1);return O}function Ja(C){const [,O,ea,oa,wa,Ha,Pa,Sa,Xa,eb,$a,gb]=C;C=Ba(O,wa,oa,ea,Ha,Pa,Sa);let fb;fb=Xa?Uc[Xa]:eb?0:M($a,gb);return[C,new sb(fb)]}function G(C){const [,O,ea,oa,wa,Ha,Pa,Sa]=C;return[Ba(O,wa,oa,ea,Ha,Pa,Sa),sb.utcInstance]}function S(C){const [,
O,ea,oa,wa,Ha,Pa,Sa]=C;return[Ba(O,Sa,ea,oa,wa,Ha,Pa),sb.utcInstance]}function ja(C,O,ea=!1){C={values:ea?O.values:{...C.values,...(O.values||{})},loc:C.loc.clone(O.loc),conversionAccuracy:O.conversionAccuracy||C.conversionAccuracy,matrix:O.matrix||C.matrix};return new hb(C)}function pa(C,O){let ea=O.milliseconds??0;for(const oa of Vc.slice(1))O[oa]&&(ea+=O[oa]*C[oa].milliseconds);return ea}function Aa(C,O){const ea=0>pa(C,O)?-1:1;Mb.reduceRight((oa,wa)=>{if(l(O[wa]))return oa;if(oa){const Ha=C[wa][oa],
Pa=Math.floor(O[oa]*ea/Ha);O[wa]+=Pa*ea;O[oa]-=Pa*Ha*ea}return wa},null);Mb.reduce((oa,wa)=>{if(l(O[wa]))return oa;if(oa){const Ha=O[oa]%1;O[oa]-=Ha;O[wa]+=Ha*C[oa][wa]}return wa},null)}function Y(C,O){C=O.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-C.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(hb.fromMillis(C).as("days"))}function da(C,O,ea){const oa=[["years",(Xa,eb)=>eb.year-Xa.year],["quarters",(Xa,eb)=>eb.quarter-Xa.quarter+4*(eb.year-Xa.year)],["months",(Xa,
eb)=>eb.month-Xa.month+12*(eb.year-Xa.year)],["weeks",(Xa,eb)=>{Xa=Y(Xa,eb);return(Xa-Xa%7)/7}],["days",Y]],wa={},Ha=C;let Pa,Sa;for(const [Xa,eb]of oa)0<=ea.indexOf(Xa)&&(Pa=Xa,wa[Xa]=eb(C,O),Sa=Ha.plus(wa),Sa>O?(wa[Xa]--,C=Ha.plus(wa),C>O&&(Sa=C,wa[Xa]--,C=Ha.plus(wa))):C=Sa);return[C,wa,Sa,Pa]}function ma(C,O,ea,oa){let [wa,Ha,Pa,Sa]=da(C,O,ea);C=O-wa;ea=ea.filter(Xa=>0<=["hours","minutes","seconds","milliseconds"].indexOf(Xa));0===ea.length&&(Pa<O&&(Pa=wa.plus({[Sa]:1})),Pa!==wa&&(Ha[Sa]=(Ha[Sa]||
0)+C/(Pa-wa)));O=hb.fromObject(Ha,oa);return 0<ea.length?hb.fromMillis(C,oa).shiftTo(...ea).plus(O):O}function R({numberingSystem:C},O=""){return new RegExp(`${ec[C||"latn"]}${O}`)}function H(C,O=ea=>ea){return{regex:C,deser:([ea])=>{{let oa=parseInt(ea,10);if(isNaN(oa)){oa="";for(let wa=0;wa<ea.length;wa++){const Ha=ea.charCodeAt(wa);if(-1!==ea[wa].search(ec.hanidec))oa+=Wc.indexOf(ea[wa]);else for(const Pa in sc){const [Sa,Xa]=sc[Pa];Ha>=Sa&&Ha<=Xa&&(oa+=Ha-Sa)}}ea=parseInt(oa,10)}else ea=oa}return O(ea)}}}
function X(C){return C.replace(/\./g,"\\.?").replace(fc,tc)}function ia(C,O){return null===C?null:{regex:RegExp(C.map(X).join("|")),deser:([ea])=>C.findIndex(oa=>ea.replace(/\./g,"").replace(fc," ").toLowerCase()===oa.replace(/\./g,"").replace(fc," ").toLowerCase())+O}}function ta(C,O){return{regex:C,deser:([,ea,oa])=>M(ea,oa),groups:O}}function Ca(C){return{regex:C,deser:([O])=>O}}function ha(C,O){const ea=R(O),oa=R(O,"{2}"),wa=R(O,"{3}"),Ha=R(O,"{4}"),Pa=R(O,"{6}"),Sa=R(O,"{1,2}"),Xa=R(O,"{1,3}"),
eb=R(O,"{1,6}"),$a=R(O,"{1,9}"),gb=R(O,"{2,4}"),fb=R(O,"{4,6}"),tb=Nb=>({regex:RegExp(Nb.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([gc])=>gc,literal:!0}),Ub=(Nb=>{if(C.literal)return tb(Nb);switch(Nb.val){case "G":return ia(O.eras("short"),0);case "GG":return ia(O.eras("long"),0);case "y":return H(eb);case "yy":return H(gb,L);case "yyyy":return H(Ha);case "yyyyy":return H(fb);case "yyyyyy":return H(Pa);case "M":return H(Sa);case "MM":return H(oa);case "MMM":return ia(O.months("short",
!0),1);case "MMMM":return ia(O.months("long",!0),1);case "L":return H(Sa);case "LL":return H(oa);case "LLL":return ia(O.months("short",!1),1);case "LLLL":return ia(O.months("long",!1),1);case "d":return H(Sa);case "dd":return H(oa);case "o":return H(Xa);case "ooo":return H(wa);case "HH":return H(oa);case "H":return H(Sa);case "hh":return H(oa);case "h":return H(Sa);case "mm":return H(oa);case "m":return H(Sa);case "q":return H(Sa);case "qq":return H(oa);case "s":return H(Sa);case "ss":return H(oa);
case "S":return H(Xa);case "SSS":return H(wa);case "u":return Ca($a);case "uu":return Ca(Sa);case "uuu":return H(ea);case "a":return ia(O.meridiems(),0);case "kkkk":return H(Ha);case "kk":return H(gb,L);case "W":return H(Sa);case "WW":return H(oa);case "E":case "c":return H(ea);case "EEE":return ia(O.weekdays("short",!1),1);case "EEEE":return ia(O.weekdays("long",!1),1);case "ccc":return ia(O.weekdays("short",!0),1);case "cccc":return ia(O.weekdays("long",!0),1);case "Z":case "ZZ":return ta(new RegExp(`([+-]${Sa.source})(?::(${oa.source}))?`),
2);case "ZZZ":return ta(new RegExp(`([+-]${Sa.source})(${oa.source})?`),2);case "z":return Ca(/[a-z_+-/]{1,256}?/i);case " ":return Ca(/[^\S\n\r]/);default:return tb(Nb)}})(C)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};Ub.token=C;return Ub}function na(C){return[`^${C.map(O=>O.regex).reduce((O,ea)=>`${O}(${ea.source})`,"")}$`,C]}function ra(C,O,ea){if(C=C.match(O)){O={};let oa=1;for(const wa in ea)if(t(ea,wa)){const Ha=ea[wa],Pa=Ha.groups?Ha.groups+1:1;!Ha.literal&&Ha.token&&
(O[Ha.token.val[0]]=Ha.deser(C.slice(oa,oa+Pa)));oa+=Pa}return[C,O]}return[C,{}]}function Ia(C){const O=wa=>{switch(wa){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";case "k":return"weekYear";case "q":return"quarter";default:return null}};let ea=null,oa;l(C.z)||(ea=Ib.create(C.z));
l(C.Z)||(ea||(ea=new sb(C.Z)),oa=C.Z);l(C.q)||(C.M=3*(C.q-1)+1);l(C.h)||(12>C.h&&1===C.a?C.h+=12:12===C.h&&0===C.a&&(C.h=0));0===C.G&&C.y&&(C.y=-C.y);l(C.u)||(C.S=r(C.u));return[Object.keys(C).reduce((wa,Ha)=>{const Pa=O(Ha);Pa&&(wa[Pa]=C[Ha]);return wa},{}),ea,oa]}function aa(C,O){return Array.prototype.concat(...C.map(ea=>{if(!ea.literal){var oa=ub.macroTokenToFormatOpts(ea.val);oa=xa(oa,O);ea=null==oa||oa.includes(void 0)?ea:oa}return ea}))}function ka(C,O,ea){ea=aa(ub.parseFormat(ea),C);var oa=
ea.map(fb=>ha(fb,C));const wa=oa.find(fb=>fb.invalidReason);if(wa)return{input:O,tokens:ea,invalidReason:wa.invalidReason};const [Ha,Pa]=na(oa);oa=RegExp(Ha,"i");const [Sa,Xa]=ra(O,oa,Pa),[eb,$a,gb]=Xa?Ia(Xa):[null,null,void 0];if(t(Xa,"a")&&t(Xa,"H"))throw new wb("Can't include meridiem when specifying 24-hour format");return{input:O,tokens:ea,regex:oa,rawMatches:Sa,matches:Xa,result:eb,zone:$a,specificOffset:gb}}function xa(C,O){if(!C)return null;O=ub.create(O,C);var ea=O.dtFormatter;hc||(hc=cb.fromMillis(1555555555555));
O=ea.call(O,hc);ea=O.formatToParts();const oa=O.resolvedOptions();return ea.map(wa=>{{const {type:Pa,value:Sa}=wa;if("literal"===Pa)wa=/^\s+$/.test(Sa),wa={literal:!wa,val:wa?" ":Sa};else{wa=C[Pa];var Ha=Pa;"hour"===Pa&&(Ha=null!=C.hour12?C.hour12?"hour12":"hour24":null!=C.hourCycle?"h11"===C.hourCycle||"h12"===C.hourCycle?"hour12":"hour24":oa.hour12?"hour12":"hour24");Ha=Xc[Ha];"object"===typeof Ha&&(Ha=Ha[wa]);wa=Ha?{literal:!1,val:Ha}:void 0}}return wa})}function ua(C,O){return new Db("unit out of range",
`you specified ${O} (of type ${typeof O}) as a ${C}, which is invalid`)}function Ea(C,O,ea){O=new Date(Date.UTC(C,O-1,ea));100>C&&0<=C&&O.setUTCFullYear(O.getUTCFullYear()-1900);C=O.getUTCDay();return 0===C?7:C}function Ma(C,O){C=B(C)?ic:jc;const ea=C.findIndex(oa=>oa<O);return{month:ea+1,day:O-C[ea]}}function la(C){const {year:O,month:ea,day:oa}=C;var wa=oa+(B(O)?ic:jc)[ea-1];const Ha=Ea(O,ea,oa);wa=Math.floor((wa-Ha+10)/7);let Pa;1>wa?(Pa=O-1,wa=F(Pa)):wa>F(O)?(Pa=O+1,wa=1):Pa=O;return{weekYear:Pa,
weekNumber:wa,weekday:Ha,...T(C)}}function qa(C){const {weekYear:O,weekNumber:ea,weekday:oa}=C;var wa=Ea(O,1,4),Ha=B(O)?366:365;wa=7*ea+oa-wa-3;1>wa?(Ha=O-1,wa+=B(Ha)?366:365):wa>Ha?(Ha=O+1,wa-=B(O)?366:365):Ha=O;const {month:Pa,day:Sa}=Ma(Ha,wa);return{year:Ha,month:Pa,day:Sa,...T(C)}}function Ka(C){const {year:O,month:ea,day:oa}=C;var wa=oa+(B(O)?ic:jc)[ea-1];return{year:O,ordinal:wa,...T(C)}}function Qa(C){const {year:O,ordinal:ea}=C,{month:oa,day:wa}=Ma(O,ea);return{year:O,month:oa,day:wa,...T(C)}}
function Ta(C){const O=u(C.year),ea=v(C.month,1,12),oa=v(C.day,1,A(C.year,C.month));return O?ea?oa?!1:ua("day",C.day):ua("month",C.month):ua("year",C.year)}function Ya(C){const {hour:O,minute:ea,second:oa,millisecond:wa}=C;C=v(O,0,23)||24===O&&0===ea&&0===oa&&0===wa;const Ha=v(ea,0,59),Pa=v(oa,0,59),Sa=v(wa,0,999);return C?Ha?Pa?Sa?!1:ua("millisecond",wa):ua("second",oa):ua("minute",ea):ua("hour",O)}function ab(C){return new Db("unsupported zone",`the zone "${C.name}" is not supported`)}function db(C){null===
C.weekData&&(C.weekData=la(C.c));return C.weekData}function Za(C,O){C={ts:C.ts,zone:C.zone,c:C.c,o:C.o,loc:C.loc,invalid:C.invalid};return new cb({...C,...O,old:C})}function jb(C,O,ea){let oa=C-6E4*O;const wa=ea.offset(oa);if(O===wa)return[oa,O];oa-=6E4*(wa-O);O=ea.offset(oa);return wa===O?[oa,wa]:[C-6E4*Math.min(wa,O),Math.max(wa,O)]}function qb(C,O){C=new Date(C+6E4*O);return{year:C.getUTCFullYear(),month:C.getUTCMonth()+1,day:C.getUTCDate(),hour:C.getUTCHours(),minute:C.getUTCMinutes(),second:C.getUTCSeconds(),
millisecond:C.getUTCMilliseconds()}}function yb(C,O,ea){return jb(E(C),O,ea)}function Rb(C,O){const ea=C.o;var oa=C.c.year+Math.trunc(O.years);const wa=C.c.month+Math.trunc(O.months)+3*Math.trunc(O.quarters);oa={...C.c,year:oa,month:wa,day:Math.min(C.c.day,A(oa,wa))+Math.trunc(O.days)+7*Math.trunc(O.weeks)};O=hb.fromObject({years:O.years-Math.trunc(O.years),quarters:O.quarters-Math.trunc(O.quarters),months:O.months-Math.trunc(O.months),weeks:O.weeks-Math.trunc(O.weeks),days:O.days-Math.trunc(O.days),
hours:O.hours,minutes:O.minutes,seconds:O.seconds,milliseconds:O.milliseconds}).as("milliseconds");oa=E(oa);let [Ha,Pa]=jb(oa,ea,C.zone);0!==O&&(Ha+=O,Pa=C.zone.offset(Ha));return{ts:Ha,o:Pa}}function xb(C,O,ea,oa,wa,Ha){const {setZone:Pa,zone:Sa}=ea;return C&&0!==Object.keys(C).length||O?(C=cb.fromObject(C,{...ea,zone:O||Sa,specificOffset:Ha}),Pa?C:C.setZone(Sa)):cb.invalid(new Db("unparsable",`the input "${wa}" can't be parsed as ${oa}`))}function zb(C,O,ea=!0){return C.isValid?ub.create(kb.create("en-US"),
{allowZ:ea,forceSimple:!0}).formatDateTimeFromString(C,O):null}function Cb(C,O){const ea=9999<C.c.year||0>C.c.year;let oa="";ea&&0<=C.c.year&&(oa+="+");oa+=w(C.c.year,ea?6:4);O?(oa=oa+"-"+w(C.c.month),oa=oa+"-"+w(C.c.day)):(oa+=w(C.c.month),oa+=w(C.c.day));return oa}function Eb(C,O,ea,oa,wa,Ha){let Pa=w(C.c.hour);O?(Pa=Pa+":"+w(C.c.minute),0===C.c.millisecond&&0===C.c.second&&ea||(Pa+=":")):Pa+=w(C.c.minute);0===C.c.millisecond&&0===C.c.second&&ea||(Pa+=w(C.c.second),0===C.c.millisecond&&oa||(Pa=
Pa+"."+w(C.c.millisecond,3)));wa&&(C.isOffsetFixed&&0===C.offset&&!Ha?Pa+="Z":0>C.o?(Pa=Pa+"-"+w(Math.trunc(-C.o/60)),Pa=Pa+":"+w(Math.trunc(-C.o%60))):(Pa=Pa+"+"+w(Math.trunc(C.o/60)),Pa=Pa+":"+w(Math.trunc(C.o%60))));Ha&&(Pa+="["+C.zone.ianaName+"]");return Pa}function Gb(C){const O={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",
milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[C.toLowerCase()];if(!O)throw new rb(C);return O}function Lb(C,O){const ea=p(O.zone,mb.defaultZone);O=kb.fromObject(O);const oa=mb.now();var wa;if(l(C.year))C=oa;else{for(const Ha of uc)l(C[Ha])&&(C[Ha]=vc[Ha]);if(wa=Ta(C)||Ya(C))return cb.invalid(wa);wa=ea.offset(oa);[C,wa]=yb(C,wa,ea)}return new cb({ts:C,
zone:ea,loc:O,o:wa})}function Ab(C,O,ea){const oa=l(ea.round)?!0:ea.round,wa=(Pa,Sa)=>{Pa=x(Pa,oa||ea.calendary?0:2,!0);return O.loc.clone(ea).relFormatter(ea).format(Pa,Sa)},Ha=Pa=>ea.calendary?O.hasSame(C,Pa)?0:O.startOf(Pa).diff(C.startOf(Pa),Pa).get(Pa):O.diff(C,Pa).get(Pa);if(ea.unit)return wa(Ha(ea.unit),ea.unit);for(const Pa of ea.units){const Sa=Ha(Pa);if(1<=Math.abs(Sa))return wa(Sa,Pa)}return wa(C>O?-0:0,ea.units[ea.units.length-1])}function Fb(C){let O={};0<C.length&&"object"===typeof C[C.length-
1]?(O=C[C.length-1],C=Array.from(C).slice(0,C.length-1)):C=Array.from(C);return[O,C]}function nb(C){if(cb.isDateTime(C))return C;if(C&&C.valueOf&&n(C.valueOf()))return cb.fromJSDate(C);if(C&&"object"===typeof C)return cb.fromObject(C);throw new pb(`Unknown datetime argument: ${C}, of type ${typeof C}`);}class Bb extends Error{}class Sb extends Bb{constructor(C){super(`Invalid DateTime: ${C.toMessage()}`)}}class La extends Bb{constructor(C){super(`Invalid Interval: ${C.toMessage()}`)}}class ib extends Bb{constructor(C){super(`Invalid Duration: ${C.toMessage()}`)}}
class wb extends Bb{}class rb extends Bb{constructor(C){super(`Invalid unit ${C}`)}}class pb extends Bb{}class Ua extends Bb{constructor(){super("Zone is an abstract class")}}const Wa={year:"numeric",month:"numeric",day:"numeric"},Ga={year:"numeric",month:"short",day:"numeric"},ca={year:"numeric",month:"short",day:"numeric",weekday:"short"},ya={year:"numeric",month:"long",day:"numeric"},Na={year:"numeric",month:"long",day:"numeric",weekday:"long"},Oa={hour:"numeric",minute:"numeric"},Ra={hour:"numeric",
minute:"numeric",second:"numeric"},Va={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},bb={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},ob={hour:"numeric",minute:"numeric",hourCycle:"h23"},Jb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},Ob={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},Hb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},Vb={year:"numeric",
month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},vb={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Pb={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},Qb={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Kb={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},Wb={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",
timeZoneName:"short"},wc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},xc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},yc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"};class Tb{get type(){throw new Ua;}get name(){throw new Ua;}get ianaName(){return this.name}get isUniversal(){throw new Ua;
}offsetName(C,O){throw new Ua;}formatOffset(C,O){throw new Ua;}offset(C){throw new Ua;}equals(C){throw new Ua;}get isValid(){throw new Ua;}}let kc=null;class dc extends Tb{static get instance(){null===kc&&(kc=new dc);return kc}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(C,{format:O,locale:ea}){return D(C,O,ea)}formatOffset(C,O){return P(this.offset(C),O)}offset(C){return-(new Date(C)).getTimezoneOffset()}equals(C){return"system"===
C.type}get isValid(){return!0}}let Yb={};const Yc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Zb={};class Ib extends Tb{static create(C){Zb[C]||(Zb[C]=new Ib(C));return Zb[C]}static resetCache(){Zb={};Yb={}}static isValidSpecifier(C){return this.isValidZone(C)}static isValidZone(C){if(!C)return!1;try{return(new Intl.DateTimeFormat("en-US",{timeZone:C})).format(),!0}catch(O){return!1}}constructor(C){super();this.zoneName=C;this.valid=Ib.isValidZone(C)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(C,
{format:O,locale:ea}){return D(C,O,ea,this.name)}formatOffset(C,O){return P(this.offset(C),O)}offset(C){C=new Date(C);if(isNaN(C))return NaN;var O=this.name;Yb[O]||(Yb[O]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:O,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}));O=Yb[O];if(O.formatToParts){O=O.formatToParts(C);var ea=[];for(let $a=0;$a<O.length;$a++){const {type:gb,value:fb}=O[$a],tb=Yc[gb];"era"===gb?ea[tb]=fb:l(tb)||(ea[tb]=
parseInt(fb,10))}O=ea}else{O=O.format(C).replace(/\u200E/g,"");O=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(O);const [,$a,gb,fb,tb,Ub,Nb,gc]=O;O=[fb,$a,gb,tb,Ub,Nb,gc]}let [oa,wa,Ha,Pa,Sa,Xa,eb]=O;"BC"===Pa&&(oa=-Math.abs(oa)+1);O=E({year:oa,month:wa,day:Ha,hour:24===Sa?0:Sa,minute:Xa,second:eb,millisecond:0});C=+C;ea=C%1E3;return(O-(C-(0<=ea?ea:1E3+ea)))/6E4}equals(C){return"iana"===C.type&&C.name===this.name}get isValid(){return this.valid}}let oc={},ac={},bc={},cc={},$b=null;class Zc{constructor(C,
O,ea){this.padTo=ea.padTo||0;this.floor=ea.floor||!1;const {padTo:oa,floor:wa,...Ha}=ea;if(!O||0<Object.keys(Ha).length)O={useGrouping:!1,...ea},0<ea.padTo&&(O.minimumIntegerDigits=ea.padTo),this.inf=f(C,O)}format(C){if(this.inf)return this.inf.format(this.floor?Math.floor(C):C);C=this.floor?Math.floor(C):x(C,3);return w(C,this.padTo)}}class $c{constructor(C,O,ea){this.opts=ea;ea=this.originalZone=void 0;this.opts.timeZone?this.dt=C:"fixed"===C.zone.type?(ea=C.offset/60*-1,ea=0<=ea?`Etc/GMT+${ea}`:
`Etc/GMT${ea}`,0!==C.offset&&Ib.create(ea).valid?this.dt=C:(ea="UTC",this.dt=0===C.offset?C:C.setZone("UTC").plus({minutes:C.offset}),this.originalZone=C.zone)):"system"===C.zone.type?this.dt=C:"iana"===C.zone.type?(this.dt=C,ea=C.zone.name):(ea="UTC",this.dt=C.setZone("UTC").plus({minutes:C.offset}),this.originalZone=C.zone);C={...this.opts};C.timeZone=C.timeZone||ea;this.dtf=d(O,C)}format(){return this.originalZone?this.formatToParts().map(({value:C})=>C).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const C=
this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?C.map(O=>{if("timeZoneName"===O.type){const ea=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...O,value:ea}}return O}):C}resolvedOptions(){return this.dtf.resolvedOptions()}}class ad{constructor(C,O,ea){this.opts={style:"long",...ea};!O&&m()&&(this.rtf=e(C,ea))}format(C,O){return this.rtf?this.rtf.format(C,O):N(O,C,this.opts.numeric,"long"!==this.opts.style)}formatToParts(C,
O){return this.rtf?this.rtf.formatToParts(C,O):[]}}class kb{static fromOpts(C){return kb.create(C.locale,C.numberingSystem,C.outputCalendar,C.defaultToEN)}static create(C,O,ea,oa=!1){C=C||mb.defaultLocale;var wa;(wa=C)||(oa?oa="en-US":($b||($b=(new Intl.DateTimeFormat).resolvedOptions().locale),oa=$b),wa=oa);return new kb(wa,O||mb.defaultNumberingSystem,ea||mb.defaultOutputCalendar,C)}static resetCache(){$b=null;ac={};bc={};cc={}}static fromObject({locale:C,numberingSystem:O,outputCalendar:ea}={}){return kb.create(C,
O,ea)}constructor(C,O,ea,oa){var wa=C.indexOf("-x-");-1!==wa&&(C=C.substring(0,wa));wa=C.indexOf("-u-");if(-1===wa)var Ha=[C];else{try{Ha=d(C).resolvedOptions();var Pa=C}catch(fb){Pa=C.substring(0,wa),Ha=d(Pa).resolvedOptions()}const {numberingSystem:$a,calendar:gb}=Ha;Ha=[Pa,$a,gb]}const [Sa,Xa,eb]=Ha;this.locale=Sa;this.numberingSystem=O||Xa||null;this.outputCalendar=ea||eb||null;O=this.locale;ea=this.numberingSystem;if((Ha=this.outputCalendar)||ea)O.includes("-u-")||(O+="-u"),Ha&&(O+=`-ca-${Ha}`),
ea&&(O+=`-nu-${ea}`);this.intl=O;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=oa;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var C=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=
C}return this.fastNumbersCached}listingMode(){const C=this.isEnglish(),O=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return C&&O?"en":"intl"}clone(C){return C&&0!==Object.getOwnPropertyNames(C).length?kb.create(C.locale||this.specifiedLocale,C.numberingSystem||this.numberingSystem,C.outputCalendar||this.outputCalendar,C.defaultToEN||!1):this}redefaultToEN(C={}){return this.clone({...C,defaultToEN:!0})}redefaultToSystem(C=
{}){return this.clone({...C,defaultToEN:!1})}months(C,O=!1){return g(this,C,Z,()=>{const ea=O?{month:C,day:"numeric"}:{month:C},oa=O?"format":"standalone";this.monthsCache[oa][C]||(this.monthsCache[oa][C]=k(wa=>this.extract(wa,ea,"month")));return this.monthsCache[oa][C]})}weekdays(C,O=!1){return g(this,C,J,()=>{const ea=O?{weekday:C,year:"numeric",month:"long",day:"numeric"}:{weekday:C},oa=O?"format":"standalone";this.weekdaysCache[oa][C]||(this.weekdaysCache[oa][C]=q(wa=>this.extract(wa,ea,"weekday")));
return this.weekdaysCache[oa][C]})}meridiems(){return g(this,void 0,()=>zc,()=>{if(!this.meridiemCache){const C={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[cb.utc(2016,11,13,9),cb.utc(2016,11,13,19)].map(O=>this.extract(O,C,"dayperiod"))}return this.meridiemCache})}eras(C){return g(this,C,Q,()=>{const O={era:C};this.eraCache[C]||(this.eraCache[C]=[cb.utc(-40,1,1),cb.utc(2017,1,1)].map(ea=>this.extract(ea,O,"era")));return this.eraCache[C]})}extract(C,O,ea){return(C=this.dtFormatter(C,O).formatToParts().find(oa=>
oa.type.toLowerCase()===ea))?C.value:null}numberFormatter(C={}){return new Zc(this.intl,C.forceSimple||this.fastNumbers,C)}dtFormatter(C,O={}){return new $c(C,this.intl,O)}relFormatter(C={}){return new ad(this.intl,this.isEnglish(),C)}listFormatter(C={}){return b(this.intl,C)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}equals(C){return this.locale===C.locale&&this.numberingSystem===C.numberingSystem&&
this.outputCalendar===C.outputCalendar}}let lc=null;class sb extends Tb{static get utcInstance(){null===lc&&(lc=new sb(0));return lc}static instance(C){return 0===C?sb.utcInstance:new sb(C)}static parseSpecifier(C){return C&&(C=C.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new sb(M(C[1],C[2])):null}constructor(C){super();this.fixed=C}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${P(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${P(-this.fixed,
"narrow")}`}offsetName(){return this.name}formatOffset(C,O){return P(this.fixed,O)}get isUniversal(){return!0}offset(){return this.fixed}equals(C){return"fixed"===C.type&&C.fixed===this.fixed}get isValid(){return!0}}class Nc extends Tb{constructor(C){super();this.zoneName=C}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let Ac=()=>Date.now(),Bc="system",
Cc=null,Dc=null,Ec=null,Fc=60,Gc;class mb{static get now(){return Ac}static set now(C){Ac=C}static set defaultZone(C){Bc=C}static get defaultZone(){return p(Bc,dc.instance)}static get defaultLocale(){return Cc}static set defaultLocale(C){Cc=C}static get defaultNumberingSystem(){return Dc}static set defaultNumberingSystem(C){Dc=C}static get defaultOutputCalendar(){return Ec}static set defaultOutputCalendar(C){Ec=C}static get twoDigitCutoffYear(){return Fc}static set twoDigitCutoffYear(C){Fc=C%100}static get throwOnInvalid(){return Gc}static set throwOnInvalid(C){Gc=
C}static resetCaches(){kb.resetCache();Ib.resetCache()}}const Pc="January February March April May June July August September October November December".split(" "),pc="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Oc="JFMAMJJASOND".split(""),rc="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),qc="Mon Tue Wed Thu Fri Sat Sun".split(" "),Qc="MTWTFSS".split(""),zc=["AM","PM"],Tc=["Before Christ","Anno Domini"],Sc=["BC","AD"],Rc=["B","A"],bd={D:Wa,DD:Ga,DDD:ya,DDDD:Na,
t:Oa,tt:Ra,ttt:Va,tttt:bb,T:ob,TT:Jb,TTT:Ob,TTTT:Hb,f:Vb,ff:Pb,fff:Wb,ffff:xc,F:vb,FF:Qb,FFF:wc,FFFF:yc};class ub{static create(C,O={}){return new ub(C,O)}static parseFormat(C){let O=null,ea="",oa=!1;const wa=[];for(let Ha=0;Ha<C.length;Ha++){const Pa=C.charAt(Ha);"'"===Pa?(0<ea.length&&wa.push({literal:oa||/^\s+$/.test(ea),val:ea}),O=null,ea="",oa=!oa):oa?ea+=Pa:Pa===O?ea+=Pa:(0<ea.length&&wa.push({literal:/^\s+$/.test(ea),val:ea}),O=ea=Pa)}0<ea.length&&wa.push({literal:oa||/^\s+$/.test(ea),val:ea});
return wa}static macroTokenToFormatOpts(C){return bd[C]}constructor(C,O){this.opts=O;this.loc=C;this.systemLoc=null}formatWithSystemDefault(C,O){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(C,{...this.opts,...O}).format()}dtFormatter(C,O={}){return this.loc.dtFormatter(C,{...this.opts,...O})}formatDateTime(C,O){return this.dtFormatter(C,O).format()}formatDateTimeParts(C,O){return this.dtFormatter(C,O).formatToParts()}formatInterval(C,O){return this.dtFormatter(C.start,
O).dtf.formatRange(C.start.toJSDate(),C.end.toJSDate())}resolvedOptions(C,O){return this.dtFormatter(C,O).resolvedOptions()}num(C,O=0){if(this.opts.forceSimple)return w(C,O);const ea={...this.opts};0<O&&(ea.padTo=O);return this.loc.numberFormatter(ea).format(C)}formatDateTimeFromString(C,O){const ea="en"===this.loc.listingMode(),oa=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,wa=($a,gb)=>this.loc.extract(C,$a,gb),Ha=$a=>C.isOffsetFixed&&0===C.offset&&$a.allowZ?"Z":C.isValid?C.zone.formatOffset(C.ts,
$a.format):"",Pa=($a,gb)=>ea?Z($a)[C.month-1]:wa(gb?{month:$a}:{month:$a,day:"numeric"},"month"),Sa=($a,gb)=>ea?J($a)[C.weekday-1]:wa(gb?{weekday:$a}:{weekday:$a,month:"long",day:"numeric"},"weekday"),Xa=$a=>{const gb=ub.macroTokenToFormatOpts($a);return gb?this.formatWithSystemDefault(C,gb):$a},eb=$a=>ea?Q($a)[0>C.year?0:1]:wa({era:$a},"era");return V(ub.parseFormat(O),$a=>{switch($a){case "S":return this.num(C.millisecond);case "u":case "SSS":return this.num(C.millisecond,3);case "s":return this.num(C.second);
case "ss":return this.num(C.second,2);case "uu":return this.num(Math.floor(C.millisecond/10),2);case "uuu":return this.num(Math.floor(C.millisecond/100));case "m":return this.num(C.minute);case "mm":return this.num(C.minute,2);case "h":return this.num(0===C.hour%12?12:C.hour%12);case "hh":return this.num(0===C.hour%12?12:C.hour%12,2);case "H":return this.num(C.hour);case "HH":return this.num(C.hour,2);case "Z":return Ha({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return Ha({format:"short",
allowZ:this.opts.allowZ});case "ZZZ":return Ha({format:"techie",allowZ:this.opts.allowZ});case "ZZZZ":return C.zone.offsetName(C.ts,{format:"short",locale:this.loc.locale});case "ZZZZZ":return C.zone.offsetName(C.ts,{format:"long",locale:this.loc.locale});case "z":return C.zoneName;case "a":return ea?zc[12>C.hour?0:1]:wa({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return oa?wa({day:"numeric"},"day"):this.num(C.day);case "dd":return oa?wa({day:"2-digit"},"day"):this.num(C.day,2);case "c":return this.num(C.weekday);
case "ccc":return Sa("short",!0);case "cccc":return Sa("long",!0);case "ccccc":return Sa("narrow",!0);case "E":return this.num(C.weekday);case "EEE":return Sa("short",!1);case "EEEE":return Sa("long",!1);case "EEEEE":return Sa("narrow",!1);case "L":return oa?wa({month:"numeric",day:"numeric"},"month"):this.num(C.month);case "LL":return oa?wa({month:"2-digit",day:"numeric"},"month"):this.num(C.month,2);case "LLL":return Pa("short",!0);case "LLLL":return Pa("long",!0);case "LLLLL":return Pa("narrow",
!0);case "M":return oa?wa({month:"numeric"},"month"):this.num(C.month);case "MM":return oa?wa({month:"2-digit"},"month"):this.num(C.month,2);case "MMM":return Pa("short",!1);case "MMMM":return Pa("long",!1);case "MMMMM":return Pa("narrow",!1);case "y":return oa?wa({year:"numeric"},"year"):this.num(C.year);case "yy":return oa?wa({year:"2-digit"},"year"):this.num(C.year.toString().slice(-2),2);case "yyyy":return oa?wa({year:"numeric"},"year"):this.num(C.year,4);case "yyyyyy":return oa?wa({year:"numeric"},
"year"):this.num(C.year,6);case "G":return eb("short");case "GG":return eb("long");case "GGGGG":return eb("narrow");case "kk":return this.num(C.weekYear.toString().slice(-2),2);case "kkkk":return this.num(C.weekYear,4);case "W":return this.num(C.weekNumber);case "WW":return this.num(C.weekNumber,2);case "o":return this.num(C.ordinal);case "ooo":return this.num(C.ordinal,3);case "q":return this.num(C.quarter);case "qq":return this.num(C.quarter,2);case "X":return this.num(Math.floor(C.ts/1E3));case "x":return this.num(C.ts);
default:return Xa($a)}})}formatDurationFromString(C,O){const ea=wa=>{switch(wa[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "w":return"week";case "M":return"month";case "y":return"year";default:return null}};O=ub.parseFormat(O);const oa=O.reduce((wa,{literal:Ha,val:Pa})=>Ha?wa:wa.concat(Pa),[]);C=C.shiftTo(...oa.map(ea).filter(wa=>wa));return V(O,(wa=>Ha=>{const Pa=ea(Ha);return Pa?this.num(wa.get(Pa),Ha.length):Ha})(C))}}
class Db{constructor(C,O){this.reason=C;this.explanation=O}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Hc=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,Ic=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,mc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Jc=RegExp(`${mc.source}${`(?:${Ic.source}?(?:\\[(${Hc.source})\\])?)?`}`),nc=RegExp(`(?:T${Jc.source})?`),cd=Fa("weekYear","weekNumber","weekDay"),dd=Fa("year","ordinal"),Kc=
RegExp(`${mc.source} ?(?:${Ic.source}|(${Hc.source}))?`),ed=RegExp(`(?: ${Kc.source})?`),fd=RegExp(`^T?${mc.source}$`),gd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/,Uc={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},hd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,
id=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,jd=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,kd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,ld=U(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,nc),md=U(/(\d{4})-?W(\d\d)(?:-?(\d))?/,
nc),nd=U(/(\d{4})-?(\d{3})/,nc),od=U(Jc),Lc=sa(function(C,O){return[{year:Da(C,O),month:Da(C,O+1,1),day:Da(C,O+2,1)},null,O+3]},va,W,ba),pd=sa(cd,va,W,ba),qd=sa(dd,va,W,ba),rd=sa(va,W,ba),sd=sa(va),td=U(/(\d{4})-(\d\d)-(\d\d)/,ed),ud=U(Kc),vd=sa(va,W,ba),Mc={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},
wd={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6},...Mc},xd={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,
minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Mc},Mb="years quarters months weeks days hours minutes seconds milliseconds".split(" "),Vc=Mb.slice(0).reverse();class hb{constructor(C){const O="longterm"===C.conversionAccuracy||!1;let ea=O?xd:wd;C.matrix&&(ea=C.matrix);this.values=C.values;this.loc=C.loc||kb.create();this.conversionAccuracy=O?"longterm":"casual";this.invalid=
C.invalid||null;this.matrix=ea;this.isLuxonDuration=!0}static fromMillis(C,O){return hb.fromObject({milliseconds:C},O)}static fromObject(C,O={}){if(null==C||"object"!==typeof C)throw new pb(`Duration.fromObject: argument expected to be an object, got ${null===C?"null":typeof C}`);return new hb({values:I(C,hb.normalizeUnit),loc:kb.fromObject(O),conversionAccuracy:O.conversionAccuracy,matrix:O.matrix})}static fromDurationLike(C){if(n(C))return hb.fromMillis(C);if(hb.isDuration(C))return C;if("object"===
typeof C)return hb.fromObject(C);throw new pb(`Unknown duration argument ${C} of type ${typeof C}`);}static fromISO(C,O){const [ea]=za(C,[gd,fa]);return ea?hb.fromObject(ea,O):hb.invalid("unparsable",`the input "${C}" can't be parsed as ISO 8601`)}static fromISOTime(C,O){const [ea]=za(C,[fd,sd]);return ea?hb.fromObject(ea,O):hb.invalid("unparsable",`the input "${C}" can't be parsed as ISO 8601`)}static invalid(C,O=null){if(!C)throw new pb("need to specify a reason the Duration is invalid");C=C instanceof
Db?C:new Db(C,O);if(mb.throwOnInvalid)throw new ib(C);return new hb({invalid:C})}static normalizeUnit(C){const O={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[C?C.toLowerCase():C];if(!O)throw new rb(C);return O}static isDuration(C){return C&&C.isLuxonDuration||
!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(C,O={}){O={...O,floor:!1!==O.round&&!1!==O.floor};return this.isValid?ub.create(this.loc,O).formatDurationFromString(this,C):"Invalid Duration"}toHuman(C={}){if(!this.isValid)return"Invalid Duration";const O=Mb.map(ea=>{const oa=this.values[ea];return l(oa)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...C,unit:ea.slice(0,-1)}).format(oa)}).filter(ea=>
ea);return this.loc.listFormatter({type:"conjunction",style:C.listStyle||"narrow",...C}).format(O)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let C="P";0!==this.years&&(C+=this.years+"Y");if(0!==this.months||0!==this.quarters)C+=this.months+3*this.quarters+"M";0!==this.weeks&&(C+=this.weeks+"W");0!==this.days&&(C+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)C+="T";0!==this.hours&&(C+=this.hours+"H");0!==this.minutes&&
(C+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)C+=x(this.seconds+this.milliseconds/1E3,3)+"S";"P"===C&&(C+="T0S");return C}toISOTime(C={}){if(!this.isValid)return null;const O=this.toMillis();if(0>O||864E5<=O)return null;C={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...C,includeOffset:!1};return cb.fromMillis(O,{zone:"UTC"}).toISOTime(C)}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?pa(this.matrix,this.values):
NaN}valueOf(){return this.toMillis()}plus(C){if(!this.isValid)return this;C=hb.fromDurationLike(C);const O={};for(const ea of Mb)if(t(C.values,ea)||t(this.values,ea))O[ea]=C.get(ea)+this.get(ea);return ja(this,{values:O},!0)}minus(C){if(!this.isValid)return this;C=hb.fromDurationLike(C);return this.plus(C.negate())}mapUnits(C){if(!this.isValid)return this;const O={};for(const ea of Object.keys(this.values))O[ea]=K(C(this.values[ea],ea));return ja(this,{values:O},!0)}get(C){return this[hb.normalizeUnit(C)]}set(C){if(!this.isValid)return this;
C={...this.values,...I(C,hb.normalizeUnit)};return ja(this,{values:C})}reconfigure({locale:C,numberingSystem:O,conversionAccuracy:ea,matrix:oa}={}){C={loc:this.loc.clone({locale:C,numberingSystem:O}),matrix:oa,conversionAccuracy:ea};return ja(this,C)}as(C){return this.isValid?this.shiftTo(C).get(C):NaN}normalize(){if(!this.isValid)return this;const C=this.toObject();Aa(this.matrix,C);return ja(this,{values:C},!0)}rescale(){if(!this.isValid)return this;var C=this.normalize().shiftToAll().toObject();
const O={};for(const [ea,oa]of Object.entries(C))0!==oa&&(O[ea]=oa);return ja(this,{values:O},!0)}shiftTo(...C){if(!this.isValid||0===C.length)return this;C=C.map(Ha=>hb.normalizeUnit(Ha));const O={},ea={},oa=this.toObject();let wa;for(const Ha of Mb)if(0<=C.indexOf(Ha)){wa=Ha;let Pa=0;for(const Xa in ea)Pa+=this.matrix[Xa][Ha]*ea[Xa],ea[Xa]=0;n(oa[Ha])&&(Pa+=oa[Ha]);const Sa=Math.trunc(Pa);O[Ha]=Sa;ea[Ha]=(1E3*Pa-1E3*Sa)/1E3}else n(oa[Ha])&&(ea[Ha]=oa[Ha]);for(const Ha in ea)0!==ea[Ha]&&(O[wa]+=
Ha===wa?ea[Ha]:ea[Ha]/this.matrix[wa][Ha]);Aa(this.matrix,O);return ja(this,{values:O},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const C={};for(const O of Object.keys(this.values))C[O]=0===this.values[O]?0:-this.values[O];return ja(this,{values:C},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?
this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?
this.invalid.explanation:null}equals(C){if(!this.isValid||!C.isValid||!this.loc.equals(C.loc))return!1;for(const oa of Mb){var O=this.values[oa];var ea=C.values[oa];O=void 0===O||0===O?void 0===ea||0===ea:O===ea;if(!O)return!1}return!0}}class lb{constructor(C){this.s=C.start;this.e=C.end;this.invalid=C.invalid||null;this.isLuxonInterval=!0}static invalid(C,O=null){if(!C)throw new pb("need to specify a reason the Interval is invalid");C=C instanceof Db?C:new Db(C,O);if(mb.throwOnInvalid)throw new La(C);
return new lb({invalid:C})}static fromDateTimes(C,O){C=nb(C);O=nb(O);var ea=C&&C.isValid?O&&O.isValid?O<C?lb.invalid("end before start",`The end of an interval must be after its start, but you had start=${C.toISO()} and end=${O.toISO()}`):null:lb.invalid("missing or invalid end"):lb.invalid("missing or invalid start");return null==ea?new lb({start:C,end:O}):ea}static after(C,O){O=hb.fromDurationLike(O);C=nb(C);return lb.fromDateTimes(C,C.plus(O))}static before(C,O){O=hb.fromDurationLike(O);C=nb(C);
return lb.fromDateTimes(C.minus(O),C)}static fromISO(C,O){const [ea,oa]=(C||"").split("/",2);if(ea&&oa){let Pa;try{var wa=cb.fromISO(ea,O);Pa=wa.isValid}catch(Xa){Pa=!1}let Sa;try{var Ha=cb.fromISO(oa,O);Sa=Ha.isValid}catch(Xa){Sa=!1}if(Pa&&Sa)return lb.fromDateTimes(wa,Ha);if(Pa){if(Ha=hb.fromISO(oa,O),Ha.isValid)return lb.after(wa,Ha)}else if(Sa&&(wa=hb.fromISO(ea,O),wa.isValid))return lb.before(Ha,wa)}return lb.invalid("unparsable",`the input "${C}" can't be parsed as ISO 8601`)}static isInterval(C){return C&&
C.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(C="milliseconds"){return this.isValid?this.toDuration(...[C]).get(C):NaN}count(C="milliseconds"){if(!this.isValid)return NaN;const O=this.start.startOf(C),ea=this.end.startOf(C);return Math.floor(ea.diff(O,
C).get(C))+(ea.valueOf()!==this.end.valueOf())}hasSame(C){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,C):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(C){return this.isValid?this.s>C:!1}isBefore(C){return this.isValid?this.e<=C:!1}contains(C){return this.isValid?this.s<=C&&this.e>C:!1}set({start:C,end:O}={}){return this.isValid?lb.fromDateTimes(C||this.s,O||this.e):this}splitAt(...C){if(!this.isValid)return[];C=C.map(nb).filter(Ha=>this.contains(Ha)).sort();
const O=[];let {s:ea}=this,oa=0;for(;ea<this.e;){var wa=C[oa]||this.e;wa=+wa>+this.e?this.e:wa;O.push(lb.fromDateTimes(ea,wa));ea=wa;oa+=1}return O}splitBy(C){C=hb.fromDurationLike(C);if(!this.isValid||!C.isValid||0===C.as("milliseconds"))return[];let {s:O}=this,ea=1;const oa=[];for(;O<this.e;){var wa=this.start.plus(C.mapUnits(Ha=>Ha*ea));wa=+wa>+this.e?this.e:wa;oa.push(lb.fromDateTimes(O,wa));O=wa;ea+=1}return oa}divideEqually(C){return this.isValid?this.splitBy(this.length()/C).slice(0,C):[]}overlaps(C){return this.e>
C.s&&this.s<C.e}abutsStart(C){return this.isValid?+this.e===+C.s:!1}abutsEnd(C){return this.isValid?+C.e===+this.s:!1}engulfs(C){return this.isValid?this.s<=C.s&&this.e>=C.e:!1}equals(C){return this.isValid&&C.isValid?this.s.equals(C.s)&&this.e.equals(C.e):!1}intersection(C){if(!this.isValid)return this;const O=this.s>C.s?this.s:C.s;C=this.e<C.e?this.e:C.e;return O>=C?null:lb.fromDateTimes(O,C)}union(C){return this.isValid?lb.fromDateTimes(this.s<C.s?this.s:C.s,this.e>C.e?this.e:C.e):this}static merge(C){const [O,
ea]=C.sort((oa,wa)=>oa.s-wa.s).reduce(([oa,wa],Ha)=>wa?wa.overlaps(Ha)||wa.abutsStart(Ha)?[oa,wa.union(Ha)]:[oa.concat([wa]),Ha]:[oa,Ha],[[],null]);ea&&O.push(ea);return O}static xor(C){let O=null,ea=0;const oa=[];C=C.map(wa=>[{time:wa.s,type:"s"},{time:wa.e,type:"e"}]);C=Array.prototype.concat(...C).sort((wa,Ha)=>wa.time-Ha.time);for(const wa of C)ea+="s"===wa.type?1:-1,1===ea?O=wa.time:(O&&+O!==+wa.time&&oa.push(lb.fromDateTimes(O,wa.time)),O=null);return lb.merge(oa)}difference(...C){return lb.xor([this].concat(C)).map(O=>
this.intersection(O)).filter(O=>O&&!O.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}toLocaleString(C=Wa,O={}){return this.isValid?ub.create(this.s.loc.clone(O),C).formatInterval(this):"Invalid Interval"}toISO(C){return this.isValid?`${this.s.toISO(C)}/${this.e.toISO(C)}`:"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(C){return this.isValid?`${this.s.toISOTime(C)}/${this.e.toISOTime(C)}`:
"Invalid Interval"}toFormat(C,{separator:O=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(C)}${O}${this.e.toFormat(C)}`:"Invalid Interval"}toDuration(C,O){return this.isValid?this.e.diff(this.s,C,O):hb.invalid(this.invalidReason)}mapEndpoints(C){return lb.fromDateTimes(C(this.s),C(this.e))}}class Xb{static hasDST(C=mb.defaultZone){const O=cb.now().setZone(C).set({month:12});return!C.isUniversal&&O.offset!==O.set({month:6}).offset}static isValidIANAZone(C){return Ib.isValidZone(C)}static normalizeZone(C){return p(C,
mb.defaultZone)}static months(C="long",{locale:O=null,numberingSystem:ea=null,locObj:oa=null,outputCalendar:wa="gregory"}={}){return(oa||kb.create(O,ea,wa)).months(C)}static monthsFormat(C="long",{locale:O=null,numberingSystem:ea=null,locObj:oa=null,outputCalendar:wa="gregory"}={}){return(oa||kb.create(O,ea,wa)).months(C,!0)}static weekdays(C="long",{locale:O=null,numberingSystem:ea=null,locObj:oa=null}={}){return(oa||kb.create(O,ea,null)).weekdays(C)}static weekdaysFormat(C="long",{locale:O=null,
numberingSystem:ea=null,locObj:oa=null}={}){return(oa||kb.create(O,ea,null)).weekdays(C,!0)}static meridiems({locale:C=null}={}){return kb.create(C).meridiems()}static eras(C="short",{locale:O=null}={}){return kb.create(O,null,"gregory").eras(C)}static features(){return{relative:m()}}}const ec={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",
khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},sc={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,
3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Wc=ec.hanidec.replace(/[\[|\]]/g,"").split(""),tc=`[ ${String.fromCharCode(160)}]`,fc=new RegExp(tc,"g"),Xc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},
minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let hc=null;const jc=[0,31,59,90,120,151,181,212,243,273,304,334],ic=[0,31,60,91,121,152,182,213,244,274,305,335],vc={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},yd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},zd={ordinal:1,hour:0,minute:0,second:0,millisecond:0},uc="year month day hour minute second millisecond".split(" "),Ad="weekYear weekNumber weekday hour minute second millisecond".split(" "),
Bd="year ordinal hour minute second millisecond".split(" ");class cb{constructor(C){const O=C.zone||mb.defaultZone;let ea=C.invalid||(Number.isNaN(C.ts)?new Db("invalid input"):null)||(O.isValid?null:ab(O));this.ts=l(C.ts)?mb.now():C.ts;let oa=null;var wa=null;ea||(C.old&&C.old.ts===this.ts&&C.old.zone.equals(O)?[oa,wa]=[C.old.c,C.old.o]:(wa=O.offset(this.ts),oa=qb(this.ts,wa),oa=(ea=Number.isNaN(oa.year)?new Db("invalid input"):null)?null:oa,wa=ea?null:wa));this._zone=O;this.loc=C.loc||kb.create();
this.invalid=ea;this.weekData=null;this.c=oa;this.o=wa;this.isLuxonDateTime=!0}static now(){return new cb({})}static local(){const [C,O]=Fb(arguments),[ea,oa,wa,Ha,Pa,Sa,Xa]=O;return Lb({year:ea,month:oa,day:wa,hour:Ha,minute:Pa,second:Sa,millisecond:Xa},C)}static utc(){const [C,O]=Fb(arguments),[ea,oa,wa,Ha,Pa,Sa,Xa]=O;C.zone=sb.utcInstance;return Lb({year:ea,month:oa,day:wa,hour:Ha,minute:Pa,second:Sa,millisecond:Xa},C)}static fromJSDate(C,O={}){C="[object Date]"===Object.prototype.toString.call(C)?
C.valueOf():NaN;if(Number.isNaN(C))return cb.invalid("invalid input");const ea=p(O.zone,mb.defaultZone);return ea.isValid?new cb({ts:C,zone:ea,loc:kb.fromObject(O)}):cb.invalid(ab(ea))}static fromMillis(C,O={}){if(n(C))return-864E13>C||864E13<C?cb.invalid("Timestamp out of range"):new cb({ts:C,zone:p(O.zone,mb.defaultZone),loc:kb.fromObject(O)});throw new pb(`fromMillis requires a numerical input, but received a ${typeof C} with value ${C}`);}static fromSeconds(C,O={}){if(n(C))return new cb({ts:1E3*
C,zone:p(O.zone,mb.defaultZone),loc:kb.fromObject(O)});throw new pb("fromSeconds requires a numerical input");}static fromObject(C,O={}){C=C||{};var ea=p(O.zone,mb.defaultZone);if(!ea.isValid)return cb.invalid(ab(ea));var oa=mb.now();const wa=l(O.specificOffset)?ea.offset(oa):O.specificOffset,Ha=I(C,Gb);var Pa=!l(Ha.ordinal),Sa=!l(Ha.year),Xa=!l(Ha.month)||!l(Ha.day);Sa=Sa||Xa;var eb=Ha.weekYear||Ha.weekNumber;O=kb.fromObject(O);if((Sa||Pa)&&eb)throw new wb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");
if(Xa&&Pa)throw new wb("Can't mix ordinal dates with month/day");Xa=eb||Ha.weekday&&!Sa;let $a=qb(oa,wa);Xa?(oa=Ad,eb=yd,$a=la($a)):Pa?(oa=Bd,eb=zd,$a=Ka($a)):(oa=uc,eb=vc);let gb=!1;for(var fb of oa)l(Ha[fb])?Ha[fb]=gb?eb[fb]:$a[fb]:gb=!0;Xa?(fb=u(Ha.weekYear),oa=v(Ha.weekNumber,1,F(Ha.weekYear)),eb=v(Ha.weekday,1,7),fb=fb?oa?eb?!1:ua("weekday",Ha.weekday):ua("week",Ha.week):ua("weekYear",Ha.weekYear)):Pa?(fb=u(Ha.year),oa=v(Ha.ordinal,1,B(Ha.year)?366:365),fb=fb?oa?!1:ua("ordinal",Ha.ordinal):ua("year",
Ha.year)):fb=Ta(Ha);if(fb=fb||Ya(Ha))return cb.invalid(fb);Pa=Xa?qa(Ha):Pa?Qa(Ha):Ha;const [tb,Ub]=yb(Pa,wa,ea);ea=new cb({ts:tb,zone:ea,o:Ub,loc:O});return Ha.weekday&&Sa&&C.weekday!==ea.weekday?cb.invalid("mismatched weekday",`you can't specify both a weekday of ${Ha.weekday} and a date of ${ea.toISO()}`):ea}static fromISO(C,O={}){const [ea,oa]=za(C,[ld,Lc],[md,pd],[nd,qd],[od,rd]);return xb(ea,oa,O,"ISO 8601",C)}static fromRFC2822(C,O={}){const [ea,oa]=za(C.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g,
" ").trim(),[hd,Ja]);return xb(ea,oa,O,"RFC 2822",C)}static fromHTTP(C,O={}){const [ea,oa]=za(C,[id,G],[jd,G],[kd,S]);return xb(ea,oa,O,"HTTP",O)}static fromFormat(C,O,ea={}){if(l(C)||l(O))throw new pb("fromFormat requires an input string and a format");const {locale:oa=null,numberingSystem:wa=null}=ea,Ha=kb.fromOpts({locale:oa,numberingSystem:wa,defaultToEN:!0}),{result:Pa,zone:Sa,specificOffset:Xa,invalidReason:eb}=ka(Ha,C,O),[$a,gb,fb,tb]=[Pa,Sa,Xa,eb];return tb?cb.invalid(tb):xb($a,gb,ea,`format ${O}`,
C,fb)}static fromString(C,O,ea={}){return cb.fromFormat(C,O,ea)}static fromSQL(C,O={}){const [ea,oa]=za(C,[td,Lc],[ud,vd]);return xb(ea,oa,O,"SQL",C)}static invalid(C,O=null){if(!C)throw new pb("need to specify a reason the DateTime is invalid");C=C instanceof Db?C:new Db(C,O);if(mb.throwOnInvalid)throw new Sb(C);return new cb({invalid:C})}static isDateTime(C){return C&&C.isLuxonDateTime||!1}static parseFormatForOpts(C,O={}){return(C=xa(C,kb.fromObject(O)))?C.map(ea=>ea?ea.val:null).join(""):null}static expandFormat(C,
O={}){return aa(ub.parseFormat(C),kb.fromObject(O)).map(ea=>ea.val).join("")}get(C){return this[C]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?
this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?db(this).weekYear:NaN}get weekNumber(){return this.isValid?
db(this).weekNumber:NaN}get weekday(){return this.isValid?db(this).weekday:NaN}get ordinal(){return this.isValid?Ka(this.c).ordinal:NaN}get monthShort(){return this.isValid?Xb.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Xb.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Xb.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Xb.weekdays("long",{locObj:this.loc})[this.weekday-
1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||
this.isOffsetFixed)return[this];var C=E(this.c),O=this.zone.offset(C-864E5),ea=this.zone.offset(C+864E5);O=this.zone.offset(C-6E4*O);var oa=this.zone.offset(C-6E4*ea);if(O===oa)return[this];ea=C-6E4*O;C-=6E4*oa;O=qb(ea,O);oa=qb(C,oa);return O.hour===oa.hour&&O.minute===oa.minute&&O.second===oa.second&&O.millisecond===oa.millisecond?[Za(this,{ts:ea}),Za(this,{ts:C})]:[this]}get isInLeapYear(){return B(this.year)}get daysInMonth(){return A(this.year,this.month)}get daysInYear(){return this.isValid?
B(this.year)?366:365:NaN}get weeksInWeekYear(){return this.isValid?F(this.weekYear):NaN}resolvedLocaleOptions(C={}){const {locale:O,numberingSystem:ea,calendar:oa}=ub.create(this.loc.clone(C),C).resolvedOptions(this);return{locale:O,numberingSystem:ea,outputCalendar:oa}}toUTC(C=0,O={}){return this.setZone(sb.instance(C),O)}toLocal(){return this.setZone(mb.defaultZone)}setZone(C,{keepLocalTime:O=!1,keepCalendarTime:ea=!1}={}){C=p(C,mb.defaultZone);if(C.equals(this.zone))return this;if(C.isValid){let oa=
this.ts;if(O||ea)O=C.offset(this.ts),ea=this.toObject(),[oa]=yb(ea,O,C);return Za(this,{ts:oa,zone:C})}return cb.invalid(ab(C))}reconfigure({locale:C,numberingSystem:O,outputCalendar:ea}={}){C=this.loc.clone({locale:C,numberingSystem:O,outputCalendar:ea});return Za(this,{loc:C})}setLocale(C){return this.reconfigure({locale:C})}set(C){if(!this.isValid)return this;C=I(C,Gb);var O=!l(C.weekYear)||!l(C.weekNumber)||!l(C.weekday);const ea=!l(C.ordinal),oa=!l(C.year),wa=!l(C.month)||!l(C.day),Ha=C.weekYear||
C.weekNumber;if((oa||wa||ea)&&Ha)throw new wb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(wa&&ea)throw new wb("Can't mix ordinal dates with month/day");O?O=qa({...la(this.c),...C}):l(C.ordinal)?(O={...this.toObject(),...C},l(C.day)&&(O.day=Math.min(A(O.year,O.month),O.day))):O=Qa({...Ka(this.c),...C});const [Pa,Sa]=yb(O,this.o,this.zone);return Za(this,{ts:Pa,o:Sa})}plus(C){if(!this.isValid)return this;C=hb.fromDurationLike(C);return Za(this,Rb(this,C))}minus(C){if(!this.isValid)return this;
C=hb.fromDurationLike(C).negate();return Za(this,Rb(this,C))}startOf(C){if(!this.isValid)return this;const O={};C=hb.normalizeUnit(C);switch(C){case "years":O.month=1;case "quarters":case "months":O.day=1;case "weeks":case "days":O.hour=0;case "hours":O.minute=0;case "minutes":O.second=0;case "seconds":O.millisecond=0}"weeks"===C&&(O.weekday=1);"quarters"===C&&(O.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(O)}endOf(C){return this.isValid?this.plus({[C]:1}).startOf(C).minus(1):this}toFormat(C,
O={}){return this.isValid?ub.create(this.loc.redefaultToEN(O)).formatDateTimeFromString(this,C):"Invalid DateTime"}toLocaleString(C=Wa,O={}){return this.isValid?ub.create(this.loc.clone(O),C).formatDateTime(this):"Invalid DateTime"}toLocaleParts(C={}){return this.isValid?ub.create(this.loc.clone(C),C).formatDateTimeParts(this):[]}toISO({format:C="extended",suppressSeconds:O=!1,suppressMilliseconds:ea=!1,includeOffset:oa=!0,extendedZone:wa=!1}={}){if(!this.isValid)return null;C="extended"===C;let Ha=
Cb(this,C);return Ha=Ha+"T"+Eb(this,C,O,ea,oa,wa)}toISODate({format:C="extended"}={}){return this.isValid?Cb(this,"extended"===C):null}toISOWeekDate(){return zb(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:C=!1,suppressSeconds:O=!1,includeOffset:ea=!0,includePrefix:oa=!1,extendedZone:wa=!1,format:Ha="extended"}={}){return this.isValid?(oa?"T":"")+Eb(this,"extended"===Ha,O,C,ea,wa):null}toRFC2822(){return zb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return zb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?
Cb(this,!0):null}toSQLTime({includeOffset:C=!0,includeZone:O=!1,includeOffsetSpace:ea=!0}={}){let oa="HH:mm:ss.SSS";if(O||C)ea&&(oa+=" "),O?oa+="z":C&&(oa+="ZZ");return zb(this,oa,!0)}toSQL(C={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(C)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/
1E3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(C={}){if(!this.isValid)return{};const O={...this.c};C.includeConfig&&(O.outputCalendar=this.outputCalendar,O.numberingSystem=this.loc.numberingSystem,O.locale=this.loc.locale);return O}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(C,O="milliseconds",ea={}){if(!this.isValid||!C.isValid)return hb.invalid("created by diffing an invalid DateTime");ea={locale:this.locale,numberingSystem:this.numberingSystem,...ea};
const oa=(Array.isArray(O)?O:[O]).map(hb.normalizeUnit);O=C.valueOf()>this.valueOf();C=ma(O?this:C,O?C:this,oa,ea);return O?C.negate():C}diffNow(C="milliseconds",O={}){return this.diff(cb.now(),C,O)}until(C){return this.isValid?lb.fromDateTimes(this,C):this}hasSame(C,O){if(!this.isValid)return!1;const ea=C.valueOf();C=this.setZone(C.zone,{keepLocalTime:!0});return C.startOf(O)<=ea&&ea<=C.endOf(O)}equals(C){return this.isValid&&C.isValid&&this.valueOf()===C.valueOf()&&this.zone.equals(C.zone)&&this.loc.equals(C.loc)}toRelative(C=
{}){if(!this.isValid)return null;const O=C.base||cb.fromObject({},{zone:this.zone}),ea=C.padding?this<O?-C.padding:C.padding:0;let oa="years months days hours minutes seconds".split(" "),wa=C.unit;Array.isArray(C.unit)&&(oa=C.unit,wa=void 0);return Ab(O,this.plus(ea),{...C,numeric:"always",units:oa,unit:wa})}toRelativeCalendar(C={}){return this.isValid?Ab(C.base||cb.fromObject({},{zone:this.zone}),this,{...C,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...C){if(!C.every(cb.isDateTime))throw new pb("min requires all arguments be DateTimes");
return c(C,O=>O.valueOf(),Math.min)}static max(...C){if(!C.every(cb.isDateTime))throw new pb("max requires all arguments be DateTimes");return c(C,O=>O.valueOf(),Math.max)}static fromFormatExplain(C,O,ea={}){const {locale:oa=null,numberingSystem:wa=null}=ea;ea=kb.fromOpts({locale:oa,numberingSystem:wa,defaultToEN:!0});return ka(ea,C,O)}static fromStringExplain(C,O,ea={}){return cb.fromFormatExplain(C,O,ea)}static get DATE_SHORT(){return Wa}static get DATE_MED(){return Ga}static get DATE_MED_WITH_WEEKDAY(){return ca}static get DATE_FULL(){return ya}static get DATE_HUGE(){return Na}static get TIME_SIMPLE(){return Oa}static get TIME_WITH_SECONDS(){return Ra}static get TIME_WITH_SHORT_OFFSET(){return Va}static get TIME_WITH_LONG_OFFSET(){return bb}static get TIME_24_SIMPLE(){return ob}static get TIME_24_WITH_SECONDS(){return Jb}static get TIME_24_WITH_SHORT_OFFSET(){return Ob}static get TIME_24_WITH_LONG_OFFSET(){return Hb}static get DATETIME_SHORT(){return Vb}static get DATETIME_SHORT_WITH_SECONDS(){return vb}static get DATETIME_MED(){return Pb}static get DATETIME_MED_WITH_SECONDS(){return Qb}static get DATETIME_MED_WITH_WEEKDAY(){return Kb}static get DATETIME_FULL(){return Wb}static get DATETIME_FULL_WITH_SECONDS(){return wc}static get DATETIME_HUGE(){return xc}static get DATETIME_HUGE_WITH_SECONDS(){return yc}}
a.DateTime=cb;a.Duration=hb;a.FixedOffsetZone=sb;a.IANAZone=Ib;a.Info=Xb;a.Interval=lb;a.Zone=Tb})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../core/urlUtils"],function(a,b){function d(c,h){var t=h?.url?.path;c&&t&&(c=b.makeAbsolute(c,t,{preserveProtocolRelative:!0}),h.portalItem&&h.readResourcePaths&&(t=b.makeRelative(c,h.portalItem.itemUrl),null!=t&&u.test(t)&&h.readResourcePaths.push(h.portalItem.resourceFromPath(t).path)));return l(c,h?.portal)}function f(c,h,t=a.MarkKeep.YES){if(null==
c)return c;!b.isAbsolute(c)&&h?.blockedRelativeUrls&&h.blockedRelativeUrls.push(c);let v=b.makeAbsolute(c);if(h){var w=h.verifyItemRelativeUrls?.rootPath||h.url?.path;if(w){w=l(w,h.portal);const z=l(v,h.portal);v=b.makeRelative(z,w,w);null!=v&&v!==z&&v!==c&&h.verifyItemRelativeUrls&&h.verifyItemRelativeUrls.writtenUrls.push(v)}}v=p(v,h?.portal);b.isAbsolute(v)&&(v=b.normalize(v));h?.resources&&h?.portalItem&&!b.isAbsolute(v)&&!b.isDataProtocol(v)&&t===a.MarkKeep.YES&&h.resources.toKeep.push({resource:h.portalItem.resourceFromPath(v),
compress:!1});return v}function e(c,h,t){return d(c,t)}function k(c,h,t,v){c=f(c,v);void 0!==c&&(h[t]=c)}function q(c){return(c?.match(n)??null)?.[1]??null}function g(c){c=c?.match(n)??null;if(null==c)return null;c=c[2];const h=c.lastIndexOf("/");if(-1===h){const {path:w,extension:z}=b.splitPathExtension(c);return{prefix:null,filename:w,extension:z}}const {path:t,extension:v}=b.splitPathExtension(c.slice(h+1));return{prefix:c.slice(0,h),filename:t,extension:v}}function p(c,h){return h&&!h.isPortal&&
h.urlKey&&h.customBaseUrl?b.changeDomain(c,`${h.urlKey}.${h.customBaseUrl}`,h.portalHostname):c}function l(c,h){if(!h||h.isPortal||!h.urlKey||!h.customBaseUrl)return c;const t=`${h.urlKey}.${h.customBaseUrl}`,v=b.getAppUrl();return b.hasSameOrigin(v,`${v.scheme}://${t}`)?b.changeDomain(c,h.portalHostname,t):b.changeDomain(c,t,h.portalHostname)}const n=/\/items\/([^\/]+)\/resources\/(.*)/,u=/^\.\/resources\//;a.MarkKeep=void 0;(function(c){c[c.YES=0]="YES";c[c.NO=1]="NO"})(a.MarkKeep||(a.MarkKeep=
{}));const m=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return a.MarkKeep},ensureMainOnlineDomain:p,fromJSON:d,itemIdFromResourceUrl:q,prefixAndFilenameFromResourceUrl:g,read:e,toJSON:f,write:k},Symbol.toStringTag,{value:"Module"}));a.ensureMainOnlineDomain=p;a.fromJSON=d;a.itemIdFromResourceUrl=q;a.persistableUrlUtils=m;a.prefixAndFilenameFromResourceUrl=g;a.read=e;a.toJSON=f;a.write=k})},"esri/support/timeUtils":function(){define(["exports","../TimeExtent","../core/arrayUtils",
"../core/timeUtils"],function(a,b,d,f){function e(k){return void 0!==k.timeInfo}a.getTimeExtentFromLayers=async function(k,q){if(0===k.length)return b.allTime;const g=k.filter(e);await Promise.all(g.map(n=>n.load({signal:q})));k=[];var p=[];for(var l of g)"feature"!==l?.type&&"map-image"!==l?.type||!l.timeInfo?.hasLiveData?p.push(l):k.push(l);l=n=>null==n||n.isAllTime;p=p.map(n=>n.timeInfo?.fullTimeExtent);if(p.some(l))return b.allTime;k=k.map(async n=>{const {timeExtent:u}=await n.fetchRecomputedExtents({signal:q});
return u?u:n.timeInfo?.fullTimeExtent});k=(await Promise.allSettled(k)).map(n=>"fulfilled"===n.status?n.value:null);return k.some(l)?b.allTime:[...k,...p].filter(d.isSome).reduce((n,u)=>n.union(u))};a.toLocalTimeExtent=function(k){if(!k)return k;const {start:q,end:g}=k;return new b({start:null!=q?f.offsetDate(q,q.getTimezoneOffset(),"minutes"):q,end:null!=g?f.offsetDate(g,g.getTimezoneOffset(),"minutes"):g})};a.toUTCTimeExtent=function(k){if(!k)return k;const {start:q,end:g}=k;return new b({start:null!=
q?f.offsetDate(q,-q.getTimezoneOffset(),"minutes"):q,end:null!=g?f.offsetDate(g,-g.getTimezoneOffset(),"minutes"):g})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/ElevationInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m){var c;k=b.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"});b=new b.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});d=c=class extends d.JSONSupport{constructor(h){super(h);this.offset=null}readFeatureExpressionInfo(h,t){if(null!=h)return h;if(t.featureExpression&&0===t.featureExpression.value)return{expression:"0"}}writeFeatureExpressionInfo(h,
t,v,w){t[v]=h.write({},w);"0"===h.expression&&(t.featureExpression={value:0})}get mode(){const {offset:h,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):null!=h||t?"relative-to-ground":"on-the-ground"}set mode(h){this._override("mode",h)}set unit(h){this._set("unit",h)}write(h,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(h,t):null}clone(){return new c({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?
this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(h){return this.mode===h.mode&&this.offset===h.offset&&this.unit===h.unit&&f.equalsMaybe(this.featureExpressionInfo,h.featureExpressionInfo)}};a.__decorate([e.property({type:u,json:{write:!0}})],d.prototype,"featureExpressionInfo",void 0);a.__decorate([p.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],d.prototype,"readFeatureExpressionInfo",null);a.__decorate([n.writer("featureExpressionInfo",{featureExpressionInfo:{type:u},
"featureExpression.value":{type:[0]}})],d.prototype,"writeFeatureExpressionInfo",null);a.__decorate([e.property({type:k.apiValues,nonNullable:!0,json:{type:k.jsonValues,read:k.read,write:{writer:k.write,isRequired:!0}}})],d.prototype,"mode",null);a.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"offset",void 0);a.__decorate([e.property({type:m.supportedUnits,json:{type:String,read:b.read,write:b.write}})],d.prototype,"unit",null);return d=c=a.__decorate([l.subclass("esri.layers.support.ElevationInfo")],
d)})},"esri/symbols/support/FeatureExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldUtils".split(" "),function(a,b,d,f,e,k,q,g){var p;b=p=class extends b.JSONSupport{constructor(l){super(l)}async collectRequiredFields(l,n){return g.collectArcadeFieldNames(l,n,this.expression)}clone(){return new p({expression:this.expression,
title:this.title})}equals(l){return this.expression===l.expression&&this.title===l.title}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=p=a.__decorate([q.subclass("esri.layers.support.FeatureExpressionInfo")],b)})},"esri/layers/support/fieldUtils":function(){define("exports ../../core/Error ../../core/object ../../core/SetUtils ../../core/sql ./domainUtils ../../support/arcadeOnDemand".split(" "),
function(a,b,d,f,e,k,q){function g(R,H,X){if(R)for(const ia of R)(R=(R=d.getDeepValue(ia,H))&&"function"!==typeof R&&X.get(R))&&d.setDeepValue(ia,R.name,H)}function p(R,H){if(!R||!H)return[];za.clear();l(za,R,H);return Array.from(za).sort()}function l(R,H,X){if(X)if(H?.fields?.length)if(X.includes("*"))for(const {name:ia}of H.fields)R.add(ia);else for(const ia of X)n(R,H,ia);else if(X.includes("*"))R.clear(),R.add("*");else for(const ia of X)null!=ia&&R.add(ia)}function n(R,H,X){"string"===typeof X&&
(H?(H=H.get(X))&&R.add(H.name):R.add(X))}async function u(R,H,X){if(X){var {arcadeUtils:ia}=await q.loadArcade();X=ia.extractFieldNames(X,H?.fields?.map(ta=>ta.name));for(const ta of X)n(R,H,ta)}}async function m(R,H,X){if(X&&"1\x3d1"!==X){const ia=await e.parseWhereClause(X,H);if(!ia.isStandardized)throw new b("fieldUtils:collectFilterFields","Where clause is not standardized",{where:X});l(R,H,ia.fieldNames)}}function c(R,H){for(const X of R)if(X?.valueType&&X.valueType===H)return X.name;return null}
async function h(R,H){if(H){var X=H.elevationInfo?.featureExpressionInfo;if(X)return X.collectRequiredFields(R,H.fieldsIndex)}}async function t(R,H,X){const ia=[];X?.expressionInfos&&ia.push(...X.expressionInfos.map(ta=>u(R,H.fieldsIndex,ta.expression)));X=X?.content;if(Array.isArray(X))for(const ta of X)"expression"===ta.type&&ta.expressionInfo&&ia.push(u(R,H.fieldsIndex,ta.expressionInfo.expression));await Promise.all(ia)}async function v(R,H,X){H&&X&&(X.valueExpression?await u(R,H.fieldsIndex,
X.valueExpression):X.field&&n(R,H.fieldsIndex,X.field))}function w(R){if(!R)return[];const H=R.geometryFieldsInfo;return H?p(R.fieldsIndex,[H.shapeAreaField,H.shapeLengthField]):[]}function z(R){const H=new Set;r(R).forEach(X=>H.add(X));w(R).forEach(X=>H.add(X.toLowerCase()));if(R=R&&"infoFor3D"in R?R.infoFor3D:void 0)Object.values(R.assetMapFieldRoles).forEach(X=>H.add(X.toLowerCase())),Object.values(R.transformFieldRoles).forEach(X=>H.add(X.toLowerCase()));return Array.from(H)}function y(R){if(!R)return[];
R="editFieldsInfo"in R&&R.editFieldsInfo;if(!R)return[];const {creationDateField:H,creatorField:X,editDateField:ia,editorField:ta}=R;return[H,X,ia,ta].filter(Boolean)}function r(R){return y(R).map(H=>H.toLowerCase())}async function x(R,H){const {labelingInfo:X,fieldsIndex:ia}=H;X?.length&&await Promise.all(X.map(ta=>B(R,ia,ta)))}async function B(R,H,X){if(X){var ia=X.getLabelExpression();X=X.where;"arcade"===ia.type?await u(R,H,ia.expression):(ia=ia.expression.match(/{[^}]*}/g))&&ia.forEach(ta=>{n(R,
H,ta.slice(1,-1))});await m(R,H,X)}}function A(R){return"number"===typeof R&&!isNaN(R)&&isFinite(R)}function E(R){return null===R||A(R)}function F(R){return null===R||Number.isInteger(R)}function L(R){return null!=R&&"string"===typeof R}function D(R){return null===R||L(R)}function M(){return!0}function K(R,H){let X;switch(R.type){case "date":case "integer":case "long":case "small-integer":case "big-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":case "esriFieldTypeBigInteger":X=
R.nullable?F:Number.isInteger;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":X=R.nullable?E:A;break;case "string":case "esriFieldTypeString":X=R.nullable?D:L;break;default:X=M}return 1===arguments.length?X:X(H)}function I(R){return null!=R&&ja.has(R.type)}function P(R){return null!=R&&("string"===R.type||"esriFieldTypeString"===R.type)}function T(R,H){return null==R||R.nullable&&null===H?null:I(R)&&!Z(R.type,Number(H))?a.NumericRangeValidationError.OUT_OF_RANGE:
K(R,H)?R.domain?k.validateDomainValue(R,H):null:a.TypeValidationError.INVALID_TYPE}function Z(R,H){R="string"===typeof R?J(R):R;if(!R)return!1;const X=R.min,ia=R.max;return R.isInteger?Number.isInteger(H)&&H>=X&&H<=ia:H>=X&&H<=ia}function J(R){switch(R){case "esriFieldTypeSmallInteger":case "small-integer":return pa;case "esriFieldTypeInteger":case "integer":return Aa;case "esriFieldTypeBigInteger":case "big-integer":return Y;case "esriFieldTypeSingle":case "single":return da;case "esriFieldTypeDouble":case "double":return ma}}
function Q(R,H,X){if(!H?.attributes||!R){if(null!=X)for(var ia of R??[])X.add(ia);return!0}H=new Set(Object.keys(H.attributes));ia=!1;for(const ta of R)if(!H.has(ta))if(ia=!0,null!=X)X.add(ta);else break;return ia}const N=/^([0-9_])/,V=/[^a-z0-9_\u0080-\uffff]+/gi,U="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),sa=["field","normalizationField"],za=new Set,Fa=
new Set(["oid","global-id","guid"]),Da=new Set(["oid","global-id"]),va=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],W=["integer","small-integer","big-integer"],ba=["single","double"],fa=[...W,...ba],Ba=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],Ja=["esriFieldTypeSingle","esriFieldTypeDouble"],G=new Set([...W,...Ba]),S=new Set([...ba,...Ja]),ja=f.union(G,
S);a.NumericRangeValidationError=void 0;(a.NumericRangeValidationError||(a.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";a.TypeValidationError=void 0;(a.TypeValidationError||(a.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const pa={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Aa={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Y={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,
isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},da={min:-3.4E38,max:1.2E38,isInteger:!1,rawMin:-3.4E38,rawMax:1.2E38},ma={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};a.bigIntegerRange=Y;a.collectArcadeFieldNames=u;a.collectElevationFields=h;a.collectFeatureReductionFields=async function(R,H,X){if(H&&X&&"fields"in X){var ia=[];ia.push(t(R,H,X.popupTemplate));X.fields&&ia.push(...X.fields.map(async ta=>{ta.onStatisticExpression?
u(R,H.fieldsIndex,ta.onStatisticExpression.expression):R.add(ta.onStatisticField)}));await Promise.all(ia)}};a.collectField=n;a.collectFields=l;a.collectFilterFields=async function(R,H,X){H&&(H.timeInfo&&X?.timeExtent&&l(R,H.fieldsIndex,[H.timeInfo.startField,H.timeInfo.endField]),H.floorInfo&&l(R,H.fieldsIndex,[H.floorInfo.floorField]),null!=X?.where&&await m(R,H.fieldsIndex,X.where))};a.collectLabelingFields=x;a.collectOrderByInfos=async function(R,H,X){H&&X&&await Promise.all(X.map(ia=>v(R,H,ia)))};
a.collectPopupTemplateFields=t;a.doubleRange=ma;a.featureHasFields=function(R,H){return!Q(R,H,null)};a.fixFields=p;a.fixRendererFields=function(R,H){if(null!=R&&null!=H)for(const X of Array.isArray(R)?R:[R])if(g(U,X,H),"visualVariables"in X&&X.visualVariables)for(const ia of X.visualVariables)g(sa,ia,H)};a.fixTimeInfoFields=function(R,H){if(null!=R&&H?.fields?.length)if("startField"in R){var X=H.get(R.startField);H=H.get(R.endField);R.startField=X?.name??null;R.endField=H?.name??null}else X=H.get(R.startTimeField),
H=H.get(R.endTimeField),R.startTimeField=X?.name??null,R.endTimeField=H?.name??null};a.floatJSONTypes=Ja;a.floatTypes=ba;a.getDisplayFieldName=function({displayField:R,fields:H}){if(R)return R;if(!H?.length)return null;if(!(R=c(H,"name-or-title")||c(H,"unique-identifier")||c(H,"type-or-category")))a:{for(const X of H)if(X?.name&&(H=X.name.toLowerCase(),H.includes("name")||H.includes("title"))){R=X.name;break a}R=null}return R};a.getEditTrackingFields=y;a.getElevationFields=async function(R){if(!R)return[];
const H=new Set;await h(H,R);return Array.from(H).sort()};a.getExpressionFields=async function(R,H){const X=new Set;for(const ia of H)await u(X,R.fieldsIndex,ia);return Array.from(X).sort()};a.getFeatureEditFields=function(R){return R?p(R.fieldsIndex,y(R)):[]};a.getFeatureGeometryFields=w;a.getFieldDefaultLength=function(R){R="string"===typeof R?{type:R}:R;if(P(R))return 255;if("esriFieldTypeDate"===R.type||"date"===R.type)return 8};a.getFieldDefaultValue=function(R){const H=R.defaultValue;if(void 0!==
H&&K(R,H))return H;if(R.nullable)return null};a.getFieldRange=function(R,H){if(H=k.getDomainRange(R,H))return H;if(I(R))return J(R.type)};a.getLabelingFields=async function(R){if(!R)return[];const H=new Set;await x(H,R);return Array.from(H).sort()};a.getLowerCaseDefaultHiddenFields=z;a.getLowerCaseEditTrackingFields=r;a.getNumericTypeForValue=function(R){if(!A(R))return null;if(Number.isInteger(R)){if(R>=pa.min&&R<=pa.max)return"esriFieldTypeSmallInteger";if(R>=Aa.min&&R<=Aa.max)return"esriFieldTypeInteger";
if(R>=Y.min&&R<=Y.max)return"esriFieldTypeBigInteger"}return R>=da.min&&R<=da.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};a.getTimeFields=async function(R){if(!R)return[];const H="timeInfo"in R&&R.timeInfo;return H?p(R.fieldsIndex,[R.trackIdField,H.startField,H.endField]):[]};a.integerJSONTypes=Ba;a.integerRange=Aa;a.integerTypes=W;a.isDateField=function(R){return null!=R&&("date"===R.type||"esriFieldTypeDate"===R.type)};a.isDateOnlyField=function(R){return null!=R&&("date-only"===R.type||"esriFieldTypeDateOnly"===
R.type)};a.isFieldEditable=function(R,H){return R.editable&&!Fa.has(R.type)&&!r(H).includes(R.name?.toLowerCase()??"")};a.isFieldVisibleByDefault=function(R,H){const X=R.name?.toLowerCase()??"";return!(null!=H?.objectIdField&&X===H.objectIdField.toLowerCase())&&!(null!=H?.globalIdField&&X===H.globalIdField.toLowerCase())&&!z(H).includes(X)&&!Da.has(R.type)&&!va.some(ia=>ia.test(X))};a.isGlobalIDField=function(R){return null!=R&&("global-id"===R.type||"esriFieldTypeGlobalID"===R.type)};a.isIntegerField=
function(R){return null!=R&&G.has(R.type)};a.isNumberInRange=Z;a.isNumericField=I;a.isObjectIDField=function(R){return null!=R&&("oid"===R.type||"esriFieldTypeOID"===R.type)};a.isRasterPixelValueField=function(R){return R?["raster.itempixelvalue","raster.servicepixelvalue"].some(H=>R.toLowerCase().startsWith(H)):!1};a.isStringField=P;a.isTimeOnlyField=function(R){return null!=R&&("time-only"===R.type||"esriFieldTypeTimeOnly"===R.type)};a.isTimestampOffsetField=function(R){return null!=R&&("timestamp-offset"===
R.type||"esriFieldTypeTimestampOffset"===R.type)};a.isValidFieldValue=function(R,H){return null===T(R,H)};a.isValueMatchingFieldType=K;a.normalizeFieldName=function(R){return null==R?null:R.trim().replaceAll(V,"_").replace(N,"F$1")||null};a.numericTypes=fa;a.packFields=function(R,H,X=1){if(!H||!R)return[];if(H.includes("*"))return["*"];H=p(R,H);return H.length/R.fields.length>=X?["*"]:H};a.populateMissingFields=Q;a.rendererFields=U;a.sanitizeNullFieldValue=function(R){return null==R||"number"===typeof R&&
isNaN(R)?null:R};a.singleRange=da;a.smallIntegerRange=pa;a.unpackFieldNames=function(R,H){return null==H||null==R?[]:H.includes("*")?(R.fields??[]).map(X=>X.name):H};a.validateFieldValue=T;a.validationErrorToString=function(R,H,X){switch(R){case k.DomainValidationError.INVALID_CODED_VALUE:return`Value ${X} is not in the coded domain - field: ${H.name}, domain: ${JSON.stringify(H.domain)}`;case k.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${X} is out of the range of valid values - field: ${H.name}, domain: ${JSON.stringify(H.domain)}`;
case a.TypeValidationError.INVALID_TYPE:return`Value ${X} is not a valid value for the field type - field: ${H.name}, type: ${H.type}, nullable: ${H.nullable}`;case a.NumericRangeValidationError.OUT_OF_RANGE:const {min:ia,max:ta}=J(H.type);return`Value ${X} is out of range for the number type - field: ${H.name}, type: ${H.type}, value range is ${ia} to ${ta}`}};a.visualVariableFields=sa;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql":function(){define(["require","exports"],
function(a,b){b.parseWhereClause=async function(d,f){const {WhereClause:e}=await new Promise((k,q)=>a(["./sql/WhereClause"],k,q));return e.create(d,f)};b.sqlAnd=function(d,f){return null!=d?null!=f?`(${d}) AND (${f})`:d:f};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/domainUtils":function(){define(["exports","../../widgets/support/dataUtils","../../widgets/support/dateUtils"],function(a,b,d){function f(l){return null!=l&&("date-only"===l.type||"esriFieldTypeDateOnly"===
l.type)}function e(l){return null!=l&&("timestamp-offset"===l.type||"esriFieldTypeTimestampOffset"===l.type)}function k(l){return null!=l&&("time-only"===l.type||"esriFieldTypeTimeOnly"===l.type)}function q(l,n){var u=n??l?.domain;if(u&&"range"===u.type){n="range"in u?u.range[0]:u.minValue;u="range"in u?u.range[1]:u.maxValue;var m=null!=l&&p.has(l.type);return f(l)||k(l)||e(l)?{...g(l,u,n),isInteger:m}:{min:null!=n&&"number"===typeof n?n:null,max:null!=u&&"number"===typeof u?u:null,rawMin:n,rawMax:u,
isInteger:m}}}function g(l,n,u){if(f(l)){l=null!=u&&b.isString(u)?d.dateOnlyToDateTime(u).toMillis():null;var m=null!=n&&b.isString(n)?d.dateOnlyToDateTime(n).toMillis():null;return{min:l,max:m,rawMin:u,rawMax:n}}return k(l)?(l=null!=u&&b.isString(u)?d.timeOnlyToDateTime(u).toMillis():null,m=null!=n&&b.isString(n)?d.timeOnlyToDateTime(n).toMillis():null,{min:l,max:m,rawMin:u,rawMax:n}):e(l)?(l=null!=u&&b.isString(u)?d.timestampOffsetToDateTime(u).toMillis():null,m=null!=n&&b.isString(n)?d.timestampOffsetToDateTime(n).toMillis():
null,{min:l,max:m,rawMin:u,rawMax:n}):{max:null,min:null}}a.DomainValidationError=void 0;(function(l){l.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";l.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(a.DomainValidationError||(a.DomainValidationError={}));const p=new Set("integer small-integer big-integer esriFieldTypeInteger esriFieldTypeSmallInteger esriFieldTypeBigInteger".split(" "));a.dateTimeFieldValuesToNumericRange=g;a.getDomainRange=q;a.validateDomainValue=
function(l,n){const u=l?.domain;if(!u)return null;switch(u.type){case "range":const {min:m,max:c}=q(l);if(null!=m&&+n<m||null!=c&&+n>c)return a.DomainValidationError.VALUE_OUT_OF_RANGE;break;case "coded-value":if(null==u.codedValues||u.codedValues.every(h=>null==h||h.code!==n))return a.DomainValidationError.INVALID_CODED_VALUE;break;case "codedValue":if(null==u.codedValues||u.codedValues.every(h=>null==h||h.code!==n))return a.DomainValidationError.INVALID_CODED_VALUE}return null};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/dataUtils":function(){define(["exports"],function(a){a.isNumber=function(b){return"number"===typeof b};a.isString=function(b){return"string"===typeof b||b instanceof String};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/dateUtils":function(){define("exports ../../intl ../../core/has ../../core/Error ../../core/mathUtils ../../intl/date ../../time/timeZoneUtils ./dataUtils ../../chunks/datetime ../../intl/locale".split(" "),
function(a,b,d,f,e,k,q,g,p,l){function n(A){return{locale:l.getLocale(),numberingSystem:"latn",zone:A??r}}function u(A,E){return null===A?null:p.DateTime.fromMillis(A,n(E))}function m(A){if(null==A||!g.isString(A)||""===A)return x;A=p.DateTime.fromISO(A,{setZone:!0});return{date:A.toFormat("yyyy-MM-dd",n()),time:A.toFormat(a.TimeStampOffsetPattern.HMS_MS,n()),timeZoneOffset:A.offset.toString()}}function c(A,E){if(!A||null==A.value||Array.isArray(A.value))return null;let F=null;F="valueAsDate"in A?
p.DateTime.fromFormat(A.value,"yyyy-MM-dd",n(E)):z(A.value);return F?.isValid?F:null}function h(A){const {max:E,min:F,value:L}=A;return isNaN(L)||null!=E&&L>E||null!=F&&L<F?!1:!0}function t(A){const {max:E,min:F,value:L}=A;return null!=E&&null!=F?e.clamp(L,F,E):null!=E&&L>E?E:null!=F&&L<F?F:L}function v(A){if(!A)return"";var E=A.split(".").at(0);if(!E||1>E.length)throw new f("invalid time-only field",`Cannot parse valid time-only field value from ${A}`);A=E.split(":");E=Array(3);for(let F=0;3>F;F++){const L=
A.at(F)??"";E[F]=L.padStart(2,"0")}return E.join(":")}function w(A){return p.DateTime.fromFormat(A,"yyyy-MM-dd")}function z(A){let E=null;B.find(F=>{E=p.DateTime.fromFormat(A,F);return E.isValid});return E}function y(A){return p.DateTime.fromISO(A)}const r=q.utc,x={date:null,time:null,timeZoneOffset:null};b=new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",.1],["centiseconds",.01],["milliseconds",.001]]);a.TimeStampOffsetPattern=void 0;(function(A){A.HM="HH:mm";A.HMS="HH:mm:ss";
A.HMS_MS="HH:mm:ss.SSS"})(a.TimeStampOffsetPattern||(a.TimeStampOffsetPattern={}));const B=[a.TimeStampOffsetPattern.HMS_MS,a.TimeStampOffsetPattern.HMS,a.TimeStampOffsetPattern.HM,"TT"];d=new Set(["date-only","time-only","timestamp-offset"]);a.arcadeDateToFieldValue=function(A,E){switch(E){case "date":return A.getTime();case "date-only":return A.toISODate();case "time-only":return v(A.toISOTime(!0,!1));case "timestamp-offset":return A.toISOString(!1);default:return null}};a.clampValueToRange=t;a.createDateTimeFromFieldValue=
u;a.dateFieldsWithStringFieldValue=d;a.dateOnlyToDateTime=w;a.dateTimeIsInRange=function(A){const {type:E,range:F,value:L}=A;if(null==L||!F)return!0;if("date"===E)return h({value:L,min:F.min,max:F.max});const {rawMax:D,rawMin:M}=F;if(!g.isString(D)||!g.isString(M)||!g.isString(L))return!0;let K=A=null,I=null;switch(E){case "date-only":A=w(D);K=w(M);I=w(L);break;case "time-only":A=z(D);K=z(M);I=z(L);break;case "timestamp-offset":A=y(D),K=y(M),I=y(L)}return A?.isValid&&K?.isValid&&I?.isValid?p.Interval.fromDateTimes(K,
A).contains(I)||K.valueOf()===I.valueOf()||A.valueOf()===I.valueOf():!0};a.dateTimeToFieldValue=function(A){return A?.isValid?A.toMillis():null};a.defaultDatePattern="yyyy-MM-dd";a.defaultTimePattern="TT";a.getDefaultLocaleOptions=n;a.getISOFieldValueFromDateComponents=function(A){const {dateComponent:E,timeComponent:F,timeZoneComponent:L,oldValue:D}=A;if(!E?.value||!F?.value)return null;const {year:M,month:K,day:I}=p.DateTime.fromFormat(E.value,"yyyy-MM-dd"),{hour:P,minute:T,second:Z,millisecond:J}=
c(F,q.utc)??p.DateTime.now();A=m(D);A=null!=L?.value?parseInt(L.value,10):null!=A.timeZoneOffset?parseInt(A.timeZoneOffset,10):(new Date).getTimezoneOffset();A=p.FixedOffsetZone.instance(A);A=p.DateTime.fromObject({year:M,month:K,day:I,hour:P,minute:T,second:Z,millisecond:J},{zone:A});return A.isValid?A.toISO({includeOffset:!0}):null};a.getIntlOptionsForField=function(A){switch(A.type){case "date":return k.convertDateFormatToIntlOptions("short-date-short-time");case "date-only":return k.convertDateFormatToIntlOptions("short-date");
case "time-only":return k.convertDateFormatToIntlOptions("short-time");case "timestamp-offset":return{...k.convertDateFormatToIntlOptions("short-date-short-time"),timeZone:void 0,timeZoneName:"short"};default:return k.convertDateFormatToIntlOptions("short-date-short-time")}};a.getLabelForDateFieldValue=function(A,E,F){if(!A||null==E)return null;switch(A.type){case "date":return k.formatDate(E,F);case "date-only":return k.formatDateOnly(E,F);case "time-only":return k.formatTimeOnly(E,F);case "timestamp-offset":return k.formatTimestamp(E,
F);default:return null}};a.getLocalDateTimeFromComponent=c;a.getUnixFieldValueFromDateComponents=function(A){const {dateComponent:E,timeComponent:F,timeZone:L,max:D,min:M,oldValue:K}=A;var I=c(E,L);A=!!A.applyRange;if(!I)return null;var P=null;if(null!=F?.value){P=c(F,L);var T=Date.now();T=p.DateTime.fromMillis(null!=D&&D<T?D:T,n(L));I=I||T;const {year:Z,month:J,day:Q}=I,{hour:N,minute:V,second:U,millisecond:sa}=P||T;P=I.set({year:Z,month:J,day:Q,hour:N,minute:V,second:U,millisecond:sa})}else{A=t({value:K??
Date.now(),max:D,min:M});A=u(A,L);const {year:Z,month:J,day:Q}=I,{hour:N,minute:V,second:U,millisecond:sa}=A;A=!0;P=I.set({year:Z,month:J,day:Q,hour:N,minute:V,second:U,millisecond:sa})}if(!P.isValid)return null;I=P.toMillis();return A?t({value:I,max:D,min:M}):I};a.isArcadeDate=function(A){return!!A&&"object"===typeof A&&"getTime"in A&&"toISOString"in A&&"timeZone"in A};a.isCalciteDateComponent=A=>"valueAsDate"in A;a.normalizeTimeOnlyString=v;a.numberingSystem="latn";a.prepareISOFieldValueForDateComponents=
m;a.prepareUnixFieldValueForDateComponents=function(A,E){return null==A||!g.isNumber(A)||isNaN(A)?x:(A=u(A,E))?{date:A.toFormat("yyyy-MM-dd",n(E)),time:A.toFormat("TT",n(E))}:x};a.supportedTimeFormats=B;a.timeOnlyToDateTime=z;a.timeResolutionToStepMap=b;a.timestampOffsetToDateTime=y;a.valueIsInRange=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl":function(){define("exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages ./intl/t9n ./assets".split(" "),
function(a,b,d,f,e,k,q,g){k.registerMessageBundleLoader(q.createJSONLoader({pattern:"esri/",location:g.getAssetUrl}));a.convertDateFormatToIntlOptions=b.convertDateFormatToIntlOptions;a.formatDate=b.formatDate;a.formatDateOnly=b.formatDateOnly;a.formatTimeOnly=b.formatTimeOnly;a.formatTimestamp=b.formatTimestamp;a.convertNumberFormatToIntlOptions=d.convertNumberFormatToIntlOptions;a.formatNumber=d.formatNumber;a.substitute=f.substitute;a.getLocale=e.getLocale;a.onLocaleChange=e.onLocaleChange;a.prefersRTL=
e.prefersRTL;a.setLocale=e.setLocale;a.fetchMessageBundle=k.fetchMessageBundle;a.normalizeMessageBundleLocale=k.normalizeMessageBundleLocale;a.registerMessageBundleLoader=k.registerMessageBundleLoader;a.createJSONLoader=q.createJSONLoader;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/number":function(){define(["exports","./locale"],function(a,b){function d(q){const g=q||k;if(!e.has(g)){var p=b.getLocale();p=f[b.getLocale()]||p;e.set(g,new Intl.NumberFormat(p,q))}return e.get(g)}
const f={ar:"ar-u-nu-latn"};let e=new WeakMap,k={};b.beforeLocaleChange(()=>{e=new WeakMap;k={}});a.convertNumberFormatToIntlOptions=function(q={}){const g={};null!=q.digitSeparator&&(g.useGrouping=q.digitSeparator);null!=q.places&&(g.minimumFractionDigits=g.maximumFractionDigits=q.places);return g};a.formatNumber=function(q,g){Object.is(q,-0)&&(q=0);return d(g).format(q)};a.getFormatter=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/substitute":function(){define("exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),
function(a,b,d,f,e,k){function q(p){switch(typeof p){case "string":return p;case "number":return k.formatNumber(p);case "boolean":return""+p;default:return p instanceof Date?e.formatDate(p):""}}const g=b.getLogger("esri.intl.substitute");a.substitute=function(p,l,n={}){const {format:u={}}=n;return f.replace(p,m=>{{const t=m.indexOf(":");if(-1===t)var c=m.trim();else{c=m.slice(0,t).trim();var h=m.slice(t+1).trim()}if(c)if(m=d.getDeepValue(c,l),null==m)h="";else if(c=(h?u?.[h]:null)??u?.[c])b:switch(c.type){case "date":h=
e.formatDate(m,c.intlOptions);break b;case "number":h=k.formatNumber(m,c.intlOptions);break b;default:g.warn("missing format descriptor for key {key}"),h=q(m)}else if(h)b:switch(h.toLowerCase()){case "dateformat":h=e.formatDate(m);break b;case "numberformat":h=k.formatNumber(m);break b;default:g.warn(`inline format is unsupported since 4.12: ${h}`),h=/^(dateformat|datestring)/i.test(h)?e.formatDate(m):/^numberformat/i.test(h)?k.formatNumber(m):q(m)}else h=q(m);else h=""}return h})};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/intl/t9n":function(){define(["exports","../request","../core/Error","./messages"],function(a,b,d,f){async function e(p,l,n,u){var m=l.exec(n);if(!m)throw new d("esri-intl:invalid-bundle",`Bundle id "${n}" is not compatible with the pattern "${l}"`);l=m[1]?`${m[1]}/`:"";m=m[2];const c=f.normalizeMessageBundleLocale(u);u=`${l}${m}.json`;l=c?`${l}${m}_${c}.json`:u;let h;try{h=await k(p(l))}catch(t){if(l===u)throw new d("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,
{error:t});try{h=await k(p(u))}catch(v){throw new d("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:v});}}return h}async function k(p){if(null!=g.fetchBundleAsset)return g.fetchBundleAsset(p);p=await b(p,{responseType:"text"});return JSON.parse(p.data)}class q{constructor({base:p="",pattern:l,location:n=new URL(window.location.href)}){let u;u="string"===typeof n?m=>(new URL(m,new URL(n,window.location.href))).href:n instanceof URL?m=>(new URL(m,n)).href:n;this.pattern="string"===typeof l?
new RegExp(`^${l}`):l;this.getAssetUrl=u;p=p?p.endsWith("/")?p:p+"/":"";this.matcher=new RegExp(`^${p}(?:(.*)/)?(.*)$`)}fetchMessageBundle(p,l){return e(this.getAssetUrl,this.matcher,p,l)}}const g={};a.JSONLoader=q;a.createJSONLoader=function(p){return new q(p)};a.test=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/arcadeOnDemand":function(){define("require exports ../geometry ../core/Error ../core/Logger ../geometry/SpatialReference".split(" "),function(a,b,d,f,e,
k){function q(){p||(p=(async()=>{const n=await new Promise((u,m)=>a(["./arcadeUtils"],u,m));return{arcade:n.arcade,arcadeUtils:n,Dictionary:n.Dictionary,Feature:n.arcadeFeature}})());return p}const g=e.getLogger("esri.support.arcadeOnDemand");let p;d=(n,u,m)=>l.create(n,u,m,null,["$feature","$view"],[]);class l{constructor(n,u,m,c,h,t,v){this.services=null;this.script=n;this.evaluate=c;this.fields=Array.isArray(t)?t:t.fields;this._syntaxTree=m;this._arcade=u;this._arcadeFeature=h;this._spatialReference=
v;this._referencesGeometry=u.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(n,u,m,c,h,t){const {arcade:v,Feature:w,Dictionary:z}=await q(),y=k.fromJSON(u);let r;try{r=v.parseScript(n,t)}catch(L){return g.error(new f("arcade-bad-expression","Failed to parse arcade script",{script:n,error:L})),null}h=h.reduce((L,D)=>({...L,[D]:null}),{});let x=null;null!=c&&(x=new z(c),x.immutable=!0,h.$config=null);t=(c=v.scriptUsesGeometryEngine(r))&&
v.enableGeometrySupport();const B=v.scriptUsesFeatureSet(r)&&v.enableFeatureSetSupport(),A=(u=v.scriptIsAsync(r))&&v.enableAsyncSupport();h={vars:h,spatialReference:y,useAsync:!!A};await Promise.all([t,B,A]);t=new Set;await v.loadDependentModules(t,r,null,u,c);const E=new z;E.immutable=!1;E.setField("scale",0);const F=v.compileScript(r,h);return new l(n,v,r,(L,D)=>{const M=L.$view?.timeZone;"$view"in L&&L.$view&&(E.setField("scale","object"===typeof L.$view&&"scale"in L.$view?L.$view.scale:void 0),
L.$view=E);x&&(L.$config=x);return F({vars:L,spatialReference:y,services:D,timeZone:M})},new w,m,y)}repurposeFeature(n){n.geometry&&!n.geometry.spatialReference&&(n.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(n.geometry,n.attributes,{fields:this.fields});return this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}b.ArcadeExpression=l;b.createDictionaryExpression=(n,u,m,c)=>
l.create(n,u,m,c,["$feature","$view"],[]);b.createLabelExpression=(n,u,m)=>l.create(n,u,m,null,["$feature","$view"],[]);b.createRendererExpression=d;b.createVVExpression=d;b.loadArcade=q;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/unitConversionUtils":function(){define(["exports","../../renderers/support/lengthUtils"],function(a,b){const d=function(){const f=Object.keys(b.meterIn);f.sort();return f}();a.getMetersPerUnit=function(f){return 1/(b.meterIn[f]||
1)};a.supportedUnits=d;a.supportsUnit=function(f){return!!f&&null!=b.meterIn[f]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/lengthUtils":function(){define(["exports","../../core/unitUtils","../../geometry/support/Ellipsoid"],function(a,b,d){b={unknown:1,inches:b.convertUnit(1,"meters","inches"),feet:b.convertUnit(1,"meters","feet"),"us-feet":b.convertUnit(1,"meters","us-feet"),yards:b.convertUnit(1,"meters","yards"),miles:b.convertUnit(1,"meters","miles"),
"nautical-miles":b.convertUnit(1,"meters","nautical-miles"),millimeters:b.convertUnit(1,"meters","millimeters"),centimeters:b.convertUnit(1,"meters","centimeters"),decimeters:b.convertUnit(1,"meters","decimeters"),meters:b.convertUnit(1,"meters","meters"),kilometers:b.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/b.lengthToDegrees(1,"meters",d.earth.radius)};a.meterIn=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../chunks/tslib.es6 ../../config ../../kernel ../../request ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../support/layerUtils ../../portal/Portal ../../portal/PortalItem ../../portal/PortalUser ../../portal/support/portalItemUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B,A){var E=null,F=null;b.PortalLayer=L=>{L=class extends L{constructor(){super(...arguments);this.resourceReferences={portalItem:null,paths:[]};this.userHasEditingPrivileges=!0;this.userHasUpdateItemPrivileges=this.userHasFullEditingPrivileges=!1}destroy(){this.portalItem=l.destroyMaybe(this.portalItem);this.resourceReferences.portalItem=null;this.resourceReferences.paths.length=0}set portalItem(D){D!==this._get("portalItem")&&(this.removeOrigin("portal-item"),
this._set("portalItem",D))}readPortalItem(D,M,K){if(M.itemId)return new x({id:M.itemId,portal:K?.portal})}writePortalItem(D,M){D?.id&&(M.itemId=D.id)}async loadFromPortal(D,M){if(this.portalItem?.id)try{const {load:K}=await new Promise((I,P)=>a(["../../portal/support/layersLoader"],I,P));n.throwIfAborted(M);return await K({instance:this,supportedTypes:D.supportedTypes,validateItem:D.validateItem,supportsData:D.supportsData,layerModuleTypeMap:D.layerModuleTypeMap},M)}catch(K){throw n.isAbortError(K)||
p.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${K}`),K;}}async finishLoadEditablePortalLayer(D){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(D).catch(M=>{n.throwIfAbortError(M);return!0}))}async setUserPrivileges(D,M){if(!f.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(M);if(this.url)try{const {features:{edit:K,fullEdit:I},content:{updateItem:P}}=await this._fetchUserPrivileges(D,
M);this._set("userHasEditingPrivileges",K);this._set("userHasFullEditingPrivileges",I);this._set("userHasUpdateItemPrivileges",P)}catch(K){n.throwIfAbortError(K)}}async _fetchUserPrivileges(D,M){let K=this.portalItem;if(!D||!K||!K.loaded||K.sourceUrl)return this._fetchFallbackUserPrivileges(M);const I=D===K.id;if(I&&K.portal.user)return A.getUserPrivileges(K);let P;if(I)P=K.portal.url;else try{P=await y.getOwningPortalUrl(this.url,M)}catch(Z){n.throwIfAbortError(Z)}if(!P||!u.hasSameCanonicalPortal(P,
K.portal.url))return this._fetchFallbackUserPrivileges(M);let T;try{const Z=null!=M?M.signal:null;T=await e.id?.getCredential(`${P}/sharing`,{prompt:!1,signal:Z})}catch(Z){n.throwIfAbortError(Z)}if(!T)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(I?await K.reload():(K=new x({id:D,portal:{url:P}}),await K.load(M)),K.portal.user)return A.getUserPrivileges(K)}catch(Z){n.throwIfAbortError(Z)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}}async _fetchFallbackUserPrivileges(D){let M=
!0;try{M=await this._fetchUserHasEditingPrivileges(D)}catch(K){n.throwIfAbortError(K)}return{features:{edit:M,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(D){const M=this.url?e.id?.findCredential(this.url):null;if(!M)return!0;D=E===M?F:await this._fetchEditingUser(D);E=M;F=D;return null==D?.privileges||D.privileges.includes("features:user:edit")}async _fetchEditingUser(D){var M=this.portalItem?.portal?.user;if(M)return M;M=e.id.findServerInfo(this.url??"");if(!M?.owningSystemUrl)return null;
M=`${M.owningSystemUrl}/sharing/rest`;const K=r.getDefault();if(K&&K.loaded&&u.normalize(K.restUrl)===u.normalize(M))return K.user;D=await q.result(k(`${M}/community/self`,{authMode:"no-prompt",query:{f:"json"},signal:null!=D?D.signal:null}));return D.ok?B.fromJSON(D.value.data):null}read(D,M){M&&(M.layer=this);super.read(D,M)}write(D,M){const K=M?.portal,I=this.portalItem?.id&&(this.portalItem.portal||r.getDefault());return K&&I&&!u.hasSamePortal(I.restUrl,K.restUrl)?(M.messages&&M.messages.push(new g("layer:cross-portal",
`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(D,{...M,layer:this})}};d.__decorate([m.property({type:x})],L.prototype,"portalItem",null);d.__decorate([v.reader("web-document","portalItem",["itemId"])],L.prototype,"readPortalItem",null);d.__decorate([z.writer("web-document",
"portalItem",{itemId:{type:String}})],L.prototype,"writePortalItem",null);d.__decorate([m.property({clonable:!1})],L.prototype,"resourceReferences",void 0);d.__decorate([m.property({type:Boolean,readOnly:!0})],L.prototype,"userHasEditingPrivileges",void 0);d.__decorate([m.property({type:Boolean,readOnly:!0})],L.prototype,"userHasFullEditingPrivileges",void 0);d.__decorate([m.property({type:Boolean,readOnly:!0})],L.prototype,"userHasUpdateItemPrivileges",void 0);return L=d.__decorate([w.subclass("esri.layers.mixins.PortalLayer")],
L)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalItemUtils":function(){define(["exports","../../geometry/projection","../../geometry/SpatialReference","../../geometry/support/webMercatorUtils"],function(a,b,d,f){async function e(l){const n=l.spatialReference;if(n.isWGS84)return l.clone();if(n.isWebMercator)return f.webMercatorToGeographic(l);const u=d.WGS84;await b.initializeProjection(n,u);return b.project(l,u)}function k(l,n){if(!q(l,n)){const u=l.typeKeywords;
u?u.push(n):l.typeKeywords=[n]}}function q(l,n){return!!l.typeKeywords?.includes(n)}function g(l,n){if(l=l.typeKeywords)n=l.indexOf(n),-1<n&&l.splice(n,1)}const p={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};a.TypeKeyword=p;a.addTypeKeyword=k;a.getUserPrivileges=function(l){const {portal:n,
isOrgItem:u,itemControl:m}=l;var c=n.user?.privileges;l=c?c.includes("features:user:edit"):!0;c=u?!!c?.includes("features:user:fullEdit"):!1;const h="update"===m||"admin"===m;h?c=l=!0:c&&(l=!0);return{features:{edit:l,fullEdit:c},content:{updateItem:h}}};a.getWGS84ExtentForItem=async function(l){l=l.clone().normalize();let n;if(1<l.length)for(const u of l)n?u.width>n.width&&(n=u):n=u;else n=l[0];return e(n)};a.hasTypeKeyword=q;a.isHostedLayer=function(l){return q(l,p.HOSTED_SERVICE)};a.removeTypeKeyword=
g;a.toggleTypeKeword=function(l,n,u){u?k(l,n):g(l,n)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection":function(){define("require exports ../core/Error ../core/promiseUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../chunks/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./SpatialReference ./projection/projectBuffer ./projection/projectors ./projection/projectXYZToVector ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/zscale".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r){function x(){return!!V&&n.isLoaded()}function B(W){null==sa&&(sa=Promise.all([n.load(),(new Promise((ba,fa)=>a(["../chunks/geometryEngineBase"],ba,fa))).then(ba=>ba.geometryEngineBase),new Promise((ba,fa)=>a(["./geometryAdapters/hydrated"],ba,fa))]));return sa.then(([,ba,{hydratedAdapter:fa}])=>{f.throwIfAborted(W);U=fa;V=ba.default;V._enableProjection(n.pe);Fa.notify()})}function A(W,ba,fa=null,Ba=null){return Array.isArray(W)?0===W.length?[]:E(U,
W,W[0].spatialReference,ba,fa,Ba):E(U,[W],W.spatialReference,ba,fa,Ba)[0]}function E(W,ba,fa,Ba,Ja=null,G=null){if(null==fa||null==Ba)return ba;if(M(fa,Ba,Ja))return ba.map(S=>I(S,fa,Ba));if(null==Ja&&g.isSphericalECEF(fa))return ba.map(S=>I(S,fa,h.WGS84)).map(S=>D(S,Ba));if(null==Ja&&g.isSphericalECEF(Ba))return ba.map(S=>D(S,h.WGS84)).map(S=>I(S,h.WGS84,Ba));if(null==Ja){const S=z.cacheKey(fa,Ba);void 0!==za[S]?Ja=za[S]:(Ja=L(fa,Ba,void 0),null==Ja&&(Ja=new z),za[S]=Ja)}if(null==V||null==W)throw new Da;
return null!=G?V._project(W,ba,fa,Ba,Ja,G):V._project(W,ba,fa,Ba,Ja)}function F(W,ba){if(!x())for(const fa of W)if(null!=fa&&!y.equals(fa.spatialReference,ba)&&y.isValid(fa.spatialReference)&&y.isValid(ba)&&!M(fa.spatialReference,ba))return e.trackAccess(Fa),{pending:B(),geometries:null};return{pending:null,geometries:W.map(fa=>null==fa?null:y.equals(fa.spatialReference,ba)?fa:y.isValid(fa.spatialReference)&&y.isValid(ba)?D(fa,ba):null)}}function L(W,ba,fa=null){if(null==W||null==ba)return null;if(null==
V||null==U)throw new Da;W=V._getTransformation(U,W,ba,fa,fa?.spatialReference);return null!==W?z.fromGE(W):null}function D(W,ba){try{const fa=A(W,ba);if(null==fa)return null;"xmin"in W&&"xmin"in fa&&(fa.zmin=W.zmin,fa.zmax=W.zmax);const Ba=r.getGeometryZScaler(fa.type,W.spatialReference,ba);null!=Ba&&Ba(fa);return fa}catch(fa){if(!(fa instanceof Da))throw fa;return null}}function M(W,ba,fa){return fa?!1:y.equals(W,ba)?!0:y.isValid(W)&&y.isValid(ba)&&!!v.getProjector(W,ba,v.projectorCache)}async function K(W,
ba,fa,Ba){if(x())return f.waitTick(Ba);if(Array.isArray(W))for(const {source:Ja,dest:G,geographicTransformation:S}of W){if(!M(Ja,G,S))return B(Ba)}else if(!M(W,ba,fa))return B(Ba);return f.waitTick(Ba)}function I(W,ba,fa){return W?"x"in W?P(W,ba,new u,fa,0):"xmin"in W?Q(W,ba,new p,fa,0):"rings"in W?J(W,ba,new m,fa,0):"paths"in W?Z(W,ba,new c,fa,0):"points"in W?T(W,ba,new l,fa,0):null:null}function P(W,ba,fa,Ba,Ja){va[0]=W.x;va[1]=W.y;const G=W.z;va[2]=void 0!==G?G:Ja;if(!t.projectBuffer(va,ba,0,va,
Ba,0,1))return null;fa.x=va[0];fa.y=va[1];fa.spatialReference=Ba;void 0!==G||g.isSphericalPCPF(Ba)?(fa.z=va[2],fa.hasZ=!0):(fa.z=void 0,fa.hasZ=!1);void 0===W.m?(fa.m=void 0,fa.hasM=!1):(fa.m=W.m,fa.hasM=!0);return fa}function T(W,ba,fa,Ba,Ja){const {points:G,hasZ:S,hasM:ja}=W;W=[];const pa=G.length,Aa=[];for(var Y of G)Aa.push(Y[0],Y[1],S?Y[2]:Ja);if(!t.projectBuffer(Aa,ba,0,Aa,Ba,0,pa))return null;ba=S||g.isSphericalPCPF(Ba);for(Ja=0;Ja<pa;++Ja){Y=3*Ja;const da=Aa[Y],ma=Aa[Y+1];ba&&ja?W.push([da,
ma,Aa[Y+2],G[Ja][3]]):ba?W.push([da,ma,Aa[Y+2]]):ja?W.push([da,ma,G[Ja][2]]):W.push([da,ma])}fa.points=W;fa.spatialReference=Ba;fa.hasZ=S;fa.hasM=ja;return fa}function Z(W,ba,fa,Ba,Ja){const {paths:G,hasZ:S,hasM:ja}=W;W=[];if(!N(G,S??!1,ja??!1,ba,W,Ba,Ja))return null;ba=S||g.isSphericalPCPF(Ba);fa.paths=W;fa.spatialReference=Ba;fa.hasZ=ba;fa.hasM=ja;return fa}function J(W,ba,fa,Ba,Ja){const {rings:G,hasZ:S,hasM:ja}=W;W=[];if(!N(G,S??!1,ja??!1,ba,W,Ba,Ja))return null;ba=S||g.isSphericalPCPF(Ba);fa.rings=
W;fa.spatialReference=Ba;fa.hasZ=ba;fa.hasM=ja;return fa}function Q(W,ba,fa,Ba,Ja){const {xmin:G,ymin:S,xmax:ja,ymax:pa,hasZ:Aa,hasM:Y}=W;if(!w.projectXYZToVector(G,S,Aa?W.zmin:Ja,ba,va,Ba))return null;const da=Aa||g.isSphericalPCPF(Ba);fa.xmin=va[0];fa.ymin=va[1];da&&(fa.zmin=va[2]);if(!w.projectXYZToVector(ja,pa,Aa?W.zmax:Ja,ba,va,Ba))return null;fa.xmax=va[0];fa.ymax=va[1];da&&(fa.zmax=va[2]);Y&&(fa.mmin=W.mmin,fa.mmax=W.mmax);fa.spatialReference=Ba;return fa}function N(W,ba,fa,Ba,Ja,G,S=0){const ja=
[];for(const pa of W)for(const Aa of pa)ja.push(Aa[0],Aa[1],ba?Aa[2]:S);if(!t.projectBuffer(ja,Ba,0,ja,G,0,ja.length/3))return!1;Ba=0;Ja.length=0;ba=ba||g.isSphericalPCPF(G);for(const pa of W){W=[];for(const Aa of pa)ba&&fa?W.push([ja[Ba++],ja[Ba++],ja[Ba++],Aa[3]]):ba?W.push([ja[Ba++],ja[Ba++],ja[Ba++]]):(fa?W.push([ja[Ba++],ja[Ba++],Aa[2]]):W.push([ja[Ba++],ja[Ba++]]),Ba++);Ja.push(W)}return!0}let V=null,U=null,sa=null,za={};const Fa=new k.SimpleObservable;class Da extends d{constructor(){super("projection:not-loaded",
"projection engine not fully loaded yet, please call load()")}}const va=q.create();b.canProjectToWGS84ComparableLonLat=function(W){return null==W?!1:null!=v.getWGS84ComparableLonLatProjector(W)};b.canProjectWithoutEngine=M;b.getTransformation=L;b.getTransformations=function(W,ba,fa=null){if(null==V||null==U)throw new Da;W=V._getTransformationBySuitability(U,W,ba,fa,fa?.spatialReference);if(null!==W){ba=[];for(const Ba of W)ba.push(z.fromGE(Ba));return ba}return[]};b.initializeProjection=K;b.isLoaded=
x;b.isLoadedOrLoad=function(){if(x())return!0;e.trackAccess(Fa);B();return!1};b.load=B;b.project=A;b.projectExtent=function(W,ba,fa=ba.spatialReference,Ba=0){return null!=W.spatialReference&&null!=fa&&null!=Q(W,W.spatialReference,ba,fa,Ba)};b.projectMany=E;b.projectMultipoint=function(W,ba,fa=ba.spatialReference,Ba=0){return null!=W.spatialReference&&null!=fa&&null!=T(W,W.spatialReference,ba,fa,Ba)};b.projectOrLoad=function(W,ba){W=F([W],ba);return null!=W.pending?{pending:W.pending,geometry:null}:
null!=W.geometries?{pending:null,geometry:W.geometries[0]}:{pending:null,geometry:null}};b.projectOrLoadMany=F;b.projectPoint=function(W,ba,fa=ba.spatialReference,Ba=0){return null!=fa&&null!=W.spatialReference&&null!=P(W,W.spatialReference,ba,fa,Ba)};b.projectPolygon=function(W,ba,fa=ba.spatialReference,Ba=0){return null!=W.spatialReference&&null!=fa&&null!=J(W,W.spatialReference,ba,fa,Ba)};b.projectPolyline=function(W,ba,fa=ba.spatialReference,Ba=0){return null!=W.spatialReference&&null!=fa&&null!=
Z(W,W.spatialReference,ba,fa,Ba)};b.projectWithZConversion=async function(W,ba,fa){const Ba=W.spatialReference;null!=Ba&&null!=ba&&await K(Ba,ba,null,fa);return D(W,ba)};b.projectWithoutEngine=I;b.test={get loadPromise(){return sa}};b.tryProjectWithZConversion=D;b.unload=function(){sa=U=V=null;za={}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectBuffer":function(){define(["exports","./projectors"],function(a,b){a.projectBuffer=function(d,f,e,k,q,
g,p=1){f=b.getProjector(f,q,b.projectorCache);if(null==f)return!1;if(f===b.copy3){if(d===k&&e===g)return!0;p=e+3*p;for(let l=e,n=g;l<p;l++,n++)k[n]=d[l];return!0}p=e+3*p;for(let l=e,n=g;l<p;l+=3,n+=3)f(d,l,k,n);return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectors":function(){define("exports ../../core/mathUtils ../../core/unitUtils ../ellipsoidUtils ../support/Ellipsoid ../support/geodesicConstants ../support/spatialReferenceUtils ../support/SupportedGCSWkids".split(" "),
function(a,b,d,f,e,k,q,g){function p(va,W,ba=J()){return null==va||null==W?null:Z(va,W,ba).projector}function l(va,W){if(!va)return a.ProjectionID.UNKNOWN;if(W.spatialReference===va)return W.spatialReferenceId;W.spatialReference=va;"metersPerUnit"in W&&(W.metersPerUnit=d.getMetersPerUnitForSR(va,1));return f.isSphericalECEF(va)?W.spatialReferenceId=a.ProjectionID.SPHERICAL_ECEF:q.isWGS84(va)?W.spatialReferenceId=a.ProjectionID.WGS84:q.isWebMercator(va)?W.spatialReferenceId=a.ProjectionID.WEB_MERCATOR:
q.isPlateCarree(va)?W.spatialReferenceId=a.ProjectionID.PLATE_CARREE:va.wkt===f.WGS84ECEFSpatialReferenceLike.wkt?W.spatialReferenceId=a.ProjectionID.WGS84_ECEF:va.wkid===g.SupportedGCSWkids.CGCS2000?W.spatialReferenceId=a.ProjectionID.CGCS2000:va.wkt===f.SphericalPCPFMarsLike.wkt?W.spatialReferenceId=a.ProjectionID.SPHERICAL_MARS_PCPF:va.wkt===f.SphericalPCPFMoonLike.wkt?W.spatialReferenceId=a.ProjectionID.SPHERICAL_MOON_PCPF:q.isMars(va)?W.spatialReferenceId=a.ProjectionID.GCSMARS2000:q.isMoon(va)?
W.spatialReferenceId=a.ProjectionID.GCSMOON2000:W.spatialReferenceId=a.ProjectionID.UNKNOWN}function n(va,W,ba,fa){va!==ba&&(ba[fa++]=va[W++],ba[fa++]=va[W++],ba[fa]=va[W])}function u(va,W,ba,fa){ba[fa++]=Da*(va[W++]/e.earth.radius);ba[fa++]=Da*(Math.PI/2-2*Math.atan(Math.exp(-va[W++]/e.earth.radius)));ba[fa]=va[W]}function m(va,W,ba,fa){u(va,W,ba,fa);B(ba,fa,ba,fa)}function c(va,W,ba,fa){u(va,W,ba,fa);K(ba,fa,ba,fa)}function h(va,W,ba,fa,Ba){var Ja=.4999999*Math.PI;Ja=b.clamp(Fa*va[W+1],-Ja,Ja);
Ja=Math.sin(Ja);ba[fa++]=Fa*va[W]*Ba.radius;ba[fa++]=Ba.halfSemiMajorAxis*Math.log((1+Ja)/(1-Ja));ba[fa]=va[W+2]}function t(va,W,ba,fa){h(va,W,ba,fa,e.earth)}function v(va,W,ba,fa){ba[fa]=va[W]*N;ba[fa+1]=va[W+1]*N;ba[fa+2]=va[W+2]}function w(va,W,ba,fa){ba[fa]=va[W]*V;ba[fa+1]=va[W+1]*V;ba[fa+2]=va[W+2]}function z(va,W,ba,fa){u(va,W,ba,fa);v(ba,fa,ba,fa)}function y(va,W,ba,fa,Ba){Ba+=va[W+2];const Ja=Fa*va[W+1];va=Fa*va[W];W=Math.cos(Ja);ba[fa++]=Math.cos(va)*W*Ba;ba[fa++]=Math.sin(va)*W*Ba;ba[fa]=
Math.sin(Ja)*Ba}function r(va,W,ba,fa){y(va,W,ba,fa,e.moon.radius)}function x(va,W,ba,fa){y(va,W,ba,fa,e.mars.radius)}function B(va,W,ba,fa){y(va,W,ba,fa,e.earth.radius)}function A(va,W,ba,fa,Ba){var Ja=va[W];const G=va[W+1];W=va[W+2];va=Math.sqrt(Ja*Ja+G*G+W*W);W=b.asinClamped(W/(0===va?1:va));Ja=Math.atan2(G,Ja);ba[fa++]=Da*Ja;ba[fa++]=Da*W;ba[fa]=va-Ba}function E(va,W,ba,fa){A(va,W,ba,fa,e.moon.radius)}function F(va,W,ba,fa){A(va,W,ba,fa,e.mars.radius)}function L(va,W,ba,fa){A(va,W,ba,fa,e.earth.radius)}
function D(va,W,ba,fa){L(va,W,ba,fa);t(ba,fa,ba,fa)}function M(va,W,ba,fa){L(va,W,ba,fa);K(ba,fa,ba,fa)}function K(va,W,ba,fa){var Ba=e.earth;const Ja=Fa*va[W];var G=Fa*va[W+1];va=va[W+2];W=Math.sin(G);G=Math.cos(G);const S=Ba.radius/Math.sqrt(1-Ba.eccentricitySquared*W*W);ba[fa++]=(S+va)*G*Math.cos(Ja);ba[fa++]=(S+va)*G*Math.sin(Ja);ba[fa++]=(S*(1-Ba.eccentricitySquared)+va)*W}function I(va,W,ba,fa){var Ba=k.earthEllipsoidConstants,Ja=va[W],G=va[W+1];va=va[W+2];let S;W=Math.abs(va);var ja=Ja*Ja+
G*G;var pa=Math.sqrt(ja);var Aa=ja+va*va;var Y=Math.sqrt(Aa);Ja=Math.atan2(G,Ja);var da=va*va/Aa;Aa=ja/Aa;G=Ba.a2/Y;ja=Ba.a3-Ba.a4/Y;.3<Aa?(da=W/Y*(1+Aa*(Ba.a1+G+da*ja)/Y),Y=Math.asin(da),G=da*da,Aa=Math.sqrt(1-G)):(Aa=pa/Y*(1-da*(Ba.a5-G-Aa*ja)/Y),Y=Math.acos(Aa),G=1-Aa*Aa,da=Math.sqrt(G));S=1-e.earth.eccentricitySquared*G;G=e.earth.radius/Math.sqrt(S);Ba=Ba.a6*G;G=pa-G*Aa;ja=W-Ba*da;W=Aa*G+da*ja;pa=Aa*ja-da*G;Ba=pa/(Ba/S+W);Y+=Ba;0>va&&(Y=-Y);ba[fa++]=Da*Ja;ba[fa++]=Da*Y;ba[fa]=W+pa*Ba/2}function P(va,
W,ba,fa){I(va,W,ba,fa);B(ba,fa,ba,fa)}function T(va,W,ba,fa){I(va,W,ba,fa);t(ba,fa,ba,fa)}function Z(va,W,ba){if(null==va||null==W||ba.source.spatialReference===va&&ba.dest.spatialReference===W)return ba;const fa=l(va,ba.source),Ba=l(W,ba.dest);fa===a.ProjectionID.UNKNOWN&&Ba===a.ProjectionID.UNKNOWN?q.equals(va,W)?ba.projector=n:ba.projector=null:ba.projector=Q[fa][Ba];return ba}function J(){return{source:{spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,
spatialReferenceId:a.ProjectionID.UNKNOWN,metersPerUnit:1},projector:n}}a.ProjectionID=void 0;(function(va){va[va.UNKNOWN=0]="UNKNOWN";va[va.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";va[va.WGS84=2]="WGS84";va[va.WEB_MERCATOR=3]="WEB_MERCATOR";va[va.WGS84_ECEF=4]="WGS84_ECEF";va[va.CGCS2000=5]="CGCS2000";va[va.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";va[va.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";va[va.GCSMARS2000=8]="GCSMARS2000";va[va.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";va[va.GCSMOON2000=
10]="GCSMOON2000";va[va.LON_LAT=11]="LON_LAT";va[va.PLATE_CARREE=12]="PLATE_CARREE"})(a.ProjectionID||(a.ProjectionID={}));const Q={[a.ProjectionID.WGS84]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:n,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:n,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:t,
[a.ProjectionID.PLATE_CARREE]:v,[a.ProjectionID.WGS84]:n,[a.ProjectionID.WGS84_ECEF]:K},[a.ProjectionID.CGCS2000]:{[a.ProjectionID.CGCS2000]:n,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:n,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:n,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:v,[a.ProjectionID.WGS84]:null,
[a.ProjectionID.WGS84_ECEF]:K},[a.ProjectionID.GCSMARS2000]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:n,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:n,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:x,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},
[a.ProjectionID.GCSMOON2000]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:n,[a.ProjectionID.LON_LAT]:n,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:r,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.WEB_MERCATOR]:{[a.ProjectionID.CGCS2000]:null,
[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:u,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:u,[a.ProjectionID.SPHERICAL_ECEF]:m,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:n,[a.ProjectionID.PLATE_CARREE]:z,[a.ProjectionID.WGS84]:u,[a.ProjectionID.WGS84_ECEF]:c},[a.ProjectionID.WGS84_ECEF]:{[a.ProjectionID.CGCS2000]:I,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,
[a.ProjectionID.LON_LAT]:I,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:I,[a.ProjectionID.SPHERICAL_ECEF]:P,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:T,[a.ProjectionID.PLATE_CARREE]:function(va,W,ba,fa){I(va,W,ba,fa);v(ba,fa,ba,fa)},[a.ProjectionID.WGS84]:I,[a.ProjectionID.WGS84_ECEF]:n},[a.ProjectionID.SPHERICAL_ECEF]:{[a.ProjectionID.CGCS2000]:L,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,
[a.ProjectionID.LON_LAT]:L,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:L,[a.ProjectionID.SPHERICAL_ECEF]:n,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:D,[a.ProjectionID.PLATE_CARREE]:function(va,W,ba,fa){L(va,W,ba,fa);v(ba,fa,ba,fa)},[a.ProjectionID.WGS84]:L,[a.ProjectionID.WGS84_ECEF]:M},[a.ProjectionID.SPHERICAL_MARS_PCPF]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:F,[a.ProjectionID.GCSMOON2000]:null,
[a.ProjectionID.LON_LAT]:F,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:n,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.SPHERICAL_MOON_PCPF]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:E,[a.ProjectionID.LON_LAT]:E,
[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:n,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.UNKNOWN]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:null,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:null,
[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:n,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.LON_LAT]:{[a.ProjectionID.CGCS2000]:n,[a.ProjectionID.GCSMARS2000]:n,[a.ProjectionID.GCSMOON2000]:n,[a.ProjectionID.LON_LAT]:n,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:n,[a.ProjectionID.SPHERICAL_ECEF]:B,
[a.ProjectionID.SPHERICAL_MARS_PCPF]:x,[a.ProjectionID.SPHERICAL_MOON_PCPF]:r,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:t,[a.ProjectionID.PLATE_CARREE]:v,[a.ProjectionID.WGS84]:n,[a.ProjectionID.WGS84_ECEF]:K},[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:n,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:n,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,
[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:v,[a.ProjectionID.WGS84]:n,[a.ProjectionID.WGS84_ECEF]:K},[a.ProjectionID.PLATE_CARREE]:{[a.ProjectionID.CGCS2000]:w,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:w,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:w,[a.ProjectionID.SPHERICAL_ECEF]:function(va,W,ba,fa){w(va,W,ba,fa);B(ba,fa,ba,fa)},[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,
[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:function(va,W,ba,fa){w(va,W,ba,fa);t(ba,fa,ba,fa)},[a.ProjectionID.PLATE_CARREE]:n,[a.ProjectionID.WGS84]:w,[a.ProjectionID.WGS84_ECEF]:function(va,W,ba,fa){w(va,W,ba,fa);K(ba,fa,ba,fa)}}},N=e.earth.radius*Math.PI/180,V=180/(e.earth.radius*Math.PI),U={spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN},sa={spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN},za=J(),Fa=b.deg2rad(1),
Da=b.rad2deg(1);a.classifySpatialReference=l;a.copy3=n;a.createEmptyProjectorCache=J;a.destClassificationCache=sa;a.getProjector=p;a.getProjectorName=function(va,W){switch(p(va,W,za)){case n:return"copy3";case B:return"wgs84ToSphericalECEF";case t:return"wgs84ToWebMercator";case v:return"wgs84ToPlateCarree";case K:return"wgs84ToWGS84ECEF";case u:return"webMercatorToWGS84";case m:return"webMercatorToSphericalECEF";case c:return"webMercatorToWGS84ECEF";case z:return"webMercatorToPlateCarree";case I:return"wgs84ECEFToWGS84";
case P:return"wgs84ECEFToSphericalECEF";case T:return"wgs84ECEFToWebMercator";case L:return"sphericalECEFToWGS84";case D:return"sphericalECEFToWebMercator";case F:return"sphericalMarsPCPFToMars2000";case E:return"sphericalMoonPCPFToMoon2000";case M:return"sphericalECEFToWGS84ECEF";case x:return"mars2000ToSphericalPCPF";case r:return"moon2000ToSphericalPCPF";default:return null}};a.getWGS84ComparableLonLatProjector=function(va){va=l(va,U);return Q[va][a.ProjectionID.WGS84_COMPARABLE_LON_LAT]};a.invPlateCarreeScale=
V;a.lonLatToWebMercatorComparable=h;a.populateProjectorCache=Z;a.projectionTable=Q;a.projectorCache=za;a.sourceClassificationCache=U;a.sphericalPCPFtoLonLatElevation=A;a.wgs84ToWebMercator=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(a,b){const d=Math.PI/180,f=b.earth.radius,e=b.earth.eccentricitySquared;b={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:b.earth.radius,
f:b.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:b.moon.radius,f:b.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:b.mars.radius,f:b.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,
f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,
f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,
f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:b.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};a.earthEllipsoidConstants={a1:f*e,a2:f*e*f*e,a3:f*e*e/2,a4:f*e*f*e*2.5,a5:f*e+f*e*e/2,a6:1-e};a.spheroids=b;a.toRadians=d;a.wktSpheroidRegex=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectXYZToVector":function(){define(["exports",
"../../chunks/vec3f64","./projectBuffer"],function(a,b,d){const f=b.create();a.projectXYZToVector=function(e,k,q,g,p,l){f[0]=e;f[1]=k;f[2]=q;return d.projectBuffer(f,g,0,p,l,0,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(a){class b{static cacheKey(d,f){return[d.wkid?.toString()??"-1",d.wkt?.toString()??"",d.wkt2?.toString()??"",f.wkid?.toString()??"-1",f.wkt?.toString()??
"",f.wkt2?.toString()??""].join()}static fromGE(d){const f=new b;let e="";for(const k of d.steps)d=a.fromGE(k),f.steps.push(d),e+=d.uid.toString()+",";f._cachedProjection={};f._gtlistentry=null;f._chain=e;return f}constructor(d){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(d?.steps)for(const f of d.steps)f instanceof a?this.steps.push(f):this.steps.push(new a({wkid:f.wkid,wkt:f.wkt,isInverse:f.isInverse}))}getInverse(){const d=new b;d.steps=[];for(let f=this.steps.length-
1;0<=f;f--)d.steps.push(this.steps[f].getInverse());return d}getGTListEntry(){let d="";for(const f of this.steps)d+=f.uid.toString()+",";d!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=d);return this._gtlistentry}assignCachedGe(d,f,e){this._cachedProjection[b.cacheKey(d,f)]=e}getCachedGeTransformation(d,f){let e="";for(const k of this.steps)e+=k.uid.toString()+",";e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e);d=this._cachedProjection[b.cacheKey(d,
f)];return void 0===d?null:d}}return b})},"esri/geometry/support/GeographicTransformationStep":function(){define(function(){let a=0;class b{static fromGE(d){const f=new b;f._wkt=d.wkt;f._wkid=d.wkid;f._isInverse=d.isInverse;return f}constructor(d){this.uid=a++;d?(this._wkt=null!=d.wkt?d.wkt:null,this._wkid=null!=d.wkid?d.wkid:-1,this._isInverse=null!=d.isInverse?!0===d.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(d){this._wkt=d;this.uid=a++}get wkid(){return this._wkid}set wkid(d){this._wkid=
d;this.uid=a++}get isInverse(){return this._isInverse}set isInverse(d){this._isInverse=d;this.uid=a++}getInverse(){const d=new b;d._wkt=this.wkt;d._wkid=this._wkid;d._isInverse=!this.isInverse;return d}}return b})},"esri/geometry/support/zscale":function(){define(["exports","../../core/unitUtils","../ellipsoidUtils","./spatialReferenceUtils"],function(a,b,d,f){a.getGeometryZScaler=function(e,k,q){if(null==k||null==q||q.vcsWkid||f.equals(k,q)||d.isSphericalPCPF(k)||d.isSphericalPCPF(q))return null;
k=b.getMetersPerVerticalUnitForSR(k);q=b.getMetersPerVerticalUnitForSR(q);const g=k/q;if(1===g)return null;switch(e){case "point":case "esriGeometryPoint":return p=>{null!=p?.z&&(p.z*=g)};case "polyline":case "esriGeometryPolyline":return p=>{if(p)for(const l of p.paths)for(const n of l)2<n.length&&(n[2]*=g)};case "polygon":case "esriGeometryPolygon":return p=>{if(p)for(const l of p.rings)for(const n of l)2<n.length&&(n[2]*=g)};case "multipoint":case "esriGeometryMultipoint":return p=>{if(p)for(const l of p.points)2<
l.length&&(l[2]*=g)};case "extent":case "esriGeometryEnvelope":return p=>{p&&null!=p.zmin&&null!=p.zmax&&(p.zmin*=g,p.zmax*=g)};default:return null}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ScaleRangeLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,
k,q){a.ScaleRangeLayer=g=>{g=class extends g{constructor(){super(...arguments);this.maxScale=this.minScale=0}get effectiveScaleRange(){const p={minScale:this.minScale,maxScale:this.maxScale};var l=this.parent;l&&"effectiveScaleRange"in l&&(l=l.effectiveScaleRange,p.minScale=0<p.minScale?0<l.minScale?Math.min(p.minScale,l.minScale):p.minScale:l.minScale,p.maxScale=0<p.maxScale?0<l.maxScale?Math.max(p.maxScale,l.maxScale):p.maxScale:l.maxScale);return(l=this._get("effectiveScaleRange"))&&l.minScale===
p.minScale&&l.maxScale===p.maxScale?l:p}};b.__decorate([d.property({type:Number,nonNullable:!0,json:{write:!0}})],g.prototype,"minScale",void 0);b.__decorate([d.property({type:Number,nonNullable:!0,json:{write:!0}})],g.prototype,"maxScale",void 0);b.__decorate([d.property({readOnly:!0})],g.prototype,"effectiveScaleRange",null);return g=b.__decorate([q.subclass("esri.layers.mixins.ScaleRangeLayer")],g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/RefreshableLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/Logger ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/layerContainerType ./refresh".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){a.RefreshableLayer=u=>{u=class extends u{constructor(...m){super(...m);this.refreshTimestamp=this.refreshInterval=0;this._debounceHasDataChanged=f.debounce(()=>this.hasDataChanged());this.when().then(()=>{this.destroyed||n.registerLayer(this)},()=>{})}destroy(){n.unregisterLayer(this)}castRefreshInterval(m){return.1<=m?m:0>=m?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(m=Date.now()){f.ignoreAbortErrors(this._debounceHasDataChanged()).then(c=>
{c&&this._set("refreshTimestamp",m);this.emit("refresh",{dataChanged:c})},c=>{d.getLogger(this).error(c);this.emit("refresh",{dataChanged:!1,error:c})})}async hasDataChanged(){return!0}get test(){const m=this;return{set refreshInterval(c){m._set("refreshInterval",c)}}}};b.__decorate([e.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:l.excludeTables}}}}})],u.prototype,"refreshInterval",void 0);b.__decorate([k.cast("refreshInterval")],u.prototype,"castRefreshInterval",
null);b.__decorate([e.property({readOnly:!0})],u.prototype,"refreshTimestamp",void 0);b.__decorate([e.property({readOnly:!0})],u.prototype,"refreshParameters",null);return u=b.__decorate([p.subclass("esri.layers.mixins.RefreshableLayer")],u)};a.isRefreshableLayer=function(u){return null!=u&&"object"===typeof u&&"refreshTimestamp"in u&&"refresh"in u};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/refresh":function(){define("exports ../../core/Collection ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/accessorSupport/watch ../../core/accessorSupport/trackingUtils".split(" "),
function(a,b,d,f,e,k,q){function g(h){return null!=h&&"object"===typeof h&&"refreshInterval"in h&&"refresh"in h}function p(h,t){return Number.isFinite(h)&&Number.isFinite(t)?0>=t?h:p(t,h%t):0}function l(){var h=Date.now();let t=!1;for(const v of n){const w=v.deref();if(!w)t=!0;else if(w.refreshInterval){const z=u.get(w)??0;h-z+5>=6E4*w.refreshInterval&&(u.set(w,h),w.refresh(h))}}if(t)for(h=n.length-1;0<=h;h--)n.at(h).deref()||n.removeAt(h)}const n=new b,u=new WeakMap;let m=0,c=0;q.autorun(()=>{const h=
Date.now();let t=0;for(const v of n){const w=v.deref();w&&(t=p(Math.round(6E4*w.refreshInterval),t),w.refreshInterval?u.get(w)||u.set(w,h):u.delete(w))}t!==c&&(c=t,clearInterval(m),m=0===c?0:setInterval(l,c))});a.registerLayer=function(h){g(h)&&n.push(new WeakRef(h))};a.test={get hasRefreshTimer(){return 0<m},get tickInterval(){return c},forceRefresh(){l()},hasLayer(h){return g(h)&&n.some(t=>t.deref()===h)},clear(){for(const h of n){const t=h.deref();t&&u.delete(t)}n.removeAll()}};a.unregisterLayer=
function(h){const t=n.find(v=>v.deref()===h);t&&n.remove(t)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layersCreator":function(){define("exports ../../core/Collection ../../core/has ./LayerLoadContext ./lazyLayerLoader ../../portal/PortalItem ../../portal/support/featureCollectionUtils ../../portal/support/portalLayers ../../renderers/support/styleUtils".split(" "),function(a,b,d,f,e,k,q,g,p){async function l(K,I,P){if(I){var T=[];for(const Z of I)T.push(n(Z,
P));I=await Promise.allSettled(T);for(const Z of I)"rejected"!==Z.status&&Z.value&&K.add(Z.value)}}async function n(K,I){const P=await m(K,I);return u(P,K,I)}async function u(K,I,P){K=new K;K.read(I,P.context);"group"===K.type&&("GroupLayer"===I.layerType?await t(K,I,P):h(I)?v(K,I,P.context):c(I)&&await w(K,I,P.context));await p.loadStyleRenderer(K,P.context);return K}async function m(K,I){var P=I.context;let T;switch(P.origin){case "web-scene":switch(P.layerContainerType){case "basemap":T=B;break;
case "ground":T=r;break;case "tables":T=x;break;default:T=y}break;case "link-chart":switch(P.layerContainerType){case "basemap":T=M;break;case "tables":T=D;break;default:T=L}break;default:switch(P.layerContainerType){case "basemap":T=F;break;case "tables":T=E;break;default:T=A}}let Z=K.layerType||K.type;!Z&&I?.defaultLayerType&&(Z=I.defaultLayerType);I=(I=T[Z])?e.layerLookupMap[I]:e.layerLookupMap.UnknownLayer;h(K)?(P=P?.portal,K.itemId&&(K=new k({id:K.itemId,portal:P}),await K.load(),K=(await g.selectLayerClassPath(K,
new f.LayerLoadContext)).className||"UnknownLayer",I=e.layerLookupMap[K])):"ArcGISFeatureLayer"===Z?q.isMapNotesLayer(K)||q.isMarkupLayer(K)?I=e.layerLookupMap.MapNotesLayer:q.isRouteLayer(K)?I=e.layerLookupMap.RouteLayer:c(K)&&(I=e.layerLookupMap.GroupLayer):K.wmtsInfo?.url&&K.wmtsInfo.layerIdentifier?I=e.layerLookupMap.WMTSLayer:"WFS"===Z&&"2.0.0"!==K.wfsInfo?.version&&(I=e.layerLookupMap.UnsupportedLayer);return I()}function c(K){return"ArcGISFeatureLayer"!==K.layerType||h(K)?!1:1<(K.featureCollection?.layers?.length??
0)}function h(K){return"Feature Collection"===K.type}async function t(K,I,P){const T=new b;I=l(T,Array.isArray(I.layers)?I.layers:[],P);try{try{if(await I,"group"===K.type)return K.layers.addMany(T),K}catch(Z){K.destroy();for(const J of T)J.destroy();throw Z;}}catch(Z){throw Z;}}function v(K,I,P){I.itemId&&(K.portalItem=new k({id:I.itemId,portal:P?.portal}),K.when(()=>{const T=Z=>{var J=Z.layerId;z(Z,K,I,J,P);(J=I.featureCollection?.layers?.[J])&&Z.read(J,P)};K.layers?.forEach(T);K.tables?.forEach(T)}))}
async function w(K,I,P){const T=await (0,e.layerLookupMap.FeatureLayer)();var Z=I.featureCollection;const J=Z?.showLegend;Z=Z?.layers?.map((Q,N)=>{const V=new T;V.read(Q,P);Q={...P,ignoreDefaults:!0};z(V,K,I,N,Q);null!=J&&V.read({showLegend:J},Q);return V});K.layers.addMany(Z??[])}function z(K,I,P,T,Z){K.read({id:`${I.id}-sublayer-${T}`,visibility:P.visibleLayers?.includes(T)??!0},Z)}const y={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",
ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",
WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},r={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},x={ArcGISFeatureLayer:"FeatureLayer"},B={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",
ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",DefaultTileLayer:"TileLayer"},A={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",
BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},E={ArcGISFeatureLayer:"FeatureLayer"},F={ArcGISImageServiceLayer:"ImageryLayer",
ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"},L={...A,LinkChartLayer:"LinkChartLayer"},D={...E},M={...F};a.populateGroupLayer=t;a.populateOperationalLayers=
l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/LayerLoadContext":function(){define(["exports","../../support/requestPresets"],function(a,b){class d{constructor(){this._serviceMetadatas=new Map}async fetchServiceMetadata(f,e){const k=this._serviceMetadatas.get(f);if(k)return k;e=await b.fetchArcGISServiceJSON(f,e);this._serviceMetadatas.set(f,e);return e}}a.LayerLoadContext=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestPresets":function(){define(["exports",
"../request"],function(a,b){a.fetchArcGISServiceJSON=async function(d,f){({data:d}=await b(d,{responseType:"json",query:{f:"json",...f?.customParameters,token:f?.apiKey}}));return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/lazyLayerLoader":function(){define(["require","exports"],function(a,b){const d=f=>Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"}));b.layerLookupMap={BingMapsLayer:async()=>(await new Promise((f,
e)=>a(["../BingMapsLayer"],k=>f(d(k)),e))).default,BuildingSceneLayer:async()=>(await new Promise((f,e)=>a(["../BuildingSceneLayer"],k=>f(d(k)),e))).default,CSVLayer:async()=>(await new Promise((f,e)=>a(["../CSVLayer"],k=>f(d(k)),e))).default,DimensionLayer:async()=>(await new Promise((f,e)=>a(["../DimensionLayer"],k=>f(d(k)),e))).default,ElevationLayer:async()=>(await new Promise((f,e)=>a(["../ElevationLayer"],k=>f(d(k)),e))).default,FeatureLayer:async()=>(await new Promise((f,e)=>a(["../FeatureLayer"],
k=>f(d(k)),e))).default,GeoJSONLayer:async()=>(await new Promise((f,e)=>a(["../GeoJSONLayer"],k=>f(d(k)),e))).default,GeoRSSLayer:async()=>(await new Promise((f,e)=>a(["../GeoRSSLayer"],k=>f(d(k)),e))).default,GroupLayer:async()=>(await new Promise((f,e)=>a(["../GroupLayer"],k=>f(d(k)),e))).default,ImageryLayer:async()=>(await new Promise((f,e)=>a(["../ImageryLayer"],k=>f(d(k)),e))).default,ImageryTileLayer:async()=>(await new Promise((f,e)=>a(["../ImageryTileLayer"],k=>f(d(k)),e))).default,IntegratedMeshLayer:async()=>
(await new Promise((f,e)=>a(["../IntegratedMeshLayer"],k=>f(d(k)),e))).default,KMLLayer:async()=>(await new Promise((f,e)=>a(["../KMLLayer"],k=>f(d(k)),e))).default,LineOfSightLayer:async()=>(await new Promise((f,e)=>a(["../LineOfSightLayer"],k=>f(d(k)),e))).default,LinkChartLayer:async()=>(await new Promise((f,e)=>a(["../LinkChartLayer"],k=>f(d(k)),e))).default,MapImageLayer:async()=>(await new Promise((f,e)=>a(["../MapImageLayer"],k=>f(d(k)),e))).default,MapNotesLayer:async()=>(await new Promise((f,
e)=>a(["../MapNotesLayer"],k=>f(d(k)),e))).default,MediaLayer:async()=>(await new Promise((f,e)=>a(["../MediaLayer"],k=>f(d(k)),e))).default,OGCFeatureLayer:async()=>(await new Promise((f,e)=>a(["../OGCFeatureLayer"],k=>f(d(k)),e))).default,OpenStreetMapLayer:async()=>(await new Promise((f,e)=>a(["../OpenStreetMapLayer"],k=>f(d(k)),e))).default,OrientedImageryLayer:async()=>(await new Promise((f,e)=>a(["../OrientedImageryLayer"],k=>f(d(k)),e))).default,PointCloudLayer:async()=>(await new Promise((f,
e)=>a(["../PointCloudLayer"],k=>f(d(k)),e))).default,RouteLayer:async()=>(await new Promise((f,e)=>a(["../RouteLayer"],k=>f(d(k)),e))).default,SceneLayer:async()=>(await new Promise((f,e)=>a(["../SceneLayer"],k=>f(d(k)),e))).default,StreamLayer:async()=>(await new Promise((f,e)=>a(["../StreamLayer"],k=>f(d(k)),e))).default,SubtypeGroupLayer:async()=>(await new Promise((f,e)=>a(["../SubtypeGroupLayer"],k=>f(d(k)),e))).default,TileLayer:async()=>(await new Promise((f,e)=>a(["../TileLayer"],k=>f(d(k)),
e))).default,UnknownLayer:async()=>(await new Promise((f,e)=>a(["../UnknownLayer"],k=>f(d(k)),e))).default,UnsupportedLayer:async()=>(await new Promise((f,e)=>a(["../UnsupportedLayer"],k=>f(d(k)),e))).default,VectorTileLayer:async()=>(await new Promise((f,e)=>a(["../VectorTileLayer"],k=>f(d(k)),e))).default,VoxelLayer:async()=>(await new Promise((f,e)=>a(["../VoxelLayer"],k=>f(d(k)),e))).default,WFSLayer:async()=>(await new Promise((f,e)=>a(["../WFSLayer"],k=>f(d(k)),e))).default,WMSLayer:async()=>
(await new Promise((f,e)=>a(["../WMSLayer"],k=>f(d(k)),e))).default,WMTSLayer:async()=>(await new Promise((f,e)=>a(["../WMTSLayer"],k=>f(d(k)),e))).default,WebTileLayer:async()=>(await new Promise((f,e)=>a(["../WebTileLayer"],k=>f(d(k)),e))).default};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/featureCollectionUtils":function(){define(["exports"],function(a){function b(d,f){return d.layerType&&"ArcGISFeatureLayer"===d.layerType?d.featureCollectionType===f?
!0:!1:!1}a.isMapNotesLayer=function(d){return b(d,"notes")};a.isMarkupLayer=function(d){return b(d,"markup")};a.isRouteLayer=function(d){return b(d,"route")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalLayers":function(){define("exports ../../core/Error ../../layers/support/associatedFeatureServiceUtils ../../layers/support/LayerLoadContext ../../layers/support/layerUtils ../../layers/support/lazyLayerLoader ../PortalItem ./loadUtils ./portalItemUtils".split(" "),
function(a,b,d,f,e,k,q,g,p){async function l(r){await r.load();const x=new f.LayerLoadContext;r=await n(r,x);return u(r)}async function n(r,x){switch(r.type){case "Map Service":return m(r,x);case "Feature Service":return c(r,x);case "Feature Collection":return t(r);case "Scene Service":return h(r,x);case "Image Service":return v(r,x);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};case "GeoJson":return{className:"GeoJSONLayer"};
case "CSV":return{className:"CSVLayer"};case "KML":return{className:"KMLLayer"};case "WFS":return{className:"WFSLayer"};case "WMTS":return{className:"WMTSLayer"};case "WMS":return{className:"WMSLayer"};case "Feed":return{className:"StreamLayer"};case "Group Layer":return{className:"GroupLayer"};default:throw new b("portal:unknown-item-type","Unknown item type '${type}'",{type:r.type});}}async function u(r){return{constructor:await (0,k.layerLookupMap[r.className])(),properties:r.properties}}async function m(r,
x){return await w(r,x)?{className:"TileLayer"}:{className:"MapImageLayer"}}async function c(r,x){r=await z(r,x);return"object"===typeof r?(x={},null!=r.id&&(x.layerId=r.id),{className:r.className||"FeatureLayer",properties:x}):{className:"GroupLayer"}}async function h(r,x){var B=await z(r,x,async()=>{try{if(!r.url)return[];const {serverUrl:A}=await d.findAssociatedFeatureService(r.url,{sceneLayerItem:r});return(await x.fetchServiceMetadata(A))?.tables??[]}catch{return[]}});if("object"===typeof B){const A=
{};let E=void 0;null!=B.id?(A.layerId=B.id,E=`${r.url}/layers/${B.id}`):E=r.url;if(r.typeKeywords?.length)for(const F of Object.keys(e.sceneServiceLayerTypeToClassName))if(r.typeKeywords.includes(F))return{className:e.sceneServiceLayerTypeToClassName[F]};B=await x.fetchServiceMetadata(E);return{className:e.sceneServiceLayerTypeToClassName[B?.layerType]||"SceneLayer",properties:A}}return!1===B&&"Voxel"===(await x.fetchServiceMetadata(r.url))?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"}}
async function t(r){await r.load();const x=p.hasTypeKeyword(r,"Map Notes"),B=p.hasTypeKeyword(r,"Markup");if(x||B)return{className:"MapNotesLayer"};if(p.hasTypeKeyword(r,"Route Layer"))return{className:"RouteLayer"};r=await r.fetchData();return 1===g.getNumLayersAndTables(r)?{className:"FeatureLayer"}:{className:"GroupLayer"}}async function v(r,x){await r.load();var B=r.typeKeywords?.map(A=>A.toLowerCase())??[];if(B.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(B.includes("tiled imagery"))return{className:"ImageryTileLayer"};
B=(await r.fetchData())?.layerType;if("ArcGISTiledImageServiceLayer"===B)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===B)return{className:"ImageryLayer"};x=await x.fetchServiceMetadata(r.url);r=x.cacheType?.toLowerCase();x=x.capabilities?.toLowerCase().includes("tilesonly");return"map"===r||x?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}async function w(r,x){return(await x.fetchServiceMetadata(r.url)).tileInfo}async function z(r,x,B){const A=r.url;if(!A||/\/\d+$/.test(A))return{};
await r.load();let E=await r.fetchData();if("Feature Service"===r.type)return x=await g.preprocessFSItemData(E,A,x),B=y(x),"object"===typeof B&&(r=g.getSubtypeGroupLayerIds(x),x=g.getOrientedImageryLayerIds(x),B.className=null!=B.id&&r.includes(B.id)?"SubtypeGroupLayer":null!=B.id&&x?.includes(B.id)?"OrientedImageryLayer":"FeatureLayer"),B;"Scene Service"===r.type&&(E=await g.populateSceneServiceItemData(r,E,x));if(0<g.getNumLayersAndTables(E))return y(E);r=await x.fetchServiceMetadata(A);B&&(r.tables=
await B());return y(r)}function y(r){return 1===g.getNumLayersAndTables(r)?{id:g.getFirstLayerOrTableId(r)}:!1}a.fromItem=async function(r){!r.portalItem||r.portalItem instanceof q||(r={...r,portalItem:new q(r.portalItem)});const x=await l(r.portalItem);return new x.constructor({portalItem:r.portalItem,...x.properties})};a.selectLayerClassPath=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/associatedFeatureServiceUtils":function(){define("exports ../../kernel ../../request ../../core/Error ../../core/promiseUtils ./arcgisLayerUrl ../../portal/Portal ../../portal/PortalItem".split(" "),
function(a,b,d,f,e,k,q,g){async function p(c){var h=(await l(c)).serviceItemId;if(!h)return null;h=new g({id:h,apiKey:c.apiKey});const t=await n(c);null!=t&&(h.portal=new q({url:t}));try{return h.load({signal:c.signal})}catch(v){return e.throwIfAbortError(v),null}}async function l(c){if(c.rootDocument)return c.rootDocument;const h={query:{f:"json",token:c.apiKey},responseType:"json",signal:c.signal};try{const t=await d(c.sceneServerUrl,h);c.rootDocument=t.data}catch{c.rootDocument={}}return c.rootDocument}
async function n(c){var h=b.id?.findServerInfo(c.sceneServerUrl);if(h?.owningSystemUrl)return h.owningSystemUrl;h=c.sceneServerUrl.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const t=(await d(h,{query:{f:"json"},responseType:"json",signal:c.signal})).data.owningSystemUrl;if(t)return t}catch(t){e.throwIfAbortError(t)}return null}async function u(c,h){c=k.parse(c);if(!c)throw new f("invalid-feature-service-url","Invalid feature service url");const t=c.url.path;c=h.layerId;if(null==c)return{serverUrl:t};
var v=l(h);const w=x=>d(t,{query:{f:"json"},responseType:"json",authMode:x,signal:h.signal});var z=w("anonymous").catch(()=>w("no-prompt"));const [y,r]=await Promise.all([z,v]);v=r?.layers;z=y.data&&y.data.layers;if(!Array.isArray(z))throw Error("expected layers array");if(!Array.isArray(v)){if(null!=c&&c<z.length)return{serverUrl:t,layerId:z[c].id}}else for(let x=0;x<Math.min(v.length,z.length);x++)if(v[x].id===c)return{serverUrl:t,layerId:z[x].id};throw Error("could not find matching associated sublayer");
}async function m({sceneLayerItem:c,signal:h}){if(!c)return null;try{const t=(await c.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:h})).find(w=>"Feature Service"===w.type)||null;if(!t)return null;const v=new g({portal:t.portal,id:t.id});await v.load();return v}catch(t){return e.throwIfAbortError(t),null}}a.findAssociatedFeatureService=async function(c,h){c=k.parse(c);if(!c)throw new f("invalid-url","Invalid scene service url");c={...h,sceneServerUrl:c.url.path,
layerId:c.sublayer??void 0};c.sceneLayerItem??(c.sceneLayerItem=await p(c));if(null==c.sceneLayerItem)return u(c.sceneServerUrl.replace("/SceneServer","/FeatureServer"),c);h=await m(c);if(!h?.url)throw new f("related-service-not-found","Could not find feature service through portal item relationship");c=await u(h.url,c);c.portalItem=h;return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/arcgisLayerUrl":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],
function(a,b,d){function f(u){if(null==u)return null;u=b.urlToObject(u);u=u?.path.match(p)||u?.path.match(l);if(!u)return null;const [,m,c,h,t]=u;u=c.indexOf("/");return{title:k(-1!==u?c.slice(u+1):c),serverType:q[h.toLowerCase()],sublayer:null!=t&&""!==t?parseInt(t,10):null,url:{path:m}}}function e(u){return(u=b.urlToObject(u).path.match(n))?{serviceUrl:u[1],sublayerId:Number(u[2])}:null}function k(u){u=u.replaceAll(/\s*[/_]+\s*/g," ");return u[0].toUpperCase()+u.slice(1)}const q={mapserver:"MapServer",
imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},g=Object.values(q),p=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${g.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${g.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),n=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;a.cleanTitle=k;a.isArcGISUrl=function(u){return!!p.test(u)};a.isHostedAgolService=
function(u){if(!u)return!1;u=u.toLowerCase();const m=u.includes(".arcgis.com/");u=u.includes("//services")||u.includes("//tiles")||u.includes("//features");return m&&u};a.isServerOrServicesAGOLUrl=function(u){if(!u)return!1;u=(new b.Url(b.makeAbsolute(u))).authority?.toLowerCase();return"server.arcgisonline.com"===u||"services.arcgisonline.com"===u};a.isWmsServer=function(u){if(!u)return!1;var m=u.toLowerCase();u=m.includes("/services/");const c=m.includes("/mapserver/wmsserver"),h=m.includes("/imageserver/wmsserver");
m=m.includes("/wmsserver");return u&&(c||h||m)};a.parse=f;a.parseNonStandardSublayerUrl=e;a.sanitizeUrl=function(u,m){return u?b.removeTrailingSlash(b.removeQueryParameters(u,m)):u};a.sanitizeUrlWithLayerId=function(u){let {url:m}=u;if(!m)return{url:m};m=b.removeQueryParameters(m,u.logger);const c=b.urlToObject(m),h=f(c.path);let t=void 0;null!=h?(null!=h.sublayer&&null==u.layer.layerId&&(t=h.sublayer),m=h.url.path):u.nonStandardUrlAllowed&&(u=e(c.path),null!=u&&(m=u.serviceUrl,t=u.sublayerId));return{url:b.removeTrailingSlash(m),
layerId:t}};a.serverTypes=g;a.titleFromUrlAndName=function(u,m){const c=[];u&&(u=f(u),null!=u&&u.title&&c.push(u.title));m&&(m=k(m),c.push(m));if(2===c.length){if(c[0].toLowerCase().includes(c[1].toLowerCase()))return c[0];if(c[1].toLowerCase().includes(c[0].toLowerCase()))return c[1]}return c.join(" - ")};a.writeUrlWithLayerId=function(u,m,c,h,t){d.write(m,h,"url",t);h.url&&null!=u.layerId&&(h.url=b.join(h.url,c,u.layerId.toString()))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/portal/support/loadUtils":function(){define(["exports","../../layers/support/associatedFeatureServiceUtils"],function(a,b){function d(f){const e={id:f.id,name:f.name};"Oriented Imagery Layer"===f.type&&(e.layerType="OrientedImageryLayer");return e}a.createSublayerData=d;a.getFirstLayerOrTableId=function(f){const e=f.layers;if(e?.length)return e[0].id;f=f.tables;return f?.length?f[0].id:null};a.getNumLayersAndTables=function(f){return(f?.layers?.length??0)+(f?.tables?.length??0)};a.getOrientedImageryLayerIds=
function(f){return f?.layers?.filter(({layerType:e})=>"OrientedImageryLayer"===e).map(({id:e})=>e)};a.getSubtypeGroupLayerIds=function(f){const e=[];f?.layers?.forEach(k=>{"SubtypeGroupLayer"===k.layerType&&e.push(k.id)});return e};a.populateSceneServiceItemData=async function(f,e,k){if(!f?.url)return e??{};e??(e={});if(!e.layers){const p=await k.fetchServiceMetadata(f.url);e.layers=p.layers?.map(d)}const {serverUrl:q,portalItem:g}=await b.findAssociatedFeatureService(f.url,{sceneLayerItem:f}).catch(()=>
({serverUrl:null,portalItem:null}));if(null==q)return e.tables=[],e;!e.tables&&g&&(f=await g.fetchData(),f?.tables?e.tables=f.tables.map(d):(k=await k.fetchServiceMetadata(q),e.tables=k?.tables?.map(d)));if(e.tables)for(const p of e.tables)p.url=`${q}/${p.id}`;return e};a.preprocessFSItemData=async function(f,e,k){if(null==f?.layers||null==f?.tables)e=await k.fetchServiceMetadata(e),f=f||{},f.layers=f.layers||e?.layers?.map(d),f.tables=f.tables||e?.tables?.map(d);return f};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/styleUtils":function(){define(["exports","../../core/asyncUtils","../../core/promiseUtils","../../core/Warning"],function(a,b,d,f){a.loadStyleRenderer=async function(e,k,q){var g=e&&e.getAtOrigin&&e.getAtOrigin("renderer",k.origin);g&&"unique-value"===g.type&&g.styleOrigin&&(g=await b.result(g.populateFromStyle()),d.throwIfAborted(q),!1===g.ok&&(q=g.error,k?.messages&&k.messages.push(new f("renderer:style-reference",`Failed to create unique value renderer from style reference: ${q.message}`,
{error:q,context:k})),e.clear("renderer",k?.origin)))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/FeatureLayer":function(){define("require ../chunks/tslib.es6 ../PopupTemplate ../renderers/ClassBreaksRenderer ../renderers/DictionaryRenderer ../renderers/DotDensityRenderer ../renderers/HeatmapRenderer ../renderers/PieChartRenderer ../renderers/Renderer ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/support/jsonUtils ../renderers/support/types ../request ../symbols ../core/Clonable ../core/Collection ../core/Error ../core/lang ../core/Logger ../core/MultiOriginJSONSupport ../core/object ../core/promiseUtils ../core/sql ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/layerContainerType ../form/FormTemplate ../geometry/SpatialReference ./Layer ./graphics/sources/MemorySource ./mixins/APIKeyMixin ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/EditBusLayer ./mixins/FeatureEffectLayer ./mixins/FeatureLayerBase ./mixins/FeatureReductionLayer ./mixins/OperationalLayer ./mixins/OrderedLayer ./mixins/PortalLayer ./mixins/PublishableLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/arcgisLayerUrl ./support/commonProperties ./support/featureLayerUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/fieldUtils ./support/LabelClass ./support/labelingInfo ./support/serviceCapabilitiesUtils ./support/TimeInfo ./support/versionUtils ./support/source/DataLayerSource ../renderers/support/styleUtils ../rest/support/FeatureSet ../rest/support/Query ../rest/support/TopFeaturesQuery ../support/popupUtils ../webdoc/interfaces ../webdoc/support/opacityUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B,A,E,F,L,D,M,K,I,P,T,Z,J,Q,N,V,U,sa,za,Fa,Da,va,W,ba,fa,Ba,Ja,G,S,ja,pa,Aa,Y,da,ma,R,H,X,ia,ta,Ca,ha,na,ra,Ia,aa,ka,xa){function ua(la,qa){return new w("layer:unsupported",`Layer (${la.title}, ${la.id}) of type '${la.declaredClass}' ${qa}`,{layer:la})}function Ea(la,qa,Ka){la=!!Ka?.writeLayerSchema;return{enabled:la,ignoreOrigin:la}}const Ma=y.getLogger("esri.layers.FeatureLayer");f=da.defineFieldProperties();t=class extends Fa.FeatureLayerBase(Da.FeatureReductionLayer(za.FeatureEffectLayer(fa.PublishableLayer(sa.EditBusLayer(V.BlendLayer(W.OrderedLayer(G.TemporalLayer(Ja.ScaleRangeLayer(Ba.RefreshableLayer(N.ArcGISService(va.OperationalLayer(ba.PortalLayer(r.MultiOriginJSONMixin(U.CustomParametersMixin(Q.APIKeyMixin(t.ClonableMixin(Z))))))))))))))))){constructor(...la){super(...la);
this.geometryType=this.fullExtent=this.formTemplate=this.fieldsIndex=this.fields=this.dynamicDataSource=this.displayField=this.copyright=this.charts=null;this.hasZ=this.hasM=void 0;this.infoFor3D=null;this.isTable=!1;this.labelsVisible=!0;this.labelingInfo=null;this.legendEnabled=!0;this.path=this.outFields=this.objectIdField=null;this.popupEnabled=!0;this.resourceInfo=this.popupTemplate=null;this.screenSizePerspectiveEnabled=!0;this.spatialReference=T.WGS84;this.title=this.timeInfo=this.templates=
this.subtypeCode=null;this.sublayerTitleMode="item-title";this.type="feature";this.types=this.typeIdField=null;this.visible=!0;this._debouncedSaveOperations=B.debounce(async(qa,Ka,Qa)=>{const {save:Ta,saveAs:Ya}=await new Promise((ab,db)=>a(["./save/featureLayerUtils"],ab,db));switch(qa){case ka.SaveOperationType.SAVE:return Ta(this,Ka);case ka.SaveOperationType.SAVE_AS:return Ya(this,Qa,Ka)}})}destroy(){this.source?.destroy()}normalizeCtorArgs(la,qa){return"string"===typeof la?{url:la,...qa}:la}load(la){const qa=
null!=la?la.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(qa).then(Qa=>this.initLayerProperties(Qa))),Promise.resolve(this);const Ka=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},la).catch(B.throwIfAbortError).then(async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){const Qa=await this._fetchFirstValidLayerId(qa);null!=Qa&&(this.layerId=Qa)}if(!this.url&&
!this._hasMemorySource())throw new w("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(qa))}).then(()=>pa.ensureLayerCredential(this,"load",la));this.addResolvingPromise(Ka);return Promise.resolve(this)}readCapabilities(la,qa){qa=qa.layerDefinition||qa;return X.getFeatureLayerCapabilities(qa,this.url)}get createQueryVersion(){this.commitProperty("definitionExpression");this.commitProperty("dynamicDataSource");
this.commitProperty("timeExtent");this.commitProperty("timeOffset");this.commitProperty("geometryType");this.commitProperty("gdbVersion");this.commitProperty("historicMoment");this.commitProperty("returnZ");this.commitProperty("capabilities");this.commitProperty("returnM");return(this._get("createQueryVersion")??0)+1}get editingEnabled(){return this.loaded&&!this.capabilities?.operations.supportsEditing?!1:this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges}set editingEnabled(la){this._overrideIfSome("editingEnabled",
la)}readEditingEnabled(la,qa){return this._readEditingEnabled(qa,!1)}readEditingEnabledFromWebMap(la,qa,Ka){return this._readEditingEnabled(qa,!0,Ka)}writeEditingEnabled(la,qa){this._writeEditingEnabled(la,qa,!1)}writeEditingEnabledToWebMap(la,qa,Ka,Qa){this._writeEditingEnabled(la,qa,!0,Qa)}get effectiveEditingEnabled(){return pa.computeEffectiveEditingEnabled(this)}readIsTable(la,qa){qa=qa?.layerDefinition??qa;return"Table"===qa.type||!qa.geometryType}writeIsTable(la,qa,Ka,Qa){Qa?.writeLayerSchema&&
x.setDeepValue(Ka,la?"Table":"Feature Layer",qa)}readGlobalIdField(la,qa){return pa.readGlobalIdField(qa.layerDefinition||qa)}readObjectIdField(la,qa){return pa.readObjectIdField(qa.layerDefinition||qa)}get parsedUrl(){const la=E.urlToObject(this.url);null!=la&&(null!=this.dynamicDataSource?la.path=E.join(la.path,"dynamicLayer"):null!=this.layerId&&(la.path=E.join(la.path,this.layerId.toString())));return la}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(la){ma.fixRendererFields(la,
this.fieldsIndex);this._set("renderer",la)}readRenderer(la,qa,Ka){qa=qa.layerDefinition||qa;return(la=qa.drawingInfo?.renderer)?((la=u.read(la,qa,Ka)??void 0)||Ma.error("Failed to create renderer",{rendererDefinition:qa.drawingInfo.renderer,layer:this,context:Ka}),la):pa.createDefaultRenderer(qa,Ka)}set source(la){const qa=this._get("source");qa!==la&&(qa&&qa instanceof v&&this._resetMemorySource(qa),la&&la instanceof v&&this._initMemorySource(la),this._set("source",la))}castSource(la){return la?
Array.isArray(la)||la instanceof v?new J.MemorySource({layer:this,items:la}):la:null}readSource(la,qa){la=na.fromJSON(qa.featureSet);return new J.MemorySource({layer:this,items:la?.features??[]})}readTemplates(la,qa){qa=qa.editFieldsInfo;const Ka=qa?.editorField;la=la?.map(Qa=>Aa.fromJSON(Qa));this._fixTemplates(la,qa?.creatorField);this._fixTemplates(la,Ka);return la}readTitle(la,qa){la=qa.layerDefinition?.name??qa.name;qa=qa.title||qa.layerDefinition?.title;if(la){qa=this.portalItem?.title;if("item-title"===
this.sublayerTitleMode)return this.url?S.titleFromUrlAndName(this.url,la):la;if(!la&&this.url){const Ka=S.parse(this.url);null!=Ka&&(la=Ka.title)}if(!la)return;"item-title-and-service-name"===this.sublayerTitleMode&&qa&&qa!==la&&(la=qa+" - "+la);return S.cleanTitle(la)}if("item-title"===this.sublayerTitleMode&&qa)return qa}readTitleFromWebMap(la,qa){return qa.title||qa.layerDefinition?.name}readTypeIdField(la,qa){qa=qa.layerDefinition||qa;let Ka=qa.typeIdField;Ka&&qa.fields&&(Ka=Ka.toLowerCase(),
la=qa.fields.find(Qa=>Qa.name.toLowerCase()===Ka))&&(Ka=la.name);return Ka}readTypes(la,qa){qa=qa.layerDefinition||qa;la=qa.types;qa=qa.editFieldsInfo;const Ka=qa?.creatorField,Qa=qa?.editorField;return la?.map(Ta=>{Ta=Y.fromJSON(Ta);this._fixTemplates(Ta.templates,Ka);this._fixTemplates(Ta.templates,Qa);return Ta})}readVisible(la,qa){if(null!=qa.layerDefinition?.defaultVisibility)return!!qa.layerDefinition.defaultVisibility;if(null!=qa.visibility)return!!qa.visibility}async addAttachment(la,qa){return pa.addAttachment(this,
la,qa,"FeatureLayer")}async updateAttachment(la,qa,Ka){return pa.updateAttachment(this,la,qa,Ka,"FeatureLayer")}async applyEdits(la,qa){return pa.applyEdits(this,la,qa)}async uploadAssets(la,qa){return pa.uploadAssets(this,la,qa)}on(la,qa){return super.on(la,qa)}createPopupTemplate(la){return aa.createPopupTemplate(this,la)}async createGraphicsSource(la){if(this._hasMemorySource()&&this.source)return this.source.load({signal:la});const {default:qa}=await B.whenOrAbort(new Promise((Ka,Qa)=>a(["./graphics/sources/FeatureLayerSource"],
Ta=>Ka(Object.freeze(Object.defineProperty({__proto__:null,default:Ta},Symbol.toStringTag,{value:"Module"}))),Qa)),la);return(new qa({layer:this})).load({signal:la})}createQuery(){const la=pa.createQuery(this);la.dynamicDataSource=this.dynamicDataSource;const qa=A.sqlAnd(this.definitionExpression,null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:null);la.where=qa||"1\x3d1";return la}async deleteAttachments(la,qa){return pa.deleteAttachments(this,la,qa,"FeatureLayer")}async fetchRecomputedExtents(la){return pa.fetchRecomputedExtents(this,
la,"FeatureLayer")}getFeatureType(la){const {typeIdField:qa,types:Ka}=this;if(!qa||!la)return null;const Qa=la.attributes?la.attributes[qa]:void 0;if(null==Qa)return null;let Ta=null;Ka?.some(Ya=>{const {id:ab}=Ya;if(null==ab)return!1;ab.toString()===Qa.toString()&&(Ta=Ya);return!!Ta});return Ta}getFieldDomain(la,qa){return(qa=this.getFeatureType(qa?.feature))&&(qa=qa.domains&&qa.domains[la])&&"inherited"!==qa.type?qa:this._getLayerDomain(la)}getField(la){return this.fieldsIndex.get(la)}async queryAttachments(la,
qa){return pa.queryAttachments(this,la,qa,"FeatureLayer")}async queryFeatures(la,qa){const Ka=await this.load();la=await Ka.source.queryFeatures(ra.from(la)??Ka.createQuery(),qa);if(la?.features)for(const Qa of la.features)Qa.layer=Qa.sourceLayer=Ka;return la}async queryObjectIds(la,qa){return pa.queryObjectIds(this,la,qa,"FeatureLayer")}async queryFeatureCount(la,qa){return pa.queryFeatureCount(this,la,qa,"FeatureLayer")}async queryExtent(la,qa){return pa.queryExtent(this,la,qa,"FeatureLayer")}async queryRelatedFeatures(la,
qa){return pa.queryRelatedFeatures(this,la,qa,"FeatureLayer")}async queryRelatedFeaturesCount(la,qa){return pa.queryRelatedFeaturesCount(this,la,qa,"FeatureLayer")}async queryTopFeatures(la,qa){const {source:Ka,capabilities:Qa}=await this.load();if(!Ka.queryTopFeatures||!Qa?.query?.supportsTopFeaturesQuery)throw new w("FeatureLayer","Layer source does not support queryTopFeatures capability");la=await Ka.queryTopFeatures(Ia.from(la),qa);if(la?.features)for(const Ta of la.features)Ta.layer=Ta.sourceLayer=
this;return la}async queryTopObjectIds(la,qa){const {source:Ka,capabilities:Qa}=await this.load();if(!Ka.queryTopObjectIds||!Qa?.query.supportsTopFeaturesQuery)throw new w("FeatureLayer","Layer source does not support queryTopObjectIds capability");return Ka.queryTopObjectIds(Ia.from(la),qa)}async queryTopFeaturesExtent(la,qa){const {source:Ka,capabilities:Qa}=await this.load();if(!Ka.queryTopExtents||!Qa?.query?.supportsTopFeaturesQuery)throw new w("FeatureLayer","Layer source does not support queryTopExtents capability");
return Ka.queryTopExtents(Ia.from(la),qa)}async queryTopFeatureCount(la,qa){const {source:Ka,capabilities:Qa}=await this.load();if(!Ka.queryTopCount||!Qa?.query?.supportsTopFeaturesQuery)throw new w("FeatureLayer","Layer source does not support queryFeatureCount capability");return Ka.queryTopCount(Ia.from(la),qa)}read(la,qa){const Ka=la.featureCollection;if(Ka){this.resourceInfo=la;const Qa=Ka.layers;Qa&&1===Qa.length&&(super.read(Qa[0],qa),null!=Ka.showLegend&&super.read({showLegend:Ka.showLegend},
qa))}super.read(la,qa);qa&&"service"===qa.origin&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(la,qa){qa={...qa,origin:qa?.origin??void 0,writeLayerSchema:qa?.writeLayerSchema??this._hasMemorySource()};const {origin:Ka,layerContainerType:Qa,messages:Ta}=qa;if(this.dynamicDataSource)return Ta?.push(ua(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),
null;if(this.isTable){if(("web-map"===Ka||"web-scene"===Ka)&&"tables"!==Qa)return Ta?.push(ua(this,`a table source can only be written to tables, not ${Qa}`)),null;if(this._hasMemorySource())return Ta?.push(ua(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&("web-map"===Ka||"web-scene"===Ka)&&"tables"===Qa)return Ta?.push(ua(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(la,
qa)}clone(){if(this._hasMemorySource())throw new w("FeatureLayer",`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(la){return this.loaded?"memory"===this.source?.type?!0:ta.serviceSupportsSpatialReference(this,la):!1}async save(la){return this._debouncedSaveOperations(ka.SaveOperationType.SAVE,la)}async saveAs(la,qa){return this._debouncedSaveOperations(ka.SaveOperationType.SAVE_AS,qa,la)}_readEditingEnabled(la,
qa,Ka){let Qa=la.layerDefinition?.capabilities;if(Qa)return this._hasEditingCapability(Qa);Qa=la.capabilities;if(qa&&"web-map"===Ka?.origin&&!this._hasMemorySource()&&Qa)return this._hasEditingCapability(Qa)}_hasEditingCapability(la){return la.toLowerCase().split(",").map(qa=>qa.trim()).includes("editing")}_writeEditingEnabled(la,qa,Ka,Qa){la||(la=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query",x.setDeepValue("layerDefinition.capabilities",la,qa),Ka&&!Qa?.writeLayerSchema&&(qa.capabilities=
la))}_getLayerDomain(la){return(la=this.fieldsIndex.get(la))?la.domain:null}_fetchFirstValidLayerId(la){return c(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:la}).then(qa=>{if(qa=qa.data)return this.findFirstValidLayerId(qa)})}async initLayerProperties(la){this._set("source",la);la.sourceJSON&&(this.sourceJSON=la.sourceJSON,this.read(la.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}));this._verifySource();
this._verifyFields();ma.fixRendererFields(this.renderer,this.fieldsIndex);ma.fixTimeInfoFields(this.timeInfo,this.fieldsIndex);return ha.loadStyleRenderer(this,{origin:"service"})}async hasDataChanged(){return pa.hasDataChanged(this)}async fetchPublishingStatus(){const la=this.source;return la?.fetchPublishingStatus?la.fetchPublishingStatus():"unavailable"}_verifyFields(){const la=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+
la+")");this.isTable||this._hasMemorySource()||-1!==la.search(/\/FeatureServer\//i)||this.fields?.some(qa=>"geometry"===qa.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+la+")")}_fixTemplates(la,qa){la&&la.forEach(Ka=>{(Ka=Ka.prototype?.attributes)&&qa&&delete Ka[qa]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new w("feature-layer:mixed-source-and-url",
"FeatureLayer cannot be created with both an in-memory source and a url");}else if(!this.url)throw new w("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");}_initMemorySource(la){la.forEach(qa=>{qa.layer=this;qa.sourceLayer=this});this.addHandles([la.on("after-add",qa=>{qa.item.layer=this;qa.item.sourceLayer=this}),la.on("after-remove",qa=>{qa.item.layer=null;qa.item.sourceLayer=null})],"fl-source")}_resetMemorySource(la){la.forEach(qa=>{qa.layer=
null;qa.sourceLayer=null});this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(la){if(Array.isArray(la.layers)&&0<la.layers.length)return la.layers[0].id;if(Array.isArray(la.tables)&&0<la.tables.length)return la.tables[0].id}};b.__decorate([D.reader("service","capabilities")],t.prototype,"readCapabilities",null);b.__decorate([F.property({json:{origins:{"web-scene":{write:!1}},write:!0}})],t.prototype,"charts",void 0);b.__decorate([F.property({readOnly:!0})],
t.prototype,"createQueryVersion",null);b.__decorate([F.property({json:{read:{source:"layerDefinition.copyrightText"}}})],t.prototype,"copyright",void 0);b.__decorate([F.property({json:{read:{source:"layerDefinition.displayField"}}})],t.prototype,"displayField",void 0);b.__decorate([F.property({types:h.symbolTypes,readOnly:!0})],t.prototype,"defaultSymbol",void 0);b.__decorate([F.property({type:Ca.DataLayerSource})],t.prototype,"dynamicDataSource",void 0);b.__decorate([F.property({type:Boolean})],
t.prototype,"editingEnabled",null);b.__decorate([D.reader(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],t.prototype,"readEditingEnabled",null);b.__decorate([D.reader("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],t.prototype,"readEditingEnabledFromWebMap",null);b.__decorate([K.writer(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],t.prototype,"writeEditingEnabled",null);b.__decorate([K.writer("web-map",
"editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],t.prototype,"writeEditingEnabledToWebMap",null);b.__decorate([F.property({readOnly:!0})],t.prototype,"effectiveEditingEnabled",null);b.__decorate([F.property({...f.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Ea}}}}})],t.prototype,"fields",void 0);b.__decorate([F.property(f.fieldsIndex)],t.prototype,"fieldsIndex",
void 0);b.__decorate([F.property({type:P,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"formTemplate",void 0);b.__decorate([F.property({json:{read:{source:"layerDefinition.extent"}}})],t.prototype,"fullExtent",void 0);b.__decorate([F.property({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Ea,writer(la,qa,Ka){(la=la?pa.geometryTypeKebabDict.toJSON(la):null)&&x.setDeepValue(Ka,la,qa)}}}},read:{source:"layerDefinition.geometryType",
reader:pa.geometryTypeKebabDict.read}}})],t.prototype,"geometryType",void 0);b.__decorate([F.property({json:{read:{source:"layerDefinition.hasM"}}})],t.prototype,"hasM",void 0);b.__decorate([F.property({json:{read:{source:"layerDefinition.hasZ"}}})],t.prototype,"hasZ",void 0);b.__decorate([F.property(ja.id)],t.prototype,"id",void 0);b.__decorate([F.property({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"infoFor3D",void 0);b.__decorate([F.property({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],
t.prototype,"isTable",void 0);b.__decorate([D.reader("service","isTable",["type","geometryType"]),D.reader("isTable",["layerDefinition.type","layerDefinition.geometryType"])],t.prototype,"readIsTable",null);b.__decorate([K.writer("web-map","isTable")],t.prototype,"writeIsTable",null);b.__decorate([F.property(ja.labelsVisible)],t.prototype,"labelsVisible",void 0);b.__decorate([F.property({type:[R],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:H.reader,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",
read:H.reader,write:{enabled:!0,layerContainerTypes:I.excludeTables}}},name:"layerDefinition.drawingInfo.labelingInfo",read:H.reader,write:!0}})],t.prototype,"labelingInfo",void 0);b.__decorate([F.property((()=>{const la=z.clone(ja.opacityDrawingInfo);la.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(qa,Ka,Qa){x.setDeepValue(Qa,xa.opacityToTransparency(qa),Ka)}}};return la})())],t.prototype,"opacity",void 0);b.__decorate([F.property(ja.legendEnabled)],
t.prototype,"legendEnabled",void 0);b.__decorate([F.property({type:["show","hide"],json:(()=>{const la=z.clone(ja.listMode.json);la.origins["portal-item"]={read:!1,write:!1};return la})()})],t.prototype,"listMode",void 0);b.__decorate([D.reader("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],t.prototype,"readGlobalIdField",null);b.__decorate([F.property({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Ea}}}}})],t.prototype,"objectIdField",
void 0);b.__decorate([D.reader("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],t.prototype,"readObjectIdField",null);b.__decorate([F.property({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],t.prototype,"operationalLayerType",void 0);b.__decorate([F.property(f.outFields)],t.prototype,"outFields",void 0);b.__decorate([F.property({readOnly:!0})],t.prototype,"parsedUrl",null);b.__decorate([F.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],
t.prototype,"path",void 0);b.__decorate([F.property(ja.popupEnabled)],t.prototype,"popupEnabled",void 0);b.__decorate([F.property({type:d,json:{name:"popupInfo",write:!0}})],t.prototype,"popupTemplate",void 0);b.__decorate([F.property({readOnly:!0})],t.prototype,"defaultPopupTemplate",null);b.__decorate([F.property({types:m.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:m.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",
write:{layerContainerTypes:I.excludeTables,overridePolicy(la,qa,Ka){return{ignoreOrigin:Ka?.writeLayerSchema}}}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy(la,qa,Ka){return{ignoreOrigin:Ka?.writeLayerSchema}}}}})],t.prototype,"renderer",null);b.__decorate([D.reader("service","renderer",["drawingInfo.renderer","defaultSymbol"]),D.reader("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],t.prototype,"readRenderer",null);b.__decorate([F.property()],
t.prototype,"resourceInfo",void 0);b.__decorate([F.property((()=>{const la=z.clone(ja.screenSizePerspectiveEnabled);la.json.origins["portal-item"]={read:!1,write:!1};return la})())],t.prototype,"screenSizePerspectiveEnabled",void 0);b.__decorate([F.property({clonable:!1})],t.prototype,"source",null);b.__decorate([L.cast("source")],t.prototype,"castSource",null);b.__decorate([D.reader("portal-item","source",["featureSet"]),D.reader("web-map","source",["featureSet"])],t.prototype,"readSource",null);
b.__decorate([F.property({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],t.prototype,"spatialReference",void 0);b.__decorate([F.property({type:Number})],t.prototype,"subtypeCode",void 0);b.__decorate([F.property({type:[Aa]})],t.prototype,"templates",void 0);b.__decorate([D.reader("templates",["editFieldsInfo","creatorField","editorField","templates"])],t.prototype,"readTemplates",null);b.__decorate([F.property({type:ia})],t.prototype,"timeInfo",void 0);b.__decorate([F.property()],
t.prototype,"title",void 0);b.__decorate([D.reader("service","title",["name"]),D.reader("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],t.prototype,"readTitle",null);b.__decorate([D.reader("web-map","title",["layerDefinition.name","title"])],t.prototype,"readTitleFromWebMap",null);b.__decorate([F.property({type:String})],t.prototype,"sublayerTitleMode",void 0);b.__decorate([F.property({json:{read:!1}})],t.prototype,"type",void 0);b.__decorate([F.property({type:String})],
t.prototype,"typeIdField",void 0);b.__decorate([D.reader("service","typeIdField"),D.reader("typeIdField",["layerDefinition.typeIdField"])],t.prototype,"readTypeIdField",null);b.__decorate([F.property({type:[Y]})],t.prototype,"types",void 0);b.__decorate([D.reader("service","types",["types"]),D.reader("types",["layerDefinition.types"])],t.prototype,"readTypes",null);b.__decorate([F.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],t.prototype,
"visible",void 0);b.__decorate([D.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],t.prototype,"readVisible",null);return t=b.__decorate([M.subclass("esri.layers.FeatureLayer")],t)})},"esri/PopupTemplate":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/AttachmentsContent ./popup/content/FieldsContent ./popup/content/ExpressionContent ./popup/content/RelationshipContent ./popup/content/Content ./popup/content/CustomContent".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B,A,E,F,L,D,M,K,I){const P=k.getLogger("esri.PopupTemplate");k=d.ofType({key:"type",defaultKeyValue:"button",base:r,typeMap:{button:x,toggle:B}});const T={base:K,key:"type",typeMap:{media:A,custom:I,text:E,attachments:F,fields:L,expression:D,relationship:M}},Z=new Set("attachments fields media text expression relationship".split(" "));b=class extends b.ClonableMixin(f.JSONSupport){constructor(){super(...arguments);this.actions=null;this.content=
"";this.layerOptions=this.fieldInfos=this.expressionInfos=null;this.lastEditInfoEnabled=!0;this.outFields=null;this.returnGeometry=this.overwriteActions=!1;this.title=""}castContent(J){if(Array.isArray(J))return J.map(Q=>m.ensureOneOfType(T,Q));if("string"===typeof J||"function"===typeof J||J instanceof HTMLElement||q.isPromiseLike(J))return J;P.error("content error","unsupported content value",{value:J});return null}readContent(J,Q){({popupElements:J}=Q);return Array.isArray(J)&&0<J.length?this._readPopupInfoElements(Q.description,
Q.mediaInfos,J):this._readPopupInfo(Q)}writeContent(J,Q,N,V){"string"===typeof J?Q.description=J:Array.isArray(J)&&(Q.popupElements=J.filter(U=>Z.has(U.type)).map(U=>U?.toJSON(V)),Q.popupElements.forEach(U=>{"attachments"===U.type?this._writeAttachmentContent(Q):"media"===U.type?this._writeMediaContent(U,Q):"text"===U.type?this._writeTextContent(U,Q):"relationship"===U.type&&this._writeRelationshipContent(U,Q)}))}writeFieldInfos(J,Q,N,V){({content:N}=this);N=Array.isArray(N)?N:null;if(J){const U=
N?N.filter(za=>"fields"===za.type):[],sa=U.length&&U.every(za=>za.fieldInfos?.length);Q.fieldInfos=J.filter(Boolean).map(za=>{za=za.toJSON(V);sa&&(za.visible=!1);return za})}if(N)for(const U of N)"fields"===U.type&&this._writeFieldsContent(U,Q)}writeLayerOptions(J,Q,N,V){Q[N]=!J||null===J.showNoDataRecords&&null===J.returnTopmostRaster?null:J.toJSON(V)}writeTitle(J,Q){Q.title=J||""}async collectRequiredFields(J,Q){const N=this.expressionInfos||[];await this._collectExpressionInfoFields(J,Q,[...N,
...this._getContentExpressionInfos(this.content,N)]);c.collectFields(J,Q,[...(this.outFields||[]),...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(J){const Q=new Set;await this.collectRequiredFields(Q,J);return[...Q].sort()}_writeFieldsContent(J,Q){Array.isArray(J.fieldInfos)&&J.fieldInfos.length&&(J=e.clone(J.fieldInfos),Array.isArray(Q.fieldInfos)?J.forEach(N=>{const V=Q.fieldInfos.find(U=>U.fieldName.toLowerCase()===
N.fieldName.toLowerCase());V?V.visible=!0:Q.fieldInfos.push(N)}):Q.fieldInfos=J)}_writeAttachmentContent(J){J.showAttachments||(J.showAttachments=!0)}_writeRelationshipContent(J,Q){var N=J.orderByFields?.map(V=>this._toFieldOrderJSON(V,J.relationshipId))||[];N=[...(Q.relatedRecordsInfo?.orderByFields||[]),...N];Q.relatedRecordsInfo={showRelatedRecords:!0,...(N?.length&&{orderByFields:N})}}_writeTextContent(J,Q){!Q.description&&J.text&&(Q.description=J.text)}_writeMediaContent(J,Q){Array.isArray(J.mediaInfos)&&
J.mediaInfos.length&&(J=e.clone(J.mediaInfos),Array.isArray(Q.mediaInfos)?Q.mediaInfos=[...Q.mediaInfos,...J]:Q.mediaInfos=J)}_readPopupInfoElements(J,Q,N){var V=!1,U=!1;return N.map(sa=>{if("media"===sa.type)return sa.mediaInfos||!Q||U||(sa.mediaInfos=Q,U=!0),A.fromJSON(sa);if("text"===sa.type)return sa.text||!J||V||(sa.text=J,V=!0),E.fromJSON(sa);if("attachments"===sa.type)return F.fromJSON(sa);if("fields"===sa.type)return L.fromJSON(sa);if("expression"===sa.type)return D.fromJSON(sa);if("relationship"===
sa.type)return M.fromJSON(sa)}).filter(Boolean)}_toRelationshipContent(J){const {field:Q,order:N}=J;if(!Q?.startsWith("relationships/"))return null;var V=Q.replace("relationships/","").split("/");if(2!==V.length)return null;J=parseInt(V[0],10);V=V[1];return"number"===typeof J&&V?M.fromJSON({relationshipId:J,orderByFields:[{field:V,order:N}]}):null}_toFieldOrderJSON(J,Q){const {order:N,field:V}=J;return{field:`${"relationships/"}${Q}/${V}`,order:N}}_readPopupInfo({description:J,mediaInfos:Q,showAttachments:N,
relatedRecordsInfo:V={showRelatedRecords:!1}}){const U=[];J?U.push(new E({text:J})):U.push(new L);Array.isArray(Q)&&Q.length&&U.push(A.fromJSON({mediaInfos:Q}));N&&U.push(F.fromJSON({displayType:"auto"}));const {showRelatedRecords:sa,orderByFields:za}=V;sa&&za?.length&&za.forEach(Fa=>{(Fa=this._toRelationshipContent(Fa))&&U.push(Fa)});return U.length?U:J}_getContentElementFields(J){var Q=J?.type;return"attachments"===Q?[...this._extractFieldNames(J.title),...this._extractFieldNames(J.description)]:
"custom"===Q?J.outFields||[]:"fields"===Q?[...this._extractFieldNames(J.title),...this._extractFieldNames(J.description),...this._getFieldInfoFields(J.fieldInfos??this.fieldInfos)]:"media"===Q?(Q=J.mediaInfos||[],[...this._extractFieldNames(J.title),...this._extractFieldNames(J.description),...Q.reduce((N,V)=>[...N,...this._getMediaInfoFields(V)],[])]):"text"===Q?this._extractFieldNames(J.text):[]}_getMediaInfoFields(J){const {caption:Q,title:N,value:V}=J,{fields:U,normalizeField:sa,tooltipField:za,
sourceURL:Fa,linkURL:Da}=V||{};J=[...this._extractFieldNames(N),...this._extractFieldNames(Q),...this._extractFieldNames(Fa),...this._extractFieldNames(Da),...(U??[])];sa&&J.push(sa);za&&J.push(za);return J}_getContentExpressionInfos(J,Q){return Array.isArray(J)?J.reduce((N,V)=>[...N,...("expression"===V.type&&V.expressionInfo?[V.expressionInfo]:[])],Q):[]}_getContentFields(J){return"string"===typeof J?this._extractFieldNames(J):Array.isArray(J)?J.reduce((Q,N)=>[...Q,...this._getContentElementFields(N)],
[]):[]}async _collectExpressionInfoFields(J,Q,N){N&&await Promise.all(N.map(V=>c.collectArcadeFieldNames(J,Q,V.expression)))}_getFieldInfoFields(J){return J?J.filter(Q=>void 0===Q.visible||!!Q.visible).map(Q=>Q.fieldName).filter(Q=>!Q.startsWith("relationships/")&&!Q.startsWith("expression/")):[]}_getActionsFields(J){return J?J.toArray().reduce((Q,N)=>[...Q,...this._getActionFields(N)],[]):[]}_getActionFields(J){const {className:Q,title:N,type:V}=J;J="button"===V||"toggle"===V?J.image:"";return[...this._extractFieldNames(N),
...this._extractFieldNames(Q),...this._extractFieldNames(J)]}_getTitleFields(J){return"string"===typeof J?this._extractFieldNames(J):[]}_extractFieldNames(J){if(!J||"string"!==typeof J)return[];J=J.match(/{[^}]*}/g);if(!J)return[];const Q=/\{(\w+):.+\}/;return(J=J.filter(N=>!(0===N.indexOf("{relationships/")||0===N.indexOf("{expression/"))).map(N=>N.replace(Q,"{$1}")))?J.map(N=>N.slice(1,-1)):[]}};a.__decorate([g.property({type:k})],b.prototype,"actions",void 0);a.__decorate([g.property()],b.prototype,
"content",void 0);a.__decorate([p.cast("content")],b.prototype,"castContent",null);a.__decorate([l.reader("content","description fieldInfos popupElements mediaInfos showAttachments relatedRecordsInfo".split(" "))],b.prototype,"readContent",null);a.__decorate([u.writer("content",{popupElements:{type:d.ofType(h.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:d.ofType(y.types)},description:{type:String},relatedRecordsInfo:{type:z}})],b.prototype,"writeContent",null);a.__decorate([g.property({type:[t],
json:{write:!0}})],b.prototype,"expressionInfos",void 0);a.__decorate([g.property({type:[v]})],b.prototype,"fieldInfos",void 0);a.__decorate([u.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);a.__decorate([g.property({type:w})],b.prototype,"layerOptions",void 0);a.__decorate([u.writer("layerOptions")],b.prototype,"writeLayerOptions",null);a.__decorate([g.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",
void 0);a.__decorate([g.property()],b.prototype,"outFields",void 0);a.__decorate([g.property()],b.prototype,"overwriteActions",void 0);a.__decorate([g.property()],b.prototype,"returnGeometry",void 0);a.__decorate([g.property({json:{type:String}})],b.prototype,"title",void 0);a.__decorate([u.writer("title")],b.prototype,"writeTitle",null);return b=a.__decorate([n.subclass("esri.PopupTemplate")],b)})},"esri/popup/content":function(){define("exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/ExpressionContent ./content/FieldsContent ./content/MediaContent ./content/RelationshipContent ./content/TextContent".split(" "),
function(a,b,d,f,e,k,q,g,p){const l={base:null,key:"type",typeMap:{attachment:b,media:q,text:p,expression:e,field:k,relationship:g}};a.AttachmentsContent=b;a.BaseContent=d;a.CustomContent=f;a.ExpressionContent=e;a.FieldsContent=k;a.MediaContent=q;a.RelationshipContent=g;a.TextContent=p;a.isContent=function(n){return n instanceof d};a.persistableTypes=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/AttachmentsContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,d,f,e,k,q){var g;d=g=class extends q{constructor(p){super(p);this.description=null;this.displayType="auto";this.title=null;this.type="attachments"}clone(){return new g({description:this.description,displayType:this.displayType,title:this.title})}};a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"description",void 0);a.__decorate([b.property({type:["auto","preview","list"],json:{write:!0}})],d.prototype,"displayType",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],
d.prototype,"title",void 0);a.__decorate([b.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=g=a.__decorate([k.subclass("esri.popup.content.AttachmentsContent")],d)})},"esri/popup/content/Content":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,
b,d,f,e,k,q){b=class extends b.JSONSupport{constructor(g){super(g);this.type=null}};a.__decorate([d.property({type:"attachments custom fields media text expression relationship".split(" "),readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([q.subclass("esri.popup.content.Content")],b)})},"esri/popup/content/CustomContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,d,f,e,k){var q;f=q=class extends k{constructor(g){super(g);this.outFields=this.destroyer=this.creator=null;this.type="custom"}clone(){return new q({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?b.clone(this.outFields):null})}};a.__decorate([d.property()],f.prototype,"creator",void 0);a.__decorate([d.property()],f.prototype,"destroyer",void 0);a.__decorate([d.property()],f.prototype,"outFields",void 0);a.__decorate([d.property({type:["custom"],readOnly:!0})],
f.prototype,"type",void 0);return f=q=a.__decorate([e.subclass("esri.popup.content.CustomContent")],f)})},"esri/popup/content/ExpressionContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../ElementExpressionInfo ./Content".split(" "),function(a,b,d,f,e,k,q,g){var p;d=p=class extends g{constructor(l){super(l);this.expressionInfo=null;
this.type="expression"}clone(){return new p({expressionInfo:this.expressionInfo?.clone()})}};a.__decorate([b.property({type:q,json:{write:!0}})],d.prototype,"expressionInfo",void 0);a.__decorate([b.property({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=p=a.__decorate([k.subclass("esri.popup.content.ExpressionContent")],d)})},"esri/popup/ElementExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q){var g;b=g=class extends b.JSONSupport{constructor(p){super(p);this.expression=this.title=null;this.returnType="dictionary"}clone(){return new g({title:this.title,expression:this.expression})}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([d.property({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"returnType",
void 0);return b=g=a.__decorate([q.subclass("esri.popup.ElementExpressionInfo")],b)})},"esri/popup/content/FieldsContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../FieldInfo ./Content".split(" "),function(a,b,d,f,e,k,q,g){var p;f=p=class extends g{constructor(l){super(l);this.title=this.fieldInfos=this.description=
this.attributes=null;this.type="fields"}writeFieldInfos(l,n){n.fieldInfos=l&&l.map(u=>u.toJSON())}clone(){return new p(b.clone({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};a.__decorate([d.property({type:Object,json:{write:!0}})],f.prototype,"attributes",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"description",void 0);a.__decorate([d.property({type:[q]})],f.prototype,"fieldInfos",void 0);a.__decorate([k.writer("fieldInfos")],
f.prototype,"writeFieldInfos",null);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"title",void 0);a.__decorate([d.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=p=a.__decorate([e.subclass("esri.popup.content.FieldsContent")],f)})},"esri/popup/FieldInfo":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./support/FieldInfoFormat".split(" "),
function(a,b,d,f,e,k,q,g,p){var l;d=l=class extends d.JSONSupport{constructor(n){super(n);this.format=this.fieldName=null;this.isEditable=!0;this.label=null;this.stringFieldOption="text-box";this.tooltip=this.statisticType=null;this.visible=!0}clone(){return new l({fieldName:this.fieldName,format:this.format?f.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};a.__decorate([e.property({type:String,
json:{write:!0}})],d.prototype,"fieldName",void 0);a.__decorate([e.property({type:p,json:{write:!0}})],d.prototype,"format",void 0);a.__decorate([e.property({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],d.prototype,"isEditable",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);a.__decorate([q.enumeration(new b.JSONMap({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],d.prototype,"stringFieldOption",
void 0);a.__decorate([e.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],d.prototype,"statisticType",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"tooltip",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0}})],d.prototype,"visible",void 0);return d=l=a.__decorate([g.subclass("esri.popup.FieldInfo")],d)})},"esri/popup/support/FieldInfoFormat":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../intl/date".split(" "),
function(a,b,d,f,e,k,q,g,p,l){b=class extends b.ClonableMixin(d.JSONSupport){constructor(n){super(n);this.dateFormat=null;this.digitSeparator=!1;this.places=null}};a.__decorate([g.enumeration(l.dateFormatJSONMap)],b.prototype,"dateFormat",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",void 0);a.__decorate([f.property({type:e.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=a.__decorate([p.subclass("esri.popup.support.FieldInfoFormat")],
b)})},"esri/popup/content/MediaContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),function(a,b,d,f,e,k,q,g,p,l,n,u,
m,c){var h;f=h=class extends l{constructor(t){super(t);this.title=this.mediaInfos=this.description=this.attributes=this.activeMediaInfoIndex=null;this.type="media"}readMediaInfos(t){return t&&t.map(v=>{if("image"===v.type)return n.fromJSON(v);if("barchart"===v.type)return g.fromJSON(v);if("columnchart"===v.type)return p.fromJSON(v);if("linechart"===v.type)return u.fromJSON(v);if("piechart"===v.type)return m.fromJSON(v)}).filter(Boolean)}writeMediaInfos(t,v){v.mediaInfos=t&&t.map(w=>w.toJSON())}clone(){return new h(b.clone({activeMediaInfoIndex:this.activeMediaInfoIndex,
attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};a.__decorate([d.property()],f.prototype,"activeMediaInfoIndex",void 0);a.__decorate([d.property({type:Object,json:{write:!0}})],f.prototype,"attributes",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"description",void 0);a.__decorate([d.property({types:[c.types]})],f.prototype,"mediaInfos",void 0);a.__decorate([e.reader("mediaInfos")],f.prototype,"readMediaInfos",
null);a.__decorate([q.writer("mediaInfos")],f.prototype,"writeMediaInfos",null);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"title",void 0);a.__decorate([d.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=h=a.__decorate([k.subclass("esri.popup.content.MediaContent")],f)})},"esri/popup/content/BarChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,d,f,e,k,q,g){var p;d=p=class extends q{constructor(l){super(l);this.type="bar-chart"}clone(){return new p({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};a.__decorate([b.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:g.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=p=a.__decorate([k.subclass("esri.popup.content.BarChartMediaInfo")],d)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(a,b,d,f,e,k,q,g){d=class extends q{constructor(p){super(p);this.value=this.type=null}};a.__decorate([b.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);a.__decorate([b.property({type:g,json:{write:!0}})],d.prototype,"value",void 0);return d=a.__decorate([k.subclass("esri.popup.content.mixins.ChartMediaInfo")],d)})},"esri/popup/content/mixins/MediaInfo":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q){b=class extends b.JSONSupport{constructor(g){super(g);this.altText=null;this.title=this.caption="";this.type=null}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"altText",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"caption",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([d.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,
json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([q.subclass("esri.popup.content.mixins.MediaInfo")],b)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./ChartMediaInfoValueSeries".split(" "),function(a,b,d,f,e,k,q,g){var p;
d=p=class extends d.JSONSupport{constructor(l){super(l);this.colors=null;this.fields=[];this.normalizeField=null;this.series=[];this.tooltipField=null}clone(){return new p({colors:f.clone(this.colors),fields:f.clone(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};a.__decorate([e.property({type:[b],json:{type:[[k.Integer]],write:!0}})],d.prototype,"colors",void 0);a.__decorate([e.property({type:[String],json:{write:!0}})],d.prototype,"fields",void 0);a.__decorate([e.property({type:String,
json:{write:!0}})],d.prototype,"normalizeField",void 0);a.__decorate([e.property({type:[g],json:{read:!1}})],d.prototype,"series",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"tooltipField",void 0);return d=p=a.__decorate([q.subclass("esri.popup.content.support.ChartMediaInfoValue")],d)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q){var g;b=g=class extends b{constructor(p){super(p);this.value=this.tooltip=this.fieldName=this.color=null}clone(){return new g({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};a.__decorate([d.property()],b.prototype,"color",void 0);a.__decorate([d.property()],b.prototype,"fieldName",void 0);a.__decorate([d.property()],b.prototype,"tooltip",void 0);a.__decorate([d.property()],b.prototype,"value",void 0);return b=g=a.__decorate([q.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],
b)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["exports","../../../core/jsonMap"],function(a,b){b=b.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});a.chartTypeKebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,d,f,e,k,q,g){var p;d=p=class extends q{constructor(l){super(l);this.type="column-chart"}clone(){return new p({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};a.__decorate([b.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:g.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=p=a.__decorate([k.subclass("esri.popup.content.ColumnChartMediaInfo")],d)})},"esri/popup/content/ImageMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(a,b,d,f,e,k,q,g){var p;d=p=class extends q{constructor(l){super(l);this.refreshInterval=null;this.type="image";this.value=null}clone(){return new p({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"refreshInterval",void 0);a.__decorate([b.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);
a.__decorate([b.property({type:g,json:{write:!0}})],d.prototype,"value",void 0);return d=p=a.__decorate([k.subclass("esri.popup.content.ImageMediaInfo")],d)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q){var g;
b=g=class extends b.JSONSupport{constructor(p){super(p);this.sourceURL=this.linkURL=null}clone(){return new g({linkURL:this.linkURL,sourceURL:this.sourceURL})}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"sourceURL",void 0);return b=g=a.__decorate([q.subclass("esri.popup.content.support.ImageMediaInfoValue")],b)})},"esri/popup/content/LineChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,d,f,e,k,q,g){var p;d=p=class extends q{constructor(l){super(l);this.type="line-chart"}clone(){return new p({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};a.__decorate([b.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:g.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=p=a.__decorate([k.subclass("esri.popup.content.LineChartMediaInfo")],d)})},"esri/popup/content/PieChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,d,f,e,k,q,g){var p;d=p=class extends q{constructor(l){super(l);this.type="pie-chart"}clone(){return new p({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};a.__decorate([b.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:g.chartTypeKebabDict.write}})],d.prototype,"type",void 0);return d=p=a.__decorate([k.subclass("esri.popup.content.PieChartMediaInfo")],d)})},"esri/popup/content/support/mediaInfoTypes":function(){define("exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,d,f,e,k,q){a.types={base:q,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":b,"column-chart":d,"line-chart":e,"pie-chart":k,image:f}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/RelationshipContent":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Content ../support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,d,f,e,k,q,g,p){b=class extends b.ClonableMixin(g){constructor(l){super(l);this.displayCount=this.description=null;this.displayType="list";this.title=this.relationshipId=this.orderByFields=null;this.type="relationship"}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([d.property({type:Number,json:{type:f.Integer,write:!0}})],b.prototype,"displayCount",void 0);a.__decorate([d.property({type:["list"],json:{write:!0}})],b.prototype,
"displayType",void 0);a.__decorate([d.property({type:[p],json:{write:!0}})],b.prototype,"orderByFields",void 0);a.__decorate([d.property({type:Number,json:{type:f.Integer,write:!0}})],b.prototype,"relationshipId",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([d.property({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([q.subclass("esri.popup.content.RelationshipContent")],b)})},
"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q){var g;b=g=class extends b.JSONSupport{constructor(p){super(p);this.order=this.field=null}clone(){return new g({field:this.field,order:this.order})}};a.__decorate([d.property({type:String,
json:{write:!0}})],b.prototype,"field",void 0);a.__decorate([d.property({type:["asc","desc"],json:{write:!0}})],b.prototype,"order",void 0);return b=g=a.__decorate([q.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],b)})},"esri/popup/content/TextContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Content".split(" "),function(a,
b,d,f,e,k,q){var g;d=g=class extends q{constructor(p){super(p);this.text=null;this.type="text"}clone(){return new g({text:this.text})}};a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"text",void 0);a.__decorate([b.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=g=a.__decorate([k.subclass("esri.popup.content.TextContent")],d)})},"esri/popup/ExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q){var g;b=g=class extends b.JSONSupport{constructor(p){super(p);this.returnType=this.expression=this.title=this.name=null}clone(){return new g({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"expression",
void 0);a.__decorate([d.property({type:["string","number"],json:{write:!0}})],b.prototype,"returnType",void 0);return b=g=a.__decorate([q.subclass("esri.popup.ExpressionInfo")],b)})},"esri/popup/LayerOptions":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q){var g;b=g=class extends b.JSONSupport{constructor(p){super(p);
this.showNoDataRecords=this.returnTopmostRaster=null}clone(){return new g({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};a.__decorate([d.property({type:Boolean,json:{write:!0}})],b.prototype,"returnTopmostRaster",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0}})],b.prototype,"showNoDataRecords",void 0);return b=g=a.__decorate([q.subclass("esri.popup.LayerOptions")],b)})},"esri/popup/RelatedRecordsInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,d,f,e,k,q){var g;b=g=class extends b.JSONSupport{constructor(p){super(p);this.orderByFields=this.showRelatedRecords=null}clone(){return new g({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?d.clone(this.orderByFields):null})}};a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);a.__decorate([f.property({type:[q],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=g=a.__decorate([k.subclass("esri.popup.RelatedRecordsInfo")],
b)})},"esri/support/actions/ActionBase":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q,g){var p;b=p=class extends d.IdentifiableMixin(b){constructor(l){super(l);this.active=!1;this.className=null;this.disabled=!1;this.id=this.icon=null;this.indicator=!1;this.type=
this.title=null;this.visible=!0}clone(){return new p({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};a.__decorate([f.property()],b.prototype,"active",void 0);a.__decorate([f.property()],b.prototype,"className",void 0);a.__decorate([f.property()],b.prototype,"disabled",void 0);a.__decorate([f.property()],b.prototype,"icon",void 0);a.__decorate([f.property()],b.prototype,"id",void 0);a.__decorate([f.property()],
b.prototype,"indicator",void 0);a.__decorate([f.property()],b.prototype,"title",void 0);a.__decorate([f.property()],b.prototype,"type",void 0);a.__decorate([f.property()],b.prototype,"visible",void 0);return b=p=a.__decorate([g.subclass("esri.support.actions.ActionBase")],b)})},"esri/support/actions/ActionButton":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,d,f,e,k,q){var g;d=g=class extends q{constructor(p){super(p);this.image=null;this.type="button"}clone(){return new g({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};a.__decorate([b.property()],d.prototype,"image",void 0);return d=g=a.__decorate([k.subclass("esri.support.Action.ActionButton")],d)})},"esri/support/actions/ActionToggle":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,d,f,e,k,q){var g;d=g=class extends q{constructor(p){super(p);this.image=null;this.type="toggle";this.value=!1}clone(){return new g({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};a.__decorate([b.property()],d.prototype,"image",void 0);a.__decorate([b.property()],d.prototype,"value",void 0);return d=g=a.__decorate([k.subclass("esri.support.Action.ActionToggle")],
d)})},"esri/renderers/ClassBreaksRenderer":function(){define("../chunks/tslib.es6 ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties ./support/LegendOptions ../support/arcadeOnDemand".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z){var y;d=new d.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});const r=u.ensureType(t);c=y=class extends h.VisualVariablesMixin(c){constructor(x){super(x);this._compiledValueExpression={valueExpression:null,compiledFunction:null};this.field=this.defaultSymbol=this.defaultLabel=this.classBreakInfos=this.backgroundFillSymbol=null;this.isMaxInclusive=!0;this.normalizationTotal=this.normalizationField=
this.legendOptions=null;this.type="class-breaks";this.valueExpressionTitle=this.valueExpression=null;this._set("classBreakInfos",[])}readClassBreakInfos(x,B,A){if(Array.isArray(x)){var E=B.minValue;return x.map(F=>{const L=new t;L.read(F,A);null==L.minValue&&(L.minValue=E);null==L.maxValue&&(L.maxValue=L.minValue);E=L.maxValue;return L})}}writeClassBreakInfos(x,B,A,E){x=x.map(F=>F.write({},E));this._areClassBreaksConsecutive()&&x.forEach(F=>delete F.classMinValue);B[A]=x}castField(x){return null==
x?x:"function"===typeof x?(e.getLogger(this).error(".field: field must be a string value"),null):u.ensureString(x)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let x=this._get("normalizationType");const B=!!this.normalizationField,A=null!=this.normalizationTotal;if(B||A)x=B&&"field"||A&&"percent-of-total"||null,B&&A&&e.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===
x||"percent-of-total"===x)x=null;return x}set normalizationType(x){this._set("normalizationType",x)}addClassBreakInfo(x,B,A){let E=null;E="number"===typeof x?new t({minValue:x,maxValue:B,symbol:b.ensureType(A)}):r(f.clone(x));this.classBreakInfos.push(E);1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(x,B){const A=this.classBreakInfos.length;for(let E=0;E<A;E++){const F=[this.classBreakInfos[E].minValue,this.classBreakInfos[E].maxValue];if(F[0]===x&&F[1]===B){this.classBreakInfos.splice(E,
1);break}}}getBreakIndex(x,B){this.valueExpression&&null==B?.arcade&&e.getLogger(this).warn("");return this.valueExpression?this._getBreakIndexForExpression(x,B):this._getBreakIndexForField(x)}async getClassBreakInfo(x,B){let A=B;this.valueExpression&&null==B?.arcade&&(A={...A,arcade:await z.loadArcade()});x=this.getBreakIndex(x,A);return-1!==x?this.classBreakInfos[x]:null}getSymbol(x,B){if(this.valueExpression&&null==B?.arcade)e.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");
else return x=this.getBreakIndex(x,B),-1<x?this.classBreakInfos[x].symbol:this.defaultSymbol}async getSymbolAsync(x,B){let A=B;if(this.valueExpression&&null==B?.arcade){B=await z.loadArcade();const {arcadeUtils:E}=B;E.hasGeometryOperations(this.valueExpression)&&await E.enableGeometryOperations();A={...A,arcade:B}}x=this.getBreakIndex(x,A);return-1<x?this.classBreakInfos[x].symbol:this.defaultSymbol}getSymbols(){const x=[];this.classBreakInfos.forEach(B=>{B.symbol&&x.push(B.symbol)});this.defaultSymbol&&
x.push(this.defaultSymbol);return x}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((x,B)=>x+B.getAttributeHash(),"")}getMeshHash(){const x=JSON.stringify(this.backgroundFillSymbol),B=JSON.stringify(this.defaultSymbol),A=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`,E=this.classBreakInfos.reduce((F,L)=>F+L.getMeshHash(),"");return`${x}.${B}.${E}.${A}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||
!!this.valueExpression}clone(){return new y({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:f.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:f.clone(this.visualVariables),
legendOptions:f.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(x,B){x=[this.collectVVRequiredFields(x,B),this.collectSymbolFields(x,B)];await Promise.all(x)}async collectSymbolFields(x,B){const A=[...this.getSymbols().map(E=>E.collectRequiredFields(x,B)),m.collectArcadeFieldNames(x,B,this.valueExpression)];m.collectField(x,B,this.field);m.collectField(x,B,this.normalizationField);await Promise.all(A)}_getBreakIndexForExpression(x,
B){const {viewingMode:A,scale:E,spatialReference:F,arcade:L,timeZone:D}=B??{};({valueExpression:B}=this);var M=this._compiledValueExpression.valueExpression===B?this._compiledValueExpression.compiledFunction:null;const K=L.arcadeUtils;M||(M=K.createSyntaxTree(B),M=K.createFunction(M),this._compiledValueExpression.compiledFunction=M);this._compiledValueExpression.valueExpression=B;x=K.executeFunction(M,K.createExecContext(x,K.getViewInfo({viewingMode:A,scale:E,spatialReference:F}),D));return this._getBreakIndexfromInfos(x)}_getBreakIndexForField(x){var B=
x.attributes;x=this.normalizationType;let A=parseFloat(B[this.field]);if(x){const E=this.normalizationTotal;B=parseFloat(this.normalizationField?B[this.normalizationField]:void 0);if("log"===x)A=Math.log(A)*Math.LOG10E;else if("percent-of-total"===x&&null!=E&&!isNaN(E))A=A/E*100;else if("field"===x&&!isNaN(B)){if(isNaN(A)||isNaN(B))return-1;A/=B}}return this._getBreakIndexfromInfos(A)}_getBreakIndexfromInfos(x){const B=this.isMaxInclusive;if(null!=x&&"number"===typeof x&&!isNaN(x))for(let A=0;A<this.classBreakInfos.length;A++){const E=
[this.classBreakInfos[A].minValue,this.classBreakInfos[A].maxValue];if(E[0]<=x&&(B?x<=E[1]:x<E[1]))return A}return-1}_areClassBreaksConsecutive(){const x=this.classBreakInfos,B=x.length;for(let A=1;A<B;A++)if(x[A-1].maxValue!==x[A].minValue)return!1;return!0}};a.__decorate([k.property(v.rendererBackgroundFillSymbolProperty)],c.prototype,"backgroundFillSymbol",void 0);a.__decorate([k.property({type:[t]})],c.prototype,"classBreakInfos",void 0);a.__decorate([p.reader("classBreakInfos")],c.prototype,
"readClassBreakInfos",null);a.__decorate([n.writer("classBreakInfos")],c.prototype,"writeClassBreakInfos",null);a.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"defaultLabel",void 0);a.__decorate([k.property(v.rendererSymbolProperty)],c.prototype,"defaultSymbol",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([q.cast("field")],c.prototype,"castField",null);a.__decorate([k.property({type:Boolean})],c.prototype,"isMaxInclusive",
void 0);a.__decorate([k.property({type:w.LegendOptions,json:{write:!0}})],c.prototype,"legendOptions",void 0);a.__decorate([k.property({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],c.prototype,"minValue",null);a.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);a.__decorate([k.property({type:Number,cast:x=>u.ensureNumber(x),
json:{write:!0}})],c.prototype,"normalizationTotal",void 0);a.__decorate([k.property({type:d.apiValues,value:null,json:{type:d.jsonValues,read:d.read,write:d.write}})],c.prototype,"normalizationType",null);a.__decorate([g.enumeration({classBreaks:"class-breaks"})],c.prototype,"type",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0);return c=y=a.__decorate([l.subclass("esri.renderers.ClassBreaksRenderer")],
c)})},"esri/symbols":function(){define("exports ./core/accessorSupport/ensureType ./core/accessorSupport/extensions/serializableProperty/reader ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B,A,E,F,L,D,M,K,I,P){const T={base:A,key:"type",typeMap:{"simple-fill":r,"picture-fill":v,"picture-marker":w,"simple-line":x,"simple-marker":B,text:L,"label-3d":l,"line-3d":n,"mesh-3d":c,"point-3d":z,"polygon-3d":y,"web-style":K,cim:f},errorContext:"symbol"},Z={base:A,key:"type",typeMap:{"picture-marker":w,"simple-marker":B,text:L,"web-style":K,cim:f},errorContext:"symbol"};d=d.createTypeReader({types:T});const J={base:A,key:"type",typeMap:{"simple-fill":r,
"picture-fill":v,"picture-marker":w,"simple-line":x,"simple-marker":B,text:L,"line-3d":n,"mesh-3d":c,"point-3d":z,"polygon-3d":y,"web-style":K,cim:f},errorContext:"symbol"},Q={base:A,key:"type",typeMap:{text:L,"label-3d":l},errorContext:"symbol"},N={base:A,key:"type",typeMap:{"label-3d":l,"line-3d":n,"mesh-3d":c,"point-3d":z,"polygon-3d":y,"web-style":K},errorContext:"symbol"},V={base:A,key:"type",typeMap:{"line-3d":n,"mesh-3d":c,"point-3d":z,"polygon-3d":y,"web-style":K,cim:f},errorContext:"symbol"},
U={base:A,key:"type",typeMap:{"label-3d":l},errorContext:"symbol"};b=b.ensureOneOfType(T);a.CIMSymbol=f;a.ExtrudeSymbol3DLayer=e;a.BaseFillSymbol=k;a.FillSymbol3DLayer=q;a.Font=g;a.IconSymbol3DLayer=p;a.LabelSymbol3D=l;a.LineSymbol3D=n;a.LineSymbol3DLayer=u;a.BaseMarkerSymbol=m;a.MeshSymbol3D=c;a.ObjectSymbol3DLayer=h;a.PathSymbol3DLayer=t;a.PictureFillSymbol=v;a.PictureMarkerSymbol=w;a.PointSymbol3D=z;a.PolygonSymbol3D=y;a.SimpleFillSymbol=r;a.SimpleLineSymbol=x;a.SimpleMarkerSymbol=B;a.BaseSymbol=
A;a.BaseSymbol3D=E;a.BaseSymbol3DLayer=F;a.TextSymbol=L;a.TextSymbol3DLayer=D;a.WaterSymbol3DLayer=M;a.WebStyleSymbol=K;a.LineCallout3D=I;a.LineCallout3DBorder=P;a.ensureType=b;a.isSymbol=function(sa){return sa instanceof A};a.isSymbol2D=function(sa){if(!sa)return!1;switch(sa.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};a.isSymbol3D=function(sa){if(!sa)return!1;switch(sa.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;
default:return!1}};a.readSymbol=d;a.symbolTypes=T;a.symbolTypes3D=N;a.symbolTypesCluster=Z;a.symbolTypesLabel=Q;a.symbolTypesLabel3D=U;a.symbolTypesRenderer=J;a.symbolTypesRenderer3D=V;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/CIMSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/string ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Symbol".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){var u;e=u=class extends n{constructor(m){super(m);this.data=null;this.type="cim"}readData(m,c){return c}writeData(m,c){Object.assign(c,m)}async collectRequiredFields(m,c){if("CIMSymbolReference"===this.data?.type){var h=this.data.primitiveOverrides;h&&(h=h.map(t=>l.collectArcadeFieldNames(m,c,t.valueExpressionInfo.expression)),await Promise.all(h))}}clone(){return new u({data:b.clone(this.data)})}hash(){return d.numericHash(JSON.stringify(this.data)).toString()}};a.__decorate([f.property({json:{write:!1}})],
e.prototype,"color",void 0);a.__decorate([f.property({json:{write:!0}})],e.prototype,"data",void 0);a.__decorate([q.reader("data",["symbol"])],e.prototype,"readData",null);a.__decorate([p.writer("data",{})],e.prototype,"writeData",null);a.__decorate([k.enumeration({CIMSymbolReference:"cim"},{readOnly:!0})],e.prototype,"type",void 0);return e=u=a.__decorate([g.subclass("esri.symbols.CIMSymbol")],e)})},"esri/symbols/Symbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p,l){d=new d.JSONMap({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let n=0;f=class extends f.JSONSupport{constructor(u){super(u);this.id=`sym${n++}`;this.type=null;this.color=new b([0,
0,0,1])}readColor(u){return null!=u?.[0]?[u[0],u[1],u[2],u[3]/255]:u}async collectRequiredFields(u,m){}hash(){return JSON.stringify(this.toJSON())}clone(){}};a.__decorate([e.property({type:d.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:d.write}}})],f.prototype,"type",void 0);a.__decorate([e.property({type:b,json:{write:{allowNull:!0}}})],f.prototype,"color",void 0);a.__decorate([p.reader("color")],f.prototype,"readColor",null);return f=a.__decorate([l.subclass("esri.symbols.Symbol")],
f)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(a,b,d,f,e,k,q,g,p,l){var n;d=n=class extends g{constructor(u){super(u);this.type="extrude";this.size=1;this.material=null;this.castShadows=!0;
this.edges=null}clone(){return new n({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};a.__decorate([k.enumeration({Extrude:"extrude"},{readOnly:!0})],d.prototype,"type",void 0);a.__decorate([b.property({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],d.prototype,"size",void 0);a.__decorate([b.property({type:l.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",
void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);a.__decorate([b.property(p.symbol3dEdgesProperty)],d.prototype,"edges",void 0);return d=n=a.__decorate([q.subclass("esri.symbols.ExtrudeSymbol3DLayer")],d)})},"esri/symbols/Symbol3DLayer":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,d,f,e,k,q,g){b=class extends b.JSONSupport{constructor(p){super(p);this.enabled=!0;this.type=null;this.ignoreDrivers=!1}writeEnabled(p,l,n){p||(l[n]=p)}};a.__decorate([d.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);a.__decorate([g.writer("enabled")],b.prototype,"writeEnabled",null);a.__decorate([d.property({type:"icon object line path fill water extrude text".split(" "),readOnly:!0})],b.prototype,"type",void 0);return b=
a.__decorate([q.subclass("esri.symbols.Symbol3DLayer")],b)})},"esri/symbols/edges/utils":function(){define(["exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,d,f){a.symbol3dEdgesProperty={types:{key:"type",base:b,typeMap:{solid:f,sketch:d}},json:{write:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/edges/Edges3D":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,d,f,e,k,q,g,p){d=class extends d.JSONSupport{constructor(l){super(l);this.color=new b([0,0,0,1]);this.extensionLength=0;this.size=e.px2pt(1)}clone(){}cloneProperties(){return{color:f.clone(this.color),size:this.size,extensionLength:this.extensionLength}}};a.__decorate([k.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],d.prototype,"type",void 0);a.__decorate([k.property(p.colorAndTransparencyProperty)],d.prototype,"color",void 0);a.__decorate([k.property({...p.screenSizeProperty,
json:{write:{overridePolicy(l){return{enabled:!!l}}}}})],d.prototype,"extensionLength",void 0);a.__decorate([k.property(p.screenSizeProperty)],d.prototype,"size",void 0);return d=a.__decorate([g.subclass("esri.symbols.edges.Edges3D")],d)})},"esri/symbols/support/materialUtils":function(){define(["exports","../../Color","../../core/screenUtils","../../core/accessorSupport/ensureType","../../webdoc/support/opacityUtils"],function(a,b,d,f,e){d={type:Number,cast:d.toPt,json:{write:!0}};a.colorAndTransparencyProperty=
{type:b,json:{type:[f.Integer],default:null,read:{source:["color","transparency"],reader:function(k,q){k=null!=q.transparency?e.transparencyToOpacity(q.transparency):1;return(q=q.color)&&Array.isArray(q)?new b([q[0]||0,q[1]||0,q[2]||0,k]):null}},write:{target:{color:{type:[f.Integer]},transparency:{type:f.Integer}},writer:function(k,q){q.color=k.toJSON().slice(0,3);k=e.opacityToTransparency(k.a);0!==k&&(q.transparency=k)}}}};a.screenSizeProperty=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/symbols/edges/SketchEdges3D":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),function(a,b,d,f,e,k,q,g,p){var l;b=l=class extends p{constructor(n){super(n);this.type="sketch"}clone(){return new l(this.cloneProperties())}};a.__decorate([q.enumeration({sketch:"sketch"},{readOnly:!0})],
b.prototype,"type",void 0);return b=l=a.__decorate([g.subclass("esri.symbols.edges.SketchEdges3D")],b)})},"esri/symbols/edges/SolidEdges3D":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),function(a,b,d,f,e,k,q,g,p){var l;b=l=class extends p{constructor(n){super(n);this.type="solid"}clone(){return new l(this.cloneProperties())}};
a.__decorate([q.enumeration({solid:"solid"},{readOnly:!0})],b.prototype,"type",void 0);return b=l=a.__decorate([g.subclass("esri.symbols.support.SolidEdges3D")],b)})},"esri/symbols/support/Symbol3DMaterial":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,d,f,e,k,q,g,
p){var l;a.Symbol3DMaterial=l=class extends d.JSONSupport{constructor(n){super(n);this.color=null}clone(){const n={color:null!=this.color?this.color.clone():null};return new l(n)}};b.__decorate([f.property(p.colorAndTransparencyProperty)],a.Symbol3DMaterial.prototype,"color",void 0);a.Symbol3DMaterial=l=b.__decorate([g.subclass("esri.symbols.support.Symbol3DMaterial")],a.Symbol3DMaterial);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./SimpleLineSymbol ./Symbol".split(" "),
function(a,b,d,f,e,k,q,g){d=class extends g{constructor(p){super(p);this.type=this.outline=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};a.__decorate([b.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":q}},json:{default:null,write:!0}})],d.prototype,"outline",void 0);a.__decorate([b.property({type:["simple-fill","picture-fill"],readOnly:!0})],d.prototype,"type",void 0);return d=a.__decorate([k.subclass("esri.symbols.FillSymbol")],
d)})},"esri/symbols/SimpleLineSymbol":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol ./LineSymbolMarker".split(" "),function(a,b,d,f,e,k,q,g,p,l){var n;b=new b.JSONMap({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",
esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});p=n=class extends p{constructor(...u){super(...u);this.type="simple-line";this.style="solid";this.join=this.cap="round";this.marker=null;this.miterLimit=2}normalizeCtorArgs(u,m,c,h,t,v){if(u&&"string"!==typeof u)return u;const w={};null!=u&&(w.style=
u);null!=m&&(w.color=m);null!=c&&(w.width=f.toPt(c));null!=h&&(w.cap=h);null!=t&&(w.join=t);null!=v&&(w.miterLimit=f.toPt(v));return w}clone(){return new n({color:d.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};a.__decorate([q.enumeration({esriSLS:"simple-line"},{readOnly:!0})],
p.prototype,"type",void 0);a.__decorate([e.property({type:b.apiValues,json:{read:b.read,write:b.write}})],p.prototype,"style",void 0);a.__decorate([e.property({type:["butt","round","square"],json:{write:{overridePolicy:(u,m,c)=>({enabled:"round"!==u&&null==c?.origin})}}})],p.prototype,"cap",void 0);a.__decorate([e.property({type:["miter","round","bevel"],json:{write:{overridePolicy:(u,m,c)=>({enabled:"round"!==u&&null==c?.origin})}}})],p.prototype,"join",void 0);a.__decorate([e.property({types:{key:"type",
base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":l}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],p.prototype,"marker",void 0);a.__decorate([e.property({type:Number,json:{read:!1,write:!1}})],p.prototype,"miterLimit",void 0);return p=n=a.__decorate([g.subclass("esri.symbols.SimpleLineSymbol")],p)})},"esri/symbols/LineSymbol":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,d,f,e,k,q,g,p){f=class extends p{constructor(l){super(l);this.type="simple-line";this.width=.75}hash(){return`${this.type}.${this.width}`}};a.__decorate([q.enumeration({esriSLS:"simple-line"},{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([d.property({type:Number,cast:b.toPt,json:{write:!0}})],f.prototype,"width",void 0);return f=a.__decorate([g.subclass("esri.symbols.LineSymbol")],f)})},"esri/symbols/LineSymbolMarker":function(){define("../chunks/tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/lineMarkers".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){var u;d=u=class extends d.JSONSupport{constructor(m){super(m);this.placement="begin-end";this.type="line-marker";this.style="arrow"}writeStyle(m,c,h,t){c[h]="web-map"===t?.origin?"arrow":m}set color(m){this._set("color",m)}readColor(m){return null!=m?.[0]?[m[0],m[1],m[2],m[3]/255]:m}writeColor(m,c,h,t){"web-map"!==t?.origin&&(c[h]=m)}clone(){return new u({color:f.clone(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};
a.__decorate([e.property({type:["begin","end","begin-end"],json:{write:!0}})],d.prototype,"placement",void 0);a.__decorate([q.enumeration({"line-marker":"line-marker"},{readOnly:!0}),e.property({json:{origins:{"web-map":{write:!1}}}})],d.prototype,"type",void 0);a.__decorate([e.property({type:n.lineMarkerStyles})],d.prototype,"style",void 0);a.__decorate([l.writer("style")],d.prototype,"writeStyle",null);a.__decorate([e.property({type:b,value:null,json:{write:{allowNull:!0}}})],d.prototype,"color",
null);a.__decorate([g.reader("color")],d.prototype,"readColor",null);a.__decorate([l.writer("color")],d.prototype,"writeColor",null);return d=u=a.__decorate([p.subclass("esri.symbols.LineSymbolMarker")],d)})},"esri/symbols/support/lineMarkers":function(){define(["exports"],function(a){a.lineMarkerPlacements=["begin","end","begin-end"];a.lineMarkerStyles="arrow circle square diamond cross x".split(" ");Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./patterns/LineStylePattern3D ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h){var t;d=t=class extends g{constructor(v){super(v);this.type="fill";this.pattern=this.material=null;this.castShadows=!0;this.edges=this.outline=null}clone(){const v={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new t(v)}static fromSimpleFillSymbol(v){const w=
v.outline&&v.outline.style&&"inside-frame"!==v.outline.style&&"solid"!==v.outline.style?new l({style:v.outline.style}):null,z={size:v.outline?.width??0,color:(v.outline?.color??m.white).clone(),pattern:w};w&&v.outline?.cap&&(z.patternCap=v.outline.cap);return new t({material:new c.Symbol3DFillMaterial({color:(v.color??m.transparentWhite).clone()}),pattern:v.style&&"solid"!==v.style?new n({style:v.style}):null,outline:z})}};a.__decorate([k.enumeration({Fill:"fill"},{readOnly:!0})],d.prototype,"type",
void 0);a.__decorate([b.property({type:c.Symbol3DFillMaterial,json:{write:!0}})],d.prototype,"material",void 0);a.__decorate([b.property(u.symbol3dPatternProperty)],d.prototype,"pattern",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);a.__decorate([b.property({type:h.Symbol3DOutline,json:{write:!0}})],d.prototype,"outline",void 0);a.__decorate([b.property(p.symbol3dEdgesProperty)],d.prototype,"edges",void 0);return d=t=
a.__decorate([q.subclass("esri.symbols.FillSymbol3DLayer")],d)})},"esri/symbols/patterns/LineStylePattern3D":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./LinePattern3D ./lineStyles".split(" "),function(a,b,d,f,e,k,q,g,p,l){var n;b=b.strict()({dash:"dash","dash-dot":"dash-dot",
"dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});p=n=class extends p{constructor(u){super(u);this.type="style";this.style="solid"}clone(){return new n({style:this.style})}};a.__decorate([d.property({type:["style"]})],p.prototype,"type",void 0);a.__decorate([q.enumeration(b),d.property({type:l.lineStyles})],
p.prototype,"style",void 0);return p=n=a.__decorate([g.subclass("esri.symbols.patterns.LineStylePattern3D")],p)})},"esri/symbols/patterns/LinePattern3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q){b=class extends b.JSONSupport{constructor(g){super(g)}clone(){}};a.__decorate([d.property({type:["style"],
readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=a.__decorate([q.subclass("esri.symbols.patterns.LinePattern3D")],b)})},"esri/symbols/patterns/lineStyles":function(){define(["exports"],function(a){a.lineStyles="dash dash-dot dot long-dash long-dash-dot long-dash-dot-dot none short-dash short-dash-dot short-dash-dot-dot short-dot solid".split(" ");Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/patterns/StylePattern3D":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Pattern3D ./styles".split(" "),
function(a,b,d,f,e,k,q,g){var p;d=p=class extends q{constructor(l){super(l);this.type="style";this.style="solid"}clone(){return new p({style:this.style})}};a.__decorate([b.property({type:["style"]})],d.prototype,"type",void 0);a.__decorate([b.property({type:g,json:{read:!0,write:!0}})],d.prototype,"style",void 0);return d=p=a.__decorate([k.subclass("esri.symbols.patterns.StylePattern3D")],d)})},"esri/symbols/patterns/Pattern3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q){b=class extends b.JSONSupport{constructor(g){super(g)}clone(){}};a.__decorate([d.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=a.__decorate([q.subclass("esri.symbols.patterns.Pattern3D")],b)})},"esri/symbols/patterns/styles":function(){define(function(){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},"esri/symbols/patterns/utils":function(){define(["exports",
"./LinePattern3D","./LineStylePattern3D","./Pattern3D","./StylePattern3D"],function(a,b,d,f,e){f={types:{key:"type",base:f,typeMap:{style:e}},json:{write:!0}};a.symbol3dLinePatternProperty={types:{key:"type",base:b,typeMap:{style:d}},json:{write:!0}};a.symbol3dPatternProperty=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/colors":function(){define(["exports","../../Color"],function(a,b){const d=new b("white"),f=new b("black");b=new b([255,255,255,0]);a.black=
f;a.isBlack=function(e){return 0===e.r&&0===e.g&&0===e.b};a.transparentWhite=b;a.white=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("exports ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Symbol3DMaterial".split(" "),function(a,b,d,f,
e,k,q,g,p,l){var n;a.Symbol3DFillMaterial=n=class extends l.Symbol3DMaterial{constructor(u){super(u);this.colorMixMode=null}clone(){const u={color:null!=this.color?this.color.clone():null,colorMixMode:this.colorMixMode};return new n(u)}};b.__decorate([g.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],a.Symbol3DFillMaterial.prototype,"colorMixMode",void 0);a.Symbol3DFillMaterial=n=b.__decorate([p.subclass("esri.symbols.support.Symbol3DFillMaterial")],a.Symbol3DFillMaterial);Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DOutline":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../patterns/utils ./materialUtils ./symbolLayerUtils3D".split(" "),function(a,b,d,f,e,k,q,g,p,l,n,u,m){var c;a.Symbol3DOutline=c=class extends f.JSONSupport{constructor(h){super(h);
this.color=new d([0,0,0,1]);this.size=e.px2pt(1);this.pattern=null;this.patternCap="butt"}clone(){const h={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new c(h)}};b.__decorate([k.property(u.colorAndTransparencyProperty)],a.Symbol3DOutline.prototype,"color",void 0);b.__decorate([k.property(u.screenSizeProperty)],a.Symbol3DOutline.prototype,"size",void 0);b.__decorate([k.property(n.symbol3dLinePatternProperty)],
a.Symbol3DOutline.prototype,"pattern",void 0);b.__decorate([k.property({type:m.lineCaps,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],a.Symbol3DOutline.prototype,"patternCap",void 0);a.Symbol3DOutline=c=b.__decorate([l.subclass("esri.symbols.support.Symbol3DOutline")],a.Symbol3DOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolLayerUtils3D":function(){define(["exports","../../core/has","../../chunks/vec3f64",
"../../geometry/support/aaBoundingBox"],function(a,b,d,f){const e=f.fromValues(-.5,-.5,-.5,.5,.5,.5),k=f.fromValues(-.5,-.5,0,.5,.5,1),q=f.fromValues(-.5,-.5,0,.5,.5,.5);b=["butt","square","round"];f=[...b,"none"];a.lineCaps=b;a.lineJoins=["miter","bevel","round"];a.objectSymbolLayerBoundingBoxTetrahedron=q;a.objectSymbolLayerBoundingBoxUnitCube=e;a.objectSymbolLayerBoundingBoxUnitCylinder=k;a.objectSymbolLayerPrimitiveBoundingBox=function(g){switch(g){case "sphere":case "cube":case "diamond":return e;
case "cylinder":case "cone":case "inverted-cone":return k;case "tetrahedron":return q}};a.objectSymbolLayerSizeWithResourceSize=function(g,{isPrimitive:p,width:l,depth:n,height:u}){p=p?10:1;if(null==l&&null==u&&null==n)return[p*g[0],p*g[1],p*g[2]];l=d.fromValues(l,n,u);let m;for(n=0;3>n;n++)if(u=l[n],null!=u){m=u/g[n];break}for(n=0;3>n;n++)null==l[n]&&(l[n]=g[n]*m);return l};a.pathCaps=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports",
"../Extent","./aaBoundingRect"],function(a,b,d){function f(h=m){return[h[0],h[1],h[2],h[3],h[4],h[5]]}function e(h,t,v,w,z,y,r=f()){r[0]=h;r[1]=t;r[2]=v;r[3]=w;r[4]=z;r[5]=y;return r}function k(h){return h[0]>=h[3]?0:h[3]-h[0]}function q(h){return h[1]>=h[4]?0:h[4]-h[1]}function g(h){return h[2]>=h[5]?0:h[5]-h[2]}function p(h,t){return Math.max(t[0],h[0])<=Math.min(t[3],h[3])&&Math.max(t[1],h[1])<=Math.min(t[4],h[4])&&Math.max(t[2],h[2])<=Math.min(t[5],h[5])}function l(h,t){h[0]=t[0];h[1]=t[1];h[2]=
t[2];h[3]=t[3];h[4]=t[4];h[5]=t[5];return h}function n(h){return 6===h.length}const u=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],m=[0,0,0,0,0,0],c=f();a.allFinite=function(h){for(let t=0;6>t;t++)if(!isFinite(h[t]))return!1;return!0};a.center=function(h,t=[0,0,0]){t[0]=h[0]+k(h)/2;t[1]=h[1]+q(h)/2;t[2]=h[2]+g(h)/2;return t};a.contains=function(h,t){return t[0]>=h[0]&&t[1]>=h[1]&&t[2]>=h[2]&&t[3]<=h[3]&&t[4]<=h[4]&&t[5]<=h[5]};a.containsPoint=function(h,t){return t[0]>=h[0]&&t[1]>=h[1]&&
t[2]>=h[2]&&t[0]<=h[3]&&t[1]<=h[4]&&t[2]<=h[5]};a.containsPointWithMargin=function(h,t,v){return t[0]>=h[0]-v&&t[1]>=h[1]-v&&t[2]>=h[2]-v&&t[0]<=h[3]+v&&t[1]<=h[4]+v&&t[2]<=h[5]+v};a.create=f;a.depth=q;a.diameter=function(h){const t=k(h),v=g(h);h=q(h);return Math.sqrt(t*t+v*v+h*h)};a.empty=function(h){return h?l(h,u):f(u)};a.equals=function(h,t,v){if(null==h||null==t)return h===t;if(!n(h)||!n(t))return!1;if(v)for(let w=0;w<h.length;w++){if(!v(h[w],t[w]))return!1}else for(v=0;v<h.length;v++)if(h[v]!==
t[v])return!1;return!0};a.expandWithAABB=function(h,t){h[0]=Math.min(h[0],t[0]);h[1]=Math.min(h[1],t[1]);h[2]=Math.min(h[2],t[2]);h[3]=Math.max(h[3],t[3]);h[4]=Math.max(h[4],t[4]);h[5]=Math.max(h[5],t[5])};a.expandWithBuffer=function(h,t,v=0,w=t.length/3){let z=h[0],y=h[1],r=h[2],x=h[3],B=h[4],A=h[5];for(let E=0;E<w;E++)z=Math.min(z,t[v+3*E]),y=Math.min(y,t[v+3*E+1]),r=Math.min(r,t[v+3*E+2]),x=Math.max(x,t[v+3*E]),B=Math.max(B,t[v+3*E+1]),A=Math.max(A,t[v+3*E+2]);h[0]=z;h[1]=y;h[2]=r;h[3]=x;h[4]=
B;h[5]=A};a.expandWithNestedArray=function(h,t,v){const w=t.length;let z=h[0],y=h[1],r=h[2],x=h[3],B=h[4],A=h[5];if(v)for(v=0;v<w;v++){var E=t[v];z=Math.min(z,E[0]);y=Math.min(y,E[1]);r=Math.min(r,E[2]);x=Math.max(x,E[0]);B=Math.max(B,E[1]);A=Math.max(A,E[2])}else for(v=0;v<w;v++)E=t[v],z=Math.min(z,E[0]),y=Math.min(y,E[1]),x=Math.max(x,E[0]),B=Math.max(B,E[1]);h[0]=z;h[1]=y;h[2]=r;h[3]=x;h[4]=B;h[5]=A};a.expandWithOffset=function(h,t,v,w){h[0]=Math.min(h[0],h[0]+t);h[3]=Math.max(h[3],h[3]+t);h[1]=
Math.min(h[1],h[1]+v);h[4]=Math.max(h[4],h[4]+v);h[2]=Math.min(h[2],h[2]+w);h[5]=Math.max(h[5],h[5]+w)};a.expandWithRect=function(h,t){h[0]=Math.min(h[0],t[0]);h[1]=Math.min(h[1],t[1]);h[3]=Math.max(h[3],t[2]);h[4]=Math.max(h[4],t[3])};a.expandWithVec3=function(h,t){h[0]=Math.min(h[0],t[0]);h[1]=Math.min(h[1],t[1]);h[2]=Math.min(h[2],t[2]);h[3]=Math.max(h[3],t[0]);h[4]=Math.max(h[4],t[1]);h[5]=Math.max(h[5],t[2])};a.fromExtent=function(h,t=f()){t[0]=h.xmin;t[1]=h.ymin;t[2]=h.hasZ?h.zmin:-Infinity;
t[3]=h.xmax;t[4]=h.ymax;t[5]=h.hasZ?h.zmax:Infinity;return t};a.fromMinMax=function(h,t,v=f()){v[0]=h[0];v[1]=h[1];v[2]=h[2];v[3]=t[0];v[4]=t[1];v[5]=t[2];return v};a.fromRect=function(h,t){h[0]=t[0];h[1]=t[1];h[2]=Number.NEGATIVE_INFINITY;h[3]=t[2];h[4]=t[3];h[5]=Number.POSITIVE_INFINITY;return h};a.fromRectValues=function(h,t,v,w,z){h[0]=t;h[1]=v;h[2]=Number.NEGATIVE_INFINITY;h[3]=w;h[4]=z;h[5]=Number.POSITIVE_INFINITY;return h};a.fromValues=e;a.getMax=function(h,t){t[0]=h[3];t[1]=h[4];t[2]=h[5];
return t};a.getMin=function(h,t){t[0]=h[0];t[1]=h[1];t[2]=h[2];return t};a.height=g;a.intersects=p;a.intersectsClippingArea=function(h,t){return null==t?!0:p(h,t)};a.is=n;a.isPoint=function(h){return 0===k(h)&&0===q(h)&&0===g(h)};a.maximumDimension=function(h){return Math.max(k(h),g(h),q(h))};a.negativeInfinity=u;a.offset=function(h,t,v,w,z=h){z[0]=h[0]+t;z[1]=h[1]+v;z[2]=h[2]+w;z[3]=h[3]+t;z[4]=h[4]+v;z[5]=h[5]+w;return z};a.positiveInfinity=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];
a.scale=function(h,t,v=h){const w=h[0]+k(h)/2,z=h[1]+q(h)/2,y=h[2]+g(h)/2;v[0]=w+(h[0]-w)*t;v[1]=z+(h[1]-z)*t;v[2]=y+(h[2]-y)*t;v[3]=w+(h[3]-w)*t;v[4]=z+(h[4]-z)*t;v[5]=y+(h[5]-y)*t;return v};a.set=l;a.setMax=function(h,t,v=h){v[3]=t[0];v[4]=t[1];v[5]=t[2];v!==h&&(v[0]=h[0],v[1]=h[1],v[2]=h[2]);return h};a.setMin=function(h,t,v=h){v[0]=t[0];v[1]=t[1];v[2]=t[2];v!==h&&(v[3]=h[3],v[4]=h[4],v[5]=h[5]);return v};a.size=function(h,t=[0,0,0]){t[0]=k(h);t[1]=q(h);t[2]=g(h);return t};a.toExtent=function(h,
t){return isFinite(h[2])||isFinite(h[5])?new b({xmin:h[0],xmax:h[3],ymin:h[1],ymax:h[4],zmin:h[2],zmax:h[5],spatialReference:t}):new b({xmin:h[0],xmax:h[3],ymin:h[1],ymax:h[4],spatialReference:t})};a.toRect=function(h,t){t||(t=d.create());t[0]=h[0];t[1]=h[1];t[2]=h[3];t[3]=h[4];return t};a.width=k;a.wrap=function(h,t,v,w,z,y){return e(h,t,v,w,z,y,c)};a.zero=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/Font":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./support/textUtils".split(" "),
function(a,b,d,f,e,k,q,g,p){var l;b=l=class extends b.JSONSupport{constructor(n){super(n);this.decoration="none";this.family="sans-serif";this.size=9;this.weight=this.style="normal"}castSize(n){return d.toPt(n)}clone(){return new l({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};a.__decorate([f.property({type:p.fontDecorations,json:{default:"none",write:!0}})],
b.prototype,"decoration",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);a.__decorate([f.property({type:Number,json:{write:{overridePolicy(n,u,m){return{enabled:!m||!m.textSymbol3D}}}}})],b.prototype,"size",void 0);a.__decorate([e.cast("size")],b.prototype,"castSize",null);a.__decorate([f.property({type:p.fontStyles,json:{default:"normal",write:!0}})],b.prototype,"style",void 0);a.__decorate([f.property({type:p.fontWeights,json:{default:"normal",write:!0}})],
b.prototype,"weight",void 0);return b=l=a.__decorate([g.subclass("esri.symbols.Font")],b)})},"esri/symbols/support/textUtils":function(){define(["exports","../../core/mathUtils","../../core/accessorSupport/ensureType"],function(a,b,d){const f={type:Number,cast:p=>{p=d.ensureNumber(p);return 0===p?1:b.clamp(p,.1,4)},nonNullable:!0},e=["left","right","center"],k=["baseline","top","middle","bottom"],q={type:e,nonNullable:!0},g={type:k,nonNullable:!0};a.backgroundPadding=8;a.fontDecorations=["none","underline",
"line-through"];a.fontStyles=["normal","italic","oblique"];a.fontWeights=["normal","lighter","bold","bolder"];a.horizontalAlignmentProperty=q;a.horizontalAlignments=e;a.lineHeightProperty=f;a.verticalAlignmentProperty=g;a.verticalAlignments=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/IconSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DIconOutline ./support/Symbol3DMaterial".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t){function v(r){const x="width"in r?r.width:r.size,B="height"in r?r.height:r.size,A=w(r.xoffset);r=w(r.yoffset);return(A||r)&&x&&B?{x:-A/x,y:r/B}:null}function w(r){return isFinite(r)?r:0}var z;e=z=class extends l{constructor(r){super(r);this.resource=this.material=null;this.type="icon";this.size=12;this.anchor="center";this.outline=this.anchorPosition=null}clone(){return new z({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),
enabled:this.enabled,material:null!=this.material?this.material.clone():null,outline:null!=this.outline?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(r){const x=r.color||n.white,B=v(r),A=r.outline&&0<r.outline.width?{size:r.outline.width,color:(r.outline.color||n.white).clone()}:null;var E=z,F=r.size;{r=r.style;const L=y[r];L?r=L:(b.getLogger("esri.symbols.IconSymbol3DLayer").warn(`${r} cannot be mapped to Icon symbol. Fallback to "circle"`),
r="circle")}return new E({size:F,resource:{primitive:r},material:{color:x},outline:A,anchor:B?"relative":void 0,anchorPosition:B})}static fromPictureMarkerSymbol(r){const x=!r.color||n.isBlack(r.color)?n.white:r.color,B=v(r);return new z({size:r.width<=r.height?r.height:r.width,resource:{href:r.url},material:{color:x.clone()},anchor:B?"relative":void 0,anchorPosition:B})}static fromCIMSymbol(r){return new z({resource:{href:d.makeData({mediaType:"application/json",data:JSON.stringify(r.data)})}})}};
a.__decorate([f.property({type:t.Symbol3DMaterial,json:{write:!0}})],e.prototype,"material",void 0);a.__decorate([f.property({type:u.IconSymbol3DLayerResource,json:{write:!0}})],e.prototype,"resource",void 0);a.__decorate([g.enumeration({Icon:"icon"},{readOnly:!0})],e.prototype,"type",void 0);a.__decorate([f.property(m.screenSizeProperty)],e.prototype,"size",void 0);a.__decorate([g.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",
bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),f.property({json:{default:"center"}})],e.prototype,"anchor",void 0);a.__decorate([f.property({type:c.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:r=>new c.Symbol3DAnchorPosition2D({x:r[0],y:r[1]})},write:{writer:(r,x)=>{x.anchorPosition=[r.x,r.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],e.prototype,"anchorPosition",void 0);a.__decorate([f.property({type:h.Symbol3DIconOutline,json:{write:!0}})],
e.prototype,"outline",void 0);e=z=a.__decorate([p.subclass("esri.symbols.IconSymbol3DLayer")],e);const y={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return e})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("exports ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../chunks/persistableUrlUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c){var h;d=d.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a.IconSymbol3DLayerResource=h=class extends f.JSONSupport{constructor(t){super(t)}readHref(t,v,w){return t?c.fromJSON(t,w):v.dataURI}writeHref(t,v,w,z){t&&(e.isDataProtocol(t)?v.dataURI=t:(v.href=c.toJSON(t,z),e.isAbsolute(v.href)&&(v.href=e.normalize(v.href))))}clone(){return new h({href:this.href,primitive:this.primitive})}};b.__decorate([k.property({type:String,
json:{write:!0,read:{source:["href","dataURI"]}}})],a.IconSymbol3DLayerResource.prototype,"href",void 0);b.__decorate([n.reader("href")],a.IconSymbol3DLayerResource.prototype,"readHref",null);b.__decorate([m.writer("href",{href:{type:String},dataURI:{type:String}})],a.IconSymbol3DLayerResource.prototype,"writeHref",null);b.__decorate([l.enumeration(d)],a.IconSymbol3DLayerResource.prototype,"primitive",void 0);a.IconSymbol3DLayerResource=h=b.__decorate([u.subclass("esri.symbols.support.IconSymbol3DLayerResource")],
a.IconSymbol3DLayerResource);a.defaultPrimitive="circle";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q,g){var p;a.Symbol3DAnchorPosition2D=p=class extends d{constructor(){super(...arguments);
this.y=this.x=0}clone(){return new p({x:this.x,y:this.y})}};b.__decorate([f.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"x",void 0);b.__decorate([f.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"y",void 0);a.Symbol3DAnchorPosition2D=p=b.__decorate([g.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],a.Symbol3DAnchorPosition2D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DIconOutline":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){var u;a.Symbol3DIconOutline=u=class extends f.JSONSupport{constructor(m){super(m);this.color=new d([0,0,0,1]);this.size=e.px2pt(1)}clone(){const m={color:null!=this.color?this.color.clone():null,size:this.size};return new u(m)}};b.__decorate([k.property(n.colorAndTransparencyProperty)],a.Symbol3DIconOutline.prototype,"color",void 0);b.__decorate([k.property(n.screenSizeProperty)],a.Symbol3DIconOutline.prototype,"size",void 0);a.Symbol3DIconOutline=u=b.__decorate([l.subclass("esri.symbols.support.Symbol3DIconOutline")],
a.Symbol3DIconOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/LabelSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,b,d,f,e,k,q,g,p,l,n){var u;const m=
b.ofType({base:null,key:"type",typeMap:{text:p}});e=u=class extends g{constructor(c){super(c);this.styleOrigin=this.callout=this.verticalOffset=null;this.symbolLayers=new m;this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return l.hasVisibleCallout(this)}hasVisibleVerticalOffset(){return l.hasVisibleVerticalOffset(this)}clone(){return new u({styleOrigin:d.clone(this.styleOrigin),symbolLayers:d.clone(this.symbolLayers),thumbnail:d.clone(this.thumbnail),callout:d.clone(this.callout),
verticalOffset:d.clone(this.verticalOffset)})}static fromTextSymbol(c){return new u({symbolLayers:new b([p.fromTextSymbol(c)])})}};a.__decorate([f.property({type:n,json:{write:!0}})],e.prototype,"verticalOffset",void 0);a.__decorate([f.property(l.calloutProperty)],e.prototype,"callout",void 0);a.__decorate([f.property({json:{read:!1,write:!1}})],e.prototype,"styleOrigin",void 0);a.__decorate([f.property({type:m})],e.prototype,"symbolLayers",void 0);a.__decorate([k.enumeration({LabelSymbol3D:"label-3d"},
{readOnly:!0})],e.prototype,"type",void 0);return e=u=a.__decorate([q.subclass("esri.symbols.LabelSymbol3D")],e)})},"esri/symbols/Symbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../portal/Portal ../chunks/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B,A,E,F,L){const D={icon:w,object:y,line:z,path:r,fill:v,extrude:t,text:A,water:E};p=b.ofType({base:B,key:"type",typeMap:D,errorContext:"symbol-layer"});x=class extends x{constructor(M){super(M);this.type=this.thumbnail=this.styleOrigin=null;this._set("symbolLayers",new ((this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers)?.type||b))}get color(){return null}set color(M){this.constructed&&f.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(M){d.referenceSetter(M,
this._get("symbolLayers"))}readStyleOrigin(M,K,I){if(M.styleUrl&&M.name)return K=h.fromJSON(M.styleUrl,I),new F({styleUrl:K,name:M.name});if(M.styleName&&M.name)return new F({portal:I?.portal||c.getDefault(),styleName:M.styleName,name:M.name});I?.messages&&I.messages.push(new k("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:I,definition:M}))}writeStyleOrigin(M,K,I,P){M.styleUrl&&M.name?(I=h.toJSON(M.styleUrl,P),e.isAbsolute(I)&&
(I=e.normalize(I)),K.styleOrigin={styleUrl:I,name:M.name}):M.styleName&&M.name&&(M.portal&&P?.portal&&!e.hasSamePortal(M.portal.restUrl,P.portal.restUrl)?P?.messages&&P.messages.push(new k("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):K.styleOrigin={styleName:M.styleName,name:M.name})}normalizeCtorArgs(M){return M instanceof B||M&&D[M.type]?{symbolLayers:[M]}:Array.isArray(M)?{symbolLayers:M}:
M}};a.__decorate([q.property({json:{read:!1,write:!1}})],x.prototype,"color",null);a.__decorate([q.property({type:p,nonNullable:!0,json:{write:!0}}),g.cast(d.castForReferenceSetter)],x.prototype,"symbolLayers",null);a.__decorate([q.property({type:F})],x.prototype,"styleOrigin",void 0);a.__decorate([n.reader("styleOrigin")],x.prototype,"readStyleOrigin",null);a.__decorate([m.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],
x.prototype,"writeStyleOrigin",null);a.__decorate([q.property({type:L.Thumbnail,json:{read:!1}})],x.prototype,"thumbnail",void 0);a.__decorate([q.property({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],x.prototype,"type",void 0);return x=a.__decorate([u.subclass("esri.symbols.Symbol3D")],x)})},"esri/symbols/LineSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineStyleMarker3D ./Symbol3DLayer ./patterns/LineStylePattern3D ./patterns/utils ./support/colors ./support/materialUtils ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t){var v;f=v=class extends l{constructor(w){super(w);this.material=null;this.type="line";this.join="miter";this.cap="butt";this.size=b.px2pt(1);this.marker=this.pattern=null}clone(){const w={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new v(w)}static fromSimpleLineSymbol(w){w=
{enabled:!0,size:w.width??b.px2pt(1),cap:w.cap||"butt",join:w.join||"miter",pattern:w.style&&"inside-frame"!==w.style?new n({style:w.style}):null,material:new h.Symbol3DMaterial({color:(w.color||m.white).clone()}),marker:w.marker?new p({placement:w.marker.placement,style:w.marker.style,color:w.marker.color?.clone()??null}):null};return new v(w)}};a.__decorate([d.property({type:h.Symbol3DMaterial,json:{write:!0}})],f.prototype,"material",void 0);a.__decorate([q.enumeration({Line:"line"},{readOnly:!0})],
f.prototype,"type",void 0);a.__decorate([d.property({type:t.lineJoins,json:{write:!0,default:"miter"}})],f.prototype,"join",void 0);a.__decorate([d.property({type:t.lineCaps,json:{write:!0,default:"butt"}})],f.prototype,"cap",void 0);a.__decorate([d.property(c.screenSizeProperty)],f.prototype,"size",void 0);a.__decorate([d.property(u.symbol3dLinePatternProperty)],f.prototype,"pattern",void 0);a.__decorate([d.property({types:{key:"type",base:p,typeMap:{style:p}},json:{write:!0}})],f.prototype,"marker",
void 0);return f=v=a.__decorate([g.subclass("esri.symbols.LineSymbol3DLayer")],f)})},"esri/symbols/LineStyleMarker3D":function(){define("../chunks/tslib.es6 ../Color ../core/Clonable ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./support/lineMarkers".split(" "),function(a,b,d,f,e,k,q,g,p,l){d=class extends d.ClonableMixin(f.JSONSupport){constructor(n){super(n);this.type=
"style";this.placement="begin-end";this.style="arrow";this.color=null}equals(n){return null!=n&&n.placement===this.placement&&n.style===this.style&&(null==this.color&&null==n.color||null!=this.color&&null!=n.color&&this.color.toJSON()===n.color.toJSON())}};a.__decorate([e.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],d.prototype,"type",void 0);a.__decorate([e.property({type:l.lineMarkerPlacements,json:{default:"begin-end",write:!0}})],d.prototype,"placement",void 0);
a.__decorate([e.property({type:l.lineMarkerStyles,json:{default:"arrow",write:!0}})],d.prototype,"style",void 0);a.__decorate([e.property({type:b,json:{type:[k.Integer],default:null,write:!0}})],d.prototype,"color",void 0);return d=a.__decorate([p.subclass("esri.symbols.LineStyleMarker3D")],d)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){var u;d=u=class extends g{constructor(m){super(m);this.material=null;this.castShadows=!0;this.resource=null;this.type="object";this.roll=this.tilt=this.heading=this.anchorPosition=this.anchor=this.depth=this.height=this.width=void 0}clone(){return new u({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,
resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!==typeof this.resource.href}};a.__decorate([b.property({type:n.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);a.__decorate([b.property({type:p.ObjectSymbol3DLayerResource,json:{write:!0}})],d.prototype,"resource",void 0);a.__decorate([k.enumeration({Object:"object"},
{readOnly:!0})],d.prototype,"type",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"width",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"height",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"depth",void 0);a.__decorate([k.enumeration({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),b.property({json:{default:"origin"}})],d.prototype,"anchor",void 0);a.__decorate([b.property({type:l.Symbol3DAnchorPosition3D,
json:{type:[Number],read:{reader:m=>new l.Symbol3DAnchorPosition3D({x:m[0],y:m[1],z:m[2]})},write:{writer:(m,c)=>{c.anchorPosition=[m.x,m.y,m.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],d.prototype,"anchorPosition",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"heading",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"tilt",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"roll",void 0);
a.__decorate([b.property({readOnly:!0})],d.prototype,"isPrimitive",null);return d=u=a.__decorate([q.subclass("esri.symbols.ObjectSymbol3DLayer")],d)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("exports ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/persistableUrlUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){var u;d=d.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a.ObjectSymbol3DLayerResource=u=class extends f.JSONSupport{clone(){return new u({href:this.href,primitive:this.primitive})}};b.__decorate([e.property({type:String,json:{read:n.read,write:n.write}})],a.ObjectSymbol3DLayerResource.prototype,"href",void 0);b.__decorate([p.enumeration(d)],a.ObjectSymbol3DLayerResource.prototype,
"primitive",void 0);a.ObjectSymbol3DLayerResource=u=b.__decorate([l.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],a.ObjectSymbol3DLayerResource);a.defaultPrimitive="sphere";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g){var p;a.Symbol3DAnchorPosition3D=p=class extends d{constructor(){super(...arguments);this.z=this.y=this.x=0}clone(){return new p({x:this.x,y:this.y,z:this.z})}};b.__decorate([f.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"x",void 0);b.__decorate([f.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"y",void 0);b.__decorate([f.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"z",void 0);a.Symbol3DAnchorPosition3D=p=b.__decorate([g.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],
a.Symbol3DAnchorPosition3D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PathSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),function(a,
b,d,f,e,k,q,g,p,l,n){var u;d=u=class extends p{constructor(m){super(m);this.material=null;this.castShadows=!0;this.type="path";this.profile="circle";this.join="miter";this.cap="butt";this.height=this.width=void 0;this.anchor="center";this.profileRotation="all"}readWidth(m,c){return null!=m?m:null==c.height&&null!=c.size?c.size:void 0}readHeight(m,c){return null!=m?m:null==c.width&&null!=c.size?c.size:void 0}clone(){return new u({enabled:this.enabled,material:null!=this.material?this.material.clone():
null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};a.__decorate([b.property({type:l.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);a.__decorate([k.enumeration({Path:"path"},{readOnly:!0})],d.prototype,"type",void 0);a.__decorate([b.property({type:["circle",
"quad"],json:{write:!0,default:"circle"}})],d.prototype,"profile",void 0);a.__decorate([b.property({type:n.lineJoins,json:{write:!0,default:"miter"}})],d.prototype,"join",void 0);a.__decorate([b.property({type:n.pathCaps,json:{write:!0,default:"butt"}})],d.prototype,"cap",void 0);a.__decorate([b.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],d.prototype,"width",void 0);a.__decorate([q.reader("width",["width","size","height"])],d.prototype,"readWidth",
null);a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"height",void 0);a.__decorate([q.reader("height",["height","size","width"])],d.prototype,"readHeight",null);a.__decorate([b.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],d.prototype,"anchor",void 0);a.__decorate([b.property({type:["heading","all"],json:{write:!0,default:"all"}})],d.prototype,"profileRotation",void 0);return d=u=a.__decorate([g.subclass("esri.symbols.PathSymbol3DLayer")],d)})},
"esri/symbols/TextSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial ./support/Symbol3DTextBackground ./support/textUtils".split(" "),function(a,b,d,f,e,k,q,g,p,l,n,u,m,c){var h;
f=h=class extends p{constructor(t){super(t);this._userSize=void 0;this.halo=null;this.horizontalAlignment="center";this.lineHeight=1;this.text=this.background=this.material=null;this.type="text";this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(t){null!=t&&null!=this._userSize&&(t.size=this._userSize);this._set("font",t)}writeFont(t,v,w,z){v.font=t.write({},{...z,textSymbol3D:!0});delete v.font.size}get size(){return null!=this._userSize?this._userSize:null!=this.font?.size?
this.font.size:9}set size(t){this._userSize=t;null!=this.font&&(this.font.size=this._userSize);this.notifyChange("size")}clone(){const t=new h({enabled:this.enabled,font:this.font&&b.clone(this.font),halo:this.halo&&b.clone(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:b.clone(this.background)});t._userSize=this._userSize;return t}static fromTextSymbol(t){var v=
h,w=null!=t.font?t.font.clone():new g;var z=t.haloColor;var y=t.haloSize;z=z&&null!=y&&0<y?new n.Symbol3DHalo({color:b.clone(z),size:y}):null;return new v({font:w,halo:z,horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new u.Symbol3DMaterial({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new m.Symbol3DTextBackground({color:t.backgroundColor.clone()}):null})}};a.__decorate([d.property({type:g,json:{write:!0}})],
f.prototype,"font",null);a.__decorate([q.writer("font")],f.prototype,"writeFont",null);a.__decorate([d.property({type:n.Symbol3DHalo,json:{write:!0}})],f.prototype,"halo",void 0);a.__decorate([d.property({...c.horizontalAlignmentProperty,json:{default:"center",write:!0}})],f.prototype,"horizontalAlignment",void 0);a.__decorate([d.property({...c.lineHeightProperty,json:{default:1,write:!0}})],f.prototype,"lineHeight",void 0);a.__decorate([d.property({type:u.Symbol3DMaterial,json:{write:!0}})],f.prototype,
"material",void 0);a.__decorate([d.property({type:m.Symbol3DTextBackground,json:{write:!0}})],f.prototype,"background",void 0);a.__decorate([d.property(l.screenSizeProperty)],f.prototype,"size",null);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"text",void 0);a.__decorate([e.enumeration({Text:"text"},{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([d.property({...c.verticalAlignmentProperty,json:{default:"baseline",write:!0}})],f.prototype,"verticalAlignment",void 0);
return f=h=a.__decorate([k.subclass("esri.symbols.TextSymbol3DLayer")],f)})},"esri/symbols/support/Symbol3DHalo":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,d,f,e,k,q,g,p){var l;a.Symbol3DHalo=l=class extends f.JSONSupport{constructor(){super(...arguments);this.color=new d([0,
0,0,1]);this.size=0}clone(){const n={color:e.clone(this.color),size:this.size};return new l(n)}};b.__decorate([k.property(p.colorAndTransparencyProperty)],a.Symbol3DHalo.prototype,"color",void 0);b.__decorate([k.property(p.screenSizeProperty)],a.Symbol3DHalo.prototype,"size",void 0);a.Symbol3DHalo=l=b.__decorate([g.subclass("esri.symbols.support.Symbol3DHalo")],a.Symbol3DHalo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DTextBackground":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l){a.Symbol3DTextBackground=class extends d.ClonableMixin(f.JSONSupport){constructor(n){super(n);this.color=null}};b.__decorate([e.property(l.colorAndTransparencyProperty)],a.Symbol3DTextBackground.prototype,"color",void 0);a.Symbol3DTextBackground=b.__decorate([p.subclass("esri.symbols.support.Symbol3DTextBackground")],a.Symbol3DTextBackground);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/WaterSymbol3DLayer":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer".split(" "),
function(a,b,d,f,e,k,q,g){var p;g=p=class extends g{constructor(n){super(n);this.color=l.clone();this.type="water";this.waterbodySize="medium";this.waveDirection=null;this.waveStrength="moderate"}clone(){return new p({color:d.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};a.__decorate([f.property({type:b,nonNullable:!0,json:{type:[e.Integer],write:(n,u,m)=>u[m]=n.toArray(b.AlphaMode.UNLESS_OPAQUE),default:()=>l.clone(),defaultEquals:n=>
n.toCss(!0)===l.toCss(!0)}})],g.prototype,"color",void 0);a.__decorate([k.enumeration({Water:"water"},{readOnly:!0})],g.prototype,"type",void 0);a.__decorate([f.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],g.prototype,"waterbodySize",void 0);a.__decorate([f.property({type:Number,json:{write:!0,default:null}})],g.prototype,"waveDirection",void 0);a.__decorate([f.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],g.prototype,
"waveStrength",void 0);g=p=a.__decorate([q.subclass("esri.symbols.WaterSymbol3DLayer")],g);const l=new b([0,119,190]);return g})},"esri/symbols/support/StyleOrigin":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../portal/Portal".split(" "),function(a,b,d,f,e,k,q,g){var p;b=p=class extends b{constructor(l){super(l);
this.portal=this.styleName=this.styleUrl=this.name=null}clone(){return new p({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};a.__decorate([d.property({type:String})],b.prototype,"name",void 0);a.__decorate([d.property({type:String})],b.prototype,"styleUrl",void 0);a.__decorate([d.property({type:String})],b.prototype,"styleName",void 0);a.__decorate([d.property({type:g})],b.prototype,"portal",void 0);return b=p=a.__decorate([q.subclass("esri.symbols.support.StyleOrigin")],
b)})},"esri/symbols/support/Thumbnail":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q,g){var p;a.Thumbnail=p=class extends d{constructor(){super(...arguments);this.url=""}clone(){return new p({url:this.url})}};b.__decorate([f.property({type:String})],a.Thumbnail.prototype,"url",
void 0);a.Thumbnail=p=b.__decorate([g.subclass("esri.symbols.support.Thumbnail")],a.Thumbnail);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/calloutUtils":function(){define(["exports","./Callout3D","./LineCallout3D"],function(a,b,d){function f(e){if(!e)return!1;e=e.verticalOffset;return!e||0>=e.screenLength||null!=e.maxWorldLength&&0>=e.maxWorldLength?!1:!0}a.calloutProperty={types:{key:"type",base:b,typeMap:{line:d}},json:{write:!0}};a.hasCalloutSupport=function(e){return"point-3d"===
e.type||"label-3d"===e.type};a.hasVisibleCallout=function(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const k=e.callout;return k&&k.visible?f(e)?!0:!1:!1};a.hasVisibleVerticalOffset=f;a.textSymbolLayerSupportsVerticalOffset=function(e){return"center"===e.horizontalAlignment};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/Callout3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q){b=class extends b.JSONSupport{constructor(g){super(g);this.visible=!0}clone(){}};a.__decorate([d.property({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);a.__decorate([d.property({readOnly:!0})],b.prototype,"visible",void 0);return b=a.__decorate([q.subclass("esri.symbols.callouts.Callout3D")],b)})},"esri/symbols/callouts/LineCallout3D":function(){define("../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){var u;k=u=class extends p{constructor(m){super(m);this.type="line";this.color=new b([0,0,0,1]);this.size=f.px2pt(1);this.border=null}get visible(){return 0<this.size&&null!=this.color&&0<this.color.a}clone(){return new u({color:d.clone(this.color),size:this.size,border:d.clone(this.border)})}};a.__decorate([q.enumeration({line:"line"})],k.prototype,"type",void 0);a.__decorate([e.property(n.colorAndTransparencyProperty)],k.prototype,"color",void 0);a.__decorate([e.property(n.screenSizeProperty)],
k.prototype,"size",void 0);a.__decorate([e.property({type:l,json:{write:!0}})],k.prototype,"border",void 0);a.__decorate([e.property({readOnly:!0})],k.prototype,"visible",null);return k=u=a.__decorate([g.subclass("esri.symbols.callouts.LineCallout3D")],k)})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,d,f,e,k,q,g){var p;d=p=class extends d.JSONSupport{constructor(l){super(l);this.color=new b("white")}clone(){return new p({color:f.clone(this.color)})}};a.__decorate([e.property(g.colorAndTransparencyProperty)],d.prototype,"color",void 0);return d=p=a.__decorate([q.subclass("esri.symbols.callouts.LineCallout3DBorder")],d)})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,d,f,e,k,q,g){var p;b=p=class extends b.JSONSupport{constructor(l){super(l);this.minWorldLength=this.screenLength=0;this.maxWorldLength=null}clone(){return new p({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};a.__decorate([d.property(g.screenSizeProperty)],b.prototype,"screenLength",void 0);a.__decorate([d.property({type:Number,nonNullable:!0,json:{write:!0,default:0}})],b.prototype,"minWorldLength",void 0);a.__decorate([d.property({type:Number,
json:{write:!0}})],b.prototype,"maxWorldLength",void 0);return b=p=a.__decorate([q.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b)})},"esri/symbols/LineSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(a,b,d,f,e,k,q,
g,p,l){var n;const u=b.ofType({base:null,key:"type",typeMap:{line:g,path:p}});e=b.ofType({base:null,key:"type",typeMap:{line:g,path:p}});l=n=class extends l{constructor(m){super(m);this.symbolLayers=new u;this.type="line-3d"}clone(){return new n({styleOrigin:d.clone(this.styleOrigin),symbolLayers:d.clone(this.symbolLayers),thumbnail:d.clone(this.thumbnail)})}static fromSimpleLineSymbol(m){return new n({symbolLayers:new b([g.fromSimpleLineSymbol(m)])})}};a.__decorate([f.property({type:u,json:{type:e}})],
l.prototype,"symbolLayers",void 0);a.__decorate([k.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],l.prototype,"type",void 0);return l=n=a.__decorate([q.subclass("esri.symbols.LineSymbol3D")],l)})},"esri/symbols/MarkerSymbol":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),function(a,b,d,f,e,k,q,g){f=class extends g{constructor(p){super(p);
this.angle=0;this.type=null;this.yoffset=this.xoffset=0;this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};a.__decorate([d.property({type:Number,json:{read:p=>p&&-1*p,write:(p,l)=>l.angle=p&&-1*p}})],f.prototype,"angle",void 0);a.__decorate([d.property({type:["simple-marker","picture-marker"],readOnly:!0})],f.prototype,"type",void 0);a.__decorate([d.property({type:Number,cast:b.toPt,json:{write:!0}})],f.prototype,"xoffset",void 0);a.__decorate([d.property({type:Number,
cast:b.toPt,json:{write:!0}})],f.prototype,"yoffset",void 0);a.__decorate([d.property({type:Number,cast:p=>"auto"===p?p:b.toPt(p),json:{write:!0}})],f.prototype,"size",void 0);return f=a.__decorate([q.subclass("esri.symbols.MarkerSymbol")],f)})},"esri/symbols/MeshSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,d,f,e,k,q,g,p){var l;const n=b.ofType({base:null,key:"type",typeMap:{fill:g}});e=l=class extends p{constructor(u){super(u);this.symbolLayers=new n;this.type="mesh-3d"}clone(){return new l({styleOrigin:d.clone(this.styleOrigin),symbolLayers:d.clone(this.symbolLayers),thumbnail:d.clone(this.thumbnail)})}static fromSimpleFillSymbol(u){return new l({symbolLayers:new b([g.fromSimpleFillSymbol(u)])})}};a.__decorate([f.property({type:n})],e.prototype,"symbolLayers",void 0);a.__decorate([k.enumeration({MeshSymbol3D:"mesh-3d"},
{readOnly:!0})],e.prototype,"type",void 0);return e=l=a.__decorate([q.subclass("esri.symbols.MeshSymbol3D")],e)})},"esri/symbols/PictureFillSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./support/urlUtils".split(" "),function(a,b,d,f,e,k,q,g,p){var l;e=l=class extends g{constructor(...n){super(...n);
this.type="picture-fill";this.url=null;this.yscale=this.xscale=1;this.height=this.width=12;this.yoffset=this.xoffset=0;this.source=null}normalizeCtorArgs(n,u,m,c){if(n&&"string"!==typeof n&&null==n.imageData)return n;const h={};n&&(h.url=n);u&&(h.outline=u);null!=m&&(h.width=d.toPt(m));null!=c&&(h.height=d.toPt(c));return h}clone(){const n=new l({color:b.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,
yoffset:this.yoffset,yscale:this.yscale});n._set("source",b.clone(this.source));return n}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};a.__decorate([k.enumeration({esriPFS:"picture-fill"},{readOnly:!0})],e.prototype,"type",void 0);a.__decorate([f.property(p.urlPropertyDefinition)],e.prototype,"url",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],e.prototype,"xscale",void 0);
a.__decorate([f.property({type:Number,json:{write:!0}})],e.prototype,"yscale",void 0);a.__decorate([f.property({type:Number,cast:d.toPt,json:{write:!0}})],e.prototype,"width",void 0);a.__decorate([f.property({type:Number,cast:d.toPt,json:{write:!0}})],e.prototype,"height",void 0);a.__decorate([f.property({type:Number,cast:d.toPt,json:{write:!0}})],e.prototype,"xoffset",void 0);a.__decorate([f.property({type:Number,cast:d.toPt,json:{write:!0}})],e.prototype,"yoffset",void 0);a.__decorate([f.property(p.sourcePropertyDefinition)],
e.prototype,"source",void 0);return e=l=a.__decorate([q.subclass("esri.symbols.PictureFillSymbol")],e)})},"esri/symbols/support/urlUtils":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,d){function f(g,p,l){return p.imageData?b.makeData({mediaType:p.contentType||"image/png",isBase64:!0,data:p.imageData}):e(p.url,l)}function e(g,p){return null==p||"service"!==p.origin&&"portal-item"!==p.origin||"feature"!==p.layer?.type&&"stream"!==p.layer?.type||
b.isAbsolute(g)||!p?.layer?.parsedUrl?d.fromJSON(g,p):b.join(p.layer.parsedUrl.path,"images",g)}function k(g,p,l,n){if(b.isDataProtocol(g)){if(g=b.dataComponents(g))p.contentType=g.mediaType,p.imageData=g.data,l&&l.imageData===p.imageData&&l.url&&d.write(l.url,p,"url",n)}else d.write(g,p,"url",n)}const q={json:{read:{source:["imageData","url"],reader:f},write:{writer(g,p,l,n){k(g,p,this.source,n)}}}};a.read=e;a.readImageDataOrUrl=f;a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData",
"url"],reader(g,p,l){g={};p.imageData&&(g.imageData=p.imageData);p.contentType&&(g.contentType=p.contentType);p.url&&(g.url=e(p.url,l));return g}}}};a.urlPropertyDefinition=q;a.writeImageDataAndUrl=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PictureMarkerSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./MarkerSymbol ./support/urlUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l){var n;e=n=class extends p{constructor(...u){super(...u);this.color=null;this.type="picture-marker";this.source=this.url=null;this.width=this.height=12;this.size=null}normalizeCtorArgs(u,m,c){if(u&&"string"!==typeof u&&null==u.imageData)return u;const h={};u&&(h.url=u);null!=m&&(h.width=d.toPt(m));null!=c&&(h.height=d.toPt(c));return h}readHeight(u,m){return m.size||u}readWidth(u,m){return m.size||u}clone(){const u=new n({angle:this.angle,height:this.height,url:this.url,
width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});u._set("source",b.clone(this.source));return u}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};a.__decorate([f.property({json:{write:!1}})],e.prototype,"color",void 0);a.__decorate([k.enumeration({esriPMS:"picture-marker"},{readOnly:!0})],e.prototype,"type",void 0);a.__decorate([f.property(l.urlPropertyDefinition)],e.prototype,"url",void 0);a.__decorate([f.property(l.sourcePropertyDefinition)],e.prototype,"source",
void 0);a.__decorate([f.property({type:Number,cast:d.toPt,json:{write:!0}})],e.prototype,"height",void 0);a.__decorate([q.reader("height",["height","size"])],e.prototype,"readHeight",null);a.__decorate([f.property({type:Number,cast:d.toPt,json:{write:!0}})],e.prototype,"width",void 0);a.__decorate([f.property({json:{write:!1}})],e.prototype,"size",void 0);return e=n=a.__decorate([g.subclass("esri.symbols.PictureMarkerSymbol")],e)})},"esri/symbols/PointSymbol3D":function(){define("../chunks/tslib.es6 ../Color ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./callouts/LineCallout3D ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h){var t;const v=d.ofType({base:null,key:"type",typeMap:{icon:p,object:l,text:u}});k=t=class extends n{constructor(w){super(w);this.callout=this.verticalOffset=null;this.symbolLayers=new v;this.type="point-3d"}supportsCallout(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(const w of this.symbolLayers.items)switch(w.type){case "icon":case "text":case "object":continue;default:return!1}return!0}hasVisibleCallout(){return m.hasVisibleCallout(this)}hasVisibleVerticalOffset(){return m.hasVisibleVerticalOffset(this)}clone(){return new t({verticalOffset:f.clone(this.verticalOffset),
callout:f.clone(this.callout),styleOrigin:f.clone(this.styleOrigin),symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail)})}static fromSimpleMarkerSymbol(w){return new t({symbolLayers:new d([p.fromSimpleMarkerSymbol(w)])})}static fromPictureMarkerSymbol(w){return new t({symbolLayers:new d([p.fromPictureMarkerSymbol(w)])})}static fromCIMSymbol(w){return"CIMPointSymbol"!==w.data?.symbol?.type?null:w.data.symbol?.callout?new t({symbolLayers:new d([p.fromCIMSymbol(w)]),callout:new c({size:.5,
color:new b([0,0,0])}),verticalOffset:new h({screenLength:40})}):new t({symbolLayers:new d([p.fromCIMSymbol(w)])})}static fromTextSymbol(w){return new t({symbolLayers:new d([u.fromTextSymbol(w)])})}};a.__decorate([e.property({type:h,json:{write:!0}})],k.prototype,"verticalOffset",void 0);a.__decorate([e.property(m.calloutProperty)],k.prototype,"callout",void 0);a.__decorate([e.property({type:v,json:{origins:{"web-scene":{write:!0}}}})],k.prototype,"symbolLayers",void 0);a.__decorate([q.enumeration({PointSymbol3D:"point-3d"},
{readOnly:!0})],k.prototype,"type",void 0);return k=t=a.__decorate([g.subclass("esri.symbols.PointSymbol3D")],k)})},"esri/symbols/PolygonSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/deprecate ../core/lang ../core/Logger ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w){var z;const y=b.ofType({base:null,key:"type",typeMap:{extrude:n,fill:u,icon:m,line:c,object:h,text:v,water:w}});g=z=class extends t{constructor(r){super(r);this.symbolLayers=new y;this.type="polygon-3d"}initialize(){const r=x=>{"line"===x.type&&d.deprecated(e.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"});"text"===x.type&&
d.deprecated(e.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const x of this.symbolLayers)r(x);this.addHandles(k.on(()=>this.symbolLayers,"after-add",({item:x})=>r(x),k.sync))}clone(){return new z({styleOrigin:f.clone(this.styleOrigin),symbolLayers:f.clone(this.symbolLayers),thumbnail:f.clone(this.thumbnail)})}static fromJSON(r){const x=new z;x.read(r);if(2===x.symbolLayers.length&&
"fill"===x.symbolLayers.at(0).type&&"line"===x.symbolLayers.at(1).type){const B=x.symbolLayers.at(0),A=x.symbolLayers.at(1);!A.enabled||r.symbolLayers?.[1]&&!1===r.symbolLayers[1].enable||(B.outline={size:A.size,color:null!=A.material?A.material.color:null});x.symbolLayers.removeAt(1)}return x}static fromSimpleFillSymbol(r){return new z({symbolLayers:new b([u.fromSimpleFillSymbol(r)])})}};a.__decorate([q.property({type:y,json:{write:!0}})],g.prototype,"symbolLayers",void 0);a.__decorate([p.enumeration({PolygonSymbol3D:"polygon-3d"},
{readOnly:!0})],g.prototype,"type",void 0);return g=z=a.__decorate([l.subclass("esri.symbols.PolygonSymbol3D")],g)})},"esri/core/reactiveUtils":function(){define("exports ./asyncUtils ./Collection ./events ./handleUtils ./maybe ./promiseUtils ./accessorSupport/watch ./accessorSupport/trackingUtils".split(" "),function(a,b,d,f,e,k,q,g,p){function l(v,w,z={}){return n(v,w,z,c)}function n(v,w,z={},y){let r=null;const x=z.once?(B,A)=>{y(B)&&(k.removeMaybe(r),w(B,A))}:(B,A)=>{y(B)&&w(B,A)};r=g.watchTracked(v,
x,z.sync,z.equals);z.initial&&(v=v(),x(v,v));return r}function u(v,w,z,y={}){function r(){B&&A&&(A.remove(),y.onListenerRemove?.(B),A=B=null)}function x(L){y.once&&y.once&&k.removeMaybe(E);z(L)}let B=null,A=null,E=null;const F=l(v,(L,D)=>{r();f.isEventTarget(L)&&(B=L,A=f.on(L,w,x),y.onListenerAdd?.(L))},{sync:y.sync,initial:!0});return E=e.makeHandle(()=>{F.remove();r()})}function m(v,w,z){if(q.isAborted(z))return Promise.reject(q.createAbortError());const y=v();if(w?.(y))return Promise.resolve(y);
let r=null;return new Promise((x,B)=>{r=e.handlesGroup([q.onAbort(z,()=>{r=k.removeMaybe(r);B(q.createAbortError())}),n(v,A=>{r=k.removeMaybe(r);x(A)},{sync:!1,once:!0},w??c)])})}function c(v){return!0}function h(v){return!!v}function t(v,w){const z=new d;v=u(v,"after-splice",({added:y,start:r,deleteCount:x})=>{x=z.splice(r,x);for(const B of x)B.remove();y?.length&&(y=y.map(w),z.addMany(y,r))},{sync:!0,onListenerRemove:()=>z.drain(y=>y.remove()),onListenerAdd:y=>z.addMany(y.items.map(w))});z.addHandles(v);
return z}a.autorun=p.autorun;a.initial={initial:!0};a.mapCollection=t;a.mapCollectionAsync=function(v,w){const z=new d,y=t(v,B=>b.createTask(async A=>{const E=await w(B,A);if(q.isAborted(A))throw E.remove(),q.createAbortError();return E})),r=()=>null,x=async B=>{const A=await B.promise;B=y.indexOf(B);0>B||z.splice(B,1,A)};z.addMany(y.items.map(r));for(const B of y)q.ignoreAbortErrors(x(B));v=y.on("after-splice",({added:B,start:A,deleteCount:E})=>{E=z.splice(A,E);for(const F of E)F?.remove();if(B?.length){z.addMany(B.map(r),
A);for(const F of B)q.ignoreAbortErrors(x(F))}});z.addHandles([e.destroyHandle(y),v]);return z};a.on=u;a.once=function(v,w){return m(v,null,w)};a.pausable=function(v,w,z={}){let y=!1;const r=l(v,(x,B)=>{y||w(x,B)},z);return{remove(){r.remove()},pause(){y=!0},resume(){y=!1}}};a.sync={sync:!0};a.syncAndInitial={sync:!0,initial:!0};a.watch=l;a.when=function(v,w,z={}){return n(v,w,z,h)};a.whenOnce=function(v,w){return m(v,h,w)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/SimpleFillSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./SimpleLineSymbol".split(" "),
function(a,b,d,f,e,k,q,g,p,l){var n;d=new d.JSONMap({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});p=n=class extends p{constructor(...u){super(...u);this.color=new b([0,0,0,.25]);this.outline=new l;this.type="simple-fill";this.style="solid"}normalizeCtorArgs(u,m,c){if(u&&"string"!==typeof u)return u;const h=
{};u&&(h.style=u);m&&(h.outline=m);c&&(h.color=c);return h}clone(){return new n({color:f.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};a.__decorate([e.property()],p.prototype,"color",void 0);a.__decorate([e.property()],p.prototype,"outline",void 0);a.__decorate([q.enumeration({esriSFS:"simple-fill"},{readOnly:!0})],p.prototype,"type",void 0);a.__decorate([e.property({type:d.apiValues,json:{read:d.read,
write:d.write}})],p.prototype,"style",void 0);return p=n=a.__decorate([g.subclass("esri.symbols.SimpleFillSymbol")],p)})},"esri/symbols/SimpleMarkerSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u){var m;d=new d.JSONMap({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});n=m=class extends n{constructor(...c){super(...c);this.color=new b([255,255,255,.25]);this.type="simple-marker";this.size=12;this.style="circle";this.outline=new u}normalizeCtorArgs(c,h,t,v){if(c&&"string"!==typeof c)return c;const w={};c&&(w.style=c);null!=h&&(w.size=e.toPt(h));t&&(w.outline=
t);v&&(w.color=v);return w}writeColor(c,h){c&&"x"!==this.style&&"cross"!==this.style&&(h.color=c.toJSON());null===c&&(h.color=null)}set path(c){this.style="path";this._set("path",c)}clone(){return new m({angle:this.angle,color:f.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};a.__decorate([k.property()],
n.prototype,"color",void 0);a.__decorate([l.writer("color")],n.prototype,"writeColor",null);a.__decorate([g.enumeration({esriSMS:"simple-marker"},{readOnly:!0})],n.prototype,"type",void 0);a.__decorate([k.property()],n.prototype,"size",void 0);a.__decorate([k.property({type:d.apiValues,json:{read:d.read,write:d.write}})],n.prototype,"style",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],n.prototype,"path",null);a.__decorate([k.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",
typeMap:{"simple-line":u}},json:{default:null,write:!0}})],n.prototype,"outline",void 0);return n=m=a.__decorate([p.subclass("esri.symbols.SimpleMarkerSymbol")],n)})},"esri/symbols/TextSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol ./support/textUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u){var m;n=m=class extends n{constructor(...c){super(...c);this.borderLineSize=this.borderLineColor=this.backgroundColor=null;this.font=new l;this.horizontalAlignment="center";this.kerning=!0;this.rightToLeft=this.haloSize=this.haloColor=null;this.rotated=!1;this.text="";this.type="text";this.verticalAlignment="baseline";this.angle=this.yoffset=this.xoffset=0;this.width=null;this.lineWidth=192;this.lineHeight=1}normalizeCtorArgs(c,h,t){if(c&&"string"!==typeof c)return c;
const v={};c&&(v.text=c);h&&(v.font=h);t&&(v.color=t);return v}writeLineWidth(c,h,t,v){v&&"string"!==typeof v||(h[t]=c)}castLineWidth(c){return f.toPt(c)}writeLineHeight(c,h,t,v){v&&"string"!==typeof v||(h[t]=c)}clone(){return new m({angle:this.angle,backgroundColor:d.clone(this.backgroundColor),borderLineColor:d.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:d.clone(this.color),font:this.font&&this.font.clone(),haloColor:d.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,
kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};
a.__decorate([e.property({type:b,json:{write:!0}})],n.prototype,"backgroundColor",void 0);a.__decorate([e.property({type:b,json:{write:!0}})],n.prototype,"borderLineColor",void 0);a.__decorate([e.property({type:Number,json:{write:!0},cast:f.toPt})],n.prototype,"borderLineSize",void 0);a.__decorate([e.property({type:l,json:{write:!0}})],n.prototype,"font",void 0);a.__decorate([e.property({...u.horizontalAlignmentProperty,json:{write:!0}})],n.prototype,"horizontalAlignment",void 0);a.__decorate([e.property({type:Boolean,
json:{write:!0}})],n.prototype,"kerning",void 0);a.__decorate([e.property({type:b,json:{write:!0}})],n.prototype,"haloColor",void 0);a.__decorate([e.property({type:Number,cast:f.toPt,json:{write:!0}})],n.prototype,"haloSize",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0}})],n.prototype,"rightToLeft",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0}})],n.prototype,"rotated",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],n.prototype,"text",void 0);a.__decorate([q.enumeration({esriTS:"text"},
{readOnly:!0})],n.prototype,"type",void 0);a.__decorate([e.property({...u.verticalAlignmentProperty,json:{write:!0}})],n.prototype,"verticalAlignment",void 0);a.__decorate([e.property({type:Number,cast:f.toPt,json:{write:!0}})],n.prototype,"xoffset",void 0);a.__decorate([e.property({type:Number,cast:f.toPt,json:{write:!0}})],n.prototype,"yoffset",void 0);a.__decorate([e.property({type:Number,json:{read:c=>c&&-1*c,write:(c,h)=>h.angle=c&&-1*c}})],n.prototype,"angle",void 0);a.__decorate([e.property({type:Number,
json:{write:!0}})],n.prototype,"width",void 0);a.__decorate([e.property({type:Number})],n.prototype,"lineWidth",void 0);a.__decorate([p.writer("lineWidth")],n.prototype,"writeLineWidth",null);a.__decorate([k.cast("lineWidth")],n.prototype,"castLineWidth",null);a.__decorate([e.property(u.lineHeightProperty)],n.prototype,"lineHeight",void 0);a.__decorate([p.writer("lineHeight")],n.prototype,"writeLineHeight",null);return n=m=a.__decorate([g.subclass("esri.symbols.TextSymbol")],n)})},"esri/symbols/WebStyleSymbol":function(){define("require ../chunks/tslib.es6 ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../portal/Portal ../chunks/persistableUrlUtils ./Symbol ./support/Thumbnail".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c){var h;k=h=class extends m{constructor(t){super(t);this.name=this.thumbnail=this.styleUrl=this.portal=this.styleName=this.color=null;this.type="web-style"}get _fetchCacheKey(){const t=null!=this.portal?this.portal:n.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${t.user?t.user.username:null}:${t.url}`}read(t,v){this.portal=v?.portal;super.read(t,v)}clone(){return new h({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol("webRef",
t)}fetchCIMSymbol(t){return this._fetchSymbol("cimRef",t)}async _fetchSymbol(t,v){const w=null!=v?v.cache:null,z=w?this._fetchCacheKey:null;if(null!=w){var y=z&&w.get(z);if(y)return y.clone()}({resolveWebStyleSymbol:y}=await new Promise((r,x)=>a(["./support/webStyleSymbolUtils"],r,x)));f.throwIfAborted(v);v=y(this,{portal:this.portal},t,v);v.catch(r=>{d.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",r)});v=await v;if(!("webRef"===t&&"point-3d"===v.type||"cimRef"===t&&
"cim"===v.type))return null;null!=w&&w.set(z,v.clone());return v}};b.__decorate([e.property({json:{write:!1}})],k.prototype,"color",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],k.prototype,"styleName",void 0);b.__decorate([e.property({type:n,json:{write:!1}})],k.prototype,"portal",void 0);b.__decorate([e.property({type:String,json:{read:u.read,write:u.write}})],k.prototype,"styleUrl",void 0);b.__decorate([e.property({type:c.Thumbnail,json:{read:!1}})],k.prototype,"thumbnail",void 0);
b.__decorate([e.property({type:String,json:{write:!0}})],k.prototype,"name",void 0);b.__decorate([p.enumeration({styleSymbolReference:"web-style"},{readOnly:!0})],k.prototype,"type",void 0);b.__decorate([e.property()],k.prototype,"_fetchCacheKey",null);return k=h=b.__decorate([l.subclass("esri.symbols.WebStyleSymbol")],k)})},"esri/renderers/Renderer":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./support/AuthoringInfo".split(" "),
function(a,b,d,f,e,k,q,g,p){b=new b.JSONMap({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});d=class extends d.JSONSupport{constructor(l){super(l);this.type=this.authoringInfo=null}async getRequiredFields(l){if(!this.collectRequiredFields)return[];const n=new Set;await this.collectRequiredFields(n,l);return Array.from(n).sort()}getSymbol(l,n){}async getSymbolAsync(l,n){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};
a.__decorate([f.property({type:p,json:{write:!0}})],d.prototype,"authoringInfo",void 0);a.__decorate([f.property({type:b.apiValues,readOnly:!0,json:{type:b.jsonValues,read:!1,write:{writer:b.write,ignoreOrigin:!0}}})],d.prototype,"type",void 0);return d=a.__decorate([g.subclass("esri.renderers.Renderer")],d)})},"esri/renderers/support/AuthoringInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../rest/support/colorRamps".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){var u;const m=new b.JSONMap({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),c=new b.JSONMap({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",
dotDensity:"dot-density",flow:"flow"});b=new b.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"});const h="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");d=u=class extends d.JSONSupport{constructor(t){super(t);this.fadeRatio=this.colorRamp=null;this.isAutoGenerated=!1;this.visualVariables=
this.minSliderValue=this.maxSliderValue=this.lengthUnit=null}get classificationMethod(){const t=this._get("classificationMethod"),v=this.type;return v&&"relationship"!==v?"class-breaks-size"===v||"class-breaks-color"===v?t||"manual":null:t}set classificationMethod(t){this._set("classificationMethod",t)}readColorRamp(t){return t?n.fromJSON(t):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(t){this._set("fields",t)}get field1(){return this.type&&
"relationship"!==this.type?null:this._get("field1")}set field1(t){this._set("field1",t)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(t){this._set("field2",t)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(t){this._set("flowTheme",t)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(t){this._set("focus",t)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(t){this._set("numClasses",
t)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(t){this._set("statistics",t)}get standardDeviationInterval(){const t=this.type;return t&&"relationship"!==t&&"class-breaks-size"!==t&&"class-breaks-color"!==t?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(t){this._set("standardDeviationInterval",
t)}get type(){return this._get("type")}set type(t){let v=t;"classed-size"===t?v="class-breaks-size":"classed-color"===t&&(v="class-breaks-color");this._set("type",v)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(t){this._set("univariateSymbolStyle",t)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(t){this._set("univariateTheme",
t)}clone(){return new u({classificationMethod:this.classificationMethod,colorRamp:f.clone(this.colorRamp),fadeRatio:f.clone(this.fadeRatio),fields:this.fields?.slice(0),field1:f.clone(this.field1),field2:f.clone(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,
visualVariables:this.visualVariables&&this.visualVariables.map(t=>t.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};a.__decorate([e.property({type:m.apiValues,value:null,json:{type:m.jsonValues,read:m.read,write:m.write,origins:{"web-document":{default:"manual",type:m.jsonValues,read:m.read,write:m.write}}}})],d.prototype,"classificationMethod",null);a.__decorate([e.property({types:n.types,json:{write:!0}})],d.prototype,"colorRamp",
void 0);a.__decorate([q.reader("colorRamp")],d.prototype,"readColorRamp",null);a.__decorate([e.property({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],d.prototype,"fadeRatio",void 0);a.__decorate([e.property({type:[String],value:null,json:{write:!0}})],d.prototype,"fields",null);a.__decorate([e.property({type:p.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],d.prototype,"field1",null);a.__decorate([e.property({type:p.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],d.prototype,
"field2",null);a.__decorate([e.property({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],d.prototype,"flowTheme",null);a.__decorate([e.property({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],d.prototype,"focus",null);a.__decorate([e.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],d.prototype,"isAutoGenerated",void 0);a.__decorate([e.property({type:Number,value:null,json:{type:k.Integer,write:!0}})],d.prototype,
"numClasses",null);a.__decorate([e.property({type:h,json:{type:h,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],d.prototype,"lengthUnit",void 0);a.__decorate([e.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],d.prototype,"maxSliderValue",void 0);a.__decorate([e.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],d.prototype,"minSliderValue",void 0);a.__decorate([e.property({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,
read:!1}}}})],d.prototype,"statistics",null);a.__decorate([e.property({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],d.prototype,"standardDeviationInterval",null);a.__decorate([e.property({type:c.apiValues,value:null,json:{type:c.jsonValues,read:c.read,write:c.write,origins:{"web-scene":{type:b.jsonValues,write:{writer:b.write,overridePolicy(t){return{enabled:"flow"!==t}}}}}}})],d.prototype,"type",null);a.__decorate([e.property({type:[l],json:{write:!0}})],d.prototype,"visualVariables",
void 0);a.__decorate([e.property({type:"caret circle-caret arrow circle-arrow plus-minus circle-plus-minus square circle triangle happy-sad thumb custom".split(" "),value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],d.prototype,"univariateSymbolStyle",null);a.__decorate([e.property({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],d.prototype,"univariateTheme",null);return d=u=a.__decorate([g.subclass("esri.renderers.support.AuthoringInfo")],
d)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AuthoringInfoClassBreakInfo".split(" "),function(a,b,d,f,e,k,q,g){var p;a.AuthoringInfoFieldInfo=p=class extends d.JSONSupport{constructor(l){super(l);this.label=this.normalizationField=this.field="";this.classBreakInfos=[]}clone(){return new p({field:this.field,
normalizationField:this.normalizationField,label:this.label,classBreakInfos:f.clone(this.classBreakInfos)})}};b.__decorate([e.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"field",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"normalizationField",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"label",void 0);b.__decorate([e.property({type:[g.AuthoringInfoClassBreakInfo],
json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"classBreakInfos",void 0);a.AuthoringInfoFieldInfo=p=b.__decorate([q.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],a.AuthoringInfoFieldInfo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g){var p;a.AuthoringInfoClassBreakInfo=p=class extends d.JSONSupport{constructor(l){super(l);this.maxValue=this.minValue=0}clone(){return new p({minValue:this.minValue,maxValue:this.maxValue})}};b.__decorate([f.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"minValue",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"maxValue",void 0);a.AuthoringInfoClassBreakInfo=p=b.__decorate([g.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],
a.AuthoringInfoClassBreakInfo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k){var q;const g=new b.JSONMap({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"});b=new b.JSONMap({sizeInfo:"size",
colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"});const p={key(m){return"number"===typeof m?"number":"string"},typeMap:{number:Number,string:String},base:null},l=["high-to-low","above-and-below","centered-on","extremes"],n=[...(new Set("high-to-low above-and-below centered-on extremes 90-10 above below high-to-low above-and-below 90-10 above below".split(" ")))],u="seconds minutes hours days months years".split(" ");d=q=class extends d.JSONSupport{constructor(m){super(m);this.units=
this.type=this.startTime=this.minSliderValue=this.maxSliderValue=this.field=this.endTime=null}castEndTime(m){return"string"===typeof m||"number"===typeof m?m:null}castStartTime(m){return"string"===typeof m||"number"===typeof m?m:null}get style(){return"color"===this.type?this._get("style"):null}set style(m){this._set("style",m)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(m){this._set("theme",m)}clone(){return new q({endTime:this.endTime,
field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};a.__decorate([f.property({types:p,json:{write:!0}})],d.prototype,"endTime",void 0);a.__decorate([e.cast("endTime")],d.prototype,"castEndTime",null);a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"field",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"maxSliderValue",
void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"minSliderValue",void 0);a.__decorate([f.property({types:p,json:{write:!0}})],d.prototype,"startTime",void 0);a.__decorate([e.cast("startTime")],d.prototype,"castStartTime",null);a.__decorate([f.property({type:g.apiValues,value:null,json:{type:g.jsonValues,read:g.read,write:g.write}})],d.prototype,"style",null);a.__decorate([f.property({type:n,value:null,json:{type:n,origins:{"web-scene":{type:l,write:{writer:(m,c)=>{l.includes(m)&&
(c.theme=m)}}}},write:!0}})],d.prototype,"theme",null);a.__decorate([f.property({type:b.apiValues,json:{type:b.jsonValues,read:b.read,write:b.write}})],d.prototype,"type",void 0);a.__decorate([f.property({type:u,json:{type:u,write:!0}})],d.prototype,"units",void 0);return d=q=a.__decorate([k.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],d)})},"esri/rest/support/colorRamps":function(){define(["exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,b,d,
f){d={key:"type",base:d,typeMap:{algorithmic:b,multipart:f}};a.fromJSON=function(e){return e?.type?"algorithmic"===e.type?b.fromJSON(e):"multipart"===e.type?f.fromJSON(e):null:null};a.types=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AlgorithmicColorRamp":function(){define("../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./ColorRamp".split(" "),
function(a,b,d,f,e,k,q,g){var p;g=p=class extends g{constructor(l){super(l);this.toColor=this.fromColor=this.algorithm=null;this.type="algorithmic"}clone(){return new p({fromColor:d.clone(this.fromColor),toColor:d.clone(this.toColor),algorithm:this.algorithm})}};a.__decorate([k.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],g.prototype,"algorithm",void 0);a.__decorate([f.property({type:b,json:{type:[e.Integer],write:!0}})],g.prototype,"fromColor",
void 0);a.__decorate([f.property({type:b,json:{type:[e.Integer],write:!0}})],g.prototype,"toColor",void 0);a.__decorate([f.property({type:["algorithmic"]})],g.prototype,"type",void 0);return g=p=a.__decorate([q.subclass("esri.rest.support.AlgorithmicColorRamp")],g)})},"esri/rest/support/ColorRamp":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q){b=class extends b.JSONSupport{constructor(g){super(g);this.type=null}};a.__decorate([d.property({readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([q.subclass("esri.rest.support.ColorRamp")],b)})},"esri/rest/support/MultipartColorRamp":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(a,b,d,f,e,k,q){var g;f=g=class extends q{constructor(p){super(p);this.colorRamps=null;this.type="multipart"}clone(){return new g({colorRamps:b.clone(this.colorRamps)})}};a.__decorate([d.property({type:[k],json:{write:!0}})],f.prototype,"colorRamps",void 0);a.__decorate([d.property({type:["multipart"]})],f.prototype,"type",void 0);return f=g=a.__decorate([e.subclass("esri.rest.support.MultipartColorRamp")],f)})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/fieldUtils ../support/randomRotationExpression ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v){const w={base:t,key:"type",typeMap:{opacity:m,color:u,rotation:c,size:h}};a.VisualVariablesMixin=z=>{z=class extends z{constructor(){super(...arguments);this._vvFactory=new v}set visualVariables(y){this._vvFactory.visualVariables=y;this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(y,r,x){return this._vvFactory.readVariables(y,r,x)}writeVisualVariables(y,r,x,B){r[x]=this._vvFactory.writeVariables(y,B)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;
for(const y of this.visualVariables)if(y.arcadeRequired)return!0;return!1}hasVisualVariables(y,r){return y?0<this.getVisualVariablesForType(y,r).length:0<this.getVisualVariablesForType("size",r).length||0<this.getVisualVariablesForType("color",r).length||0<this.getVisualVariablesForType("opacity",r).length||0<this.getVisualVariablesForType("rotation",r).length}getVisualVariablesForType(y,r){const x=this.visualVariables;return x?x.filter(B=>B.type===y&&("string"===typeof r?B.target===r:!1===r?!B.target:
!0)):[]}async collectVVRequiredFields(y,r){var x=[];this.visualVariables&&(x=x.concat(this.visualVariables));for(const A of x)if(A&&(A.field&&l.collectField(y,r,A.field),A.normalizationField&&l.collectField(y,r,A.normalizationField),A.valueExpression)){{x=y;var B=r;const E=n.matchRandomRotationExpression(A.valueExpression);null!=E?(l.collectField(x,B,E),x=!0):x=!1}x||await l.collectArcadeFieldNames(y,r,A.valueExpression)}}};b.__decorate([d.property({types:[w],value:null,json:{write:!0}})],z.prototype,
"visualVariables",null);b.__decorate([q.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],z.prototype,"readVisualVariables",null);b.__decorate([p.writer("visualVariables")],z.prototype,"writeVisualVariables",null);return z=b.__decorate([g.subclass("esri.renderers.mixins.VisualVariablesMixin")],z)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/randomRotationExpression":function(){define(["exports"],function(a){const b=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;
a.matchRandomRotationExpression=function(d){return d.match(b)?.[1]?.replace(/\\'/g,"'")??null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/ColorVariable":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/ColorStop".split(" "),function(a,b,d,f,e,k,q,g){var p;d=p=
class extends q{constructor(l){super(l);this.type="color";this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(l){l&&Array.isArray(l)&&(l=l.filter(n=>!!n),l.sort((n,u)=>n.value-u.value));this._set("stops",l)}clone(){return new p({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(l=>
l.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(l=>l.value||0)}};a.__decorate([b.property({readOnly:!0})],d.prototype,"cache",null);a.__decorate([b.property({type:["color"],json:{type:["colorInfo"]}})],d.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"normalizationField",void 0);a.__decorate([b.property({type:[g],
json:{write:!0}})],d.prototype,"stops",null);return d=p=a.__decorate([k.subclass("esri.renderers.visualVariables.ColorVariable")],d)})},"esri/renderers/visualVariables/VisualVariable":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
function(a,b,d,f,e,k,q,g,p){b=new b.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});d=class extends d.JSONSupport{constructor(l){super(l);this.legendOptions=this.valueExpressionTitle=this.valueExpression=this.field=this.type=this.index=null}castField(l){return null==l?l:"function"===typeof l?(f.getLogger(this).error(".field: field must be a string value"),null):g.ensureString(l)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};
a.__decorate([e.property()],d.prototype,"index",void 0);a.__decorate([e.property({type:b.apiValues,readOnly:!0,json:{read:b.read,write:b.write}})],d.prototype,"type",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"field",void 0);a.__decorate([k.cast("field")],d.prototype,"castField",null);a.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"valueExpression",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"valueExpressionTitle",
void 0);a.__decorate([e.property({readOnly:!0})],d.prototype,"arcadeRequired",null);a.__decorate([e.property({type:p,json:{write:!0}})],d.prototype,"legendOptions",void 0);return d=a.__decorate([q.subclass("esri.renderers.visualVariables.VisualVariable")],d)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../support/LegendOptions".split(" "),
function(a,b,d,f,e,k,q){var g;d=g=class extends q.LegendOptions{constructor(){super(...arguments);this.showLegend=null}clone(){return new g({title:this.title,showLegend:this.showLegend})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],d.prototype,"showLegend",void 0);return d=g=a.__decorate([k.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],d)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g){var p;a.LegendOptions=p=class extends d.JSONSupport{constructor(){super(...arguments);this.title=null}clone(){return new p({title:this.title})}};b.__decorate([f.property({type:String,json:{write:!0}})],a.LegendOptions.prototype,"title",void 0);a.LegendOptions=p=b.__decorate([g.subclass("esri.renderers.support.LegendOptions")],a.LegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,d,f,e,k,q,g,p){var l;d=l=class extends d.JSONSupport{constructor(n){super(n);this.value=this.label=this.color=null}writeValue(n,u,m){u[m]=null==n?0:n}clone(){return new l({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};a.__decorate([f.property({type:b,json:{type:[e.Integer],write:!0}})],d.prototype,"color",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);a.__decorate([f.property({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],
d.prototype,"value",void 0);a.__decorate([p.writer("value")],d.prototype,"writeValue",null);return d=l=a.__decorate([g.subclass("esri.renderers.visualVariables.support.ColorStop")],d)})},"esri/renderers/visualVariables/OpacityVariable":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/OpacityStop".split(" "),function(a,
b,d,f,e,k,q,g){var p;d=p=class extends q{constructor(l){super(l);this.type="opacity";this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(l){l&&Array.isArray(l)&&(l=l.filter(n=>!!n),l.sort((n,u)=>n.value-u.value));this._set("stops",l)}clone(){return new p({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&
this.stops.map(l=>l.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(l=>l.value||0)}};a.__decorate([b.property({readOnly:!0})],d.prototype,"cache",null);a.__decorate([b.property({type:["opacity"],json:{type:["transparencyInfo"]}})],d.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"normalizationField",void 0);a.__decorate([b.property({type:[g],
json:{write:!0}})],d.prototype,"stops",null);return d=p=a.__decorate([k.subclass("esri.renderers.visualVariables.OpacityVariable")],d)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../webdoc/support/opacityUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l){var n;b=n=class extends b.JSONSupport{constructor(u){super(u);this.value=this.opacity=this.label=null}readOpacity(u,m){return l.transparencyToOpacity(m.transparency)}writeOpacity(u,m,c){m[c]=l.opacityToTransparency(u)}clone(){return new n({label:this.label,opacity:this.opacity,value:this.value})}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([d.property({type:Number,json:{type:f.Integer,write:{target:"transparency"}}})],
b.prototype,"opacity",void 0);a.__decorate([q.reader("opacity",["transparency"])],b.prototype,"readOpacity",null);a.__decorate([p.writer("opacity")],b.prototype,"writeOpacity",null);a.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=n=a.__decorate([g.subclass("esri.renderers.visualVariables.support.OpacityStop")],b)})},"esri/renderers/visualVariables/RotationVariable":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable".split(" "),
function(a,b,d,f,e,k,q,g,p){var l;f=l=class extends p{constructor(n){super(n);this.axis=null;this.type="rotation";this.rotationType="geographic";this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(n,u,m,c){c?.messages&&c.messages.push(new b("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}]`+
".valueExpressionTitle",context:c}))}clone(){return new l({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};a.__decorate([d.property({readOnly:!0})],f.prototype,"cache",null);a.__decorate([d.property({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],f.prototype,"axis",void 0);a.__decorate([d.property({type:["rotation"],
json:{type:["rotationInfo"]}})],f.prototype,"type",void 0);a.__decorate([d.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],f.prototype,"rotationType",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"valueExpressionTitle",void 0);a.__decorate([g.writer("web-scene","valueExpressionTitle")],f.prototype,"writeValueExpressionTitleWebScene",null);return f=l=a.__decorate([q.subclass("esri.renderers.visualVariables.RotationVariable")],
f)})},"esri/renderers/visualVariables/SizeVariable":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h){function t(x){if(null!=x){if("string"===typeof x||"number"===typeof x)return e.toPt(x);if("size"===x.type){if(c.isSizeVariable(x))return x;x={...x};delete x.type;return new r(x)}}}function v(x,B,A){if("object"!==typeof x)return x;B=new r;B.read(x,A);return B}var w;const z=new d.JSONMap({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),y=new d.JSONMap({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles",
"nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});let r=w=class extends n{constructor(x){super(x);this.target=this.scaleBy=this.normalizationField=this.legendOptions=this.axis=null;this.type="size";this.valueUnit=this.valueRepresentation=this.valueExpression=this.useSymbolValue=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,
compiledFunc:null,isScaleDriven:null!=this.valueExpression&&h.viewScaleRE.test(this.valueExpression)}}set expression(x){f.getLogger(this).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");"view.scale"===x?(this.valueExpression="$view.scale",this._set("expression",x)):this._set("expression",null)}set index(x){c.isSizeVariable(this.maxSize)&&(this.maxSize.index=`visualVariables[${x}].maxSize`);c.isSizeVariable(this.minSize)&&
(this.minSize.index=`visualVariables[${x}].minSize`);this._set("index",x)}get inputValueType(){return c.getInputValueType(this)}set maxDataValue(x){x&&this.stops&&(f.getLogger(this).warn("cannot set maxDataValue when stops is not null."),x=null);this._set("maxDataValue",x)}set maxSize(x){x&&this.stops&&(f.getLogger(this).warn("cannot set maxSize when stops is not null."),x=null);this._set("maxSize",x)}castMaxSize(x){return t(x)}readMaxSize(x,B,A){return v(x,B,A)}set minDataValue(x){x&&this.stops&&
(f.getLogger(this).warn("cannot set minDataValue when stops is not null."),x=null);this._set("minDataValue",x)}set minSize(x){x&&this.stops&&(f.getLogger(this).warn("cannot set minSize when stops is not null."),x=null);this._set("minSize",x)}castMinSize(x){return t(x)}readMinSize(x,B,A){return v(x,B,A)}get arcadeRequired(){return this.valueExpression?!0:null!=this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(x){null==
this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?x&&Array.isArray(x)&&(x=x.filter(B=>!!B),x.sort((B,A)=>B.value-A.value)):x&&(f.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),x=null);this._set("stops",x)}get transformationType(){return c.getTransformationType(this,this.inputValueType)}readValueExpression(x,B){return x||B.expression&&"$view.scale"}writeValueExpressionWebScene(x,B,A,E){"$view.scale"===
x?E?.messages&&(x=this.index,E.messages.push(new b("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"===typeof x?x:`visualVariables[${x}]`)+".valueExpression",context:E}))):B[A]=x}readValueUnit(x){return x?y.read(x):null}clone(){return new w({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,
maxDataValue:this.maxDataValue,maxSize:c.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:c.isSizeVariable(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(x=>x.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===c.TransformationType.ClampedLinear){const {minSize:x,
maxSize:B}=this;this.minSize=B;this.maxSize=x;return this}if(this.transformationType===c.TransformationType.Stops){const x=this.stops;if(!x)return this;const B=x.map(E=>E.size).reverse(),A=x.length;for(let E=0;E<A;E++)x[E].size=B[E]}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(x=>x.value||0)}};a.__decorate([k.property({readOnly:!0})],r.prototype,"cache",null);a.__decorate([k.property({type:z.apiValues,
json:{type:z.jsonValues,origins:{"web-map":{read:!1}},read:z.read,write:z.write}})],r.prototype,"axis",void 0);a.__decorate([k.property({type:String,value:null,json:{read:!1}})],r.prototype,"expression",null);a.__decorate([k.property()],r.prototype,"index",null);a.__decorate([k.property({type:String,readOnly:!0})],r.prototype,"inputValueType",null);a.__decorate([k.property({type:m,json:{write:!0}})],r.prototype,"legendOptions",void 0);a.__decorate([k.property({type:Number,value:null,json:{write:!0}})],
r.prototype,"maxDataValue",null);a.__decorate([k.property({type:Number,value:null,json:{write:!0}})],r.prototype,"maxSize",null);a.__decorate([q.cast("maxSize")],r.prototype,"castMaxSize",null);a.__decorate([g.reader("maxSize")],r.prototype,"readMaxSize",null);a.__decorate([k.property({type:Number,value:null,json:{write:!0}})],r.prototype,"minDataValue",null);a.__decorate([k.property({type:Number,value:null,json:{write:!0}})],r.prototype,"minSize",null);a.__decorate([q.cast("minSize")],r.prototype,
"castMinSize",null);a.__decorate([g.reader("minSize")],r.prototype,"readMinSize",null);a.__decorate([k.property({type:String,json:{write:!0}})],r.prototype,"normalizationField",void 0);a.__decorate([k.property({readOnly:!0})],r.prototype,"arcadeRequired",null);a.__decorate([k.property({type:String})],r.prototype,"scaleBy",void 0);a.__decorate([k.property({type:[u],value:null,json:{write:!0}})],r.prototype,"stops",null);a.__decorate([k.property({type:["outline"],json:{write:!0}})],r.prototype,"target",
void 0);a.__decorate([k.property({type:String,readOnly:!0})],r.prototype,"transformationType",null);a.__decorate([k.property({type:["size"],json:{type:["sizeInfo"]}})],r.prototype,"type",void 0);a.__decorate([k.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],r.prototype,"useSymbolValue",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],r.prototype,"valueExpression",void 0);a.__decorate([g.reader("valueExpression",["valueExpression","expression"])],r.prototype,
"readValueExpression",null);a.__decorate([l.writer("web-scene","valueExpression")],r.prototype,"writeValueExpressionWebScene",null);a.__decorate([k.property({type:["radius","diameter","area","width","distance"],json:{write:!0}})],r.prototype,"valueRepresentation",void 0);a.__decorate([k.property({type:y.apiValues,json:{write:y.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],r.prototype,"valueUnit",void 0);a.__decorate([g.reader("valueUnit")],r.prototype,"readValueUnit",
null);return r=w=a.__decorate([p.subclass("esri.renderers.visualVariables.SizeVariable")],r)})},"esri/renderers/visualVariables/support/SizeStop":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q,g){var p;b=p=class extends b.JSONSupport{constructor(l){super(l);
this.value=this.size=this.label=null}clone(){return new p({label:this.label,size:this.size,value:this.value})}};a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([f.property({type:Number,cast:d.toPt,json:{write:!0}})],b.prototype,"size",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=p=a.__decorate([g.subclass("esri.renderers.visualVariables.support.SizeStop")],b)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./VisualVariableLegendOptions".split(" "),
function(a,b,d,f,e,k,q){var g;d=g=class extends q{constructor(){super(...arguments);this.customValues=null}clone(){return new g({title:this.title,showLegend:this.showLegend,customValues:this.customValues?.slice(0)})}};a.__decorate([b.property({type:[Number],json:{write:!0}})],d.prototype,"customValues",void 0);return d=g=a.__decorate([k.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],d)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["exports"],
function(a){function b(d){return d.valueExpression?a.InputValueType.Expression:d.field&&"string"===typeof d.field?a.InputValueType.Field:a.InputValueType.Unknown}a.InputValueType=void 0;(function(d){d.Unknown="unknown";d.Expression="expression";d.Field="field"})(a.InputValueType||(a.InputValueType={}));a.TransformationType=void 0;(function(d){d.Unknown="unknown";d.Stops="stops";d.ClampedLinear="clamped-linear";d.Proportional="proportional";d.Additive="additive";d.Constant="constant";d.Identity="identity";
d.RealWorldSize="real-world-size"})(a.TransformationType||(a.TransformationType={}));a.getInputValueType=b;a.getTransformationType=function(d,f){return(f||b(d))===a.InputValueType.Unknown?a.TransformationType.Constant:d.stops?a.TransformationType.Stops:null!=d.minSize&&null!=d.maxSize&&null!=d.minDataValue&&null!=d.maxDataValue?a.TransformationType.ClampedLinear:"unknown"===(d.valueUnit||"unknown")?null!=d.minSize&&null!=d.minDataValue?d.minSize&&d.minDataValue?a.TransformationType.Proportional:a.TransformationType.Additive:
a.TransformationType.Identity:a.TransformationType.RealWorldSize};a.isSizeVariable=function(d){return d&&"esri.renderers.visualVariables.SizeVariable"===d.declaredClass};a.isValidNumber=function(d){return null!=d&&!isNaN(d)&&isFinite(d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../support/lengthUtils ./sizeVariableUtils".split(" "),
function(a,b,d,f,e,k,q){function g(y,r,x){if(y="visualVariables"in y&&y.visualVariables?y.visualVariables.find(K=>"color"===K.type):y)if("esri.renderers.visualVariables.ColorVariable"!==y.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var B="number"===typeof r,A=B?null:r,E=A?.attributes,F=B?r:null,L=y.field,{ipData:D,hasExpression:M}=y.cache;r=y.cache.compiledFunc;if(!L&&!M)return(x=y.stops)&&x[0]&&x[0].color;if("number"!==typeof F)if(M){if(null==
x?.arcade){v.error("Use of arcade expressions requires an arcade context");return}F=x.arcade.arcadeUtils;L=F.getViewInfo({viewingMode:x.viewingMode,scale:x.scale,spatialReference:x.spatialReference});A=F.createExecContext(A,L,x.timeZone);r||(r=F.createSyntaxTree(y.valueExpression),r=F.createFunction(r),y.cache.compiledFunc=r);F=F.executeFunction(r,A)}else E&&(F=E[L]);A=y.normalizationField;E=null!=E&&null!=A?parseFloat(E[A]):void 0;if(null!=F&&(!A||B||!isNaN(E)&&0!==E)&&(isNaN(E)||B||(F/=E),B=t(F,
D)))return E=B[0],A=B[1],x=E===A?y.stops[E].color:b.blendColors(y.stops[E].color,y.stops[A].color,B[2],null!=x?x.color:void 0),new b(x)}}function p(y,r,x){if(y="visualVariables"in y&&y.visualVariables?y.visualVariables.find(K=>"opacity"===K.type):y)if("esri.renderers.visualVariables.OpacityVariable"!==y.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var B="number"===typeof r,A=B?null:r,E=A?.attributes,F=B?r:null,L=y.field,{ipData:D,
hasExpression:M}=y.cache;r=y.cache.compiledFunc;if(!L&&!M)return(y=y.stops)&&y[0]&&y[0].opacity;if("number"!==typeof F)if(M){if(null==x?.arcade){v.error("Use of arcade expressions requires an arcade context");return}F=x.arcade.arcadeUtils;L=F.getViewInfo({viewingMode:x.viewingMode,scale:x.scale,spatialReference:x.spatialReference});x=F.createExecContext(A,L,x.timeZone);r||(A=F.createSyntaxTree(y.valueExpression),r=F.createFunction(A),y.cache.compiledFunc=r);F=F.executeFunction(r,x)}else E&&(F=E[L]);
x=y.normalizationField;E=null!=E&&null!=x?parseFloat(E[x]):void 0;if(null!=F&&(!x||B||!isNaN(E)&&0!==E)&&(isNaN(E)||B||(F/=E),B=t(F,D))){x=B[0];E=B[1];if(x===E)return y.stops[x].opacity;x=y.stops[x].opacity;return x+(y.stops[E].opacity-x)*B[2]}}}function l(y,r,x){if(y="visualVariables"in y&&y.visualVariables?y.visualVariables.find(K=>"rotation"===K.type):y)if("esri.renderers.visualVariables.RotationVariable"!==y.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");
else{var B=y.axis||"heading",A="heading"===B&&"arithmetic"===y.rotationType?90:0;B="heading"===B&&"arithmetic"===y.rotationType?-1:1;var E="number"===typeof r?null:r,F=E?.attributes,L=y.field,{hasExpression:D}=y.cache;r=y.cache.compiledFunc;var M=0;if(!L&&!D)return M;if(D){if(null==x?.arcade){v.error("Use of arcade expressions requires an arcade context");return}F=x.arcade.arcadeUtils;L=F.getViewInfo({viewingMode:x.viewingMode,scale:x.scale,spatialReference:x.spatialReference});x=F.createExecContext(E,
L,x.timeZone);r||(r=F.createSyntaxTree(y.valueExpression),r=F.createFunction(r),y.cache.compiledFunc=r);M=F.executeFunction(r,x)}else F&&(M=F[L]||0);return M="number"!==typeof M||isNaN(M)?null:A+B*M}}function n(y,r,x){const B="number"===typeof r;var A=B?null:r;const E=A?.attributes;var F=B?r:null,{isScaleDriven:L}=y.cache;r=y.cache.compiledFunc;if(L)A=null!=x?x.scale:void 0,x=null!=x?x.view:void 0,null==A||"3d"===x?(A=x=null,(A=y.stops)?(x=A[0].value,A=A[A.length-1].value):(x=y.minDataValue||0,A=
y.maxDataValue||0),x=(x+A)/2):x=A,F=x;else if(!B)switch(y.inputValueType){case q.InputValueType.Expression:if(null==x?.arcade){v.error("Use of arcade expressions requires an arcade context");return}F=x.arcade.arcadeUtils;L=F.getViewInfo({viewingMode:x.viewingMode,scale:x.scale,spatialReference:x.spatialReference});x=F.createExecContext(A,L,x.timeZone);r||(A=F.createSyntaxTree(y.valueExpression),r=F.createFunction(A),y.cache.compiledFunc=r);F=F.executeFunction(r,x);break;case q.InputValueType.Field:E&&
(F=E[y.field]);break;case q.InputValueType.Unknown:F=null}if(!q.isValidNumber(F))return null;if(B||!y.normalizationField)return F;y=E?parseFloat(E[y.normalizationField]):null;return q.isValidNumber(y)&&0!==y?F/y:null}function u(y,r,x){if(y="visualVariables"in y&&y.visualVariables?y.visualVariables.find(A=>"size"===A.type):y)if("esri.renderers.visualVariables.SizeVariable"!==y.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");else{var B=
n(y,r,x);r=h(B,y,r,x,y.cache.ipData);return null===r||void 0===r||isNaN(r)?0:r}}function m(y,r,x){return null==y?null:q.isSizeVariable(y)?u(y,r,x):q.isValidNumber(y)?y:null}function c(y,r,x){return q.isValidNumber(x)&&y>x?x:q.isValidNumber(r)&&y<r?r:y}function h(y,r,x,B,A){switch(r.transformationType){case q.TransformationType.Additive:return B=m(r.minSize,x,B),y+((B||r.minDataValue)??0);case q.TransformationType.Constant:return y=r.stops,y=y?.length&&y[0].size,null==y&&(y=r.minSize),m(y,x,B);case q.TransformationType.ClampedLinear:A=
(y-r.minDataValue)/(r.maxDataValue-r.minDataValue);var E=m(r.minSize,x,B);x=m(r.maxSize,x,B);B=null!=B?B.shape:void 0;y<=r.minDataValue?r=E:y>=r.maxDataValue?r=x:null==E||null==x?r=null:"area"===r.scaleBy&&B?(y=(r="circle"===B)?z*(E/2)**2:E*E,y+=A*((r?z*(x/2)**2:x*x)-y),r=r?2*Math.sqrt(y/z):Math.sqrt(y)):r=E+A*(x-E);return r;case q.TransformationType.Proportional:return A=null!=B?B.shape:void 0,y/=r.minDataValue,E=m(r.minSize,x,B),r=m(r.maxSize,x,B),B=null,B="circle"===A?2*Math.sqrt(y*(E/2)**2):"square"===
A||"diamond"===A||"image"===A?Math.sqrt(y*E**2):y*E,c(B,E,r);case q.TransformationType.Stops:{const [F,L,D]=t(y,A);F===L?r=m(r.stops?.[F].size,x,B):(y=m(r.stops?.[F].size,x,B),r=m(r.stops?.[L].size,x,B),r=y+(r-y)*D)}return r;case q.TransformationType.RealWorldSize:return A=(B?.resolution??1)*k.meterIn[r.valueUnit],E=m(r.minSize,x,B),B=m(r.maxSize,x,B),{valueRepresentation:r}=r,x=null,x="area"===r?2*Math.sqrt(y/z)/A:"radius"===r||"distance"===r?2*y/A:y/A,c(x,E,B);case q.TransformationType.Identity:return y;
case q.TransformationType.Unknown:return null}}function t(y,r){if(r){var x=0,B=r.length-1;r.some((A,E)=>{if(y<A)return B=E,!0;x=E;return!1});return[x,B,(y-r[x])/(r[B]-r[x])]}}const v=e.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),w=new d,z=Math.PI;a.getAllSizes=function(y,r,x){const B=["proportional","proportional","proportional"];for(const A of y)switch(y=A.useSymbolValue?"symbol-value":u(A,r,x),A.axis){case "width":B[0]=y;break;case "depth":B[1]=y;break;case "height":B[2]=
y;break;case "width-and-depth":B[0]=y;B[1]=y;break;case "all":case void 0:case null:B[0]=y;B[1]=y;B[2]=y;break;default:f.neverReached(A.axis)}return B};a.getColor=g;a.getOpacity=p;a.getRotationAngle=l;a.getSize=u;a.getSizeForValue=h;a.getSizeFromNumberOrVariable=m;a.getSizeRangeAtScale=function(y,r,x){const {isScaleDriven:B}=y.cache;if(!(B&&"3d"===x||r))return null;x={scale:r,view:x};r=m(y.minSize,w,x);y=m(y.maxSize,w,x);if(null!=r||null!=y)return r>y&&(x=y,y=r,r=x),{minSize:r,maxSize:y}};a.getVisualVariableValues=
function(y,r,x){if(y.visualVariables){var B=[],A=[],E=[],F=[],L=[];for(const D of y.visualVariables)switch(D.type){case "color":A.push(D);break;case "opacity":E.push(D);break;case "rotation":L.push(D);break;case "size":F.push(D)}A.forEach(D=>{const M=g(D,r,x);B.push({variable:D,value:M})});E.forEach(D=>{const M=p(D,r,x);B.push({variable:D,value:M})});L.forEach(D=>{const M=l(D,r,x);B.push({variable:D,value:M})});F.forEach(D=>{const M=u(D,r,x);B.push({variable:D,value:M})});return B.filter(D=>null!=
D.value)}};a.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Graphic":function(){define("./chunks/tslib.es6 ./geometry ./PopupTemplate ./symbols ./core/Clonable ./core/JSONSupport ./core/uid ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),function(a,b,d,f,e,k,q,g,p,l,n,u,m){var c;
e=c=class extends e.ClonableMixin(k.JSONSupport){constructor(...h){super(...h);this.isAggregate=!1;this.sourceLayer=this.popupTemplate=this.layer=null;Object.defineProperty(this,"uid",{value:q.generateUID(),configurable:!0})}normalizeCtorArgs(h,t,v,w){return h&&!h.declaredClass?h:{geometry:h,symbol:t,attributes:v,popupTemplate:w}}set aggregateGeometries(h){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(h)&&this._set("aggregateGeometries",h)}set attributes(h){const t=this._get("attributes");
t!==h&&(this._set("attributes",h),this._notifyLayer("attributes",t,h))}set geometry(h){const t=this._get("geometry");t!==h&&(this._set("geometry",h),this._notifyLayer("geometry",t,h))}set symbol(h){const t=this._get("symbol");t!==h&&(this._set("symbol",h),this._notifyLayer("symbol",t,h))}set visible(h){const t=this._get("visible");t!==h&&(this._set("visible",h),this._notifyLayer("visible",t,h))}cloneShallow(){return new c({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,
isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible})}getEffectivePopupTemplate(h=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(h&&"defaultPopupTemplate"in t&&null!=t.defaultPopupTemplate)return t.defaultPopupTemplate}return null}getAttribute(h){return this.attributes?.[h]}setAttribute(h,
t){if(this.attributes){const v=this.getAttribute(h);this.attributes[h]=t;this._notifyLayer("attributes",v,t,h)}else this.attributes={[h]:t},this._notifyLayer("attributes",void 0,t,h)}getObjectId(){return this.sourceLayer?"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null}toJSON(){var h=this.aggregateGeometries;if(null==h)h=null;else{var t={};for(const v in h){const w=h[v];w&&(t[v]=w.toJSON())}h=0!==Object.keys(t).length?t:
null}return{aggregateGeometries:h,geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:k.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(h={}){var {geometry:t}=this;"mesh"===t?.type&&(t={origin:t.origin,transform:t.transform},this._notifyLayer("origin-transform",
t,t,h.action))}_notifyLayer(h,t,v,w){this.layer&&"graphicChanged"in this.layer&&(t={graphic:this,property:h,oldValue:t,newValue:v},"origin-transform"===h&&(t.action=w),"attributes"===h&&(t.attributeName=w),this.layer.graphicChanged(t))}};a.__decorate([g.property({value:null,json:{read:function(h){if(!h)return null;const t={};for(const v in h){const w=m.fromJSON(h[v]);w&&(t[v]=w)}return 0!==Object.keys(t).length?t:null}}})],e.prototype,"aggregateGeometries",null);a.__decorate([g.property({value:null})],
e.prototype,"attributes",null);a.__decorate([g.property({value:null,types:b.geometryTypes,json:{read:m.fromJSON}})],e.prototype,"geometry",null);a.__decorate([g.property({type:Boolean})],e.prototype,"isAggregate",void 0);a.__decorate([g.property({clonable:"reference"})],e.prototype,"layer",void 0);a.__decorate([g.property({type:d})],e.prototype,"popupTemplate",void 0);a.__decorate([g.property({clonable:"reference"})],e.prototype,"sourceLayer",void 0);a.__decorate([g.property({value:null,types:f.symbolTypes})],
e.prototype,"symbol",null);a.__decorate([g.property({type:Boolean,value:!0})],e.prototype,"visible",null);e=c=a.__decorate([u.subclass("esri.Graphic")],e);(e||(e={})).generateUID=q.generateUID;return e})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c){const h={color:n,size:c,opacity:u,rotation:m},t=new d.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),v=/^\[([^\]]+)\]$/i;b=class extends b{constructor(){super(...arguments);this.sizeVariables=this.rotationVariables=this.opacityVariables=this.colorVariables=null}set visualVariables(w){this._resetVariables();w=w&&w.filter(y=>!!y);if(w?.length){for(var z of w)switch(z.type){case "color":this.colorVariables.push(z);
break;case "opacity":this.opacityVariables.push(z);break;case "rotation":this.rotationVariables.push(z);break;case "size":this.sizeVariables.push(z)}this.sizeVariables.length&&this.sizeVariables.some(y=>!!y.target)&&w.sort((y,r)=>{let x=null;return x=y.target===r.target?0:y.target?1:-1});for(z=0;z<w.length;z++)w[z].index=z}this._set("visualVariables",w)}readVariables(w,z,y){const {rotationExpression:r,rotationType:x}=z;if(z=r?.match(v)?.[1])w||(w=[]),w.push({type:"rotationInfo",rotationType:x,field:z});
if(w)return w.map(B=>{var A=t.read(B.type);const E=h[A];E||(f.getLogger(this).warn(`Unknown variable type: ${A}`),y?.messages&&y.messages.push(new e("visual-variable:unsupported",`visualVariable of type '${A}' is not supported`,{definition:B,context:y})));A=new E;A.read(B,y);return A})}writeVariables(w,z){const y=[];for(const r of w)(w=r.toJSON(z))&&y.push(w);return y}_resetVariables(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]}};a.__decorate([k.property()],
b.prototype,"visualVariables",null);return b=a.__decorate([l.subclass("esri.renderers.visualVariables.VisualVariableFactory")],b)})},"esri/renderers/support/ClassBreakInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,d,f,e,k,q,g){var p;b=p=class extends b.JSONSupport{constructor(l){super(l);
this.minValue=this.label=this.description=null;this.maxValue=0;this.symbol=null}clone(){return new p({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const l=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${l}`}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"label",
void 0);a.__decorate([d.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],b.prototype,"minValue",void 0);a.__decorate([d.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],b.prototype,"maxValue",void 0);a.__decorate([d.property(g.requiredRendererSymbolProperty)],b.prototype,"symbol",void 0);return b=p=a.__decorate([q.subclass("esri.renderers.support.ClassBreakInfo")],b)})},"esri/renderers/support/commonProperties":function(){define("exports ../../symbols ../../core/object ../../core/accessorSupport/extensions/serializableProperty/reader ../../symbols/support/jsonUtils ../../symbols/Symbol ../../symbols/PolygonSymbol3D".split(" "),
function(a,b,d,f,e,k,q){f={types:b.symbolTypesRenderer,json:{write:{writer:e.write},origins:{"web-scene":{types:b.symbolTypesRenderer3D,write:{writer:e.write},read:{reader:f.createTypeReader({types:b.symbolTypesRenderer3D})}}}}};d=d.deepMerge({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},f);const g={cast:p=>null==p||"string"===typeof p||"number"===typeof p?p:`${p}`,json:{type:String,write:{writer:(p,l)=>{l.value=p?.toString()}}}};a.rendererBackgroundFillSymbolProperty={types:{base:k,key:"type",
typeMap:{"simple-fill":b.symbolTypes.typeMap["simple-fill"],"picture-fill":b.symbolTypes.typeMap["picture-fill"],"polygon-3d":b.symbolTypes.typeMap["polygon-3d"]}},json:{write:{writer:e.write},origins:{"web-scene":{type:q,write:{writer:e.write}}}}};a.rendererSymbolProperty=f;a.requiredRendererSymbolProperty=d;a.uniqueValueProperty=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/jsonUtils":function(){define("exports ../../symbols ../../core/Error ../../layers/support/layerUtils ../Symbol3D ./symbolConversion ../WebStyleSymbol".split(" "),
function(a,b,d,f,e,k,q){function g(p,l,n){if(null==p)return null;const {context:u,isLabelSymbol:m}=n;var c=u?.origin;n=u?.messages;if("web-scene"===c&&!(p instanceof e||p instanceof q)){c=k.to3D(p,{retainCIM:!0,hasLabelingContext:m});if(null!=c.symbol)return c.symbol.write(l,u);n?.push(new d("symbol:unsupported",`Symbols of type '${p.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:p,context:u,error:c.error}));return null}return("web-map"===
c||"portal-item"===c&&!f.isSceneServiceLayer(u?.layer))&&(p instanceof e||p instanceof q)?(n?.push(new d("symbol:unsupported",`Symbols of type '${p.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:p,context:u})),null):p.write(l,u)}a.fromJSON=function(p,l){return b.readSymbol(p,null,l)};a.write=function(p,l,n,u){p=g(p,{},{context:u,isLabelSymbol:!1});null!=p&&(l[n]=p)};a.writeLabelSymbol=function(p,l,n,u){p=g(p,
{},{context:u,isLabelSymbol:!0});null!=p&&(l[n]=p)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolConversion":function(){define("exports ../../symbols ../../core/Error ../WebStyleSymbol ../PointSymbol3D ../SimpleLineSymbol ../LineSymbol3D ../SimpleMarkerSymbol ../PictureMarkerSymbol ../SimpleFillSymbol ../MeshSymbol3D ../PolygonSymbol3D ../TextSymbol ../LabelSymbol3D".split(" "),function(a,b,d,f,e,k,q,g,p,l,n,u,m,c){const h={retainId:!1,ignoreDrivers:!1,
hasLabelingContext:!0};a.defaultTo3DOptions=h;a.to3D=function(t,v=h){if(!t)return{symbol:null};const {retainId:w=h.retainId,ignoreDrivers:z=h.ignoreDrivers,hasLabelingContext:y=h.hasLabelingContext,retainCIM:r=h.retainCIM}=v;let x=null;if(b.isSymbol3D(t)||t instanceof f)x=t.clone();else if("cim"===t.type){v=t.data?.symbol?.type;if("CIMPointSymbol"!==v)return{error:new d("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${v||"unknown"}' is unsupported in 3D`,{symbol:t})};x=r?t.clone():
e.fromCIMSymbol(t)}else if(t instanceof k)x=q.fromSimpleLineSymbol(t);else if(t instanceof g)x=e.fromSimpleMarkerSymbol(t);else if(t instanceof p)x=e.fromPictureMarkerSymbol(t);else if(t instanceof l)x=v.geometryType&&"mesh"===v.geometryType?n.fromSimpleFillSymbol(t):u.fromSimpleFillSymbol(t);else if(t instanceof m)x=y?c.fromTextSymbol(t):e.fromTextSymbol(t);else return{error:new d("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};
w&&x&&"cim"!==x.type&&(x.id=t.id);z&&b.isSymbol3D(x)&&x.symbolLayers.forEach(B=>B.ignoreDrivers=!0);return{symbol:x}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/DictionaryRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/DictionaryLoader".split(" "),
function(a,b,d,f,e,k,q,g,p,l){var n;f=n=class extends p.VisualVariablesMixin(g){constructor(u){super(u);this.url=this.scaleExpressionTitle=this.scaleExpression=this.fieldMap=this.config=null;this.type="dictionary"}get _loader(){return new l.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(u,m){u&&(m.scalingExpressionInfo={expression:u,returnType:"number"})}writeVisualVariables(u,m,c,h){h?.origin||super.writeVisualVariables(u,m,c,h)}clone(){return new n({config:b.clone(this.config),scaleExpression:this.scaleExpression,
scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:b.clone(this.fieldMap),url:b.clone(this.url),visualVariables:b.clone(this.visualVariables)})}async getSymbolAsync(u,m){return this._loader.getSymbolAsync(u,m)}async collectRequiredFields(u,m){await this.collectVVRequiredFields(u,m);this.scaleExpression&&await q.collectArcadeFieldNames(u,m,this.scaleExpression);for(const c in this.fieldMap){const h=this.fieldMap[c];m.has(h)&&u.add(h)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&
this.visualVariables.reduce((u,m)=>u+m.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};a.__decorate([d.property({type:l.DictionaryLoader})],f.prototype,"_loader",null);a.__decorate([d.property({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],f.prototype,"config",void 0);a.__decorate([d.property({type:Object,json:{write:!0}})],f.prototype,"fieldMap",void 0);a.__decorate([d.property({type:String,
json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],f.prototype,"scaleExpression",void 0);a.__decorate([k.writer("scaleExpression")],f.prototype,"writeData",null);a.__decorate([d.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(u){return{enabled:!!u&&!!this.scaleExpression}}}}})],f.prototype,"scaleExpressionTitle",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"url",void 0);
a.__decorate([k.writer("visualVariables")],f.prototype,"writeVisualVariables",null);return f=n=a.__decorate([e.subclass("esri.renderers.DictionaryRenderer")],f)})},"esri/renderers/support/DictionaryLoader":function(){define("exports ../../Color ../../request ../../core/Error ../../core/has ../../core/Logger ../../core/LRUCache ../../core/promiseUtils ../../core/string ../../core/Version ../../layers/support/FieldsIndex ../../support/arcadeOnDemand ../../symbols/CIMSymbol".split(" "),function(a,b,
d,f,e,k,q,g,p,l,n,u,m){function c(v,w){if(v&&(v=v.symbolLayers))for(var z=v.length;z--;){var y=v[z];if(y&&!1!==y.enable)switch(y.type){case "CIMVectorMarker":var r=w;if(y=y.markerGraphics)for(const x of y)if(x&&(y=x.symbol))switch(y.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":c(y,r);break;case "CIMTextSymbol":y.fieldMap=r}}}}const h={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class t{constructor(v,
w,z){this.url=this.fieldMap=this.config=null;this._ongoingRequests=new Map;this._symbolCache=new q.LRUCache(100);this._dictionaryPromise=this._fieldIndex=this._dictionaryVersion=null;this.url=v;this.config=w;this.fieldMap=z}getSymbolFields(){return this._symbolFields}async getSymbolAsync(v,w){this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(w));try{var z=await this._dictionaryPromise}catch(E){if(g.isAbortError(E))return this._dictionaryPromise=null}var y=this._dictionaryVersion&&
this._dictionaryVersion.since(4,0),r={};if(this.fieldMap)for(var x of this._symbolFields){var B=this._getFieldName(this.fieldMap[x]);if(B){const E=v.attributes[B];r[x]=y?E:null!=E?""+v.attributes[B]:""}else r[x]=""}y=null;try{y=z?.(r,w)}catch(E){return null}if(!y||"string"!==typeof y)return null;const A=p.numericHash(y).toString();if(z=this._symbolCache.get(A))return z.catch(()=>{this._symbolCache.pop(A)}),z;y=y.split(";");z=[];r=[];for(const E of y)if(E)if(E.includes("po:"))B=E.substr(3).split("|"),
3===B.length&&(y=B[0],x=B[1],B=B[2],"DashTemplate"===x?B=B.split(" ").map(F=>Number(F)):"Color"===x?(B=(new b(B)).toRgba(),B=[B[0],B[1],B[2],255*B[3]]):B=Number(B),r.push({primitiveName:y,propertyName:x,value:B}));else if(E.includes("|"))for(const F of E.split("|")){if(this._itemNames.has(F)){z.push(F);break}}else this._itemNames.has(E)&&z.push(E);v=this._cimPartsToCIMSymbol(z,r,null==v.geometry||!v.geometry.hasZ&&"point"===v.geometry.type?!0:!1,w);this._symbolCache.put(A,v,1);return v}async fetchResources(v){if(this._dictionaryPromise)return this._dictionaryPromise;
if(this.url){var w=d(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:null!=v?v.signal:null}),[{data:z}]=await Promise.all([w,u.loadArcade()]);if(!z)throw this._dictionaryPromise=null,new f("esri.renderers.DictionaryRenderer","Bad dictionary data!");var {authoringInfo:y,dictionary_version:r,expression:x,itemsNames:B}=z;w=!1;r&&(this._dictionaryVersion=l.Version.parse(r),w=this._dictionaryVersion.since(4,0));this._refSymbolUrlTemplate=this.url+"/"+z.cimRefTemplateUrl;
this._itemNames=new Set(B);this._symbolFields=y.symbol;z={};if(this.config){const F=this.config;for(var A in F)z[A]=F[A]}if(y.configuration)for(var E of y.configuration)z.hasOwnProperty(E.name)||(z[E.name]=E.value);A=[];if(v?.fields&&this.fieldMap)for(const F of this._symbolFields){const L=this.fieldMap[F];E=v.fields.filter(D=>D.name.toLowerCase()===L?.toLowerCase());0<E.length&&A.push({...E[0],type:w?E[0].type:"esriFieldTypeString"})}0<A.length&&(this._fieldIndex=new n(A));return this._dictionaryPromise=
v=u.createDictionaryExpression(x,null!=v?v.spatialReference:null,A,z).then(F=>{const L={scale:0};return(D,M)=>{if(null==F)return null;D=F.repurposeFeature({geometry:null,attributes:D});L.scale=null!=M?M.scale??void 0:void 0;return F.evaluate({$feature:D,$view:L},F.services)}}).catch(F=>{k.getLogger("esri.renderers.support.DictionaryLoader").error("Creating dictinoary expression failed:",F);return null})}k.getLogger("esri.renderers.support.DictionaryLoader").error("no valid URL!")}async _cimPartsToCIMSymbol(v,
w,z,y){const r=Array(v.length);for(let x=0;x<v.length;x++)r[x]=this._getSymbolPart(v[x],y);v=await Promise.all(r);if(y=this.fieldMap)for(const x of v)c(x,y);return new m({data:this._combineSymbolParts(v,w,z)})}async _getSymbolPart(v,w){if(this._ongoingRequests.has(v))return this._ongoingRequests.get(v).then(y=>y.data);const z=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,v);w=d(z,{responseType:"json",query:{f:"json"},...w});this._ongoingRequests.set(v,w);try{return(await w).data}catch(y){throw this._ongoingRequests.delete(v),
y;}}_combineSymbolParts(v,w,z){if(!v||0===v.length)return null;const y={...v[0]};if(1<v.length){y.symbolLayers=[];for(const r of v)y.symbolLayers.unshift(...r.symbolLayers)}z&&(y.callout=h);return{type:"CIMSymbolReference",symbol:y,primitiveOverrides:w}}_getFieldName(v){if(null!==this._fieldIndex){const w=this._fieldIndex.get(v);return w?w.name:v}return v}}a.DictionaryLoader=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/LRUCache":function(){define(["exports","./MemCache"],
function(a,b){class d{constructor(f,e){this._storage=new b.MemCacheStorage;this.name=this.id="";this.size=0;this._storage.maxSize=f;this._storage.register(this);e&&this._storage.registerRemoveFunc("",e)}destroy(){this._storage.deregister(this);this._storage.destroy()}put(f,e,k=1){this._storage.put(this,f,e,k,1)}pop(f){return this._storage.pop(this,f)}get(f){return this._storage.get(this,f)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(f){this._storage.maxSize=
f}resetHitRate(){}}a.LRUCache=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MemCache":function(){define(["exports","./PooledArray"],function(a,b){a.RemoveMode=void 0;(function(k){k[k.ALL=0]="ALL";k[k.SOME=1]="SOME"})(a.RemoveMode||(a.RemoveMode={}));class d{constructor(k,q,g){this.name=k;this._storage=q;this.id=`${e++}:`;this.maxSize=this.size=0;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);g&&(this._storage.registerRemoveFunc(this.id,g),this._removeFunc=
!0)}destroy(){this._storage.clear(this);this._removeFunc&&this._storage.deregisterRemoveFunc(this.id);this._storage.deregister(this);this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get sizeAll(){return this._storage.size}resetHitRate(){this._hit=this._miss=0}put(k,q,g,p=0){this._storage.put(this,k,q,g,p)}get(k){k=this._storage.get(this,k);void 0===k?++this._miss:++this._hit;return k}peek(k){return this._storage.peek(this,k)}pop(k){k=this._storage.pop(this,k);void 0===k?++this._miss:
++this._hit;return k}updateSize(k,q,g){this._storage.updateSize(this,k,q,g)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class f{get size(){return this._size}constructor(k=10485760){this._maxSize=k;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new b;this._users=new b}destroy(){this.clearAll();this._removeFuncs.clear();this._users.clear();this._db=null}register(k){this._users.push(k)}deregister(k){this._users.removeUnordered(k)}registerRemoveFunc(k,
q){this._removeFuncs.push([k,q])}deregisterRemoveFunc(k){this._removeFuncs.filterInPlace(q=>q[0]!==k)}get maxSize(){return this._maxSize}set maxSize(k){this._maxSize=Math.max(k,0);this._checkSizeLimits()}put(k,q,g,p,l){q=k.id+q;const n=this._db.get(q);n&&(this._size-=n.size,k.size-=n.size,this._db.delete(q),n.entry!==g&&this._notifyRemove(q,n.entry,a.RemoveMode.ALL));p>this._maxSize?this._notifyRemove(q,g,a.RemoveMode.ALL):void 0===g?console.warn("Refusing to cache undefined entry "):!p||0>p?(console.warn(`Refusing to cache entry with size ${p} for key ${q}`),
this._notifyRemove(q,g,a.RemoveMode.ALL)):(l=1+Math.max(l,-3)- -3,this._db.set(q,{entry:g,size:p,lifetime:l,lives:l}),this._size+=p,k.size+=p,this._checkSizeLimits())}updateSize(k,q,g,p){q=k.id+q;const l=this._db.get(q);if(l&&l.entry===g){this._size-=l.size;for(k.size-=l.size;p>this._maxSize;)if(p=this._notifyRemove(q,g,a.RemoveMode.SOME),!(null!=p&&0<p)){this._db.delete(q);return}l.size=p;this._size+=p;k.size+=p;this._checkSizeLimits()}}pop(k,q){q=k.id+q;const g=this._db.get(q);if(g)return this._size-=
g.size,k.size-=g.size,this._db.delete(q),++this._hit,g.entry;++this._miss}get(k,q){q=k.id+q;k=this._db.get(q);if(void 0===k)++this._miss;else return this._db.delete(q),k.lives=k.lifetime,this._db.set(q,k),++this._hit,k.entry}peek(k,q){(k=this._db.get(k.id+q))?++this._hit:++this._miss;return k?.entry}get performanceInfo(){const k={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},q={},g=
[];this._db.forEach((n,u)=>{const m=n.lifetime;g[m]=(g[m]||0)+n.size;this._users.forAll(c=>{const {id:h,name:t}=c;u.startsWith(h)&&(q[t]=(q[t]||0)+n.size)})});const p={};this._users.forAll(n=>{const u=n.name;"hitRate"in n&&"number"===typeof n.hitRate&&!isNaN(n.hitRate)&&0<n.hitRate?(q[u]=q[u]||0,p[u]=Math.round(100*n.hitRate)+"%"):p[u]="0%"});var l=Object.keys(q);l.sort((n,u)=>q[u]-q[n]);l.forEach(n=>k[n]=Math.round(q[n]/2**20)+"MB / "+p[n]);for(l=g.length-1;0<=l;--l){const n=g[l];n&&(k["Priority "+
(l+-3-1)]=Math.round(n/this._size*100)+"%")}return k}resetStats(){this._hit=this._miss=0;this._users.forAll(k=>k.resetHitRate())}clear(k){const q=k.id;this._db.forEach((g,p)=>{p.startsWith(q)&&(this._size-=g.size,this._db.delete(p),this._notifyRemove(p,g.entry,a.RemoveMode.ALL))});k.size=0}clearAll(){this._db.forEach((k,q)=>this._notifyRemove(q,k.entry,a.RemoveMode.ALL));this._users.forEach(k=>k.size=0);this._size=0;this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(k,
q,g){let p;this._removeFuncs.some(l=>k.startsWith(l[0])?(l=l[1](q,g),"number"===typeof l&&(p=l),!0):!1);return p}_checkSizeLimits(){if(this._size>this._maxSize)for(const [k,q]of this._db)if(this._purgeItem(k,q),this._size<=.9*this.maxSize)return;this._users.forEach(k=>{if(0<k.maxSize&&k.size>k.maxSize)for(const [q,g]of this._db)if(q.startsWith(k.id)&&(this._purgeItem(q,g,k),k.size<=.9*k.maxSize))break})}_purgeItem(k,q,g=this._users.find(p=>k.startsWith(p.id))){this._db.delete(k);if(1>=q.lives){this._size-=
q.size;g&&(g.size-=q.size);const p=this._notifyRemove(k,q.entry,a.RemoveMode.SOME);null!=p&&0<p&&(this._size+=p,g&&(g.size+=p),q.lives=q.lifetime,q.size=p,this._db.set(k,q))}else--q.lives,this._db.set(k,q)}}let e=0;a.MemCache=d;a.MemCacheStorage=f;a.minPriority=-3;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Version":function(){define(["exports","./Error"],function(a,b){let d=class{constructor(f,e,k=""){this.major=f;this.minor=e;this._context=k}lessThan(f,e){return this.major<
f||f===this.major&&this.minor<e}since(f,e){return!this.lessThan(f,e)}validate(f){if(this.major!==f.major)throw new b((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:f});}clone(){return new d(this.major,this.minor,this._context)}static parse(f,e=""){const [k,q]=f.split(".");var g=/^\s*\d+\s*$/;if(!k?.match||!g.test(k))throw new b((e&&e+":")+"invalid-version",
"Expected major version to be a number, but got '${version}'",{version:f});if(!q?.match||!g.test(q))throw new b((e&&e+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:f});f=parseInt(k,10);g=parseInt(q,10);return new d(f,g,e)}};a.Version=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FieldsIndex":function(){define("../../core/Error ../../core/JSONSupport ../../core/Logger ../../core/MapUtils ../../core/sql/UnknownTimeZone ./fieldUtils ../../time/timeZoneUtils ../../chunks/datetime".split(" "),
function(a,b,d,f,e,k,q,g){function p(c){return c.trim().toLowerCase()}function l(c){const h=new Map;if(!c.fields)return h;const t=!0===c.datesInUnknownTimezone,{timeInfo:v,editFieldsInfo:w}=c;var z=(v?"startField"in v?v.startField:v.startTimeField:"")??"";const y=(v?"endField"in v?v.endField:v.endTimeField:"")??"",r="dateFieldsTimeZone"in c?c.dateFieldsTimeZone??null:c.dateFieldsTimeReference?q.fromTimeReference(c.dateFieldsTimeReference):null,x=w?"timeZone"in w?w.timeZone??r:w.dateFieldsTimeReference?
q.fromTimeReference(w.dateFieldsTimeReference):r??q.utc:null,B=v?"timeZone"in v?v.timeZone??r:v.timeReference?q.fromTimeReference(v.timeReference):r:null;z=new Map([[p(w?.creationDateField??""),x],[p(w?.editDateField??""),x],[p(z),B],[p(y),B]]);for(const {name:A,type:E}of c.fields)m.has(E)?h.set(A,q.unknown):"date"!==E&&"esriFieldTypeDate"!==E?h.set(A,null):t?h.set(A,q.unknown):(c=z.get(p(A??""))??r,h.set(A,c));return h}const n=new Map;class u{static fromJSON(c){return new u(c.fields,c.timeZoneByFieldName)}static fromLayer(c){return new u(c.fields??
[],l(c))}static fromLayerJSON(c){return new u(c.fields??[],l(c))}constructor(c=[],h){this._fieldsMap=new Map;this._normalizedFieldsMap=new Map;this._dateFieldsSet=new Set;this._numericFieldsSet=new Set;this._requiredFields=null;this.dateFields=[];this.numericFields=[];this.fields=c||[];this._timeZoneByFieldName=h?new Map(h):null;c=[];for(const t of this.fields){h=t?.name;const v=k.normalizeFieldName(h)?.toLowerCase()??"";if(h&&v){const w=p(h);this._fieldsMap.set(h,t);this._fieldsMap.set(w,t);this._normalizedFieldsMap.set(v,
t);c.push(`${w}:${t.type}:${this._timeZoneByFieldName?.get(h)}`);k.isDateField(t)?(this.dateFields.push(t),this._dateFieldsSet.add(t)):k.isNumericField(t)&&(this._numericFieldsSet.add(t),this.numericFields.push(t));k.isObjectIDField(t)||k.isGlobalIDField(t)||(t.editable=null==t.editable||!!t.editable,t.nullable=null==t.nullable||!!t.nullable)}}c.sort();this.uid=c.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const c of this.fields)k.isObjectIDField(c)||k.isGlobalIDField(c)||
c.nullable||void 0!==k.getFieldDefaultValue(c)||this._requiredFields.push(c)}return this._requiredFields}equals(c){return this.uid===c?.uid}has(c){return null!=this.get(c)}get(c){if(c){var h=this._fieldsMap.get(c);if(h)return h;(h=this._fieldsMap.get(p(c))??this._normalizedFieldsMap.get(k.normalizeFieldName(c)?.toLowerCase()??""))&&this._fieldsMap.set(c,h);return h}}getTimeZone(c){c=this.get(c&&"string"!==typeof c?c.name:c);return c?this._timeZoneByFieldName?this._timeZoneByFieldName.get(c.name):
"date"===c.type||"esriFieldTypeDate"===c.type?(d.getLogger("esri.layers.support.FieldsIndex").error(new a("getTimeZone:no-timezone-information",`no time zone information for field '${c.name}'`)),q.utc):m.has(c.type)?q.unknown:null:null}getLuxonTimeZone(c){const h=this.getTimeZone(c);return h?h===q.unknown?e.UnknownTimeZone.instance:h===q.utc?g.FixedOffsetZone.utcInstance:f.getOrCreateMapValue(n,h,()=>g.IANAZone.create(h)):null}isDateField(c){return this._dateFieldsSet.has(this.get(c))}isTimeOnlyField(c){return k.isTimeOnlyField(this.get(c))}isNumericField(c){return this._numericFieldsSet.has(this.get(c))}normalizeFieldName(c){return this.get(c)?.name??
void 0}toJSON(){return{fields:this.fields.map(c=>b.isSerializable(c)?c.toJSON():c),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}const m=new Set("time-only date-only timestamp-offset esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "));return u})},"esri/core/sql/UnknownTimeZone":function(){define(["exports","../../chunks/datetime"],function(a,b){function d(e){return e instanceof b.Zone?e===f.instance?!0:!1:"unknown"===
e?.toString().toLowerCase()?!0:!1}class f{}f.instance=new b.IANAZone("Etc/UTC");a.UnknownTimeZone=f;a.adoptTimeZone=function(e,k){return b.DateTime.fromObject({day:e.day,year:e.year,month:e.month,hour:e.hour,minute:e.minute,second:e.second,millisecond:e.millisecond},{zone:k})};a.isUnknownTimeZone=d;a.substituteUnknownTimezone=function(e){return d(e)?f.instance:e};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/DotDensityRenderer":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c){var h;e=h=class extends l.VisualVariablesMixin(p){constructor(t){super(t);this.attributes=null;this.backgroundColor=new b([0,0,0,0]);this.dotBlendingEnabled=!0;this.dotShape="square";this.dotSize=1;this.legendOptions=null;this.outline=new c;this.referenceScale=this.dotValue=null;this.seed=1;this.type="dot-density"}calculateDotValue(t){if(null==this.referenceScale)return this.dotValue;t=t/this.referenceScale*this.dotValue;return 1>t?1:t}getSymbol(){return new m({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((t,
v)=>t+v.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new h({attributes:d.clone(this.attributes),backgroundColor:d.clone(this.backgroundColor),dotBlendingEnabled:d.clone(this.dotBlendingEnabled),dotShape:d.clone(this.dotShape),dotSize:d.clone(this.dotSize),dotValue:d.clone(this.dotValue),legendOptions:d.clone(this.legendOptions),outline:d.clone(this.outline),referenceScale:d.clone(this.referenceScale),visualVariables:d.clone(this.visualVariables),authoringInfo:this.authoringInfo&&
this.authoringInfo.clone()})}getControllerHash(){const t=this.attributes?.map(w=>w.field||w.valueExpression||""),v=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${t}-${v}`}async collectRequiredFields(t,v){await this.collectVVRequiredFields(t,v);for(const w of this.attributes??[])w.valueExpression&&await g.collectArcadeFieldNames(t,v,w.valueExpression),w.field&&t.add(w.field)}};a.__decorate([f.property({type:[n],json:{write:!0}})],e.prototype,"attributes",void 0);a.__decorate([f.property({type:b,
json:{write:!0}})],e.prototype,"backgroundColor",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],e.prototype,"dotBlendingEnabled",void 0);a.__decorate([f.property({type:String,json:{write:!1}})],e.prototype,"dotShape",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],e.prototype,"dotSize",void 0);a.__decorate([f.property({type:u,json:{write:!0}})],e.prototype,"legendOptions",void 0);a.__decorate([f.property({type:c,json:{default:null,write:!0}})],e.prototype,"outline",
void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],e.prototype,"dotValue",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],e.prototype,"referenceScale",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],e.prototype,"seed",void 0);a.__decorate([k.enumeration({dotDensity:"dot-density"})],e.prototype,"type",void 0);return e=h=a.__decorate([q.subclass("esri.renderers.DotDensityRenderer")],e)})},"esri/renderers/support/AttributeColorInfo":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType".split(" "),
function(a,b,d,f,e,k,q,g,p,l){var n;d=n=class extends d.JSONSupport{constructor(u){super(u);this.valueExpressionTitle=this.valueExpression=this.label=this.field=this.color=null}castField(u){return null==u?u:"function"===typeof u?(f.getLogger(this).error(".field: field must be a string value"),null):l.ensureString(u)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new n({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,
valueExpressionTitle:this.valueExpressionTitle})}};a.__decorate([e.property({type:b,json:{type:[Number],write:!0}})],d.prototype,"color",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"field",void 0);a.__decorate([k.cast("field")],d.prototype,"castField",null);a.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"label",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"valueExpression",void 0);a.__decorate([e.property({type:String,
json:{write:!0}})],d.prototype,"valueExpressionTitle",void 0);return d=n=a.__decorate([p.subclass("esri.renderers.support.AttributeColorInfo")],d)})},"esri/renderers/support/DotDensityLegendOptions":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q){var g;b=g=class extends b.JSONSupport{constructor(){super(...arguments);
this.unit=null}clone(){return new g({unit:this.unit})}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"unit",void 0);return b=g=a.__decorate([q.subclass("esri.renderers.support.DotDensityLegendOptions")],b)})},"esri/renderers/HeatmapRenderer":function(){define("../chunks/tslib.es6 ../Color ../symbols ../core/deprecate ../core/lang ../core/Logger ../core/scheduling ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/utils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./support/AuthoringInfo ./support/HeatmapColorStop ./support/HeatmapLegendOptions ./support/heatmapUtils ../symbols/SimpleMarkerSymbol".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y){function r(A){if(null!=A){const {maxDensity:E,minDensity:F,radius:L}=A;if(null!=E||null!=F||null!=L){const {blurRadius:D,maxPixelIntensity:M,minPixelIntensity:K,...I}=A;return I}}return A}var x;const B=k.getLogger("esri.renderers.HeatmapRenderer");d=x=class extends h{constructor(A){super(A);this.authoringInfo=null;this.colorStops=[new v({ratio:0,color:new b("rgba(255, 140, 0, 0)")}),new v({ratio:.75,color:new b("rgba(255, 140, 0, 1)")}),new v({ratio:.9,
color:new b("rgba(255, 0,   0, 1)")})];this.field=null;this.fieldOffset=0;this.legendOptions=null;this.maxDensity=.04;this.minDensity=0;this.radius=18;this.referenceScale=0;this.type="heatmap";this.valueExpressionTitle=this.valueExpression=null;this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(A){return r(A)}get blurRadius(){return z.kernelDensityRadiusPtToGaussianBlurRadiusPx(this.radius)}set blurRadius(A){const E=this.maxPixelIntensity,F=this.minPixelIntensity;
this._set("radius",z.gaussianBlurRadiusPxToKernelDensityRadiusPt(A));this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius");this._set("maxDensity",E*this._pixelIntensityToDensity);this._set("minDensity",F*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(A){this._set("maxDensity",A*this._pixelIntensityToDensity);this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/
this._pixelIntensityToDensity}set minPixelIntensity(A){this._set("minDensity",A*this._pixelIntensityToDensity);this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(z.magicKernelDensityRadiusInflationFactor**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(A,E){this._warnedProps[A]||"user"!==n.getProperties(this).getDefaultOrigin()||(this._warnedProps[A]=!0,q.schedule(()=>{f.deprecatedProperty(B,A,{replacement:`${String(E)} (suggested value: ${this._get(E)})`,
version:"4.24"})}))}read(A,E){A=r(A);super.read(A,E)}getSymbol(){return new y}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(A,E){const F=this.field,L=this.valueExpression;F&&"string"===typeof F&&c.collectField(A,E,F);L&&"string"===typeof L&&await c.collectArcadeFieldNames(A,E,L)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new x({authoringInfo:this.authoringInfo&&
this.authoringInfo.clone(),colorStops:e.clone(this.colorStops),field:this.field,legendOptions:e.clone(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};a.__decorate([p.property({type:t,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],d.prototype,"authoringInfo",void 0);a.__decorate([p.property({type:Number,json:{origins:{"portal-item":{write:!0},
"web-map":{write:!0}}}})],d.prototype,"blurRadius",null);a.__decorate([p.property({type:[v],json:{write:!0}})],d.prototype,"colorStops",void 0);a.__decorate([p.property({type:String,json:{write:!0}})],d.prototype,"field",void 0);a.__decorate([p.property({type:Number,json:{write:{overridePolicy:(A,E,F)=>({enabled:null==F})},origins:{"web-scene":{write:!1}}}})],d.prototype,"fieldOffset",void 0);a.__decorate([p.property({type:w.HeatmapLegendOptions,json:{write:!0}})],d.prototype,"legendOptions",void 0);
a.__decorate([p.property({type:Number,json:{write:!0}})],d.prototype,"maxDensity",void 0);a.__decorate([p.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],d.prototype,"maxPixelIntensity",null);a.__decorate([p.property({type:Number,json:{write:!0}})],d.prototype,"minDensity",void 0);a.__decorate([p.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],d.prototype,"minPixelIntensity",null);a.__decorate([p.property({type:Number,
cast:g.toPt,json:{write:!0}})],d.prototype,"radius",void 0);a.__decorate([p.property({type:Number,range:{min:0},json:{default:0,write:!0}})],d.prototype,"referenceScale",void 0);a.__decorate([u.enumeration({heatmap:"heatmap"})],d.prototype,"type",void 0);a.__decorate([p.property({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],d.prototype,"valueExpression",void 0);a.__decorate([p.property({type:String})],d.prototype,"valueExpressionTitle",void 0);a.__decorate([p.property({readOnly:!0})],
d.prototype,"_pixelIntensityToDensity",null);return d=x=a.__decorate([m.subclass("esri.renderers.HeatmapRenderer")],d)})},"esri/renderers/support/HeatmapColorStop":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q,g){var p;d=p=class extends d.JSONSupport{constructor(l){super(l);
this.ratio=this.color=null}clone(){return new p({color:this.color,ratio:this.ratio})}};a.__decorate([f.property({type:b,json:{type:[e.Integer],default:null,write:!0}})],d.prototype,"color",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],d.prototype,"ratio",void 0);return d=p=a.__decorate([g.subclass("esri.renderers.support.HeatmapColorStop")],d)})},"esri/renderers/support/HeatmapLegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p){a.HeatmapLegendOptions=class extends d.ClonableMixin(f.JSONSupport){constructor(){super(...arguments);this.title=this.maxLabel=this.minLabel=null}};b.__decorate([e.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"minLabel",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"maxLabel",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"title",void 0);a.HeatmapLegendOptions=
b.__decorate([p.subclass("esri.renderers.support.HeatmapLegendOptions")],a.HeatmapLegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/heatmapUtils":function(){define(["exports","../../core/mathUtils","../../core/screenUtils","../../chunks/vec4","../../chunks/vec4f64"],function(a,b,d,f,e){function k(l,n,u,m){let {color:c,ratio:h}=n,{color:t,ratio:v}=u;v===h&&(1===v?h-=1E-6:v+=1E-6);n=b.clamp((m-h)/(v-h),0,1);f.lerp(l,c.toArray(),t.toArray(),n)}function q(l,
n,u,m,c){l=new Uint32Array(l*l);n="buffer"in n?n:new Float64Array(n);u="buffer"in u?new Uint32Array(u.buffer):new Uint32Array((new Uint8Array(u)).buffer);c=u.length/(c-m);for(let h=0;h<n.length;h++)l[h]=u[b.clamp(Math.floor((n[h]-m)*c),0,u.length-1)];return l.buffer}function g(l,n,u){l=Math.sqrt(l**2+n**2)/u;return 1<l?0:3/(Math.PI*u**2)*(1-l**2)**2}function p(l,n){return null!=l?"string"===typeof n?u=>-1*+u.readAttribute(l):u=>+u.readAttribute(l)+n:u=>1}a.calculateHeatmapIntensityInfoReaders=function(l,
n,u,m){const {radius:c,fieldOffset:h,field:t}=n;n=Math.round(d.pt2px(c));const v=new Float64Array(u*m);let w=Number.NEGATIVE_INFINITY;const z=p(t,h),y=new Set;for(const A of l)for(l=A.getCursor();l.next();){var r=l.getObjectId();if(y.has(r))continue;y.add(r);r=l.readLegacyPointGeometry();if(-128>r.x||r.x>=u+128||-128>r.y||r.y>m+128)continue;const E=+z(l),F=Math.max(0,Math.round(r.x)-n);var x=Math.max(0,Math.round(r.y)-n);const L=Math.min(m,Math.round(r.y)+n),D=Math.min(u,Math.round(r.x)+n);for(;x<
L;x++)for(let M=F;M<D;M++){var B=x*u+M;const K=g(r.x-M,r.y-x,n);B=v[B]+=K*E;B>w&&(w=B)}}return{matrix:v.buffer,max:w}};a.createHeatmapImageData=q;a.createValueFunction=function(l,n){return"function"===typeof l?l:l?"string"===typeof n?u=>-1*+u[l]:u=>+u[l]+n:()=>1};a.createValueFunctionCursor=p;a.drawHeatmap=function(l,n,u,m,c,h){l.canvas.width=l.canvas.height=n;l.clearRect(0,0,n,n);const t=l.getImageData(0,0,n,n);u&&m&&t.data.set(new Uint8ClampedArray(q(n,u,m,c,h)));l.putImageData(t,0,0)};a.evaluateDensityKernel=
g;a.gaussianBlurRadiusPxToKernelDensityRadiusPt=function(l){return d.px2pt(2.4*l)};a.generateGradient=function(l){const n=new Uint8ClampedArray(2048);l=l.filter(({ratio:t})=>0<=t&&1>=t).sort((t,v)=>t.ratio-v.ratio).map(({color:t,ratio:v})=>({color:t,ratio:Math.max(v,.001)}));if(1>l.length)return n;let u=l[0],m=l[0],c=1;const h=e.create();for(let t=0;512>t;t++){const v=(t+.5)/512;for(;v>m.ratio&&c<l.length;)u=m,m=l[c++];k(h,u,m,v);n.set(h,4*t)}return n};a.kernelDensityRadiusPtToGaussianBlurRadiusPx=
function(l){return d.pt2px(l)/2.4};a.magicKernelDensityRadiusInflationFactor=2.4;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec4f64":function(){define(["exports"],function(a){function b(){return[0,0,0,0]}function d(y){return[y[0],y[1],y[2],y[3]]}function f(y,r,x,B){return[y,r,x,B]}function e(y,r=b()){const x=Math.min(4,y.length);for(let B=0;B<x;++B)r[B]=y[B];return r}function k(y,r){return new Float64Array(y,r,4)}function q(){return b()}function g(){return[1,1,1,
1]}function p(){return[1,0,0,0]}function l(){return[0,1,0,0]}function n(){return[0,0,1,0]}function u(){return[0,0,0,1]}const m=b(),c=g(),h=p(),t=l(),v=n(),w=u(),z=Object.freeze(Object.defineProperty({__proto__:null,ONES:c,UNIT_W:w,UNIT_X:h,UNIT_Y:t,UNIT_Z:v,ZEROS:m,clone:d,create:b,createView:k,fromArray:e,fromValues:f,ones:g,unitW:u,unitX:p,unitY:l,unitZ:n,zeros:q},Symbol.toStringTag,{value:"Module"}));a.ONES=c;a.UNIT_W=w;a.UNIT_X=h;a.UNIT_Y=t;a.UNIT_Z=v;a.ZEROS=m;a.clone=d;a.create=b;a.createView=
k;a.fromArray=e;a.fromValues=f;a.ones=g;a.unitW=u;a.unitX=p;a.unitY=l;a.unitZ=n;a.vec4f64=z;a.zeros=q})},"esri/renderers/PieChartRenderer":function(){define("../chunks/tslib.es6 ../Color ../symbols ../core/arrayUtils ../core/Clonable ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/OthersCategory ./support/PieChartLegendOptions ../symbols/SimpleMarkerSymbol ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y){d=class extends c.VisualVariablesMixin(e.ClonableMixin(m)){constructor(r){super(r);this.backgroundFillSymbol=this.attributes=null;this.defaultColor=new b([0,0,0,0]);this.defaultLabel=null;this.holePercentage=0;this.othersCategory=new t.OthersCategory;this.outline=this.legendOptions=null;this.size=12;this.type="pie-chart"}getSymbol(){return new w({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),
this.backgroundFillSymbol].filter(f.isSome)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((r,x)=>r+x.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((r,x)=>r+=JSON.stringify(x),"")}async collectRequiredFields(r,x){await this.collectVVRequiredFields(r,x);for(const B of this.attributes)B.valueExpression&&await u.collectArcadeFieldNames(r,x,B.valueExpression),B.field&&r.add(B.field)}};a.__decorate([q.property({type:[h],json:{write:!0}})],d.prototype,
"attributes",void 0);a.__decorate([q.property({type:z,json:{default:null,write:!0}})],d.prototype,"backgroundFillSymbol",void 0);a.__decorate([q.property({type:b,json:{write:!0}})],d.prototype,"defaultColor",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],d.prototype,"defaultLabel",void 0);a.__decorate([q.property({type:Number,range:{min:0,max:1},json:{write:!0}})],d.prototype,"holePercentage",void 0);a.__decorate([q.property({type:t.OthersCategory,json:{write:!0}})],d.prototype,
"othersCategory",void 0);a.__decorate([q.property({type:v.PieChartLegendOptions,json:{write:!0}})],d.prototype,"legendOptions",void 0);a.__decorate([q.property({type:y,json:{default:null,write:!0}})],d.prototype,"outline",void 0);a.__decorate([q.property({type:Number,cast:k.toPt,json:{write:!0}})],d.prototype,"size",void 0);a.__decorate([l.enumeration({pieChart:"pie-chart"})],d.prototype,"type",void 0);return d=a.__decorate([n.subclass("esri.renderers.PieChartRenderer")],d)})},"esri/renderers/support/OthersCategory":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p,l){a.OthersCategory=class extends f.ClonableMixin(e.JSONSupport){constructor(){super(...arguments);this.color=new d([0,0,0,0]);this.label=null;this.threshold=0}};b.__decorate([k.property({type:d,json:{write:!0}})],a.OthersCategory.prototype,"color",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],a.OthersCategory.prototype,"label",void 0);b.__decorate([k.property({type:Number,range:{min:0,max:1},json:{write:!0}})],a.OthersCategory.prototype,"threshold",void 0);
a.OthersCategory=b.__decorate([l.subclass("esri.renderers.support.OthersCategory")],a.OthersCategory);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/PieChartLegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,
f,e,k,q,g,p){a.PieChartLegendOptions=class extends d.ClonableMixin(f.JSONSupport){constructor(){super(...arguments);this.title=null}};b.__decorate([e.property({type:String,json:{write:!0}})],a.PieChartLegendOptions.prototype,"title",void 0);a.PieChartLegendOptions=b.__decorate([p.subclass("esri.renderers.support.PieChartLegendOptions")],a.PieChartLegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/SimpleRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties".split(" "),
function(a,b,d,f,e,k,q,g,p){var l;f=l=class extends g.VisualVariablesMixin(q){constructor(n){super(n);this.symbol=this.label=this.description=null;this.type="simple"}async collectRequiredFields(n,u){await Promise.all([this.collectSymbolFields(n,u),this.collectVVRequiredFields(n,u)])}async collectSymbolFields(n,u){await Promise.all(this.getSymbols().map(m=>m.collectRequiredFields(n,u)))}getSymbol(n,u){return this.symbol}async getSymbolAsync(n,u){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:
[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((n,u)=>n+u.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((n,u)=>n+=JSON.stringify(u),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new l({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:b.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};a.__decorate([d.property({type:String,
json:{write:!0}})],f.prototype,"description",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"label",void 0);a.__decorate([d.property(p.requiredRendererSymbolProperty)],f.prototype,"symbol",void 0);a.__decorate([e.enumeration({simple:"simple"})],f.prototype,"type",void 0);return f=l=a.__decorate([k.subclass("esri.renderers.SimpleRenderer")],f)})},"esri/renderers/UniqueValueRenderer":function(){define("../chunks/tslib.es6 ../symbols ../core/Error ../core/lang ../core/Logger ../core/object ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ./support/LegendOptions ./support/UniqueValue ./support/UniqueValueClass ./support/UniqueValueGroup ./support/UniqueValueInfo ../support/arcadeOnDemand ../chunks/persistableUrlUtils ../symbols/support/styleUtils ../symbols/WebStyleSymbol".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B,A,E,F,L,D,M){function K(Z){const {field1:J,field2:Q,field3:N,fieldDelimiter:V,uniqueValueInfos:U,valueExpression:sa}=Z,za=!(!J||!Q);return[{classes:(U??[]).map(Fa=>{const {symbol:Da,label:va,value:W,description:ba}=Fa,[fa,Ba,Ja]=za?W?.toString()?.split(V||"")||[]:[W];Fa=[];(J||sa)&&Fa.push(fa);Q&&Fa.push(Ba);N&&Fa.push(Ja);return{symbol:Da,label:va,values:[Fa],description:ba}})}]}var I;const P=e.getLogger("esri.renderers.UniqueValueRenderer"),
T=h.ensureType(E);e=I=class extends z.VisualVariablesMixin(w){constructor(Z){super(Z);this._valueInfoMap={};this._isDefaultSymbolDerived=!1;this._isInfosSource=null;this.type="unique-value";this.backgroundFillSymbol=null;this.orderByClassesEnabled=!1;this.styleOrigin=this.portal=this.defaultLabel=this.legendOptions=this.valueExpressionTitle=null;this.diff={uniqueValueInfos(J,Q){if(J||Q){if(!J||!Q)return{type:"complete",oldValue:J,newValue:Q};var N=!1,V={type:"collection",added:[],removed:[],changed:[],
unchanged:[]};for(let U=0;U<Q.length;U++){const sa=J.find(za=>za.value===Q[U].value);sa?c.diff(sa,Q[U])?(V.changed.push({type:"complete",oldValue:sa,newValue:Q[U]}),N=!0):V.unchanged.push({oldValue:sa,newValue:Q[U]}):(V.added.push(Q[U]),N=!0)}for(let U=0;U<J.length;U++)Q.find(sa=>sa.value===J[U].value)||(V.removed.push(J[U]),N=!0);return N?V:void 0}}};this._set("uniqueValueInfos",[]);this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(Z){this._set("field",Z);this._updateFieldDelimiter();
this._updateUniqueValues()}castField(Z){return null==Z||"function"===typeof Z?Z:h.ensureString(Z)}writeField(Z,J,Q,N){"string"===typeof Z?J[Q]=Z:N?.messages?N.messages.push(new d("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):P.error(".field: cannot write field to JSON since it's not a string value")}set field2(Z){this._set("field2",Z);this._updateFieldDelimiter();this._updateUniqueValues()}set field3(Z){this._set("field3",Z);this._updateUniqueValues()}set valueExpression(Z){this._set("valueExpression",
Z);this._updateUniqueValues()}set defaultSymbol(Z){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",Z)}set fieldDelimiter(Z){this._set("fieldDelimiter",Z);this._updateUniqueValues()}readPortal(Z,J,Q){return Q.portal||v.getDefault()}readStyleOrigin(Z,J,Q){if(J.styleName)return Object.freeze({styleName:J.styleName});if(J.styleUrl)return Z=L.fromJSON(J.styleUrl,Q),Object.freeze({styleUrl:Z})}writeStyleOrigin(Z,J,Q,N){Z.styleName?J.styleName=Z.styleName:Z.styleUrl&&(J.styleUrl=L.toJSON(Z.styleUrl,
N))}set uniqueValueGroups(Z){this.styleOrigin?P.error("#uniqueValueGroups\x3d","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",Z),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(Z){this.styleOrigin?P.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",Z),this._updateValueInfoMap(),
this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(Z,J){this.styleOrigin?P.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(Z="object"===typeof Z?T(Z):new E({value:Z,symbol:b.ensureType(J)}),this.uniqueValueInfos?.push(Z),this._valueInfoMap[Z.value]=Z,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}removeUniqueValueInfo(Z){if(this.styleOrigin)P.error("#removeUniqueValueInfo()",
"Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else{var J=this.uniqueValueInfos;if(J)for(let Q=0;Q<J.length;Q++)if(String(J[Q].value)===String(Z)){delete this._valueInfoMap[Z];J.splice(Q,1);break}this._updateGroupsFromInfos();this._isInfosSource=!0;this._watchUniqueValueInfos()}}async getUniqueValueInfo(Z,J){let Q=J;this.valueExpression&&null==J?.arcade&&(Q={...Q,arcade:await F.loadArcade()});return this._getUniqueValueInfo(Z,Q)}getSymbol(Z,J){if(this.valueExpression&&
null==J?.arcade)P.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return this._getUniqueValueInfo(Z,J)?.symbol||this.defaultSymbol}async getSymbolAsync(Z,J){if(this.valueExpression&&null==J?.arcade){const Q=await F.loadArcade(),{arcadeUtils:N}=Q;N.hasGeometryOperations(this.valueExpression)&&await N.enableGeometryOperations();J={...J,arcade:Q}}return this._getUniqueValueInfo(Z,J)?.symbol||this.defaultSymbol}getSymbols(){const Z=[];for(const J of this.uniqueValueInfos??
[])J.symbol&&Z.push(J.symbol);this.defaultSymbol&&Z.push(this.defaultSymbol);return Z}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((Z,J)=>Z+J.getAttributeHash(),"")}getMeshHash(){const Z=JSON.stringify(this.backgroundFillSymbol),J=JSON.stringify(this.defaultSymbol),Q=this.uniqueValueInfos?.reduce((N,V)=>N+V.getMeshHash(),"");return`${Z}.${J}.${Q}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const Z=new I({field:this.field,
field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:f.clone(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:f.clone(this.visualVariables),legendOptions:f.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:f.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&
(Z._isDefaultSymbolDerived=!0);Z._set("portal",this.portal);const J=f.clone(this.uniqueValueInfos),Q=f.clone(this.uniqueValueGroups);this.styleOrigin&&(Z._set("styleOrigin",Object.freeze(f.clone(this.styleOrigin))),Object.freeze(J),Object.freeze(Q));Z._set("uniqueValueInfos",J);Z._updateValueInfoMap();Z._set("uniqueValueGroups",Q);Z._isInfosSource=this._isInfosSource;Z._watchUniqueValueInfosAndGroups();return Z}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(Z,
J){Z=[this.collectVVRequiredFields(Z,J),this.collectSymbolFields(Z,J)];await Promise.all(Z)}async collectSymbolFields(Z,J){const Q=[...this.getSymbols().map(N=>N.collectRequiredFields(Z,J)),t.collectArcadeFieldNames(Z,J,this.valueExpression)];t.collectField(Z,J,this.field);t.collectField(Z,J,this.field2);t.collectField(Z,J,this.field3);await Promise.all(Q)}populateFromStyle(){return D.fetchStyle(this.styleOrigin,{portal:this.portal}).then(Z=>{const J=[];this._valueInfoMap={};Z&&Z.data&&Array.isArray(Z.data.items)&&
Z.data.items.forEach(Q=>{var N=new M({styleUrl:Z.styleUrl,styleName:Z.styleName,portal:this.portal,name:Q.name});this.defaultSymbol||Q.name!==Z.data.defaultItem||(this.defaultSymbol=N,this._isDefaultSymbolDerived=!0);N=new E({value:Q.name,symbol:N});J.push(N);this._valueInfoMap[Q.name]=N});this._set("uniqueValueInfos",Object.freeze(J));this._updateGroupsFromInfos(!0);this._isInfosSource=null;this._watchUniqueValueInfos();!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,
this._isDefaultSymbolDerived=!0);return this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const {uniqueValueInfos:Z}=this;if(Z)for(const J of Z)this._valueInfoMap[J.value+""]=J}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos();this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles("uvInfos-watcher");
const {uniqueValueInfos:Z}=this;if(Z){const J=[];for(const Q of Z)J.push(q.watch(()=>({symbol:Q.symbol,value:Q.value,label:Q.label,description:Q.description}),(N,V)=>{N!==V&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(J,"uvInfos-watcher")}}_watchUniqueValueGroups(){this.removeHandles("uvGroups-watcher");const {uniqueValueGroups:Z}=this;if(Z){const J=[];for(const Q of Z){J.push(q.watch(()=>({classes:Q.classes}),(N,V)=>{N!==V&&(this._updateInfosFromGroups(),this._isInfosSource=
!1)},{sync:!0}));for(const N of Q.classes??[])J.push(q.watch(()=>({symbol:N.symbol,values:N.values,label:N.label,description:N.description}),(V,U)=>{V!==U&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(J,"uvGroups-watcher")}}_updateInfosFromGroups(){if(this.uniqueValueGroups){var Z=[],{field:J,field2:Q,field3:N,fieldDelimiter:V,uniqueValueGroups:U,valueExpression:sa}=this;if(J||sa){var za=!(!J||!Q);for(const Da of U)for(const va of Da.classes??[]){const {symbol:W,
label:ba,values:fa,description:Ba}=va;for(const Ja of fa??[]){const {value:G,value2:S,value3:ja}=Ja;var Fa=[G];Q&&Fa.push(S);N&&Fa.push(ja);Fa=za?Fa.join(V||""):Fa[0];Z.push(new E({symbol:W,label:ba,value:Fa,description:Ba}))}}}this._set("uniqueValueInfos",Z)}else this._set("uniqueValueInfos",null);this._updateValueInfoMap();this._watchUniqueValueInfos()}_updateGroupsFromInfos(Z=!1){if(this.uniqueValueInfos){var {field:J,field2:Q,valueExpression:N,fieldDelimiter:V,uniqueValueInfos:U}=this;if((J||
N)&&U.length){var sa=!(!J||!Q),za=U.map(Fa=>{const {symbol:Da,label:va,value:W,description:ba}=Fa,[fa,Ba,Ja]=sa?W?.toString()?.split(V||"")||[]:[W];return new B({symbol:Da,label:va,description:ba,values:[new x({value:fa,value2:Ba,value3:Ja})]})});za=[new A({classes:za})];Z&&Object.freeze(za);this._set("uniqueValueGroups",za)}else this._set("uniqueValueGroups",[])}else this._set("uniqueValueGroups",null);this._watchUniqueValueGroups()}_getUniqueValueInfo(Z,J){return this.valueExpression?this._getUnqiueValueInfoForExpression(Z,
J):this._getUnqiueValueInfoForFields(Z)}_getUnqiueValueInfoForExpression(Z,J){const {viewingMode:Q,scale:N,spatialReference:V,arcade:U,timeZone:sa}=J??{};var za=this._cache.compiledFunc;J=U.arcadeUtils;za||(za=J.createSyntaxTree(this.valueExpression),za=J.createFunction(za),this._cache.compiledFunc=za);Z=J.executeFunction(za,J.createExecContext(Z,J.getViewInfo({viewingMode:Q,scale:N,spatialReference:V}),sa));return this._valueInfoMap[Z+""]}_getUnqiueValueInfoForFields(Z){const J=this.field,Q=Z.attributes;
if("function"!==typeof J&&this.field2){Z=this.field2;var N=this.field3;const V=[];J&&V.push(Q[J]);Z&&V.push(Q[Z]);N&&V.push(Q[N]);N=V.join(this.fieldDelimiter||"")}else"function"===typeof J?N=J(Z):J&&(N=Q[J]);return this._valueInfoMap[N+""]}static fromPortalStyle(Z,J){const Q=new I(J?.properties);Q._set("styleOrigin",Object.freeze({styleName:Z}));Q._set("portal",J?.portal||v.getDefault());J=Q.populateFromStyle();J.catch(N=>{P.error(`#fromPortalStyle('${Z}'[, ...])`,"Failed to create unique value renderer from style name",
N)});return J}static fromStyleUrl(Z,J){J=new I(J?.properties);J._set("styleOrigin",Object.freeze({styleUrl:Z}));J=J.populateFromStyle();J.catch(Q=>{P.error(`#fromStyleUrl('${Z}'[, ...])`,"Failed to create unique value renderer from style URL",Q)});return J}};a.__decorate([g.property({readOnly:!0})],e.prototype,"_cache",null);a.__decorate([l.enumeration({uniqueValue:"unique-value"})],e.prototype,"type",void 0);a.__decorate([g.property(y.rendererBackgroundFillSymbolProperty)],e.prototype,"backgroundFillSymbol",
void 0);a.__decorate([g.property({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],e.prototype,"field",null);a.__decorate([p.cast("field")],e.prototype,"castField",null);a.__decorate([m.writer("field")],e.prototype,"writeField",null);a.__decorate([g.property({type:String,value:null,json:{write:!0}})],e.prototype,"field2",null);a.__decorate([g.property({type:String,value:null,json:{write:!0}})],e.prototype,"field3",null);a.__decorate([g.property({type:Boolean,json:{name:"drawInClassOrder",
default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],e.prototype,"orderByClassesEnabled",void 0);a.__decorate([g.property({type:String,value:null,json:{write:!0}})],e.prototype,"valueExpression",null);a.__decorate([g.property({type:String,json:{write:!0}})],e.prototype,"valueExpressionTitle",void 0);a.__decorate([g.property({type:r.LegendOptions,json:{write:!0}})],e.prototype,"legendOptions",void 0);a.__decorate([g.property({type:String,json:{write:!0}})],e.prototype,"defaultLabel",void 0);a.__decorate([g.property(k.deepMerge({...y.rendererSymbolProperty},
{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],e.prototype,"defaultSymbol",null);a.__decorate([g.property({type:String,value:null,json:{write:!0}})],e.prototype,"fieldDelimiter",null);a.__decorate([g.property({type:v,readOnly:!0})],e.prototype,"portal",void 0);a.__decorate([n.reader("portal",["styleName"])],e.prototype,"readPortal",null);a.__decorate([g.property({readOnly:!0,
json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],e.prototype,"styleOrigin",void 0);a.__decorate([n.reader("styleOrigin",["styleName","styleUrl"])],e.prototype,"readStyleOrigin",null);a.__decorate([m.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],e.prototype,"writeStyleOrigin",null);a.__decorate([g.property({type:[A],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(Z,J,Q)=>(J.uniqueValueGroups||K(J)).map(N=>A.fromJSON(N,Q))},write:{overridePolicy(){return this.styleOrigin?
{enabled:!1}:{enabled:!0}}}}})],e.prototype,"uniqueValueGroups",null);a.__decorate([g.property({type:[E],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],e.prototype,"uniqueValueInfos",null);return e=I=a.__decorate([u.subclass("esri.renderers.UniqueValueRenderer")],e)})},"esri/core/accessorSupport/diffUtils":function(){define(["exports","../Accessor","../Collection","./utils"],function(a,b,d,f){function e(m){return m instanceof d?Object.keys(m.items):m instanceof
b?f.getProperties(m).keys():m?Object.keys(m):[]}function k(m,c){return m instanceof d?m.items[c]:m[c]}function q(m,c){return Array.isArray(m)&&Array.isArray(c)?m.length!==c.length:!1}function g(m){return m?m.declaredClass:null}function p(m,c){const h=m.diff;if(h&&"function"===typeof h)return h(m,c);const t=e(m),v=e(c);if(0!==t.length||0!==v.length){if(!t.length||!v.length||q(m,c))return{type:"complete",oldValue:m,newValue:c};var w=v.filter(r=>!t.includes(r)),z=t.filter(r=>!v.includes(r));z=t.filter(r=>
v.includes(r)&&k(m,r)!==k(c,r)).concat(w,z).sort();if((w=g(m))&&u.has(w)&&z.length)return{type:"complete",oldValue:m,newValue:c};var y;w=m instanceof b&&c instanceof b;for(const r of z){z=k(m,r);const x=k(c,r);if((w||"function"!==typeof z&&"function"!==typeof x)&&z!==x&&(null!=z||null!=x)){if(h&&h[r]&&"function"===typeof h[r])z=h[r]?.(z,x);else if(z instanceof Date&&x instanceof Date){if(z.getTime()===x.getTime())continue;z={type:"complete",oldValue:z,newValue:x}}else z="object"===typeof z&&"object"===
typeof x&&g(z)===g(x)?p(z,x):{type:"complete",oldValue:z,newValue:x};null!=z&&(null!=y?y.diff[r]=z:y={type:"partial",diff:{[r]:z}})}}return y}}function l(m,c){if(null==m)return!1;c=c.split(".");for(const h of c){if("complete"===m.type)break;if("partial"===m.type){if(m=m.diff[h],!m)return!1}else return!1}return!0}function n(m){if(null==m)return!0;switch(m.type){case "complete":return!1;case "collection":for(const c of m.added)if(!n(c))return!1;for(const c of m.removed)if(!n(c))return!1;for(const c of m.changed)if(!n(c))return!1;
return!0;case "partial":for(const c in m.diff)if(!n(m.diff[c]))return!1;return!0}}const u=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);a.diff=function(m,c){if("function"!==typeof m&&"function"!==typeof c&&(null!=m||null!=c))return null==m||null==c||"object"===typeof m&&"object"===typeof c&&g(m)!==g(c)?{type:"complete",oldValue:m,newValue:c}:p(m,c)};a.hasDiff=l;a.hasDiffAny=function(m,c){for(const h of c)if(l(m,
h))return!0;return!1};a.isEmpty=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/UniqueValue":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,d,f,e,k,q,g,p){b=class extends b.ClonableMixin(d.JSONSupport){constructor(l){super(l);
this.value3=this.value2=this.value=null}};a.__decorate([f.property(p.uniqueValueProperty)],b.prototype,"value",void 0);a.__decorate([f.property(p.uniqueValueProperty)],b.prototype,"value2",void 0);a.__decorate([f.property(p.uniqueValueProperty)],b.prototype,"value3",void 0);return b=a.__decorate([g.subclass("esri.renderers.support.UniqueValue")],b)})},"esri/renderers/support/UniqueValueClass":function(){define("../../chunks/tslib.es6 ../../core/arrayUtils ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties ./UniqueValue".split(" "),
function(a,b,d,f,e,k,q,g,p,l){d=class extends d.ClonableMixin(f.JSONSupport){constructor(n){super(n);this.values=this.symbol=this.label=this.description=null}castValues(n){if(null==n)return null;n=Array.isArray(n)?n:[n];const u=typeof n[0];return"string"===u||"number"===u?n.map(m=>new l({value:m})):"object"===u?n[0]instanceof l?n:n.map(m=>new l(m)):null}};a.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"description",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],
d.prototype,"label",void 0);a.__decorate([e.property(p.rendererSymbolProperty)],d.prototype,"symbol",void 0);a.__decorate([e.property({type:[l],json:{type:[[String]],read:{reader:n=>n?n.map(u=>new l({value:u[0],value2:u[1],value3:u[2]})):null},write:{writer:(n,u)=>{const m=[];for(const c of n)n=[c.value,c.value2,c.value3].filter(b.isSome).map(h=>h.toString()),m.push(n);u.values=m}}}})],d.prototype,"values",void 0);a.__decorate([k.cast("values")],d.prototype,"castValues",null);return d=a.__decorate([g.subclass("esri.renderers.support.UniqueValueClass")],
d)})},"esri/renderers/support/UniqueValueGroup":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./UniqueValueClass".split(" "),function(a,b,d,f,e,k,q,g,p){b=class extends b.ClonableMixin(d.JSONSupport){constructor(l){super(l);this.classes=this.heading=null}};a.__decorate([f.property({type:String,
json:{write:!0}})],b.prototype,"heading",void 0);a.__decorate([f.property({type:[p],json:{write:!0}})],b.prototype,"classes",void 0);return b=a.__decorate([g.subclass("esri.renderers.support.UniqueValueGroup")],b)})},"esri/renderers/support/UniqueValueInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),
function(a,b,d,f,e,k,q,g){var p;b=p=class extends b.JSONSupport{constructor(l){super(l);this.value=this.symbol=this.label=this.description=null}clone(){return new p({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const l=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${l}`}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],
b.prototype,"label",void 0);a.__decorate([d.property(g.requiredRendererSymbolProperty)],b.prototype,"symbol",void 0);a.__decorate([d.property(g.uniqueValueProperty)],b.prototype,"value",void 0);return b=p=a.__decorate([q.subclass("esri.renderers.support.UniqueValueInfo")],b)})},"esri/symbols/support/styleUtils":function(){define("exports ../../request ../../core/Error ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags".split(" "),
function(a,b,d,f,e,k,q,g){async function p(m,c){try{return{data:(await u(m,c)).data,baseUrl:e.removeFile(m),styleUrl:m}}catch(h){return f.throwIfAbortError(h),null}}function l(m,c,h){c=null!=c.portal?c.portal:k.getDefault();let t;const v=`${c.url} - ${c.user&&c.user.username} - ${m}`;a.cachedStyles[v]||(a.cachedStyles[v]=n(m,c,h).then(w=>{t=w;return w.fetchData()}).then(w=>({data:w,baseUrl:t.itemUrl??"",styleName:m})));return a.cachedStyles[v]}function n(m,c,h){return c.load(h).then(()=>{const t=
new q({disableExtraQuery:!0,query:`owner:${"esri_en"} AND type:${"Style"} AND typekeywords:"${m}"`});return c.queryItems(t,h)}).then(({results:t})=>{let v=null;const w=m.toLowerCase();if(t&&Array.isArray(t))for(const z of t)if(z.typeKeywords?.some(y=>y.toLowerCase()===w)&&"Style"===z.type&&"esri_en"===z.owner){v=z;break}if(!v)throw new d("symbolstyleutils:style-not-found",`The style '${m}' could not be found`,{styleName:m});return v.load(h)})}function u(m,c){c={responseType:"json",query:{f:"json"},
...c};return b(e.normalize(m),c)}a.cachedStyles={};a.Style2DUrlTemplate="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson";a.cleanupStyleUtilsCache=function(){a.cachedStyles&&(a.cachedStyles={})};a.fetchStyle=function(m,c,h){return null!=m?.styleUrl?p(m.styleUrl,h):null!=m?.styleName?l(m.styleName,c,h):Promise.reject(new d("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))};
a.makeCIMSymbolRef=function(m){return null===m||"CIMSymbolReference"===m.type?m:{type:"CIMSymbolReference",symbol:m}};a.requestJSON=u;a.symbolUrlFromStyleItem=function(m,c,h=["gltf"]){if("cimRef"===c)return m.cimRef;if(m.formatInfos&&!g.enableWebStyleForceWOSR())for(const t of h)if(c=m.formatInfos.find(v=>v.type===t))return c.href;return m.webRef};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/featureFlags":function(){define(["exports","../core/has"],function(a,b){const d=
()=>b.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0),f=()=>b.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),e=()=>b.add("enable-i3s-patching",!0,!0,!0),k=()=>b.add("enable-i3s-patching",!1,!0,!0),q=(g="i3s-patching")=>{k();f();b.add("enable-feature:SceneLayer-editing",!0,!0,!0);switch(g){case "feature-layer-view":d();break;case "i3s-patching":e()}};q("i3s-patching");a.direct3DObjectFeatureLayerDisplayEnabled=()=>!!b("enable-feature:direct-3d-object-feature-layer-display");
a.disableDirect3DObjectFeatureLayerDisplay=f;a.disableI3SPatching=k;a.disableIDBCache=()=>b.add("disable-feature:idb-cache",!0,!0,!0);a.disableSceneLayerEditing=()=>{k();f();b.add("enable-feature:SceneLayer-editing",!1,!0,!0)};a.enableDirect3DObjectFeatureLayerDisplay=d;a.enableI3SPatching=e;a.enableSceneLayerEditing=q;a.enableWebStyleForceWOSR=()=>!!b("enable-feature:force-wosr");a.i3sPatchingEnabled=()=>!!b("enable-i3s-patching");a.sceneLayerEditingEnabled=()=>!!b("enable-feature:SceneLayer-editing");
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/jsonUtils":function(){define(["exports","../../core/Warning","../../core/accessorSupport/extensions/serializableProperty/reader","./types"],function(a,b,d,f){function e(q,g,p){return q?q&&(q.styleName||q.styleUrl)&&"uniqueValue"!==q.type?(p?.messages&&p.messages.push(new b("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+q.type+"'",{definition:q,context:p})),null):
k(q,g,p):null}const k=d.createTypeReader({types:f.rendererTypes});a.fromJSON=function(q,g){return e(q,null,g)};a.read=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/types":function(){define("exports ../../core/Logger ../ClassBreaksRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../PieChartRenderer ../Renderer ../SimpleRenderer ../UniqueValueRenderer".split(" "),function(a,b,d,f,e,k,q,g,p,l){function n(c){const h=c.uniqueValueInfos,
t=h?.filter(({symbol:v,label:w},z)=>{v||b.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${z}] ${w}) without a symbol from web scene.`);return!!v});t?.length!==h?.length&&(c.uniqueValueInfos=t);return c}function u(c){const h=c.classBreakInfos,t=h?.filter(({symbol:v,label:w},z)=>{v||b.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${z}] ${w}) without a symbol from web scene.`);return!!v});t?.length!==h?.length&&(c.classBreakInfos=
t);return c}const m={key:"type",base:g,typeMap:{simple:p,"unique-value":l,"class-breaks":d,heatmap:k},errorContext:"renderer",validate:function(c){switch(c.type){case "simple":return c.symbol||(b.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene."),c=void 0),c;case "unique-value":return n(c);case "class-breaks":return u(c);case "heatmap":return c}}};a.rendererTypes={key:"type",base:g,typeMap:{heatmap:k,simple:p,"unique-value":l,"class-breaks":d,
"dot-density":e,dictionary:f,"pie-chart":q},errorContext:"renderer"};a.webSceneRendererTypes=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MultiOriginJSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./ReadOnlyMultiOriginJSONSupport ./accessorSupport/get ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q,g,p){const l=u=>{u=class extends u{constructor(...m){super(...m)}clear(m,
c="user"){return q.getProperties(this).store.delete(m,k.nameToId(c))}write(m,c){m=m||{};g.write(this,m,c);return m}setAtOrigin(m,c,h){q.getProperties(this).setAtOrigin(m,c,k.nameToId(h))}removeOrigin(m){const c=q.getProperties(this).store;m=k.nameToId(m);const h=c.keys(m);for(const t of h)c.originOf(t)===m&&c.set(t,c.get(t,m),k.OriginId.USER)}updateOrigin(m,c){const h=q.getProperties(this).store;c=k.nameToId(c);const t=e.get(this,m);for(let v=c+1;v<k.OriginIdNum;++v)h.delete(m,v);h.set(m,t,c)}toJSON(m){return this.write({},
m)}};u=b.__decorate([p.subclass("esri.core.WriteableMultiOriginJSONSupport")],u);u.prototype.toJSON.isDefaultToJSON=!0;return u},n=u=>{u=class extends l(f.ReadOnlyMultiOriginJSONMixin(u)){constructor(...m){super(...m)}};return u=b.__decorate([p.subclass("esri.core.MultiOriginJSONSupport")],u)};a.MultiOriginJSONSupport=class extends n(d){};a.MultiOriginJSONSupport=b.__decorate([p.subclass("esri.core.MultiOriginJSONSupport")],a.MultiOriginJSONSupport);a.MultiOriginJSONMixin=n;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/ReadOnlyMultiOriginJSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./accessorSupport/defaultsStoreUtils ./accessorSupport/MultiOriginStore ./accessorSupport/PropertyOrigin ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q,g,p){const l=n=>{n=class extends n{constructor(...u){super(...u);u=g.getProperties(this);const m=u.store,c=new e;u.store=c;f.setupConstructedDefaults(u,
m,c)}read(u,m){q.read(this,u,m)}getAtOrigin(u,m){const c=g.getProperties(this).store,h=k.nameToId(m);if("string"===typeof u)return c.get(u,h);const t={};u.forEach(v=>{t[v]=c.get(v,h)});return t}originOf(u){return k.idToName(this.originIdOf(u))}originIdOf(u){return g.getProperties(this).store.originOf(u)}revert(u,m){const c=g.getProperties(this).store,h=k.nameToId(m),t=g.getProperties(this);("string"===typeof u?"*"===u?c.keys(h):[u]:u).forEach(v=>{t.invalidate(v);c.revert(v,h);t.commit(v)})}};return n=
b.__decorate([p.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],n)};a.ReadOnlyMultiOriginJSONSupport=class extends l(d){};a.ReadOnlyMultiOriginJSONSupport=b.__decorate([p.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],a.ReadOnlyMultiOriginJSONSupport);a.ReadOnlyMultiOriginJSONMixin=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/MultiOriginStore":function(){define(["../lang","./PropertyOrigin"],function(a,b){class d{constructor(){this._propertyOriginMap=
new Map;this._originStores=Array(b.OriginIdNum);this._values=new Map;this.multipleOriginsSupported=!0}clone(f){const e=new d;var k=this._originStores[b.OriginId.DEFAULTS];k&&k.forEach((q,g)=>{e.set(g,a.clone(q),b.OriginId.DEFAULTS)});for(let q=b.OriginId.SERVICE;q<b.OriginIdNum;q++)(k=this._originStores[q])&&k.forEach((g,p)=>{f&&f.has(p)||e.set(p,a.clone(g),q)});return e}get(f,e){return(e=void 0===e?this._values:this._originStores[e])?e.get(f):void 0}keys(f){return(f=null==f?this._values:this._originStores[f])?
[...f.keys()]:[]}set(f,e,k=b.OriginId.USER){var q=this._originStores[k];q||(q=new Map,this._originStores[k]=q);q.set(f,e);return!this._values.has(f)||this._propertyOriginMap.get(f)<=k?(q=this._values.get(f),this._values.set(f,e),this._propertyOriginMap.set(f,k),q!==e):!1}delete(f,e=b.OriginId.USER){var k=this._originStores[e];if(k){var q=k.get(f);k.delete(f);if(this._values.has(f)&&this._propertyOriginMap.get(f)===e)for(this._values.delete(f),--e;0<=e;e--)if((k=this._originStores[e])&&k.has(f)){this._values.set(f,
k.get(f));this._propertyOriginMap.set(f,e);break}return q}}has(f,e){return(e=void 0===e?this._values:this._originStores[e])?e.has(f):!1}revert(f,e){for(;0<e&&!this.has(f,e);)--e;const k=this._originStores[e]?.get(f),q=this._values.get(f);this._values.set(f,k);this._propertyOriginMap.set(f,e);return q!==k}originOf(f){return this._propertyOriginMap.get(f)||b.OriginId.DEFAULTS}forEach(f){this._values.forEach(f)}}return d})},"esri/form/FormTemplate":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./ExpressionInfo ./elements/GroupElement ./support/elements".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){var u;const m=n.buildTypeMaps(l);b=u=class extends b.JSONSupport{constructor(c){super(c);this.expressionInfos=this.elements=this.description=null;this.preserveFieldValuesWhenHidden=!1;this.title=null}castElements(c){return n.ensureType(c,m)}readElements(c,h){return n.fromJSON(h.formElements,m)}writeElements(c,h){h.formElements=n.toJSON(c,m)}clone(){return new u({description:this.description,expressionInfos:d.clone(this.expressionInfos),elements:d.clone(this.elements),
title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}};a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"elements",void 0);a.__decorate([e.cast("elements")],b.prototype,"castElements",null);a.__decorate([k.reader("elements",["formElements"])],b.prototype,"readElements",null);a.__decorate([g.writer("elements")],b.prototype,"writeElements",null);a.__decorate([f.property({type:[p],
json:{write:!0}})],b.prototype,"expressionInfos",void 0);a.__decorate([f.property({type:Boolean,json:{default:!1,write:!0}})],b.prototype,"preserveFieldValuesWhenHidden",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=u=a.__decorate([q.subclass("esri.form.FormTemplate")],b)})},"esri/form/ExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q){var g;b=g=class extends b.JSONSupport{constructor(p){super(p);this.name=this.expression=null;this.returnType="boolean";this.title=null}clone(){return new g({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([d.property({type:["boolean","date","number",
"string"],json:{write:!0}})],b.prototype,"returnType",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=g=a.__decorate([q.subclass("esri.form.ExpressionInfo")],b)})},"esri/form/elements/GroupElement":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./Element ../support/elements".split(" "),
function(a,b,d,f,e,k,q,g,p){var l;g=l=class extends g{constructor(u){super(u);this.elements=null;this.initialState="expanded";this.type="group"}castElements(u){return p.ensureType(u,n,!1)}readElements(u,m){return p.fromJSON(m.formElements,n,!1)}writeElements(u,m){m.formElements=p.toJSON(u,n,!1)}clone(){return new l({description:this.description,elements:b.clone(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};a.__decorate([d.property({json:{write:!0}})],
g.prototype,"elements",void 0);a.__decorate([f.cast("elements")],g.prototype,"castElements",null);a.__decorate([e.reader("elements",["formElements"])],g.prototype,"readElements",null);a.__decorate([q.writer("elements")],g.prototype,"writeElements",null);a.__decorate([d.property({type:["collapsed","expanded"],json:{write:!0}})],g.prototype,"initialState",void 0);a.__decorate([d.property({type:String,json:{read:!1,write:!0}})],g.prototype,"type",void 0);g=l=a.__decorate([k.subclass("esri.form.elements.GroupElement")],
g);const n=p.buildTypeMaps(g);return g})},"esri/form/elements/Element":function(){define(["../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],function(a,b,d,f){b=class extends b.JSONSupport{constructor(e){super(e);this.visibilityExpression=this.type=this.label=this.description=null}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([d.property({type:String,
json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([d.property()],b.prototype,"type",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"visibilityExpression",void 0);return b=a.__decorate([f.subclass("esri.form.elements.Element")],b)})},"esri/form/support/elements":function(){define("exports ../../core/accessorSupport/ensureType ../elements/AttachmentElement ../elements/Element ../elements/FieldElement ../elements/RelationshipElement".split(" "),function(a,b,d,
f,e,k){a.buildTypeMaps=function(q){return{typesWithGroup:{base:f,key:"type",typeMap:{attachment:d,field:e,group:q,relationship:k}},typesWithoutGroup:{base:f,key:"type",typeMap:{attachment:d,field:e,relationship:k}}}};a.ensureType=function(q,g,p=!0){return q?q.map(l=>b.ensureOneOfType(p?g.typesWithGroup:g.typesWithoutGroup,l)):null};a.fromJSON=function(q,g,p=!0){if(!q)return null;const l=p?g.typesWithGroup.typeMap:g.typesWithoutGroup.typeMap;return q.filter(n=>l[n.type]).map(n=>l[n.type].fromJSON(n))};
a.toJSON=function(q,g,p=!0){if(!q)return null;const l=p?g.typesWithGroup.typeMap:g.typesWithoutGroup.typeMap;return q.filter(n=>l[n.type]).map(n=>n.toJSON())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/AttachmentElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Element ./inputs/AttachmentInput".split(" "),
function(a,b,d,f,e,k,q,g){var p;d=p=class extends q{constructor(l){super(l);this.input=this.editableExpression=this.attachmentKeyword=null;this.type="attachment"}clone(){return new p({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"attachmentKeyword",void 0);a.__decorate([b.property({type:String,
json:{write:!0}})],d.prototype,"editableExpression",void 0);a.__decorate([b.property({type:g,json:{read:{source:"inputType"},write:{target:"inputType"}}})],d.prototype,"input",void 0);a.__decorate([b.property({type:["attachment"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=p=a.__decorate([k.subclass("esri.form.elements.AttachmentElement")],d)})},"esri/form/elements/inputs/AttachmentInput":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q){var g;b=g=class extends b.JSONSupport{constructor(p){super(p);this.type=null}clone(){return new g({type:this.type})}};a.__decorate([d.property({type:"attachment audio document image signature video".split(" "),json:{write:!0}})],b.prototype,"type",void 0);return b=g=a.__decorate([q.subclass("esri.form.elements.inputs.AttachmentInput")],b)})},"esri/form/elements/FieldElement":function(){define("../../chunks/tslib.es6 ../../core/deprecate ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./Element ./support/inputs ../../layers/support/domains".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){var u;const m=d.getLogger("esri.form.elements.FieldElement");d=u=class extends p{constructor(c){super(c);this.requiredExpression=this.input=this.hint=this.fieldName=this.editableExpression=this.domain=null;this.type="field";this.valueExpression=null}get editable(){b.deprecatedProperty(m,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0});return this._get("editable")??!0}set editable(c){b.deprecatedProperty(m,"editable",{replacement:"editableExpression",
version:"4.26",warnOnce:!0});this._set("editable",c)}clone(){return new u({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};a.__decorate([f.property({types:n.types,json:{read:{reader:n.fromJSON},write:!0}})],d.prototype,"domain",void 0);
a.__decorate([f.property({type:Boolean,json:{write:!0}})],d.prototype,"editable",null);a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"editableExpression",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"fieldName",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"hint",void 0);a.__decorate([f.property({types:l.types,json:{read:{source:"inputType"},write:{target:"inputType"}}})],d.prototype,"input",void 0);a.__decorate([f.property({type:String,
json:{write:!0}})],d.prototype,"requiredExpression",void 0);a.__decorate([f.property({type:String,json:{read:!1,write:!0}})],d.prototype,"type",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"valueExpression",void 0);return d=u=a.__decorate([g.subclass("esri.form.elements.FieldElement")],d)})},"esri/form/elements/support/inputs":function(){define("exports ../inputs/BarcodeScannerInput ../inputs/ComboBoxInput ../inputs/DatePickerInput ../inputs/DateTimeOffsetPickerInput ../inputs/DateTimePickerInput ../inputs/Input ../inputs/RadioButtonsInput ../inputs/SwitchInput ../inputs/TextAreaInput ../inputs/TextBoxInput ../inputs/TimePickerInput".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u){a.types={base:q,key:"type",typeMap:{"barcode-scanner":b,"combo-box":d,"date-picker":f,"datetime-picker":k,"datetimeoffset-picker":e,"radio-buttons":g,switch:p,"text-area":l,"text-box":n,"time-picker":u}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/inputs/BarcodeScannerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,d,f,e,k,q){var g;d=g=class extends q{constructor(p){super(p);this.type="barcode-scanner"}clone(){return new g({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["barcode-scanner"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=g=a.__decorate([k.subclass("esri.form.elements.inputs.BarcodeScannerInput")],d)})},"esri/form/elements/inputs/TextInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,d,f,e,k,q){d=class extends q{constructor(g){super(g);this.maxLength=null;this.minLength=0}};a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"maxLength",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],d.prototype,"minLength",void 0);return d=a.__decorate([k.subclass("esri.form.elements.inputs.TextInput")],d)})},"esri/form/elements/inputs/Input":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q){b=class extends b.JSONSupport{constructor(g){super(g);this.type=null}};a.__decorate([d.property()],b.prototype,"type",void 0);return b=a.__decorate([q.subclass("esri.form.elements.inputs.Input")],b)})},"esri/form/elements/inputs/ComboBoxInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,d,f,e,k,q){var g;d=g=class extends q{constructor(p){super(p);this.noValueOptionLabel=null;this.showNoValueOption=!0;this.type="combo-box"}clone(){return new g({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"noValueOptionLabel",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],d.prototype,"showNoValueOption",void 0);a.__decorate([b.property({type:["combo-box"],
json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=g=a.__decorate([k.subclass("esri.form.elements.inputs.ComboBoxInput")],d)})},"esri/form/elements/inputs/DatePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,d,f,e,k,q,g,p){var l;d=l=class extends p{constructor(n){super(n);this.min=this.max=null;this.type="date-picker"}readMax(n,u){n=u.max;return null!=n?n:null}writeMax(n,u){u.max=null!=n?n:null}readMin(n,u){n=u.min;return null!=n?n:null}writeMin(n,u){u.min=null!=n?n:null}clone(){return new l({max:this.max,min:this.min})}};a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,"max",void 0);a.__decorate([k.reader("max")],d.prototype,"readMax",null);a.__decorate([g.writer("max")],
d.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,"min",void 0);a.__decorate([k.reader("min")],d.prototype,"readMin",null);a.__decorate([g.writer("min")],d.prototype,"writeMin",null);a.__decorate([b.property({type:["date-picker"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=l=a.__decorate([q.subclass("esri.form.elements.inputs.DatePickerInput")],d)})},"esri/form/elements/inputs/DateTimeOffsetPickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,d,f,e,k,q,g,p){function l(u){return null!=u?u:null}var n;d=n=class extends p{constructor(u){super(u);this.includeTimeOffset=!0;this.min=this.max=null;this.timeResolution="minutes";this.type="datetimeoffset-picker"}readMax(u,m){return l(m.max)}writeMax(u,m){m.max=null!=u?u:null}readMin(u,m){return l(m.min)}writeMin(u,m){m.min=null!=u?u:null}readTimeResolution(u,m){return l(m.timeResolution)}writeTimeResolution(u,m){m.timeResolution=null!=u?u:null}clone(){return new n({includeTimeOffset:this.includeTimeOffset,
max:this.max,min:this.min,timeResolution:this.timeResolution})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],d.prototype,"includeTimeOffset",void 0);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,"max",void 0);a.__decorate([k.reader("max")],d.prototype,"readMax",null);a.__decorate([g.writer("max")],d.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,"min",void 0);a.__decorate([k.reader("min")],
d.prototype,"readMin",null);a.__decorate([g.writer("min")],d.prototype,"writeMin",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,"timeResolution",void 0);a.__decorate([k.reader("timeResolution")],d.prototype,"readTimeResolution",null);a.__decorate([g.writer("timeResolution")],d.prototype,"writeTimeResolution",null);a.__decorate([b.property({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=n=a.__decorate([q.subclass("esri.form.elements.inputs.DateTimeOffsetPickerInput")],
d)})},"esri/form/elements/inputs/DateTimePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),function(a,b,d,f,e,k,q,g,p){function l(u){return null!=u?new Date(u):null}var n;d=n=class extends p{constructor(u){super(u);
this.includeTime=!1;this.min=this.max=null;this.type="datetime-picker"}readMax(u,m){return l(m.max)}writeMax(u,m){m.max=u?u.getTime():null}readMin(u,m){return l(m.min)}writeMin(u,m){m.min=u?u.getTime():null}clone(){return new n({includeTime:this.includeTime,max:this.max,min:this.min})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],d.prototype,"includeTime",void 0);a.__decorate([b.property({type:Date,json:{type:Number,write:!0}})],d.prototype,"max",void 0);a.__decorate([k.reader("max")],
d.prototype,"readMax",null);a.__decorate([g.writer("max")],d.prototype,"writeMax",null);a.__decorate([b.property({type:Date,json:{type:Number,write:!0}})],d.prototype,"min",void 0);a.__decorate([k.reader("min")],d.prototype,"readMin",null);a.__decorate([g.writer("min")],d.prototype,"writeMin",null);a.__decorate([b.property({type:["datetime-picker"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=n=a.__decorate([q.subclass("esri.form.elements.inputs.DateTimePickerInput")],d)})},"esri/form/elements/inputs/RadioButtonsInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,d,f,e,k,q){var g;d=g=class extends q{constructor(p){super(p);this.noValueOptionLabel=null;this.showNoValueOption=!0;this.type="radio-buttons"}clone(){return new g({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};a.__decorate([b.property({type:String,json:{write:!0}})],d.prototype,"noValueOptionLabel",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],d.prototype,"showNoValueOption",void 0);a.__decorate([b.property({type:["radio-buttons"],
json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=g=a.__decorate([k.subclass("esri.form.elements.inputs.RadioButtonsInput")],d)})},"esri/form/elements/inputs/SwitchInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),function(a,b,d,f,e,k,q){var g;d=g=class extends q{constructor(p){super(p);
this.onValue=this.offValue=null;this.type="switch"}clone(){return new g({offValue:this.offValue,onValue:this.onValue})}};a.__decorate([b.property({type:[String,Number],json:{write:!0}})],d.prototype,"offValue",void 0);a.__decorate([b.property({type:[String,Number],json:{write:!0}})],d.prototype,"onValue",void 0);a.__decorate([b.property({type:["switch"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=g=a.__decorate([k.subclass("esri.form.elements.inputs.SwitchInput")],d)})},"esri/form/elements/inputs/TextAreaInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,d,f,e,k,q){var g;d=g=class extends q{constructor(p){super(p);this.type="text-area"}clone(){return new g({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["text-area"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=g=a.__decorate([k.subclass("esri.form.elements.inputs.TextAreaInput")],d)})},"esri/form/elements/inputs/TextBoxInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,d,f,e,k,q){var g;d=g=class extends q{constructor(p){super(p);this.type="text-box"}clone(){return new g({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["text-box"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=g=a.__decorate([k.subclass("esri.form.elements.inputs.TextBoxInput")],d)})},"esri/form/elements/inputs/TimePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,d,f,e,k,q,g,p){function l(u){return null!=u?u:null}var n;d=n=class extends p{constructor(u){super(u);this.min=this.max=null;this.timeResolution="minutes";this.type="time-picker"}readMax(u,m){return l(m.max)}writeMax(u,m){m.max=null!=u?u:null}readMin(u,m){return l(m.min)}writeMin(u,m){m.min=null!=u?u:null}readTimeResolution(u,m){return l(m.timeResolution)}writeTimeResolution(u,m){m.timeResolution=null!=u?u:null}clone(){return new n({max:this.max,min:this.min,timeResolution:this.timeResolution})}};
a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,"max",void 0);a.__decorate([k.reader("max")],d.prototype,"readMax",null);a.__decorate([g.writer("max")],d.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,"min",void 0);a.__decorate([k.reader("min")],d.prototype,"readMin",null);a.__decorate([g.writer("min")],d.prototype,"writeMin",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],d.prototype,
"timeResolution",void 0);a.__decorate([k.reader("timeResolution")],d.prototype,"readTimeResolution",null);a.__decorate([g.writer("timeResolution")],d.prototype,"writeTimeResolution",null);a.__decorate([b.property({type:["time-picker"],json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=n=a.__decorate([q.subclass("esri.form.elements.inputs.TimePickerInput")],d)})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(a,b,d,f,e,k){b={key:"type",base:f,typeMap:{range:k,"coded-value":d,inherited:e}};a.CodedValueDomain=d;a.DomainBase=f;a.InheritedDomain=e;a.RangeDomain=k;a.fromJSON=function(q){if(!q?.type)return null;switch(q.type){case "range":return k.fromJSON(q);case "codedValue":return d.fromJSON(q);case "inherited":return e.fromJSON(q)}return null};a.types=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(a,b,d,f,e,k,q,g){var p;f=p=class extends g{constructor(l){super(l);this.codedValues=null;this.type="coded-value"}getName(l){let n=null;if(this.codedValues){const u=String(l);this.codedValues.some(m=>{String(m.code)===u&&(n=m.name);return!!n})}return n}clone(){return new p({codedValues:b.clone(this.codedValues),name:this.name})}};a.__decorate([d.property({type:[q.CodedValue],json:{write:!0}})],f.prototype,"codedValues",void 0);a.__decorate([e.enumeration({codedValue:"coded-value"})],f.prototype,
"type",void 0);return f=p=a.__decorate([k.subclass("esri.layers.support.CodedValueDomain")],f)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q,g){var p;a.CodedValue=p=class extends d.JSONSupport{constructor(l){super(l);this.code=this.name=
null}clone(){return new p({name:this.name,code:this.code})}};b.__decorate([f.property({type:String,json:{write:!0}})],a.CodedValue.prototype,"name",void 0);b.__decorate([f.property({type:[String,Number],json:{write:!0}})],a.CodedValue.prototype,"code",void 0);a.CodedValue=p=b.__decorate([g.subclass("esri.layers.support.CodedValue")],a.CodedValue);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p){b=new b.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});d=class extends d.JSONSupport{constructor(l){super(l);this.type=this.name=null}};a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"name",void 0);a.__decorate([g.enumeration(b)],d.prototype,"type",void 0);return d=a.__decorate([p.subclass("esri.layers.support.Domain")],d)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,d,f,e,k,q,g,p){var l;b=l=class extends p{constructor(n){super(n);this.type="inherited"}clone(){return new l}};a.__decorate([q.enumeration({inherited:"inherited"})],b.prototype,"type",void 0);return b=l=a.__decorate([g.subclass("esri.layers.support.InheritedDomain")],b)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,d,f,e,k,q,g){var p;d=p=class extends g{constructor(l){super(l);this.minValue=this.maxValue=null;this.type="range"}clone(){return new p({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};a.__decorate([b.property({json:{type:[Number],read:{source:"range",reader(l,n){return n.range?.[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(l,n,u){n[u]=[this.minValue||0,l]}}}})],d.prototype,"maxValue",void 0);a.__decorate([b.property({json:{type:[Number],
read:{source:"range",reader(l,n){return n.range?.[0]}},write:{target:"range",writer(l,n,u){n[u]=[l,this.maxValue||0]}}}})],d.prototype,"minValue",void 0);a.__decorate([k.enumeration({range:"range"})],d.prototype,"type",void 0);return d=p=a.__decorate([q.subclass("esri.layers.support.RangeDomain")],d)})},"esri/form/elements/RelationshipElement":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Element ../../popup/support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,d,f,e,k,q){var g;f=g=class extends k{constructor(p){super(p);this.displayCount=null;this.displayType="list";this.relationshipId=this.orderByFields=this.editableExpression=null;this.type="relationship"}clone(){return new g({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:b.clone(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};
a.__decorate([d.property({type:Number,json:{write:!0}})],f.prototype,"displayCount",void 0);a.__decorate([d.property({type:["list"],json:{write:!0}})],f.prototype,"displayType",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],f.prototype,"editableExpression",void 0);a.__decorate([d.property({type:[q],json:{write:!0}})],f.prototype,"orderByFields",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],f.prototype,"relationshipId",void 0);a.__decorate([d.property({type:["relationship"],
json:{read:!1,write:!0}})],f.prototype,"type",void 0);return f=g=a.__decorate([e.subclass("esri.form.elements.RelationshipElement")],f)})},"esri/layers/graphics/sources/MemorySource":function(){define("exports ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../core/Collection ../../../core/Error ../../../core/has ../../../core/Loadable ../../../core/Logger ../../../core/Promise ../../../core/workers/workers ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/shared ../../../core/accessorSupport/decorators/subclass ../../../rest/query/operations/editsZScale ../../../rest/query/operations/queryZScale ../../../rest/support/FeatureSet ../../../geometry/Extent ../../../geometry/Polygon ../../../geometry/support/typeUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r,x){let B=0;a.MemorySource=class extends g.LoadableMixin(l.EsriPromiseMixin(e)){constructor(A){super(A);this._idToClientGraphic=null;this.type="memory"}load(A){this.addResolvingPromise(this._startWorker(null!=A?A.signal:null));return Promise.resolve(this)}destroy(){this._connection?.close();this._connection=null}get _workerGeometryType(){const A=this.layer?.geometryType;return A?this._geometryTypeRequiresClientGraphicMapping(A)?"polygon":A:null}applyEdits(A){return this.load().then(()=>
this._applyEdits(A))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(A,E={}){await this.load(E);E=await this._connection.invoke("queryFeatures",A?A.toJSON():null,E);w.applyFeatureSetZUnitScaling(A,this.layer.spatialReference,E);A=z.fromJSON(E);if(!this._requiresClientGraphicMapping())return A;E=this.layer.objectIdField;for(const F of A.features){const L=this._idToClientGraphic.get(F.attributes[E]);L&&(F.geometry=L.geometry)}A.geometryType=this.layer.geometryType;
return A}async queryFeaturesJSON(A,E={}){if(this._requiresClientGraphicMapping())throw new k("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(E);E=await this._connection.invoke("queryFeatures",A?A.toJSON():null,E);w.applyFeatureSetZUnitScaling(A,this.layer.spatialReference,E);return E}queryFeatureCount(A,E={}){return this.load(E).then(()=>this._connection.invoke("queryFeatureCount",A?A.toJSON():null,E))}queryObjectIds(A,
E={}){return this.load(E).then(()=>this._connection.invoke("queryObjectIds",A?A.toJSON():null,E))}queryExtent(A,E={}){return this.load(E).then(()=>this._connection.invoke("queryExtent",A?A.toJSON():null,E)).then(F=>({count:F.count,extent:y.fromJSON(F.extent)}))}querySnapping(A,E={}){return this.load(E).then(()=>this._connection.invoke("querySnapping",A,E))}async _applyEdits(A){if(!this._connection)throw new k("feature-layer-source:edit-failure","Memory source not loaded");const E=this.layer.objectIdField;
let F=null;const L=[],D=[];await Promise.all([this._prepareClientMapping(A.addFeatures,null),this._prepareClientMapping(A.updateFeatures,null)]);const M=T=>"objectId"in T&&null!=T.objectId?T.objectId:"attributes"in T&&null!=T.attributes[E]?T.attributes[E]:null;A.addFeatures&&(F=this._prepareAddFeatures(A.addFeatures));if(A.deleteFeatures)for(var K of A.deleteFeatures){const T=M(K);null!=T&&L.push(T)}K=A.updateFeatures&&this._idToClientGraphic?new Map:null;if(A.updateFeatures)for(const T of A.updateFeatures)D.push(this._serializeFeature(T)),
K&&(A=M(T),null!=A&&K.set(A,T));v.unapplyEditsZUnitScaling(F?F.features:null,D,this.layer.spatialReference);const {fullExtent:I,featureEditResults:P}=await this._connection.invoke("applyEdits",{adds:F?F.features:[],updates:D,deletes:L});this.fullExtent=I;F&&F.finish(P.uidToObjectId);this._updateClientGraphicIds(K,P);return this._createEditsResult(P)}async _prepareClientMapping(A,E){if("mesh"===this._layerOrSourceGeometryType&&null!=A){var F=[];for(const {geometry:L}of A)null==L||"mesh"!==L.type||
L.hasExtent||L.loaded||F.push(L.load({signal:E}));F.length&&await Promise.all(F)}}_updateClientGraphicIds(A,E){if(this._idToClientGraphic){if(A)for(const F of E.updateResults){if(!F.success)continue;const L=A.get(F.objectId);null!=L&&this._addIdToClientGraphic(L)}for(const F of E.deleteResults)F.success&&this._idToClientGraphic.delete(F.objectId)}}_createEditsResult(A){return{addFeatureResults:A.addResults?A.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:A.updateResults?
A.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:A.deleteResults?A.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(A){const E=!0===A.success?null:A.error||{code:void 0,description:void 0};return{objectId:A.objectId,globalId:A.globalId,error:E?new k("feature-layer-source:edit-failure",E.description,{code:E.code}):null}}_prepareAddFeatures(A){const E=new Map,
F=Array(A.length);let L=null;for(let M=0;M<A.length;M++){const K=A[M],I=this._serializeFeature(K);L||null==K.geometry||(L=K.geometry.type);F[M]=I;E.set(`${I.uid}`,K)}const D=this;return{features:F,inferredGeometryType:L,finish(M){const K=D.sourceJSON.objectIdField;for(const I in M){const P=M[I],T=E.get(I);T&&(T.attributes||(T.attributes={}),-1===P?delete T.attributes[K]:T.attributes[K]=P,D._addIdToClientGraphic(T))}}}}_addIdToClientGraphic(A){if(this._idToClientGraphic){var E=this.sourceJSON.objectIdField;
E=A.attributes?.[E];null!=E&&this._idToClientGraphic.set(E,A)}}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(A){return this._geometryTypeRequiresClientGraphicMapping(A.type)}_geometryTypeRequiresClientGraphicMapping(A){return"mesh"===A||"multipatch"===A||"extent"===A}_serializeFeature(A){const {attributes:E}=
A;A=this._geometryForSerialization(A);const F=(B++).toString();return A?{uid:F,geometry:A.toJSON(),attributes:E}:{uid:F,attributes:E}}_geometryForSerialization(A){({geometry:A}=A);return null==A?null:this._geometryRequiresClientGraphicMapping(A)?A.extent?r.fromExtent(A.extent):null:A}async _startWorker(A){this._connection=await n.open("MemorySourceWorker",{strategy:q("feature-layers-workers")?"dedicated":"local",signal:A,registryTarget:this});const {fields:E,spatialReference:F,objectIdField:L,hasM:D,
hasZ:M,timeInfo:K,dateFieldsTimeZone:I}=this.layer;var P="defaults"===this.layer.originOf("spatialReference");await this._prepareClientMapping(this.items,A);const T=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",J=>{p.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");J.preventDefault()}));P={features:T.features,fields:E?.map(J=>J.toJSON()),geometryType:x.typeKebabDictionary.toJSON(this._workerGeometryType),
hasM:"mesh"!==this._layerOrSourceGeometryType&&D,hasZ:"mesh"===this._layerOrSourceGeometryType||M,objectIdField:L,spatialReference:P?null:F&&F.toJSON(),timeInfo:K?.toJSON()??null,dateFieldsTimeZone:I};A=await this._connection.invoke("load",P,{signal:A});for(var Z of A.warnings)p.getLogger(this.layer).warn("#load()",`${Z.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:Z});A.featureErrors.length&&p.getLogger(this.layer).warn("#load()",`Encountered ${A.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||
"no title"}', id: '${this.layer.id??"no id"}')`,{errors:A.featureErrors});Z=A.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(T.inferredGeometryType)&&(Z.geometryType=x.typeKebabDictionary.toJSON(T.inferredGeometryType));this.sourceJSON=Z;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);T.finish(A.assignedObjectIds)}};b.__decorate([h.shared({Type:f,ensureType:m.ensureType(f)})],a.MemorySource.prototype,"itemType",void 0);b.__decorate([u.property()],a.MemorySource.prototype,
"type",void 0);b.__decorate([u.property({constructOnly:!0})],a.MemorySource.prototype,"layer",void 0);b.__decorate([u.property({readOnly:!0})],a.MemorySource.prototype,"_workerGeometryType",null);b.__decorate([u.property()],a.MemorySource.prototype,"sourceJSON",void 0);a.MemorySource=b.__decorate([t.subclass("esri.layers.graphics.sources.MemorySource")],a.MemorySource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/workers":function(){define("require exports ../Error ../has ../promiseUtils ./Connection ./connectionRegistry ./RemoteClient ./WorkerOwner".split(" "),
function(a,b,d,f,e,k,q,g,p){function l(z){if(z&&z.__esModule)return z;const y=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(z)for(const r in z)if("default"!==r){const x=Object.getOwnPropertyDescriptor(z,r);Object.defineProperty(y,r,x.get?x:{enumerable:!0,get:()=>z[r]})}y.default=z;return Object.freeze(y)}async function n(z,y){const r=new k,{registryTarget:x,...B}=y;await r.open(z,B);x&&q.register(x,r);return r}async function u(){if(v)return v;w=new AbortController;const z=[];for(let y=
0;y<c;y++){const r=p.create(y).then(x=>t[y]=x);z.push(r)}return v=Promise.all(z)}const m=f("host-browser")?Math.min(navigator.hardwareConcurrency-1,f("workers-pool-size")):0;let c=f("esri-mobile")?Math.min(m,3):m;c||(c=f("safari")&&f("mac")?7:2);let h=0;const t=[];let v=null,w;b.Connection=k;b.RemoteClient=g;b.initialize=function(){u()};b.open=async function(z,y={}){if("string"!==typeof z)throw new d("workers:undefined-module","modulePath is missing");var r=y.strategy||"distributed";f("host-webworker")&&
!f("esri-workers")&&(r="local");if("local"===r){var x=await g.loadWorker(z);x||(x=await new Promise((B,A)=>a([z],E=>B(l(E)),A)));e.throwIfAborted(y.signal);r=y.client||x;x=g.connect(x);return n([x],{...y,client:r})}await u();e.throwIfAborted(y.signal);if("dedicated"===r)return r=h++%c,r=await t[r].open(z,y),n([r],y);if(y.maxNumWorkers&&0<y.maxNumWorkers&&(r=Math.min(y.maxNumWorkers,c),r<c)){x=Array(r);for(let B=0;B<r;++B){const A=h++%c;x[B]=t[A].open(z,y)}return n(x,y)}r=t.map(B=>B.open(z,y));return n(r,
y)};b.openWithPorts=function(z,y){return n(z,{client:y})};b.terminate=function(){v&&(w.abort(),v=null);for(let z=0;z<t.length;z++)t[z]&&t[z].terminate();t.length=0};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/Connection":function(){define("../handleUtils ../Logger ../promiseUtils ../Queue ./connectionRegistry ./RemoteClient".split(" "),function(a,b,d,f,e,k){class q{constructor(){this._inUseClients=[];this._clients=[];this._clientPromises=[];this._ongoingJobsQueue=
new f}destroy(){this.close()}get closed(){return!this._clients?.length}open(g,p){return new Promise((l,n)=>{let u=!0;const m=c=>{d.throwIfAborted(p.signal);u&&(u=!1,c())};this._clients.length=g.length;this._clientPromises.length=g.length;this._inUseClients.length=g.length;for(let c=0;c<g.length;++c){const h=g[c];d.isPromiseLike(h)?this._clientPromises[c]=h.then(t=>{this._clients[c]=new k(t,p,this._ongoingJobsQueue);m(l);return this._clients[c]},()=>{m(n);return null}):(this._clients[c]=new k(h,p,
this._ongoingJobsQueue),this._clientPromises[c]=Promise.resolve(this._clients[c]),m(l))}})}broadcast(g,p,l){const n=Array(this._clientPromises.length);for(let u=0;u<this._clientPromises.length;++u)n[u]=this._clientPromises[u].then(m=>m?.invoke(g,p,l));return n}close(){let g;for(;g=this._ongoingJobsQueue.pop();)g.resolver.reject(d.createAbortError(`Worker closing, aborting job calling '${g.methodName}'`));for(const p of this._clientPromises)p.then(l=>l?.close());this._clients.length=0;this._clientPromises.length=
0;this._inUseClients.length=0;e.unregister(this)}invoke(g,p,l){let n;Array.isArray(l)?(b.getLogger("esri.core.workers.Connection").warn("invoke()","The transferList parameter is deprecated, use the options object instead"),n={transferList:l}):n=l;l=d.createResolver();this._ongoingJobsQueue.push({methodName:g,data:p,invokeOptions:n,resolver:l});for(g=0;g<this._clientPromises.length;g++)(p=this._clients[g])?p.jobAdded():this._clientPromises[g].then(u=>u?.jobAdded());return l.promise}on(g,p){return Promise.all(this._clientPromises).then(()=>
a.handlesGroup(this._clients.map(l=>l.on(g,p))))}openPorts(){return new Promise(g=>{const p=Array(this._clientPromises.length);let l=p.length;for(let n=0;n<this._clientPromises.length;++n)this._clientPromises[n].then(u=>{u&&(p[n]=u.openPort());0===--l&&g(p)})})}get test(){return{numClients:this._clients.length}}}return q})},"esri/core/Queue":function(){define(["./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],function(a,b){class d{constructor(f=e=>e.values().next().value){this._peeker=
f;this._observable=new b.SimpleObservable;this._items=new Set}get length(){a.trackAccess(this._observable);return this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0!==this.length){for(var f of this._items);return f}}peek(){if(0!==this.length)return this._peeker(this._items)}push(f){this.contains(f)||(this._items.add(f),this._observable.notify())}contains(f){a.trackAccess(this._observable);return this._items.has(f)}pop(){if(0!==this.length){var f=
this.peek();this._items.delete(f);this._observable.notify();return f}}popLast(){if(0!==this.length){var f=this.last();this._items.delete(f);this._observable.notify();return f}}remove(f){this.contains(f)&&(this._items.delete(f),this._observable.notify())}filter(f){const e=this.length;this._items.forEach(k=>{f(k)||this._items.delete(k)});e!==this._items.size&&this._observable.notify();return this}*[Symbol.iterator](){a.trackAccess(this._observable);yield*this._items}}return d})},"esri/core/workers/connectionRegistry":function(){define(["exports"],
function(a){const b=new FinalizationRegistry(d=>{d.close()});a.register=function(d,f){b.register(d,f,f)};a.unregister=function(d){b.unregister(d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/RemoteClient":function(){define("../../kernel ../Error ../events ../handleUtils ../maybe ../promiseUtils ./registry ./utils ../../support/revision".split(" "),function(a,b,d,f,e,k,q,g,p){const {CLOSE:l,ABORT:n,INVOKE:u,RESPONSE:m,OPEN_PORT:c,ON:h}=g.MessageType;class t{constructor(w){this._timer=
null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=w;this._timer=null;this._process=this._process.bind(this)}push(w){w.type===g.MessageType.ABORT?this._cancelledJobIds.add(w.jobId):(this._invokeMessages.push(w),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null}_process(){this._timer=null;for(const w of this._invokeMessages)this._cancelledJobIds.has(w.jobId)||this._invoke(w);this._cancelledJobIds.clear();
this._invokeMessages.length=0}}class v{static connect(w){const z=new MessageChannel;w="function"===typeof w?new w:"default"in w&&"function"===typeof w.default?new w.default:w;const y=new v(z.port1,{channel:z,client:w});"object"===typeof w&&"remoteClient"in w&&(w.remoteClient=y);v.clients.set(y,w);return z.port2}static loadWorker(w){return(w=q.registry[w])?w():Promise.resolve(null)}constructor(w,z,y){this._port=w;this._jobQueue=y;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new t(r=>
this._onInvokeMessage(r));this._client=z.client;this._onMessage=this._onMessage.bind(this);this._channel=z.channel;this._schedule=z.schedule;this._port.addEventListener("message",this._onMessage);this._port.start()}close(){this._post({type:l});this._close()}isBusy(){return 0<this._outJobs.size}invoke(w,z,y){const r=y?.signal,x=y?.transferList;if(!this._port)return Promise.reject(new b("worker:port-closed",`Cannot call invoke('${w}'), port is closed`,{methodName:w,data:z}));const B=g.newJobId();return new Promise((A,
E)=>{if(k.isAborted(r))this._processWork(),E(k.createAbortError());else{var F=k.onAbort(r,()=>{const L=this._outJobs.get(B);L&&(this._outJobs.delete(B),this._processWork(),e.removeMaybe(L.abortHandle),this._post({type:n,jobId:B}),E(k.createAbortError()))});this._outJobs.set(B,{resolve:A,reject:E,abortHandle:F,debugInfo:w});this._post({type:u,jobId:B,methodName:w,abortable:null!=r},z,x)}})}on(w,z){function y(x){z(x.data)}const r=new MessageChannel;this._port.postMessage({type:g.MessageType.ON,eventType:w,
port:r.port2},[r.port2]);r.port1.addEventListener("message",y);r.port1.start();return f.makeHandle(()=>{r.port1.postMessage({type:g.MessageType.CLOSE});r.port1.close();r.port1.removeEventListener("message",y)})}jobAdded(){this._processWork()}openPort(){const w=new MessageChannel;this._post({type:c,port:w.port2});return w.port1}_processWork(){if(!(2<=this._outJobs.size)){var w=this._jobQueue?.pop();if(w){var {methodName:z,data:y,invokeOptions:r,resolver:x}=w;this.invoke(z,y,r).then(B=>x.resolve(B)).catch(B=>
x.reject(B))}}}_close(){this._channel&&(this._channel=void 0);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(w=>{e.removeMaybe(w.abortHandle);w.reject(k.createAbortError(`Worker closing, aborting job calling '${w.debugInfo}'`))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._schedule=this._client=this._port=null}_onMessage(w){null!=this._schedule?this._schedule(()=>this._processMessage(w)):this._processMessage(w)}_processMessage(w){if(w=
g.receiveMessage(w))switch(w.type){case m:this._onResponseMessage(w);break;case u:this._invokeQueue.push(w);break;case n:this._onAbortMessage(w);break;case l:this._onCloseMessage();break;case c:this._onOpenPortMessage(w);break;case h:this._onOnMessage(w)}}_onAbortMessage(w){const z=this._inJobs,y=w.jobId,r=z.get(y);this._invokeQueue.push(w);r&&(r.controller&&r.controller.abort(),z.delete(y))}_onCloseMessage(){const w=this._client;this._close();w&&"destroy"in w&&v.clients.get(this)===w&&w.destroy();
v.clients.delete(this);w?.remoteClient&&(w.remoteClient=null)}_onInvokeMessage(w){const {methodName:z,jobId:y,data:r,abortable:x}=w;w=x?new AbortController:null;const B=this._inJobs;let A=this._client,E=A[z],F;try{if(!E&&z&&z.includes(".")){const L=z.split(".");for(let D=0;D<L.length-1;D++)A=A[L[D]],E=A[L[D+1]]}if("function"!==typeof E)throw new TypeError(`${z} is not a function`);F=E.call(A,r,{client:this,signal:w?w.signal:null})}catch(L){this._post({type:m,jobId:y,error:g.toInvokeError(L)});return}k.isPromiseLike(F)?
(B.set(y,{controller:w,promise:F}),F.then(L=>{B.has(y)&&(B.delete(y),this._post({type:m,jobId:y},L))},L=>{B.has(y)&&(B.delete(y),k.isAbortError(L)||this._post({type:m,jobId:y,error:g.toInvokeError(L||{message:`Error encountered at method ${z}`})}))})):this._post({type:m,jobId:y},F)}_onOpenPortMessage(w){new v(w.port,{client:this._client})}_onOnMessage(w){const {port:z}=w,y=this._client.on(w.eventType,x=>{z.postMessage(x)}),r=d.on(w.port,"message",x=>{g.receiveMessage(x)?.type===g.MessageType.CLOSE&&
(r.remove(),y.remove(),z.close())})}_onResponseMessage(w){const {jobId:z,error:y,data:r}=w;w=this._outJobs;if(w.has(z)){var x=w.get(z);w.delete(z);this._processWork();e.removeMaybe(x.abortHandle);y?x.reject(b.fromJSON(JSON.parse(y))):x.resolve(r)}}_post(w,z,y){return g.postMessage(this._port,w,z,y)}}v.kernelInfo={buildDate:p.buildDate,fullVersion:a.fullVersion,revision:p.commitHash};v.clients=new Map;return v})},"esri/core/workers/registry":function(){define(["require","exports"],function(a,b){const d=
f=>Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"}));b.registry={statsWorker:()=>new Promise((f,e)=>a(["../../smartMapping/statistics/support/statsWorker"],f,e)),geometryEngineWorker:()=>new Promise((f,e)=>a(["../../geometry/geometryEngineWorker"],f,e)),CSVSourceWorker:()=>new Promise((f,e)=>a(["../../layers/graphics/sources/support/CSVSourceWorker"],k=>f(d(k)),e)),EdgeProcessingWorker:()=>new Promise((f,e)=>a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],
k=>f(d(k)),e)),ElevationSamplerWorker:()=>new Promise((f,e)=>a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],k=>f(d(k)),e)),FeatureServiceSnappingSourceWorker:()=>new Promise((f,e)=>a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],k=>f(d(k)),e)),GeoJSONSourceWorker:()=>new Promise((f,e)=>a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],k=>f(d(k)),e)),LercWorker:()=>new Promise((f,e)=>a(["../../layers/support/LercWorker"],
k=>f(d(k)),e)),MemorySourceWorker:()=>new Promise((f,e)=>a(["../../layers/graphics/sources/support/MemorySourceWorker"],k=>f(d(k)),e)),PBFDecoderWorker:()=>new Promise((f,e)=>a(["../../views/3d/support/PBFDecoderWorker"],k=>f(d(k)),e)),Pipeline:()=>new Promise((f,e)=>a(["../../views/2d/layers/features/Pipeline"],k=>f(d(k)),e)),PointCloudWorker:()=>new Promise((f,e)=>a(["../../views/3d/layers/PointCloudWorker"],k=>f(d(k)),e)),RasterWorker:()=>new Promise((f,e)=>a(["../../layers/support/RasterWorker"],
k=>f(d(k)),e)),SceneLayerSnappingSourceWorker:()=>new Promise((f,e)=>a(["../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker"],k=>f(d(k)),e)),SceneLayerWorker:()=>new Promise((f,e)=>a(["../../views/3d/layers/SceneLayerWorker"],f,e)),WFSSourceWorker:()=>new Promise((f,e)=>a(["../../layers/graphics/sources/WFSSourceWorker"],k=>f(d(k)),e)),WorkerTileHandler:()=>new Promise((f,e)=>a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],k=>f(d(k)),e))};Object.defineProperty(b,
Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/utils":function(){define(["exports","../has"],function(a,b){function d(g){return g&&"object"===typeof g&&("result"in g||"transferList"in g)}function f(g){return g?"string"===typeof g?JSON.stringify({name:"message",message:g}):g.toJSON?JSON.stringify(g):JSON.stringify({name:g.name,message:g.message,details:g.details||{stack:g.stack}}):null}function e(g,p,l,n){if(p.type===a.MessageType.OPEN_PORT)g.postMessage(p,[p.port]);else if(p.type!==a.MessageType.INVOKE&&
p.type!==a.MessageType.RESPONSE)g.postMessage(p);else if(d(l)?(n=k(l.transferList),p.data=l.result):(n=k(n),p.data=l),n){if(b("ff"))for(const u of n)if("byteLength"in u&&267386880<u.byteLength)switch(p.type){case a.MessageType.INVOKE:throw"Worker call with large ArrayBuffer would crash Firefox";case a.MessageType.RESPONSE:e(g,{type:a.MessageType.RESPONSE,jobId:p.jobId,error:f("Worker call with large ArrayBuffer would crash Firefox")});return}g.postMessage(p,n)}else g.postMessage(p)}function k(g){if(!g?.length)return null;
if(b("esri-workers-arraybuffer-transfer"))return g;g=g.filter(p=>!(p instanceof ArrayBuffer||"ArrayBuffer"===p?.constructor?.name));return g.length?g:null}a.MessageType=void 0;(function(g){g[g.HANDSHAKE=0]="HANDSHAKE";g[g.OPEN=1]="OPEN";g[g.OPENED=2]="OPENED";g[g.RESPONSE=3]="RESPONSE";g[g.INVOKE=4]="INVOKE";g[g.ABORT=5]="ABORT";g[g.CLOSE=6]="CLOSE";g[g.OPEN_PORT=7]="OPEN_PORT";g[g.ON=8]="ON"})(a.MessageType||(a.MessageType={}));let q=0;a.isTranferableResult=d;a.newJobId=function(){return q++};a.postMessage=
e;a.receiveMessage=function(g){return g?(g=g.data)?"string"===typeof g?JSON.parse(g):g:null:null};a.toInvokeError=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerOwner":function(){define("../Error ../Logger ../maybe ../promiseUtils ./staticWorkerMessages ./utils ./workerFactory".split(" "),function(a,b,d,f,e,k,q){const {ABORT:g,INVOKE:p,OPEN:l,OPENED:n,RESPONSE:u}=k.MessageType;class m{static async create(c){const h=await q.createWorker();return new m(h,
c)}constructor(c,h){this._outJobs=new Map;this._inJobs=new Map;this.worker=c;this.id=h;c.addEventListener("message",this._onMessage.bind(this));c.addEventListener("error",t=>{t.preventDefault();b.getLogger("esri.core.workers.WorkerOwner").error(t)})}terminate(){this.worker.terminate()}async open(c,h={}){const {signal:t}=h,v=k.newJobId();return new Promise((w,z)=>{const y=f.onAbortOrThrow(t,()=>{this._outJobs.delete(v);this._post({type:g,jobId:v})});this._outJobs.set(v,{resolve:w,reject:z,abortHandle:y});
this._post({type:l,jobId:v,modulePath:c})})}_onMessage(c){if(c=k.receiveMessage(c))switch(c.type){case n:this._onOpenedMessage(c);break;case u:this._onResponseMessage(c);break;case g:this._onAbortMessage(c);break;case p:this._onInvokeMessage(c)}}_onAbortMessage(c){const h=this._inJobs;c=c.jobId;const t=h.get(c);t&&(t.controller&&t.controller.abort(),h.delete(c))}_onInvokeMessage(c){const {methodName:h,jobId:t,data:v,abortable:w}=c;c=w?new AbortController:null;const z=this._inJobs,y=e.staticWorkerMessages[h];
let r;try{if("function"!==typeof y)throw new TypeError(`${h} is not a function`);r=y.call(null,v,{signal:c?c.signal:null})}catch(x){this._post({type:u,jobId:t,error:k.toInvokeError(x)});return}f.isPromiseLike(r)?(z.set(t,{controller:c,promise:r}),r.then(x=>{z.has(t)&&(z.delete(t),this._post({type:u,jobId:t},x))},x=>{z.has(t)&&(z.delete(t),x||(x={message:"Error encountered at method"+h}),f.isAbortError(x)||this._post({type:u,jobId:t,error:k.toInvokeError(x||{message:`Error encountered at method ${h}`})}))})):
this._post({type:u,jobId:t},r)}_onOpenedMessage(c){const {jobId:h,data:t}=c;if(c=this._outJobs.get(h))this._outJobs.delete(h),d.removeMaybe(c.abortHandle),c.resolve(t)}_onResponseMessage(c){const {jobId:h,error:t,data:v}=c;if(c=this._outJobs.get(h))this._outJobs.delete(h),d.removeMaybe(c.abortHandle),t?c.reject(a.fromJSON(JSON.parse(t))):c.resolve(v)}_post(c,h,t){return k.postMessage(this.worker,c,h,t)}}return m})},"esri/core/workers/staticWorkerMessages":function(){define(["exports","../../request",
"../urlUtils"],function(a,b,d){a.staticWorkerMessages={async request(f,e){const k=f.options,q=k.responseType;k.signal=e?.signal;k.responseType="native"===q||"native-request-init"===q?"native-request-init":q&&["blob","json","text"].includes(q)&&d.getInterceptor(f.url)?.after?q:"array-buffer";f=await b(f.url,k);e={data:f.data,httpStatus:f.httpStatus,ssl:f.ssl};switch(f.requestOptions?.responseType){case "native-request-init":return delete e.data.signal,e;case "blob":e.data=await e.data.arrayBuffer();
break;case "json":e.data=(new TextEncoder).encode(JSON.stringify(e.data)).buffer;break;case "text":e.data=(new TextEncoder).encode(e.data).buffer}return{result:e,transferList:[e.data]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/workerFactory":function(){define("exports ../../assets ../../config ../../intl ../../kernel ../has ../Logger ../urlUtils ./loaderConfig ./utils ./WorkerFallback ../../intl/locale ../../support/revision".split(" "),function(a,b,d,f,
e,k,q,g,p,l,n,u,m){async function c(y){return new Promise(r=>{function x(A){(A=l.receiveMessage(A))&&A.type===t&&(y.removeEventListener("message",x),y.removeEventListener("error",B),r(y))}function B(A){A.preventDefault();y.removeEventListener("message",x);y.removeEventListener("error",B);h.warn("Failed to create Worker. Fallback to execute module in main thread",A);y=new n;y.addEventListener("message",x);y.addEventListener("error",B)}y.addEventListener("message",x);y.addEventListener("error",B)})}
const h=q.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:t}=l.MessageType;let v,w,z=0;a.createWorker=async function(){if(!k("esri-workers"))return c(new n);if(!v&&!w)try{var y=["let globalId\x3d0;const outgoing\x3dnew Map,configuration\x3dJSON.parse(",');self.esriConfig\x3dconfiguration.esriConfig;const workerPath\x3dself.esriConfig.workers.workerPath,HANDSHAKE\x3d0,OPEN\x3d1,OPENED\x3d2,RESPONSE\x3d3,INVOKE\x3d4,ABORT\x3d5;function createAbortError(){const e\x3dnew Error("Aborted");return e.name\x3d"AbortError",e}function receiveMessage(e){return e\x26\x26e.data?"string"\x3d\x3dtypeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t\x3dr\x26\x26r.signal,n\x3dglobalId++;return new Promise(((r,s)\x3d\x3e{if(t){if(t.aborted)return s(createAbortError());t.addEventListener("abort",(()\x3d\x3e{outgoing.get(n)\x26\x26(outgoing.delete(n),self.postMessage({type:ABORT,jobId:n}),s(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:s}),self.postMessage({type:INVOKE,jobId:n,methodName:e,abortable:null!\x3dt,data:o})}))}let workerRevisionChecked\x3d!1;function checkWorkerRevision(e){if(!workerRevisionChecked\x26\x26e.kernelInfo){workerRevisionChecked\x3d!0;const{revision:o,fullVersion:r}\x3dconfiguration.kernelInfo,{revision:t,fullVersion:n,version:s}\x3de.kernelInfo;esriConfig.assetsPath!\x3d\x3desriConfig.defaultAssetsPath\x26\x26o!\x3d\x3dt\x26\x26console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n??s}\\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o\x3dreceiveMessage(e);if(!o)return;const r\x3do.jobId;switch(o.type){case OPEN:let n;function t(e){const o\x3dn.connect(e);self.postMessage({type:OPENED,jobId:r,data:o},[o])}"function"\x3d\x3dtypeof define\x26\x26define.amd?require([workerPath],(e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||new Promise((e\x3d\x3e{require([o.modulePath],e)})))).then(t)})):"System"in self\x26\x26"function"\x3d\x3dtypeof System.import?System.import(workerPath).then((e\x3d\x3e(n\x3de.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e\x3d\x3ee||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n\x3dself.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case RESPONSE:if(outgoing.has(r)){const s\x3doutgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig\x3dconfiguration.loaderConfig,esriConfig.workers.loaderUrl\x26\x26(self.importScripts(esriConfig.workers.loaderUrl),"function"\x3d\x3dtypeof require\x26\x26"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'],
r=y.join;let A;if(null!=d["default"]){const D={...d};delete D["default"];A=JSON.parse(JSON.stringify(D))}else A=JSON.parse(JSON.stringify(d));A.assetsPath=g.makeAbsolute(A.assetsPath);A.defaultAssetsPath=A.defaultAssetsPath?g.makeAbsolute(A.defaultAssetsPath):void 0;A.request.interceptors=[];A.log.interceptors=[];A.locale=u.getLocale();A.has={"esri-csp-restrictions":k("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":k("esri-2d-update-debug"),"esri-2d-log-updating":k("esri-2d-log-updating"),
"featurelayer-pbf":k("featurelayer-pbf"),"featurelayer-simplify-thresholds":k("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":k("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":k("featurelayer-simplify-mobile-factor"),"esri-atomics":k("esri-atomics"),"esri-shared-array-buffer":k("esri-shared-array-buffer"),"esri-tiles-debug":k("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":k("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":k("feature-polyline-generalization-factor"),
"host-webworker":1};A.workers.loaderUrl?A.workers.loaderUrl=g.makeAbsolute(A.workers.loaderUrl):p.defaultLoaderUrl&&(A.workers.loaderUrl=p.defaultLoaderUrl);A.workers.workerPath=A.workers.workerPath?g.makeAbsolute(A.workers.workerPath):"esri/core/workers/RemoteClient";A.workers.useDynamicImport=!1;const E=d.workers.loaderConfig,F=p.loaderConfig({baseUrl:E?.baseUrl,locale:u.getLocale(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...E?.has},map:{...E?.map},paths:{...E?.paths},packages:E?.packages||
[]});var x=JSON.stringify({esriConfig:A,loaderConfig:F,kernelInfo:{buildDate:m.buildDate,fullVersion:e.fullVersion,revision:m.commitHash}});const L=r.call(y,`'${x}'`);v=URL.createObjectURL(new Blob([L],{type:"text/javascript"}))}catch(A){w=A||{}}let B;if(v)try{B=new Worker(v,{name:`esri-worker-${z++}`})}catch(A){h.warn("Failed to create Worker. Fallback to execute module in main thread",w),B=new n}else h.warn("Failed to create Worker. Fallback to execute module in main thread",w),B=new n;return c(B)};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/loaderConfig":function(){define(["exports","../../assets","../has","../urlUtils"],function(a,b,d,f){a.defaultLoaderUrl=null;a.defaultLoaderUrl=f.makeAbsolute(b.getAssetUrl("esri/core/workers/init.js"));var e=f.makeAbsolute(b.getAssetUrl("dojo/"));var k=[{name:"esri",location:"../esri"}];a.loaderConfig=function(q){const g={async:q.async,isDebug:q.isDebug,locale:q.locale,baseUrl:q.baseUrl,has:{...q.has},map:{...q.map},
packages:q.packages?.concat()||[],paths:{...q.paths}};q.hasOwnProperty("async")||(g.async=!0);q.hasOwnProperty("isDebug")||(g.isDebug=!1);q.baseUrl||(g.baseUrl=e);k?.forEach(p=>{a:{var l=g.packages??[];for(const n of l)if(n.name===p.name)break a;l.push(p)}});return g};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerFallback":function(){define(["require","../nextTick","./RemoteClient","./utils"],function(a,b,d,f){function e(g){if(g&&g.__esModule)return g;const p=
Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(g)for(const l in g)if("default"!==l){const n=Object.getOwnPropertyDescriptor(g,l);Object.defineProperty(p,l,n.get?n:{enumerable:!0,get:()=>g[l]})}p.default=g;return Object.freeze(p)}class k{constructor(){const g=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(p=>{this[p]=(...l)=>g[p](...l)})}}class q{constructor(){this._dispatcher=new k;this._workerPostMessage({type:f.MessageType.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(g){this._onmessageHandler&&
this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=g)&&this.addEventListener("message",g)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(g){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler);(this._onmessageerrorHandler=g)&&this.addEventListener("messageerror",g)}get onerror(){return this._onerrorHandler}set onerror(g){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);
(this._onerrorHandler=g)&&this.addEventListener("error",g)}postMessage(g){b.nextTick(()=>{this._workerMessageHandler(new MessageEvent("message",{data:g}))})}dispatchEvent(g){return this._dispatcher.dispatchEvent(g)}addEventListener(g,p,l){this._dispatcher.addEventListener(g,p,l)}removeEventListener(g,p,l){this._dispatcher.removeEventListener(g,p,l)}_workerPostMessage(g){b.nextTick(()=>{this.dispatchEvent(new MessageEvent("message",{data:g}))})}async _workerMessageHandler(g){if((g=f.receiveMessage(g))&&
g.type===f.MessageType.OPEN){const {modulePath:p,jobId:l}=g;(g=await d.loadWorker(p))||(g=await new Promise((n,u)=>a([p],m=>n(e(m)),u)));g=d.connect(g);this._workerPostMessage({type:f.MessageType.OPENED,jobId:l,data:g})}}}return q})},"esri/rest/query/operations/editsZScale":function(){define(["exports","../../../core/unitUtils","../../../geometry/support/spatialReferenceUtils"],function(a,b,d){function f(k,q,g){if(null==k.hasM||k.hasZ)for(const p of q)for(const l of p)2<l.length&&(l[2]*=g)}function e(k,
q,g){if(k)for(const l of k){k=l.geometry;var p=g;if(k?.spatialReference&&!d.equals(k.spatialReference,q)&&(p=b.getMetersPerVerticalUnitForSR(k.spatialReference)/p,1!==p))if("x"in k)null!=k.z&&(k.z*=p);else if("rings"in k)f(k,k.rings,p);else if("paths"in k)f(k,k.paths,p);else if("points"in k&&(null==k.hasM||k.hasZ))for(const n of k.points)2<n.length&&(n[2]*=p)}}a.unapplyEditsZUnitScaling=function(k,q,g){if((k||q)&&g){var p=b.getMetersPerVerticalUnitForSR(g);e(k,g,p);e(q,g,p)}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/queryZScale":function(){define(["exports","../../../geometry/support/zscale"],function(a,b){a.applyFeatureSetZUnitScaling=function(d,f,e){if(e?.features&&e.hasZ&&(d=b.getGeometryZScaler(e.geometryType,f,d.outSpatialReference),null!=d))for(const k of e.features)d(k.geometry)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FeatureSet":function(){define("../../chunks/tslib.es6 ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c){var h;const t=new f.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});f=h=class extends e.JSONSupport{constructor(v){super(v);this.displayFieldName=null;this.exceededTransferLimit=!1;this.features=[];this.geometryType=this.fields=null;this.hasZ=this.hasM=!1;this.spatialReference=this.queryGeometry=null}readFeatures(v,w){w=u.fromJSON(w.spatialReference);
const z=[];for(let x=0;x<v.length;x++){var y=v[x];const B=d.fromJSON(y);var r=y.geometry?.spatialReference;null==B.geometry||r||(B.geometry.spatialReference=w);y=y.aggregateGeometries;r=B.aggregateGeometries;if(y&&null!=r)for(const A in r){const E=r[A],F=y[A]?.spatialReference;null==E||F||(E.spatialReference=w)}z.push(B)}return z}writeGeometryType(v,w,z,y){if(v)t.write(v,w,z,y);else if({features:v}=this,v)for(const r of v)if(null!=r?.geometry){t.write(r.geometry.type,w,z,y);break}}readQueryGeometry(v,
w){if(!v)return null;const z=!!v.spatialReference;(v=m.fromJSON(v))&&!z&&w.spatialReference&&(v.spatialReference=u.fromJSON(w.spatialReference));return v}writeSpatialReference(v,w){if(v)w.spatialReference=v.toJSON();else if({features:v}=this,v)for(const z of v)if(z&&null!=z.geometry&&z.geometry.spatialReference){w.spatialReference=z.geometry.spatialReference.toJSON();break}}clone(){return new h(this.cloneProperties())}cloneProperties(){return k.clone({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,
features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(v){const w=this.write();if(w.features&&Array.isArray(v)&&0<v.length)for(let z=0;z<w.features.length;z++){const y=w.features[z];y.geometry&&(y.geometry=v?.[z]?.toJSON()||y.geometry)}return w}quantize(v){const {scale:[w,z],translate:[y,r]}=v,x=this.features,B=this._getQuantizationFunction(this.geometryType,
A=>Math.round((A-y)/w),A=>Math.round((r-A)/z));for(let A=0,E=x.length;A<E;A++)B?.(x[A].geometry)||(x.splice(A,1),A--,E--);this.transform=v;return this}unquantize(){const {geometryType:v,features:w,transform:z}=this;if(!z)return this;const {translate:[y,r],scale:[x,B]}=z;var A=null;let E=null;if(this.hasZ&&null!=z?.scale?.[2]){const {translate:[,,F],scale:[,,L]}=z;A=D=>D*L+F}if(this.hasM&&null!=z?.scale?.[3]){const {translate:[,,,F],scale:[,,,L]}=z;E=D=>null==D?D:D*L+F}A=this._getHydrationFunction(v,
F=>F*x+y,F=>r-F*B,A,E);for(const {geometry:F}of w)null!=F&&A&&A(F);this.transform=null;return this}_quantizePoints(v,w,z){let y,r;const x=[];for(let A=0,E=v.length;A<E;A++){var B=v[A];if(0<A){const F=w(B[0]);B=z(B[1]);if(F!==y||B!==r)x.push([F-y,B-r]),y=F,r=B}else y=w(B[0]),r=z(B[1]),x.push([y,r])}return 0<x.length?x:null}_getQuantizationFunction(v,w,z){return"point"===v?y=>{y.x=w(y.x);y.y=z(y.y);return y}:"polyline"===v||"polygon"===v?y=>{const r=m.isPolygon(y)?y.rings:y.paths,x=[];for(let B=0,A=
r.length;B<A;B++){const E=this._quantizePoints(r[B],w,z);E&&x.push(E)}return 0<x.length?(m.isPolygon(y)?y.rings=x:y.paths=x,y):null}:"multipoint"===v?y=>{const r=this._quantizePoints(y.points,w,z);return r&&0<r.length?(y.points=r,y):null}:"extent"===v?y=>y:null}_getHydrationFunction(v,w,z,y,r){return"point"===v?x=>{x.x=w(x.x);x.y=z(x.y);y&&(x.z=y(x.z))}:"polyline"===v||"polygon"===v?x=>{x=m.isPolygon(x)?x.rings:x.paths;for(let E=0,F=x.length;E<F;E++){const L=x[E];for(let D=0,M=L.length;D<M;D++){const K=
L[D];if(0<D)B+=K[0],A+=K[1];else{var B=K[0];var A=K[1]}K[0]=w(B);K[1]=z(A)}}if(y&&r)for(let E=0,F=x.length;E<F;E++){B=x[E];for(let L=0,D=B.length;L<D;L++)A=B[L],A[2]=y(A[2]),A[3]=r(A[3])}else if(y)for(let E=0,F=x.length;E<F;E++){B=x[E];for(let L=0,D=B.length;L<D;L++)A=B[L],A[2]=y(A[2])}else if(r)for(let E=0,F=x.length;E<F;E++){B=x[E];for(let L=0,D=B.length;L<D;L++)A=B[L],A[2]=r(A[2])}}:"extent"===v?x=>{x.xmin=w(x.xmin);x.ymin=z(x.ymin);x.xmax=w(x.xmax);x.ymax=z(x.ymax);y&&null!=x.zmax&&null!=x.zmin&&
(x.zmax=y(x.zmax),x.zmin=y(x.zmin));r&&null!=x.mmax&&null!=x.mmin&&(x.mmax=r(x.mmax),x.mmin=r(x.mmin))}:"multipoint"===v?x=>{x=x.points;let B;for(let E=0,F=x.length;E<F;E++){const L=x[E];if(0<E)A+=L[0],B+=L[1];else{var A=L[0];B=L[1]}L[0]=w(A);L[1]=z(B)}if(y&&r)for(let E=0,F=x.length;E<F;E++)A=x[E],A[2]=y(A[2]),A[3]=r(A[3]);else if(y)for(let E=0,F=x.length;E<F;E++)A=x[E],A[2]=y(A[2]);else if(r)for(let E=0,F=x.length;E<F;E++)A=x[E],A[2]=r(A[2])}:null}};a.__decorate([q.property({type:String,json:{write:!0}})],
f.prototype,"displayFieldName",void 0);a.__decorate([q.property({type:Boolean,json:{write:{overridePolicy(v){return{enabled:v}}}}})],f.prototype,"exceededTransferLimit",void 0);a.__decorate([q.property({type:[d],json:{write:!0}})],f.prototype,"features",void 0);a.__decorate([p.reader("features")],f.prototype,"readFeatures",null);a.__decorate([q.property({type:[c],json:{write:!0}})],f.prototype,"fields",void 0);a.__decorate([q.property({type:"point multipoint polyline polygon extent mesh".split(" "),
json:{read:{reader:t.read}}})],f.prototype,"geometryType",void 0);a.__decorate([n.writer("geometryType")],f.prototype,"writeGeometryType",null);a.__decorate([q.property({type:Boolean,json:{write:{overridePolicy(v){return{enabled:v}}}}})],f.prototype,"hasM",void 0);a.__decorate([q.property({type:Boolean,json:{write:{overridePolicy(v){return{enabled:v}}}}})],f.prototype,"hasZ",void 0);a.__decorate([q.property({types:b.geometryTypes,json:{write:!0}})],f.prototype,"queryGeometry",void 0);a.__decorate([p.reader("queryGeometry")],
f.prototype,"readQueryGeometry",null);a.__decorate([q.property({type:u,json:{write:!0}})],f.prototype,"spatialReference",void 0);a.__decorate([n.writer("spatialReference")],f.prototype,"writeSpatialReference",null);a.__decorate([q.property({json:{write:!0}})],f.prototype,"transform",void 0);f=h=a.__decorate([l.subclass("esri.rest.support.FeatureSet")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f})},"esri/layers/support/Field":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u){var m;const c=new b.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});b=m=class extends d.JSONSupport{constructor(h){super(h);
this.alias=null;this.defaultValue=void 0;this.domain=this.description=null;this.editable=!0;this.length=void 0;this.name=null;this.nullable=!0;this.valueType=this.type=null;this.visible=!0}readDescription(h,{description:t}){h=null;try{h=t?JSON.parse(t):null}catch(v){}return h?.value??null}readValueType(h,{description:t}){h=null;try{h=t?JSON.parse(t):null}catch(v){}return h?c.fromJSON(h.fieldValueType):null}clone(){return new m({alias:this.alias,defaultValue:this.defaultValue,description:this.description,
domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);a.__decorate([f.property({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);a.__decorate([f.property()],b.prototype,"description",void 0);a.__decorate([p.reader("description")],b.prototype,
"readDescription",null);a.__decorate([f.property({types:n.types,json:{read:{reader:n.fromJSON},write:!0}})],b.prototype,"domain",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);a.__decorate([f.property({type:e.Integer,json:{write:{overridePolicy(h){return{enabled:Number.isFinite(h)}}}}})],b.prototype,"length",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],
b.prototype,"nullable",void 0);a.__decorate([g.enumeration(u.kebabDict)],b.prototype,"type",void 0);a.__decorate([f.property()],b.prototype,"valueType",void 0);a.__decorate([p.reader("valueType",["description"])],b.prototype,"readValueType",null);a.__decorate([f.property({type:Boolean,json:{read:!1}})],b.prototype,"visible",void 0);return b=m=a.__decorate([l.subclass("esri.layers.support.Field")],b)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(a,b){b=
new b.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",
esriFieldTypeTimestampOffset:"timestamp-offset"});a.kebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/APIKeyMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q){a.APIKeyMixin=g=>{g=class extends g{get apiKey(){return this._isOverridden("apiKey")?
this._get("apiKey"):"portalItem"in this?this.portalItem?.apiKey:null}set apiKey(p){null!=p?this._override("apiKey",p):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};b.__decorate([d.property({type:String})],g.prototype,"apiKey",null);return g=b.__decorate([q.subclass("esri.layers.mixins.APIKeyMixin")],g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ArcGISService":function(){define("exports ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/arcgisLayerUrl".split(" "),
function(a,b,d,f,e,k,q,g,p){a.ArcGISService=l=>{l=class extends l{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const n=p.parse(this.url);if(null!=n&&n.title)return n.title}return this._get("title")||""}set title(n){this._set("title",n)}set url(n){this._set("url",p.sanitizeUrl(n,d.getLogger(this)))}};b.__decorate([f.property()],l.prototype,"title",null);b.__decorate([f.property({type:String})],l.prototype,"url",null);return l=b.__decorate([g.subclass("esri.layers.mixins.ArcGISService")],
l)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/BlendLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils".split(" "),function(a,b,d,f,e,k,q,g){const p={read:{reader:g.read},write:{allowNull:!0,writer:g.write}};a.BlendLayer=l=>{l=class extends l{constructor(){super(...arguments);
this.blendMode="normal";this.effect=null}};b.__decorate([d.property({type:"average color-burn color-dodge color darken destination-atop destination-in destination-out destination-over difference exclusion hard-light hue invert lighten lighter luminosity minus multiply normal overlay plus reflect saturation screen soft-light source-atop source-in source-out vivid-light xor".split(" "),nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],
l.prototype,"blendMode",void 0);b.__decorate([d.property({json:{read:!1,write:!1,origins:{"web-map":p,"portal-item":p}}})],l.prototype,"effect",void 0);return l=b.__decorate([q.subclass("esri.layers.mixins.BlendLayer")],l)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/jsonUtils":function(){define(["exports","../../core/Error","../../core/object","./parser","./utils"],function(a,b,d,f,e){function k(l){return(l=f.parse(l))?e.isEffectFunctions(l)?l.map(n=>n.toJSON()):
l.map(({scale:n,effects:u})=>({scale:n,value:u.map(m=>m.toJSON())})):null}function q(l){if(!l||0===l.length)return null;var n=(n=l[0])?"scale"in n:!1;if(n){n=[];for(const u of l)n.push({scale:u.scale,value:g(u.value)});return n}return g(l)}function g(l){if(!l?.length)return"";const n=[];for(const h of l){l=[];switch(h.type){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":case "opacity":l=[p(h,"amount")];break;case "blur":l=[p(h,"radius","pt")];break;case "hue-rotate":l=
[p(h,"angle","deg")];break;case "drop-shadow":l=p(h,"xoffset","pt");var u=p(h,"yoffset","pt"),m=p(h,"blurRadius","pt"),c=h;if(null==c.color)throw new b("effect:missing-parameter",`Missing parameter '${"color"}' in ${c.type} effect`,{effect:c});c=c.color;l=[l,u,m,`rgba(${c[0]||0}, ${c[1]||0}, ${c[2]||0}, ${c[3]/255||0})`];break;case "bloom":l=[p(h,"strength"),p(h,"radius","pt"),p(h,"threshold")]}l=`${h.type}(${l.filter(Boolean).join(" ")})`;f.parse(l);n.push(l)}return n.join(" ")}function p(l,n,u){if(null==
l[n])throw new b("effect:missing-parameter",`Missing parameter '${n}' in ${l.type} effect`,{effect:l});return u?l[n]+u:""+l[n]}a.effectFunctionsFromJSON=g;a.fromJSON=q;a.read=function(l,n,u){try{return q(l)}catch(m){u?.messages?.push(m)}return null};a.toJSON=k;a.write=function(l,n,u,m){try{const c=k(l);d.setDeepValue(u,c,n)}catch(c){m.messages&&m.messages.push(c)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/parser":function(){define("exports ../../colorUtils ../../core/Error ./effects ../../chunks/_commonjsHelpers ./utils".split(" "),
function(a,b,d,f,e,k){function q(r){let x;if(!r)return[];try{x=t.parse(r)}catch(B){throw new d("effect:invalid-syntax","Invalid effect syntax",{value:r,error:B});}return x.map(B=>g(B))}function g(r){try{switch(r.name){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":var x=1;p(r.parameters,1);1===r.parameters.length&&(x=u(r.parameters[0]));return new f.ColorMatrixEffect(r.name,x);case "opacity":return x=1,p(r.parameters,1),1===r.parameters.length&&(x=u(r.parameters[0])),
new f.OpacityEffect(x);case "hue-rotate":x=0;p(r.parameters,1);if(1===r.parameters.length){var B=r.parameters[0];if("quantity"!==B.type||!(0===B.value&&null===B.unit||B.unit&&null!=v[B.unit]))throw new d("effect:type-error",`Expected <angle>, Actual: ${l(B)}`,{term:B});x=B.value*v[B.unit]||0}return new f.HueRotateEffect(x);case "blur":return x=0,p(r.parameters,1),1===r.parameters.length&&(x=m(r.parameters[0]),n(x,r.parameters[0])),new f.BlurEffect(x);case "drop-shadow":const D=[];let M=null;for(const K of r.parameters)if("color"===
K.type){D.length&&Object.freeze(D);if(M)throw new d("effect:type-error","Accepts only one color",{});a:{B=void 0;var A=K;switch(A.colorType){case "hex":M=b.hex2rgba(A.value);break a;case "named":M=c(A.value);break a;case "function":x=A.value;p(x.parameters,4);if(z.test(x.name))B=[u(x.parameters[0]),u(x.parameters[1]),u(x.parameters[2]),x.parameters[3]?u(x.parameters[3]):1];else if(y.test(x.name)){A=b;var E=A.hsla2rgba,F=x.parameters[0],L=F;if("quantity"!==L.type||null!==L.unit)throw new d("effect:type-error",
`Expected <double>, Actual: ${l(L)}`,{term:L});n(F.value,F);B=E.call(A,F.value,u(x.parameters[1]),u(x.parameters[2]),x.parameters[3]?u(x.parameters[3]):1)}else throw new d("effect:syntax-error",`Invalid color function '${x.name}'`,{colorFunction:x});M=B;break a}M=void 0}}else{const I=m(K);if(Object.isFrozen(D))throw new d("effect:type-error","\x3clength\x3e parameters not consecutive",{lengths:D});D.push(I);3===D.length&&n(I,K)}if(2>D.length||3<D.length)throw new d("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${D.length}}`,
{lengths:D});return new f.DropShadowEffect(D[0],D[1],D[2]||0,M||c("black"));case "bloom":return x=1,F=E=0,p(r.parameters,3),r.parameters[0]&&(x=u(r.parameters[0])),r.parameters[1]&&(E=m(r.parameters[1]),n(E,r.parameters[1])),r.parameters[2]&&(F=u(r.parameters[2])),new f.BloomEffect(x,E,F)}}catch(D){throw D.details.filter=r,D;}throw new d("effect:unknown-effect",`Effect '${r.name}' is not supported`,{effect:r});}function p(r,x){if(r.length>x)throw new d("effect:type-error",`Function supports up to ${x} parameters, Actual: ${r.length}`,
{parameters:r});}function l(r){if("color"===r.type)return"\x3ccolor\x3e";if(r.unit){if(r.unit in w)return"\x3clength\x3e";if(r.unit in v)return"\x3cangle\x3e";if("%"===r.unit)return"\x3cpercentage\x3e"}return"\x3cdouble\x3e"}function n(r,x){if(0>r)throw new d("effect:type-error",`Negative values are not allowed, Actual: ${r}`,{term:x});}function u(r){if("quantity"!==r.type||null!==r.unit&&"%"!==r.unit)throw new d("effect:type-error",`Expected <double> or <percentage>, Actual: ${l(r)}`,{term:r});const x=
r.value;n(x,r);return"%"===r.unit?.01*x:x}function m(r){if("quantity"!==r.type||!(0===r.value&&null===r.unit||r.unit&&null!=w[r.unit]))throw new d("effect:type-error",`Expected <length>, Actual: ${l(r)}`,{term:r});return r.value*w[r.unit]||0}function c(r){if(!b.isNamedColor(r))throw new d("effect:unknown-color",`color '${r}' isn't valid`,{namedColor:r});return b.getNamedColorCopy(r)}var h={exports:{}};h.exports;(function(r){(function(x,B){r.exports&&(r.exports=B())})(e.commonjsGlobal,function(){function x(A,
E,F,L){A=Error.call(this,A);Object.setPrototypeOf&&Object.setPrototypeOf(A,x.prototype);A.expected=E;A.found=F;A.location=L;A.name="SyntaxError";return A}function B(A,E,F){F=F||" ";if(A.length>E)return A;E-=A.length;F+=F.repeat(E);return A+F.slice(0,E)}(function(A,E){function F(){this.constructor=A}F.prototype=E.prototype;A.prototype=new F})(x,Error);x.prototype.format=function(A){var E="Error: "+this.message;if(this.location){var F=null,L;for(L=0;L<A.length;L++)if(A[L].source===this.location.source){F=
A[L].text.split(/\r\n|\n|\r/g);break}A=this.location.start;L=this.location.source&&"function"===typeof this.location.source.offset?this.location.source.offset(A):A;var D=this.location.source+":"+L.line+":"+L.column;if(F){var M=this.location.end,K=B("",L.line.toString().length," ");F=F[A.line-1];M=(A.line===M.line?M.column:F.length+1)-A.column||1;E+="\n --\x3e "+D+"\n"+K+" |\n"+L.line+" | "+F+"\n"+K+" | "+B("",A.column-1," ")+B("",M,"^")}else E+="\n at "+D}return E};x.buildMessage=function(A,E){function F(I){return I.charCodeAt(0).toString(16).toUpperCase()}
function L(I){return I.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(P){return"\\x0"+F(P)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(P){return"\\x"+F(P)})}function D(I){return I.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(P){return"\\x0"+
F(P)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(P){return"\\x"+F(P)})}function M(I){return K[I.type](I)}var K={literal:function(I){return'"'+L(I.text)+'"'},class:function(I){var P=I.parts.map(function(T){return Array.isArray(T)?D(T[0])+"-"+D(T[1]):D(T)});return"["+(I.inverted?"^":"")+P.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(I){return I.description}};return"Expected "+function(I){I=I.map(M);var P,T;I.sort();if(0<I.length){for(T=P=1;P<
I.length;P++)I[P-1]!==I[P]&&(I[T]=I[P],T++);I.length=T}switch(I.length){case 1:return I[0];case 2:return I[0]+" or "+I[1];default:return I.slice(0,-1).join(", ")+", or "+I[I.length-1]}}(A)+" but "+(E?'"'+L(E)+'"':"end of input")+" found."};return{SyntaxError:x,parse:function(A,E){function F(Wa,Ga){return{type:"literal",text:Wa,ignoreCase:Ga}}function L(Wa,Ga,ca){return{type:"class",parts:Wa,inverted:Ga,ignoreCase:ca}}function D(Wa){return{type:"other",description:Wa}}function M(Wa){var Ga=wb[Wa],
ca;if(!Ga){for(ca=Wa-1;!wb[ca];)ca--;Ga=wb[ca];for(Ga={line:Ga.line,column:Ga.column};ca<Wa;)10===A.charCodeAt(ca)?(Ga.line++,Ga.column=1):Ga.column++,ca++;wb[Wa]=Ga}return Ga}function K(Wa,Ga,ca){var ya=M(Wa),Na=M(Ga);Wa={source:sa,start:{offset:Wa,line:ya.line,column:ya.column},end:{offset:Ga,line:Na.line,column:Na.column}};ca&&sa&&"function"===typeof sa.offset&&(Wa.start=sa.offset(Wa.start),Wa.end=sa.offset(Wa.end));return Wa}function I(Wa){La<rb||(La>rb&&(rb=La,pb=[]),pb.push(Wa))}function P(){Ua++;
var Wa=La;J();if(A.substr(La,4)===Da){var Ga=Da;La+=4}else Ga=U,0===Ua&&I(Ia);Ga!==U?(J(),ib=Wa,Wa=[]):(La=Wa,Wa=U);Ua--;Wa===U&&0===Ua&&I(ra);if(Wa===U)if(Wa=[],Ga=T(),Ga!==U)for(;Ga!==U;)Wa.push(Ga),Ga=T();else Wa=U;return Wa}function T(){var Wa=La;J();Ua++;var Ga=La;var ca=Q();if(ca!==U){if(40===A.charCodeAt(La)){var ya=ba;La++}else ya=U,0===Ua&&I(Ma);ya!==U?(ib=Ga,Ga=ca):(La=Ga,Ga=U)}else La=Ga,Ga=U;Ua--;Ga===U&&(ca=U,0===Ua&&I(Ea));if(Ga!==U){J();ca=La;ya=Z();if(ya!==U){var Na=[];var Oa=La;var Ra=
J();if(44===A.charCodeAt(La)){var Va=W;La++}else Va=U,0===Ua&&I(ka);Va===U&&(Va=null);var bb=J();var ob=Z();ob!==U?Oa=Ra=[Ra,Va,bb,ob]:(La=Oa,Oa=U);for(;Oa!==U;)Na.push(Oa),Oa=La,Ra=J(),44===A.charCodeAt(La)?(Va=W,La++):(Va=U,0===Ua&&I(ka)),Va===U&&(Va=null),bb=J(),ob=Z(),ob!==U?Oa=Ra=[Ra,Va,bb,ob]:(La=Oa,Oa=U);ib=ca;ca=0<Na.length?[ya].concat(V(Na,3)):[ya]}else La=ca,ca=U;ca===U&&(ca=null);J();41===A.charCodeAt(La)?(ya=va,La++):(ya=U,0===Ua&&I(aa));ya!==U?(J(),ib=Wa,Wa={type:"function",name:Ga,parameters:ca||
[]}):(La=Wa,Wa=U)}else La=Wa,Wa=U;return Wa}function Z(){var Wa=La;Ua++;var Ga=La;J();var ca=N();if(ca!==U){if(37===A.charCodeAt(La)){var ya=fa;La++}else ya=U,0===Ua&&I(Qa);ya!==U?(ib=Ga,Ga={value:ca,unit:"%"}):(La=Ga,Ga=U)}else La=Ga,Ga=U;Ua--;Ga===U&&0===Ua&&I(Ka);Ga===U&&(Ua++,Ga=La,J(),ca=N(),ca!==U?(A.substr(La,2)===Ba?(ya=Ba,La+=2):(ya=U,0===Ua&&I(Ya)),ya!==U?(ib=Ga,Ga={value:ca,unit:"px"}):(La=Ga,Ga=U)):(La=Ga,Ga=U),Ga===U&&(Ga=La,J(),ca=N(),ca!==U?(A.substr(La,2)===Ja?(ya=Ja,La+=2):(ya=U,
0===Ua&&I(ab)),ya!==U?(ib=Ga,Ga={value:ca,unit:"cm"}):(La=Ga,Ga=U)):(La=Ga,Ga=U),Ga===U&&(Ga=La,J(),ca=N(),ca!==U?(A.substr(La,2)===G?(ya=G,La+=2):(ya=U,0===Ua&&I(db)),ya!==U?(ib=Ga,Ga={value:ca,unit:"mm"}):(La=Ga,Ga=U)):(La=Ga,Ga=U),Ga===U&&(Ga=La,J(),ca=N(),ca!==U?(A.substr(La,2)===S?(ya=S,La+=2):(ya=U,0===Ua&&I(Za)),ya!==U?(ib=Ga,Ga={value:ca,unit:"in"}):(La=Ga,Ga=U)):(La=Ga,Ga=U),Ga===U&&(Ga=La,J(),ca=N(),ca!==U?(A.substr(La,2)===ja?(ya=ja,La+=2):(ya=U,0===Ua&&I(jb)),ya!==U?(ib=Ga,Ga={value:ca,
unit:"pt"}):(La=Ga,Ga=U)):(La=Ga,Ga=U),Ga===U&&(Ga=La,J(),ca=N(),ca!==U?(A.substr(La,2)===pa?(ya=pa,La+=2):(ya=U,0===Ua&&I(qb)),ya!==U?(ib=Ga,Ga={value:ca,unit:"pc"}):(La=Ga,Ga=U)):(La=Ga,Ga=U)))))),Ua--,Ga===U&&0===Ua&&I(Ta),Ga===U&&(Ua++,Ga=La,ca=N(),ca!==U?(A.substr(La,3)===Aa?(ya=Aa,La+=3):(ya=U,0===Ua&&I(Rb)),ya!==U?(ib=Ga,Ga={value:ca,unit:"deg"}):(La=Ga,Ga=U)):(La=Ga,Ga=U),Ga===U&&(Ga=La,ca=N(),ca!==U?(A.substr(La,3)===Y?(ya=Y,La+=3):(ya=U,0===Ua&&I(xb)),ya!==U?(ib=Ga,Ga={value:ca,unit:"rad"}):
(La=Ga,Ga=U)):(La=Ga,Ga=U),Ga===U&&(Ga=La,ca=N(),ca!==U?(A.substr(La,4)===da?(ya=da,La+=4):(ya=U,0===Ua&&I(zb)),ya!==U?(ib=Ga,Ga={value:ca,unit:"grad"}):(La=Ga,Ga=U)):(La=Ga,Ga=U),Ga===U&&(Ga=La,ca=N(),ca!==U?(A.substr(La,4)===ma?(ya=ma,La+=4):(ya=U,0===Ua&&I(Cb)),ya!==U?(ib=Ga,Ga={value:ca,unit:"turn"}):(La=Ga,Ga=U)):(La=Ga,Ga=U)))),Ua--,Ga===U&&(ca=U,0===Ua&&I(yb)),Ga===U&&(Ua++,Ga=La,J(),ca=N(),ca!==U?(ib=Ga,Ga={value:ca,unit:null}):(La=Ga,Ga=U),Ua--,Ga===U&&0===Ua&&I(Eb))));Ga!==U&&(ib=Wa,Ga=
{type:"quantity",value:Ga.value,unit:Ga.unit});Wa=Ga;if(Wa===U){Wa=La;Ua++;Ga=La;35===A.charCodeAt(La)?(ca=R,La++):(ca=U,0===Ua&&I(Lb));if(ca!==U){ca=[];Ca.test(A.charAt(La))?(ya=A.charAt(La),La++):(ya=U,0===Ua&&I(Ab));if(ya!==U)for(;ya!==U;)ca.push(ya),Ca.test(A.charAt(La))?(ya=A.charAt(La),La++):(ya=U,0===Ua&&I(Ab));else ca=U;ca!==U?(ib=Ga,Ga={type:"hex",value:A.substring(ib,La)}):(La=Ga,Ga=U)}else La=Ga,Ga=U;Ga===U&&(Ga=La,ca=T(),ca!==U&&(ib=Ga,ca={type:"function",value:ca}),Ga=ca,Ga===U&&(Ga=
La,ca=Q(),ca!==U&&(ib=Ga,ca={type:"named",value:A.substring(ib,La)}),Ga=ca));Ua--;Ga===U&&(ca=U,0===Ua&&I(Gb));Ga!==U&&(ib=Wa,Ga={type:"color",colorType:Ga.type,value:Ga.value});Wa=Ga}return Wa}function J(){Ua++;var Wa=[];if(ia.test(A.charAt(La))){var Ga=A.charAt(La);La++}else Ga=U,0===Ua&&I(ua);for(;Ga!==U;)Wa.push(Ga),ia.test(A.charAt(La))?(Ga=A.charAt(La),La++):(Ga=U,0===Ua&&I(ua));Ua--;Ga=U;0===Ua&&I(xa);return Wa}function Q(){Ua++;var Wa=La;var Ga=[];if(ta.test(A.charAt(La))){var ca=A.charAt(La);
La++}else ca=U,0===Ua&&I(qa);if(ca!==U)for(;ca!==U;)Ga.push(ca),ta.test(A.charAt(La))?(ca=A.charAt(La),La++):(ca=U,0===Ua&&I(qa));else Ga=U;Ga!==U&&(ib=Wa,Ga=A.substring(ib,La));Wa=Ga;Ua--;Wa===U&&(Ga=U,0===Ua&&I(la));return Wa}function N(){var Wa=La;ha.test(A.charAt(La))?(A.charAt(La),La++):0===Ua&&I(Fb);var Ga=La;var ca=[];if(na.test(A.charAt(La))){var ya=A.charAt(La);La++}else ya=U,0===Ua&&I(nb);for(;ya!==U;)ca.push(ya),na.test(A.charAt(La))?(ya=A.charAt(La),La++):(ya=U,0===Ua&&I(nb));46===A.charCodeAt(La)?
(ya=H,La++):(ya=U,0===Ua&&I(Bb));if(ya!==U){var Na=[];if(na.test(A.charAt(La))){var Oa=A.charAt(La);La++}else Oa=U,0===Ua&&I(nb);if(Oa!==U)for(;Oa!==U;)Na.push(Oa),na.test(A.charAt(La))?(Oa=A.charAt(La),La++):(Oa=U,0===Ua&&I(nb));else Na=U;Na!==U?Ga=ca=[ca,ya,Na]:(La=Ga,Ga=U)}else La=Ga,Ga=U;if(Ga===U)if(Ga=[],na.test(A.charAt(La))?(ca=A.charAt(La),La++):(ca=U,0===Ua&&I(nb)),ca!==U)for(;ca!==U;)Ga.push(ca),na.test(A.charAt(La))?(ca=A.charAt(La),La++):(ca=U,0===Ua&&I(nb));else Ga=U;if(Ga!==U){ca=La;
101===A.charCodeAt(La)?(ya=X,La++):(ya=U,0===Ua&&I(Sb));if(ya!==U){ha.test(A.charAt(La))?(Na=A.charAt(La),La++):(Na=U,0===Ua&&I(Fb));Na===U&&(Na=null);Oa=[];na.test(A.charAt(La))?(Ga=A.charAt(La),La++):(Ga=U,0===Ua&&I(nb));if(Ga!==U)for(;Ga!==U;)Oa.push(Ga),na.test(A.charAt(La))?(Ga=A.charAt(La),La++):(Ga=U,0===Ua&&I(nb));else Oa=U;Oa!==U?ca=ya=[ya,Na,Oa]:(La=ca,ca=U)}else La=ca,ca=U;ca===U&&(ca=null);ib=Wa;Wa=parseFloat(A.substring(ib,La))}else La=Wa,Wa=U;return Wa}function V(Wa,Ga){return Wa.map(function(ca){return ca[Ga]})}
E=void 0!==E?E:{};var U={},sa=E.grammarSource,za={start:P},Fa=P,Da="none",va=")",W=",",ba="(",fa="%",Ba="px",Ja="cm",G="mm",S="in",ja="pt",pa="pc",Aa="deg",Y="rad",da="grad",ma="turn",R="#",H=".",X="e",ia=/^[ \t\n\r]/,ta=/^[a-z\-]/,Ca=/^[0-9a-fA-F]/,ha=/^[+\-]/,na=/^[0-9]/,ra=D("none"),Ia=F("none",!1),aa=F(")",!1),ka=F(",",!1),xa=D("whitespace"),ua=L([" ","\t","\n","\r"],!1,!1),Ea=D("function"),Ma=F("(",!1),la=D("identifier"),qa=L([["a","z"],"-"],!1,!1),Ka=D("percentage"),Qa=F("%",!1),Ta=D("length"),
Ya=F("px",!1),ab=F("cm",!1),db=F("mm",!1),Za=F("in",!1),jb=F("pt",!1),qb=F("pc",!1),yb=D("angle"),Rb=F("deg",!1),xb=F("rad",!1),zb=F("grad",!1),Cb=F("turn",!1),Eb=D("number"),Gb=D("color"),Lb=F("#",!1),Ab=L([["0","9"],["a","f"],["A","F"]],!1,!1),Fb=L(["+","-"],!1,!1),nb=L([["0","9"]],!1,!1),Bb=F(".",!1),Sb=F("e",!1),La=0,ib=0,wb=[{line:1,column:1}],rb=0,pb=[],Ua=0;if("startRule"in E){if(!(E.startRule in za))throw Error("Can't start parsing from rule \""+E.startRule+'".');Fa=za[E.startRule]}E=Fa();
if(E!==U&&La===A.length)return E;E!==U&&La<A.length&&I({type:"end"});throw function(Wa,Ga,ca){return new x(x.buildMessage(Wa,Ga),Wa,Ga,ca)}(pb,rb<A.length?A.charAt(rb):null,rb<A.length?K(rb,rb+1):K(rb,rb));}}})})(h);var t=h.exports;const v={deg:1,grad:.9,rad:180/Math.PI,turn:360},w={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72},z=/^rgba?/i,y=/^hsla?/i;a.parse=function(r){if(!r||0===r.length)return null;if("string"===typeof r)return(r=q(r))&&0!==r.length?r:null;r=r.map(x=>{if(!Number.isFinite(x.scale)||
0>=x.scale)throw new d("effect:invalid-scale","scale must be finite and greater than 0",{stop:x});return{scale:x.scale,effects:q(x.value)}});r.sort((x,B)=>B.effects.length-x.effects.length);for(let x=0;x<r.length-1;x++){if(!k.canInterpolateEffects(r[x].effects,r[x+1].effects))throw new d("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:r[x].effects,b:r[x+1].effects});k.normalizeEffects(r[x].effects,r[x+1].effects)}r.sort((x,B)=>B.scale-x.scale);return r};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(a){a.commonjsGlobal="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};a.getDefaultExportFromCjs=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b["default"]:b}})},"esri/layers/mixins/CustomParametersMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q){a.CustomParametersMixin=g=>{g=class extends g{constructor(){super(...arguments);this.customParameters=null}};b.__decorate([d.property({type:Object,json:{write:{overridePolicy(p){return{enabled:!!(p&&0<Object.keys(p).length)}}}}})],g.prototype,"customParameters",void 0);return g=b.__decorate([q.subclass("esri.layers.mixins.CustomParametersMixin")],g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/EditBusLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/Evented ../../core/lang ../../core/promiseUtils ../../core/Logger ../../core/accessorSupport/ensureType ../../core/Error ../../core/has ../../core/accessorSupport/decorators/subclass ../../versionManagement/support/versionManagementUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){function u(w){return t.on("apply-edits",new WeakRef(w))}function m(w){return t.on("update-moment",new WeakRef(w))}function c(w){return null!=w&&"object"===typeof w&&"gdbVersion"in w}function h(w,z,y){w=(new URL(w)).host;w=n.defaultVersionNameLookup.get(w);return(!z||z===w)&&(!y||y===w)||z===y}const t=new d.EventEmitter,v=Symbol("esri.layers.mixins.EditBusLayer");a.EditBusLayer=w=>{w=class extends w{constructor(...y){super(...y);this[z]=!0;this._applyEditsHandler=r=>
{const {serviceUrl:x,layerId:B,gdbVersion:A,mayReceiveServiceEdits:E,result:F}=r;r=x===this.url;const L=null!=B&&null!=this.layerId&&B===this.layerId,D=c(this),M=c(this)&&h(x,A,this.gdbVersion);!r||D&&!M||!L&&!E||(r=F.then(K=>{if(L&&(K.addedFeatures.length||K.updatedFeatures.length||K.deletedFeatures.length||K.addedAttachments.length||K.updatedAttachments.length||K.deletedAttachments.length))return this.emit("edits",f.clone(K)),K;const I=K.editedFeatures?.find(({layerId:P})=>P===this.layerId);if(I){const {adds:P,
updates:T,deletes:Z}=I.editedFeatures;K={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:P?P.map(({attributes:J})=>({objectId:this.objectIdField&&J[this.objectIdField],globalId:this.globalIdField&&J[this.globalIdField]})):[],deletedFeatures:Z?Z.map(({attributes:J})=>({objectId:this.objectIdField&&J[this.objectIdField],globalId:this.globalIdField&&J[this.globalIdField]})):[],updatedFeatures:T?T.map(({current:{attributes:J}})=>({objectId:this.objectIdField&&
J[this.objectIdField],globalId:this.globalIdField&&J[this.globalIdField]})):[],editedFeatures:f.clone(K.editedFeatures),exceededTransferLimit:!1,historicMoment:f.clone(K.historicMoment)};this.emit("edits",K);return K}return{edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:f.clone(K.editedFeatures),exceededTransferLimit:!1,historicMoment:f.clone(K.historicMoment)}}).then(K=>{"historicMoment"in this&&this.historicMoment!==
K.historicMoment&&n.isVersionInEditSession(x,A)&&(this.historicMoment=K.historicMoment);return K}),this.emit("apply-edits",{result:r}))};this._updateMomentHandler=r=>{const {serviceUrl:x,gdbVersion:B,moment:A}=r;r=x===this.url;const E=c(this),F=c(this)&&h(x,B,this.gdbVersion),L=c(this)&&!h(x,this.gdbVersion,null);r&&E&&F&&L&&"historicMoment"in this&&this.historicMoment!==A&&(this.historicMoment=A)};this.when().then(()=>{this.addHandles(u(this._applyEditsHandler));"historicMoment"in this&&this.addHandles(m(this._updateMomentHandler))},
()=>{})}};var z=v;return w=b.__decorate([l.subclass("esri.layers.mixins.EditBusLayer")],w)};a.emitApplyEditsEvent=function(w,z,y=null,r=!1){const x=e.createResolver();t.emit("apply-edits",{serviceUrl:w,layerId:z,gdbVersion:y,mayReceiveServiceEdits:null==z?!0:r,result:x.promise});return x};a.emitUpdateMomentEvent=function(w,z,y=null,r){t.emit("update-moment",{serviceUrl:w,layerId:z,gdbVersion:y,moment:r})};a.isEditBusLayer=function(w){return null!=w&&"object"===typeof w&&v in w};a.isLayerWithGDBVersion=
c;a.onApplyEditsEvent=u;a.onUpdateMomentEvent=m;a.versionMatches=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/versionManagement/support/versionManagementUtils":function(){define(["require","exports","../../core/uuid"],function(a,b,d){const f=d.generateBracedUUID();d=new Map;const e=new Map,k=new Map;b.currentSessionId=f;b.defaultVersionNameLookup=d;b.isSafeToEditVersion=async function(q,g,p=!1){if(!q||!g)return!0;q=q.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,
"");const l=e.get(q)?.entries();if(l)for(const [n,u]of l)if(u.name===g){g=!u.stack?.hasForwardEdits();if(!g&&p){const [{deleteForwardEdits:m},{default:c}]=await Promise.all([new Promise((h,t)=>a(["../../rest/versionManagement/gdbVersion/deleteForwardEdits"],h,t)),new Promise((h,t)=>a(["../../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters"],v=>h(Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"}))),t))]);return m(q,n,new c({sessionId:f,
moment:u.moment}))}return g}return!0};b.isVersionInEditSession=function(q,g){if(!q)return!1;q=q.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");if(q=e.get(q)?.entries())for(const [,p]of q)if(p.name===g)return"edit"===p.lockType;return!1};b.versionCollection=e;b.versionCollectionCount=k;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/uuid":function(){define(["exports"],function(a){function b(){if(d)return crypto.randomUUID();const f=crypto.getRandomValues(new Uint16Array(8));
f[3]=f[3]&4095|16384;f[4]=f[4]&16383|32768;const e=k=>f[k].toString(16).padStart(4,"0");return e(0)+e(1)+"-"+e(2)+"-"+e(3)+"-"+e(4)+"-"+e(5)+e(6)+e(7)}const d="randomUUID"in crypto;a.generateBracedUUID=function(){return`{${b()}}`};a.generateUUID=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/FeatureEffectLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/FeatureEffect".split(" "),
function(a,b,d,f,e,k,q,g){const p={write:{allowNull:!0}};a.FeatureEffectLayer=l=>{l=class extends l{constructor(){super(...arguments);this.featureEffect=null}};b.__decorate([d.property({type:g,json:{origins:{"web-map":p,"portal-item":p}}})],l.prototype,"featureEffect",void 0);return l=b.__decorate([q.subclass("esri.layers.mixins.FeatureEffectLayer")],l)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureEffect":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/JSONSupport ../../core/object ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils ./FeatureFilter".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){var u;k={read:{reader:l.read},write:{writer:l.write,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}};l={read:{reader:l.read},write:{writer:l.write,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}};q={name:"showExcludedLabels",default:!0};d=u=class extends d.JSONSupport{constructor(m){super(m);this.excludedEffect=this.includedEffect=this.filter=null;this.excludedLabelsVisible=
!1}write(m,c){m=super.write(m,c);if(c?.origin){if(m.filter){const h=Object.keys(m.filter);if(1<h.length||"where"!==h[0])return c.messages?.push(new b("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:c.layer,effect:this})),null}if("showExcludedLabels"in m)return c.messages?.push(new b("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",
{layer:c.layer,effect:this})),null}return m}clone(){return new u({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};a.__decorate([e.property({type:n,json:{write:{allowNull:!0,writer(m,c,h,t){(m=m?.write({},t))&&0!==Object.keys(m).length?f.setDeepValue(h,m,c):f.setDeepValue(h,null,c)}}}})],d.prototype,"filter",void 0);a.__decorate([e.property({json:{write:!0,origins:{"web-map":k,
"portal-item":k}}})],d.prototype,"includedEffect",void 0);a.__decorate([e.property({json:{write:!0,origins:{"web-map":l,"portal-item":l}}})],d.prototype,"excludedEffect",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":q,"portal-item":q}}})],d.prototype,"excludedLabelsVisible",void 0);return d=u=a.__decorate([p.subclass("esri.layers.support.FeatureEffect")],d)})},"esri/layers/support/FeatureFilter":function(){define("../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../rest/support/Query".split(" "),
function(a,b,d,f,e,k,q,g,p,l){var n;g=new f.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});f=new f.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});e=n=class extends e.JSONSupport{constructor(u){super(u);this.geometry=this.where=null;this.spatialRelationship="intersects";this.distance=void 0;this.timeExtent=this.units=this.objectIds=null}createQuery(u={}){const {where:m,geometry:c,spatialRelationship:h,timeExtent:t,objectIds:v,units:w,distance:z}=this;return new l({geometry:k.clone(c),objectIds:k.clone(v),
spatialRelationship:h,timeExtent:k.clone(t),where:m,units:w,distance:z,...u})}clone(){const {where:u,geometry:m,spatialRelationship:c,timeExtent:h,objectIds:t,units:v,distance:w}=this;return new n({geometry:k.clone(m),objectIds:k.clone(t),spatialRelationship:c,timeExtent:k.clone(h),where:u,units:v,distance:w})}};a.__decorate([q.property({type:String,json:{write:!0}})],e.prototype,"where",void 0);a.__decorate([q.property({types:b.geometryTypes,json:{write:!0}})],e.prototype,"geometry",void 0);a.__decorate([q.property({type:g.apiValues,
json:{name:"spatialRel",read:{reader:g.read},write:{allowNull:!1,writer:g.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],e.prototype,"spatialRelationship",void 0);a.__decorate([q.property({type:Number,json:{write:{overridePolicy(u){return{enabled:null!=u&&null!=this.geometry}}}}})],e.prototype,"distance",void 0);a.__decorate([q.property({type:[Number],json:{write:!0}})],e.prototype,"objectIds",void 0);a.__decorate([q.property({type:f.apiValues,json:{read:f.read,write:{writer:f.write,
overridePolicy(u){return{enabled:null!=u&&null!=this.geometry}}}}})],e.prototype,"units",void 0);a.__decorate([q.property({type:d,json:{write:!0}})],e.prototype,"timeExtent",void 0);return e=n=a.__decorate([p.subclass("esri.layers.support.FeatureFilter")],e)})},"esri/rest/support/Query":function(){define("../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../layers/support/source/DataLayerSource ./FullTextSearch ./QuantizationParameters ./StatisticDefinition ../../geometry/SpatialReference ../../geometry/Point".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z){var y;const r=new f.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});f=new f.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let x=y=class extends e.JSONSupport{static from(B){return u.ensureClass(y,B)}constructor(B){super(B);this.aggregateIds=null;this.cacheHint=void 0;this.compactGeometryEnabled=!1;this.datumTransformation=null;this.defaultSpatialReferenceEnabled=!1;this.dynamicDataSource=this.distance=void 0;this.geometry=this.gdbVersion=this.fullText=this.formatOf3DObjects=null;
this.geometryPrecision=void 0;this.historicMoment=this.having=this.groupByFieldsForStatistics=null;this.maxAllowableOffset=void 0;this.maxRecordCountFactor=1;this.multipatchOption=null;this.num=void 0;this.resultType=this.relationParameter=this.rangeValues=this.quantizationParameters=this.pixelSize=this.parameterValues=this.outStatistics=this.outSpatialReference=this.outFields=this.orderByFields=this.objectIds=null;this.returnDistinctValues=this.returnCentroid=!1;this.returnExceededLimitFeatures=
!0;this.returnQueryGeometry=this.returnGeometry=!1;this.returnZ=this.returnM=void 0;this.sourceSpatialReference=null;this.spatialRelationship="intersects";this.start=void 0;this.timeExtent=this.text=this.sqlFormat=null;this.timeReferenceUnknownClient=!1;this.where=this.units=null}castDatumTransformation(B){return"number"===typeof B||"object"===typeof B?B:null}writeHistoricMoment(B,A){A.historicMoment=B&&B.getTime()}writeParameterValues(B,A){if(B){const E={};for(const F in B){const L=B[F];Array.isArray(L)?
E[F]=L.map(D=>D instanceof Date?D.getTime():D):E[F]=L instanceof Date?L.getTime():L}A.parameterValues=E}}writeStart(B,A){A.resultOffset=this.start;A.resultRecordCount=this.num||10;A.where="1\x3d1"}writeWhere(B,A){A.where=B||"1\x3d1"}clone(){return new y(k.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,
fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,
outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,
returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};x.MAX_MAX_RECORD_COUNT_FACTOR=5;a.__decorate([q.property({json:{write:!0}})],x.prototype,"aggregateIds",void 0);a.__decorate([q.property({type:Boolean,
json:{write:!0}})],x.prototype,"cacheHint",void 0);a.__decorate([q.property({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"compactGeometryEnabled",void 0);a.__decorate([q.property({json:{write:!0}})],x.prototype,"datumTransformation",void 0);a.__decorate([g.cast("datumTransformation")],x.prototype,"castDatumTransformation",null);a.__decorate([q.property({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"defaultSpatialReferenceEnabled",void 0);a.__decorate([q.property({type:Number,
json:{write:{overridePolicy(B){return{enabled:0<B}}}}})],x.prototype,"distance",void 0);a.__decorate([q.property({type:c.DataLayerSource,json:{write:!0}})],x.prototype,"dynamicDataSource",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],x.prototype,"formatOf3DObjects",void 0);a.__decorate([q.property({type:[h],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&0<this.fullText.length}}}}})],x.prototype,"fullText",void 0);a.__decorate([q.property({type:String,
json:{write:!0}})],x.prototype,"gdbVersion",void 0);a.__decorate([q.property({types:b.geometryTypes,json:{read:m.fromJSON,write:!0}})],x.prototype,"geometry",void 0);a.__decorate([q.property({type:Number,json:{write:!0}})],x.prototype,"geometryPrecision",void 0);a.__decorate([q.property({type:[String],json:{write:!0}})],x.prototype,"groupByFieldsForStatistics",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],x.prototype,"having",void 0);a.__decorate([q.property({type:Date})],x.prototype,
"historicMoment",void 0);a.__decorate([n.writer("historicMoment")],x.prototype,"writeHistoricMoment",null);a.__decorate([q.property({type:Number,json:{write:!0}})],x.prototype,"maxAllowableOffset",void 0);a.__decorate([q.property({type:Number,cast(B){return 1>B?1:B>x.MAX_MAX_RECORD_COUNT_FACTOR?x.MAX_MAX_RECORD_COUNT_FACTOR:B},json:{write:{overridePolicy(B){return{enabled:1<B}}}}})],x.prototype,"maxRecordCountFactor",void 0);a.__decorate([q.property({type:["xyFootprint"],json:{write:!0}})],x.prototype,
"multipatchOption",void 0);a.__decorate([q.property({type:Number,json:{read:{source:"resultRecordCount"}}})],x.prototype,"num",void 0);a.__decorate([q.property({json:{write:!0}})],x.prototype,"objectIds",void 0);a.__decorate([q.property({type:[String],json:{write:!0}})],x.prototype,"orderByFields",void 0);a.__decorate([q.property({type:[String],json:{write:!0}})],x.prototype,"outFields",void 0);a.__decorate([q.property({type:w,json:{name:"outSR",write:!0}})],x.prototype,"outSpatialReference",void 0);
a.__decorate([q.property({type:[v],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&0<this.outStatistics.length}}}}})],x.prototype,"outStatistics",void 0);a.__decorate([q.property({json:{write:!0}})],x.prototype,"parameterValues",void 0);a.__decorate([n.writer("parameterValues")],x.prototype,"writeParameterValues",null);a.__decorate([q.property({type:z,json:{write:!0}})],x.prototype,"pixelSize",void 0);a.__decorate([q.property({type:t,json:{write:!0}})],x.prototype,
"quantizationParameters",void 0);a.__decorate([q.property({type:[Object],json:{write:!0}})],x.prototype,"rangeValues",void 0);a.__decorate([q.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],x.prototype,"relationParameter",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],x.prototype,"resultType",void 0);a.__decorate([q.property({type:Boolean,json:{default:!1,write:!0}})],
x.prototype,"returnCentroid",void 0);a.__decorate([q.property({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"returnDistinctValues",void 0);a.__decorate([q.property({type:Boolean,json:{default:!0,write:!0}})],x.prototype,"returnExceededLimitFeatures",void 0);a.__decorate([q.property({type:Boolean,json:{write:!0}})],x.prototype,"returnGeometry",void 0);a.__decorate([q.property({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"returnQueryGeometry",void 0);a.__decorate([q.property({type:Boolean,
json:{default:!1,write:!0}})],x.prototype,"returnM",void 0);a.__decorate([q.property({type:Boolean,json:{write:{overridePolicy(B){return{enabled:B}}}}})],x.prototype,"returnZ",void 0);a.__decorate([q.property({type:w,json:{write:!0}})],x.prototype,"sourceSpatialReference",void 0);a.__decorate([p.enumeration(r,{ignoreUnknown:!1,name:"spatialRel"})],x.prototype,"spatialRelationship",void 0);a.__decorate([q.property({type:Number,json:{read:{source:"resultOffset"}}})],x.prototype,"start",void 0);a.__decorate([n.writer("start"),
n.writer("num")],x.prototype,"writeStart",null);a.__decorate([q.property({type:String,json:{write:!0}})],x.prototype,"sqlFormat",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],x.prototype,"text",void 0);a.__decorate([q.property({type:d,json:{write:!0}})],x.prototype,"timeExtent",void 0);a.__decorate([q.property({type:Boolean,json:{default:!1,write:!0}})],x.prototype,"timeReferenceUnknownClient",void 0);a.__decorate([p.enumeration(f,{ignoreUnknown:!1}),q.property({json:{write:{overridePolicy(B){return{enabled:!!B&&
null!=this.distance&&0<this.distance}}}}})],x.prototype,"units",void 0);a.__decorate([q.property({type:String,json:{write:{overridePolicy(B){return{enabled:null!=B||null!=this.start&&0<this.start}}}}})],x.prototype,"where",void 0);a.__decorate([n.writer("where")],x.prototype,"writeWhere",null);return x=y=a.__decorate([l.subclass("esri.rest.support.Query")],x)})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t){function v(){r||(r=n.createTypeReader({types:w()}));return r}function w(){x||(x={key:"type",base:null,typeMap:{"data-layer":a.DataLayerSource,"map-layer":m.MapLayerSource}});return x}var z,y;d=d.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});a.JoinTableDataSource=z=class extends f.JSONSupport{constructor(B){super(B);this.type="join-table"}readLeftTableSource(B,A,E){return v()(B,A,E)}castLeftTableSource(B){return l.ensureOneOfType(w(),
B)}readRightTableSource(B,A,E){return v()(B,A,E)}castRightTableSource(B){return l.ensureOneOfType(w(),B)}clone(){const {leftTableKey:B,rightTableKey:A,leftTableSource:E,rightTableSource:F,joinType:L}=this,D={leftTableKey:B,rightTableKey:A,leftTableSource:E?.clone()??void 0,rightTableSource:F?.clone()??void 0,joinType:L};return new z(D)}};b.__decorate([q.enumeration({joinTable:"join-table"})],a.JoinTableDataSource.prototype,"type",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,
"leftTableKey",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableKey",void 0);b.__decorate([e.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableSource",void 0);b.__decorate([g.reader("leftTableSource")],a.JoinTableDataSource.prototype,"readLeftTableSource",null);b.__decorate([k.cast("leftTableSource")],a.JoinTableDataSource.prototype,"castLeftTableSource",null);b.__decorate([e.property({json:{write:!0}})],a.JoinTableDataSource.prototype,
"rightTableSource",void 0);b.__decorate([g.reader("rightTableSource")],a.JoinTableDataSource.prototype,"readRightTableSource",null);b.__decorate([k.cast("rightTableSource")],a.JoinTableDataSource.prototype,"castRightTableSource",null);b.__decorate([q.enumeration(d)],a.JoinTableDataSource.prototype,"joinType",void 0);a.JoinTableDataSource=z=b.__decorate([p.subclass("esri.layers.support.source.JoinTableDataSource")],a.JoinTableDataSource);let r=null,x=null;k={key:"type",base:null,typeMap:{"join-table":a.JoinTableDataSource,
"query-table":c.QueryTableDataSource,raster:h.RasterDataSource,table:t.TableDataSource}};a.DataLayerSource=y=class extends f.JSONSupport{constructor(B){super(B);this.type="data-layer"}clone(){const {fields:B,dataSource:A}=this;return new y({fields:B,dataSource:A})}};b.__decorate([q.enumeration({dataLayer:"data-layer"})],a.DataLayerSource.prototype,"type",void 0);b.__decorate([e.property({type:[u],json:{write:!0}})],a.DataLayerSource.prototype,"fields",void 0);b.__decorate([e.property({types:k,json:{write:!0}})],
a.DataLayerSource.prototype,"dataSource",void 0);a.DataLayerSource=y=b.__decorate([p.subclass("esri.layers.support.source.DataLayerSource")],a.DataLayerSource);a.DataLayerSource.from=l.ensureType(a.DataLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p){var l;a.MapLayerSource=l=class extends d.JSONSupport{constructor(n){super(n);this.type="map-layer"}clone(){const {mapLayerId:n,gdbVersion:u}=this;return new l({mapLayerId:n,gdbVersion:u})}};b.__decorate([g.enumeration({mapLayer:"map-layer"})],a.MapLayerSource.prototype,"type",void 0);b.__decorate([f.property({type:e.Integer,json:{write:!0}})],a.MapLayerSource.prototype,"mapLayerId",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.MapLayerSource.prototype,
"gdbVersion",void 0);a.MapLayerSource=l=b.__decorate([p.subclass("esri.layers.support.source.MapLayerSource")],a.MapLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../geometry ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../geometry/SpatialReference ../../../geometry/support/typeUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u){var m;a.QueryTableDataSource=m=class extends f.JSONSupport{constructor(c){super(c);this.type="query-table"}clone(){const {workspaceId:c,query:h,oidFields:t,spatialReference:v,geometryType:w}=this,z={workspaceId:c,query:h,oidFields:t,spatialReference:v?.clone()??void 0,geometryType:w};return new m(z)}};b.__decorate([p.enumeration({queryTable:"query-table"})],a.QueryTableDataSource.prototype,"type",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,
"workspaceId",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"query",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"oidFields",void 0);b.__decorate([e.property({type:n,json:{write:!0}})],a.QueryTableDataSource.prototype,"spatialReference",void 0);b.__decorate([p.enumeration(u.featureGeometryTypeKebabDictionary)],a.QueryTableDataSource.prototype,"geometryType",void 0);a.QueryTableDataSource=m=b.__decorate([l.subclass("esri.layers.support.source.QueryTableDataSource")],
a.QueryTableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q,g,p){var l;a.RasterDataSource=
l=class extends d.JSONSupport{constructor(n){super(n);this.type="raster"}clone(){const {workspaceId:n,dataSourceName:u}=this;return new l({workspaceId:n,dataSourceName:u})}};b.__decorate([g.enumeration({raster:"raster"})],a.RasterDataSource.prototype,"type",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"dataSourceName",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"workspaceId",void 0);a.RasterDataSource=
l=b.__decorate([p.subclass("esri.layers.support.source.RasterDataSource")],a.RasterDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p){var l;a.TableDataSource=l=class extends d.JSONSupport{constructor(n){super(n);this.type="table"}clone(){const {workspaceId:n,gdbVersion:u,dataSourceName:m}=this;return new l({workspaceId:n,gdbVersion:u,dataSourceName:m})}};b.__decorate([g.enumeration({table:"table"})],a.TableDataSource.prototype,"type",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"workspaceId",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],
a.TableDataSource.prototype,"gdbVersion",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"dataSourceName",void 0);a.TableDataSource=l=b.__decorate([p.subclass("esri.layers.support.source.TableDataSource")],a.TableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FullTextSearch":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g){b=class extends b.ClonableMixin(d.JSONSupport){constructor(p){super(p);this.searchType=this.searchTerm=this.operator=this.onFields=null}};a.__decorate([f.property({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&0<this.onFields.length}}}}})],b.prototype,"onFields",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"operator",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"searchTerm",
void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"searchType",void 0);return b=a.__decorate([g.subclass("esri.rest.support.FullTextSearch")],b)})},"esri/rest/support/QuantizationParameters":function(){define("../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../geometry/Extent".split(" "),function(a,
b,d,f,e,k,q,g,p){var l;b=new d.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});f=l=class extends f.JSONSupport{constructor(n){super(n);this.extent=null;this.mode="view";this.originPosition="upper-left";this.tolerance=1}clone(){return new l(e.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};a.__decorate([k.property({type:p,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],f.prototype,"extent",void 0);a.__decorate([k.property({type:["view",
"edit"],json:{write:!0}})],f.prototype,"mode",void 0);a.__decorate([k.property({type:String,json:{read:b.read,write:b.write}})],f.prototype,"originPosition",void 0);a.__decorate([k.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],f.prototype,"tolerance",void 0);return f=l=a.__decorate([g.subclass("esri.rest.support.QuantizationParameters")],f)})},"esri/rest/support/StatisticDefinition":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,d,f,e,k,q,g){var p;b=new b.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});d=p=class extends d.JSONSupport{constructor(l){super(l);this.maxVertexCount=this.maxRecordCount=this.maxPointCount=void 0;this.statisticParameters=
this.statisticType=this.outStatisticFieldName=this.onStatisticField=null}writeStatisticParameters(l,n){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)n.statisticParameters=f.clone(l)}clone(){return new p({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:f.clone(this.statisticParameters)})}};
a.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"maxPointCount",void 0);a.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"maxRecordCount",void 0);a.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"maxVertexCount",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"onStatisticField",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"outStatisticFieldName",void 0);a.__decorate([e.property({type:String,
json:{read:{source:"statisticType",reader:b.read},write:{target:"statisticType",writer:b.write}}})],d.prototype,"statisticType",void 0);a.__decorate([e.property({type:Object})],d.prototype,"statisticParameters",void 0);a.__decorate([g.writer("statisticParameters")],d.prototype,"writeStatisticParameters",null);return d=p=a.__decorate([q.subclass("esri.rest.support.StatisticDefinition")],d)})},"esri/layers/mixins/FeatureLayerBase":function(){define("exports ../../chunks/tslib.es6 ../../core/Collection ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/layerContainerType ../../geometry/Extent ../../geometry/HeightModelInfo ../../geometry/SpatialReference ../support/arcgisLayerUrl ../support/commonProperties ../support/EditFieldsInfo ../support/FeatureIndex ../support/featureLayerUtils ../support/GeometryFieldsInfo ../support/LayerFloorInfo ../support/Relationship ../support/serviceCapabilitiesUtils ../support/Subtype ../../time/timeZoneUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B,A,E){a.FeatureLayerBase=F=>{F=class extends F{constructor(){super(...arguments);this.dateFieldsTimeZone=this.capabilities=this.copyright=null;this.datesInUnknownTimezone=!1;this.globalIdField=this.geometryType=this.geometryFieldsInfo=this.gdbVersion=this.fullExtent=this.floorInfo=this.elevationInfo=this.editingInfo=this.editFieldsInfo=this.displayField=this.definitionExpression=null;this.hasZ=this.hasM=void 0;this.historicMoment=this.heightModelInfo=
null;this.indexes=new (d.ofType(w.FeatureIndex));this.isTable=!1;this.layerId=void 0;this.minScale=this.maxScale=0;this.relationships=this.preferredTimeZone=this.objectIdField=null;this.returnZ=this.returnM=void 0;this.sourceJSON=this.serviceItemId=this.serviceDefinitionExpression=null;this.spatialReference=c.WGS84;this.trackIdField=this.subtypes=this.subtypeField=null;this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const {capabilities:L}=this;if(L){const {query:D,operations:M,
editing:K}=L;if(!D.supportsQueryByOthers||!D.supportsQueryByAnonymous||M.supportsEditing&&!(K.supportsUpdateByOthers&&K.supportsUpdateByAnonymous&&K.supportsDeleteByOthers&&K.supportsDeleteByAnonymous))return"load"}return this.userHasUpdateItemPrivileges?z.isLayerCacheStale(this)?"load":this.hasUpdateItemRestrictions?L.operations.supportsQuery?"editing":"load":null:this.userHasFullEditingPrivileges?this.hasFullEditingRestrictions?"editing":null:null}readCapabilitiesFromService(L,D){return B.getFeatureLayerCapabilities(D,
this.url)}readEditingInfo(L,D){({editingInfo:L}=D);return L?{lastEditDate:null!=L.lastEditDate?new Date(L.lastEditDate):null}:null}get effectiveCapabilities(){var L=this.capabilities;if(!L)return null;L=f.clone(L);const {operations:D,editing:M}=L;if(this.sourceJSON?.isMultiServicesView)return this.userHasUpdateItemPrivileges&&(D.supportsQuery=!0),L;if(this.userHasUpdateItemPrivileges)return D.supportsAdd=D.supportsDelete=D.supportsEditing=D.supportsQuery=D.supportsUpdate=M.supportsDeleteByOthers=
M.supportsGeometryUpdate=M.supportsUpdateByOthers=!0,L;this.userHasFullEditingPrivileges&&D.supportsEditing&&(D.supportsAdd=D.supportsDelete=D.supportsUpdate=M.supportsGeometryUpdate=!0);return L}readGlobalIdFieldFromService(L,D){return z.readGlobalIdField(D)}get hasFullEditingRestrictions(){const L=this.capabilities;if(!L||this.sourceJSON?.isMultiServicesView)return!1;const {operations:D,editing:M}=L;return D.supportsEditing&&!(D.supportsAdd&&D.supportsDelete&&D.supportsUpdate&&M.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const L=
this.capabilities;if(!L)return!1;const {operations:D,editing:M}=L;return this.sourceJSON?.isMultiServicesView?!D.supportsQuery:!(D.supportsAdd&&D.supportsDelete&&D.supportsEditing&&D.supportsQuery&&D.supportsUpdate&&M.supportsDeleteByOthers&&M.supportsGeometryUpdate&&M.supportsUpdateByOthers)}readIsTableFromService(L,D){return"Table"===D.type}readMaxScale(L,D){return D.effectiveMaxScale||L||0}readMinScale(L,D){return D.effectiveMinScale||L||0}readObjectIdFieldFromService(L,D){return z.readObjectIdField(D)}readServiceDefinitionExpression(L,
D){return D.definitionQuery||D.definitionExpression}set url(L){L=h.sanitizeUrlWithLayerId({layer:this,url:L,nonStandardUrlAllowed:!0,logger:e.getLogger(this)});this._set("url",L.url);null!=L.layerId&&this._set("layerId",L.layerId)}writeUrl(L,D,M,K){h.writeUrlWithLayerId(this,L,null,D,K)}readVersion(L,D){return z.readVersion(D)}};b.__decorate([k.property({readOnly:!0})],F.prototype,"authenticationTriggerEvent",null);b.__decorate([k.property({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],
F.prototype,"copyright",void 0);b.__decorate([k.property({readOnly:!0,json:{read:!1,origins:{service:{read:{source:"advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities datesInUnknownTimezone hasAttachments hasM hasZ maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" ")}}}}})],
F.prototype,"capabilities",void 0);b.__decorate([g.reader("service","capabilities")],F.prototype,"readCapabilitiesFromService",null);b.__decorate([k.property(E.timeZoneProperty("dateFieldsTimeReference"))],F.prototype,"dateFieldsTimeZone",void 0);b.__decorate([k.property({type:Boolean})],F.prototype,"datesInUnknownTimezone",void 0);b.__decorate([k.property({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],F.prototype,
"definitionExpression",void 0);b.__decorate([k.property({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],F.prototype,"displayField",void 0);b.__decorate([k.property({readOnly:!0,type:v})],F.prototype,"editFieldsInfo",void 0);b.__decorate([k.property({readOnly:!0})],F.prototype,"editingInfo",void 0);b.__decorate([g.reader("editingInfo")],F.prototype,"readEditingInfo",null);b.__decorate([k.property({readOnly:!0})],F.prototype,"effectiveCapabilities",null);b.__decorate([k.property((()=>
{const L=f.clone(t.elevationInfo),D=L.json.origins;D["web-map"]={read:!1,write:!1};D["portal-item"]={read:!1,write:!1};return L})())],F.prototype,"elevationInfo",void 0);b.__decorate([k.property({type:r,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:n.excludeTables}}}}})],F.prototype,"floorInfo",void 0);b.__decorate([k.property({type:u,json:{origins:{service:{read:{source:"extent"}}}}})],F.prototype,"fullExtent",
void 0);b.__decorate([k.property()],F.prototype,"gdbVersion",void 0);b.__decorate([k.property({readOnly:!0,type:y,json:{read:{source:"geometryProperties"}}})],F.prototype,"geometryFieldsInfo",void 0);b.__decorate([k.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:z.geometryTypeKebabDict.read}}}})],F.prototype,"geometryType",void 0);b.__decorate([k.property({type:String})],F.prototype,"globalIdField",void 0);b.__decorate([g.reader("service",
"globalIdField",["globalIdField","fields"])],F.prototype,"readGlobalIdFieldFromService",null);b.__decorate([k.property({readOnly:!0})],F.prototype,"hasFullEditingRestrictions",null);b.__decorate([k.property({type:Boolean,json:{origins:{service:{read:!0}}}})],F.prototype,"hasM",void 0);b.__decorate([k.property({readOnly:!0})],F.prototype,"hasUpdateItemRestrictions",null);b.__decorate([k.property({type:Boolean,json:{origins:{service:{read:!0}}}})],F.prototype,"hasZ",void 0);b.__decorate([k.property({readOnly:!0,
type:m})],F.prototype,"heightModelInfo",void 0);b.__decorate([k.property({type:Date})],F.prototype,"historicMoment",void 0);b.__decorate([k.property({type:d.ofType(w.FeatureIndex),readOnly:!0})],F.prototype,"indexes",void 0);b.__decorate([k.property({readOnly:!0})],F.prototype,"isTable",void 0);b.__decorate([g.reader("service","isTable",["type"])],F.prototype,"readIsTableFromService",null);b.__decorate([k.property({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},
read:!1}})],F.prototype,"layerId",void 0);b.__decorate([k.property(t.maxScale)],F.prototype,"maxScale",void 0);b.__decorate([g.reader("service","maxScale",["maxScale","effectiveMaxScale"])],F.prototype,"readMaxScale",null);b.__decorate([k.property(t.minScale)],F.prototype,"minScale",void 0);b.__decorate([g.reader("service","minScale",["minScale","effectiveMinScale"])],F.prototype,"readMinScale",null);b.__decorate([k.property({type:String})],F.prototype,"objectIdField",void 0);b.__decorate([g.reader("service",
"objectIdField",["objectIdField","fields"])],F.prototype,"readObjectIdFieldFromService",null);b.__decorate([k.property(E.timeZoneProperty("preferredTimeReference"))],F.prototype,"preferredTimeZone",void 0);b.__decorate([k.property({type:[x],readOnly:!0})],F.prototype,"relationships",void 0);b.__decorate([k.property({type:Boolean})],F.prototype,"returnM",void 0);b.__decorate([k.property({type:Boolean})],F.prototype,"returnZ",void 0);b.__decorate([k.property({readOnly:!0,json:{write:!1}})],F.prototype,
"serverGens",void 0);b.__decorate([k.property({readOnly:!0})],F.prototype,"serviceDefinitionExpression",void 0);b.__decorate([g.reader("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],F.prototype,"readServiceDefinitionExpression",null);b.__decorate([k.property({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],F.prototype,"serviceItemId",void 0);b.__decorate([k.property()],F.prototype,"sourceJSON",void 0);b.__decorate([k.property({type:c,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],
F.prototype,"spatialReference",void 0);b.__decorate([k.property({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],F.prototype,"subtypeField",void 0);b.__decorate([k.property({type:[A],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],F.prototype,"subtypes",void 0);b.__decorate([k.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],F.prototype,"trackIdField",void 0);b.__decorate([k.property(t.url)],F.prototype,"url",null);b.__decorate([l.writer("url")],F.prototype,
"writeUrl",null);b.__decorate([k.property({json:{origins:{service:{read:!0}},read:!1}})],F.prototype,"version",void 0);b.__decorate([g.reader("service","version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],F.prototype,"readVersion",null);return F=b.__decorate([p.subclass("esri.layers.mixins.FeatureLayerBase")],F)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/HeightModelInfo":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/jsonMap ../core/JSONSupport ../core/unitUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u){function m(v,w){return new k("height-unit:unsupported",`Height unit of value '${v}' is not supported`,w)}var c;const h=d.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"});g=h.jsonValues.slice();b.removeUnordered(g,"orthometric");const t=d.strict()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards",
"sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});b=c=class extends f.JSONSupport{constructor(v){super(v);this.heightModel="gravity-related-height";this.heightUnit="meters";this.vertCRS=null}writeHeightModel(v,w,z){return h.write(v,
w,z)}readHeightModel(v,w,z){if(w=h.read(v))return w;if(z?.messages){w=z.messages;var y=w.push;v=new k("height-model:unsupported",`Height model of value '${v}' is not supported`,{context:z});y.call(w,v)}return null}readHeightUnit(v,w,z){if(w=t.read(v))return w;z?.messages&&z.messages.push(m(v,{context:z}));return null}readHeightUnitService(v,w,z){if(w=e.unitFromRESTJSON(v)||t.read(v))return w;z?.messages&&z.messages.push(m(v,{context:z}));return null}readVertCRS(v,w){return w.vertCRS||w.ellipsoid||
w.geoid}clone(){return new c({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(v){return v?this===v?!0:this.heightModel===v.heightModel&&this.heightUnit===v.heightUnit&&this.vertCRS===v.vertCRS:!1}static deriveUnitFromSR(v,w){w=e.getVerticalUnitStringForSR(w);return new c({heightModel:v.heightModel,heightUnit:w,vertCRS:v.vertCRS})}write(v,w){w={origin:"web-scene",...w};return super.write(v,w)}static fromJSON(v){if(!v)return null;const w=new c;w.read(v,{origin:"web-scene"});
return w}};a.__decorate([q.property({type:h.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:g,default:"ellipsoidal"}}}})],b.prototype,"heightModel",void 0);a.__decorate([u.writer("web-scene","heightModel")],b.prototype,"writeHeightModel",null);a.__decorate([l.reader(["web-scene","service"],"heightModel")],b.prototype,"readHeightModel",null);a.__decorate([q.property({type:t.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:t.jsonValues,write:t.write}}}})],b.prototype,"heightUnit",
void 0);a.__decorate([l.reader("web-scene","heightUnit")],b.prototype,"readHeightUnit",null);a.__decorate([l.reader("service","heightUnit")],b.prototype,"readHeightUnitService",null);a.__decorate([q.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],b.prototype,"vertCRS",void 0);a.__decorate([l.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],b.prototype,"readVertCRS",null);return b=c=a.__decorate([n.subclass("esri.geometry.HeightModelInfo")],b)})},"esri/layers/support/EditFieldsInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../time/timeZoneUtils".split(" "),
function(a,b,d,f,e,k,q,g,p){b=class extends b.ClonableMixin(d.JSONSupport){constructor(l){super(l);this.timeZone=this.realm=this.editDateField=this.editorField=this.creationDateField=this.creatorField=null}};a.__decorate([f.property()],b.prototype,"creatorField",void 0);a.__decorate([f.property()],b.prototype,"creationDateField",void 0);a.__decorate([f.property()],b.prototype,"editorField",void 0);a.__decorate([f.property()],b.prototype,"editDateField",void 0);a.__decorate([f.property()],b.prototype,
"realm",void 0);a.__decorate([f.property(p.timeZoneProperty("dateFieldsTimeReference",!0))],b.prototype,"timeZone",void 0);return b=a.__decorate([g.subclass("esri.layers.support.EditFieldsInfo")],b)})},"esri/layers/support/FeatureIndex":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p){a.FeatureIndex=class extends d.ClonableMixin(f.JSONSupport){constructor(l){super(l)}};b.__decorate([e.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"name",void 0);b.__decorate([e.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"fields",void 0);b.__decorate([e.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isAscending",void 0);b.__decorate([e.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,
"indexType",void 0);b.__decorate([e.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isUnique",void 0);b.__decorate([e.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"description",void 0);a.FeatureIndex=b.__decorate([p.subclass("esri.layers.support.FeatureIndex")],a.FeatureIndex);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/featureLayerUtils":function(){define("require exports ../../kernel ../../symbols ../../core/asyncUtils ../../core/Error ../../core/jsonMap ../../core/sql ../../core/accessorSupport/extensions/serializableProperty/reader ./featureQueryAll ./layerUtils ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../rest/support/AttachmentQuery ../../rest/support/Query ../../rest/support/RelationshipQuery".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t){function v(x,B,A){const {attributes:E}=B,{objectIdField:F}=x;return x.capabilities?.data?.supportsAttachment?B?E?F&&E[F]?Promise.resolve():Promise.reject(new k(A,`feature is missing the identifying attribute ${F}`)):Promise.reject(new k(A,"'attributes' are required on a feature to query attachments")):Promise.reject(new k(A,"A feature is required to add/delete/update attachments")):Promise.reject(new k(A,"this layer doesn't support attachments"))}async function w(x){return(await x.load()).source}
async function z(x,B){if(d.id&&!d.id.findCredential(x)){var A;try{const E=await n.getOwningPortalUrl(x,B);E&&(A=await d.id.checkSignInStatus(`${E}/sharing`))}catch(E){}if(A)try{await d.id.getCredential(x,{signal:null!=B?B.signal:null})}catch(E){}}}async function y(x,B,A){if(null==B)return null;const E=[],{objectIdField:F}=x;B.forEach(L=>{let D=null;"attributes"in L?({attributes:L}=L,D={globalId:L[A],objectId:null!=L[F]&&-1!==L[F]?L[F]:null}):D={globalId:L.globalId,objectId:null!=L.objectId&&-1!==
L.objectId?L.objectId:null};null!=D.globalId&&(null!=D.objectId&&-1!==D.objectId||E.push(D.globalId))});if(0===E.length)return null;B=x.createQuery();B.where=E.map(L=>`${A}='${L}'`).join(" OR ");B.returnGeometry=!1;B.outFields=[F,A];B.cacheHint=!1;B=await e.resultOrAbort(l.queryAllJSON(x,B));if(!B.ok)return null;x=new Map;B=B.value.features;for(const L of B){B=L.attributes[A];const D=L.attributes[F];null!=B&&null!=D&&-1!==D&&x.set(B,D)}return x}q=new q.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",
esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});const r=p.createTypeReader({types:f.symbolTypesRenderer});b.addAttachment=async function(x,B,A,E){const F=await w(x);await v(x,B,E);if(!F.addAttachment)throw new k(E,"Layer source does not support addAttachment capability");return F.addAttachment(B,A)};b.applyEdits=async function(x,B,A){const {applyEdits:E}=await new Promise((K,I)=>a(["../graphics/editingSupport"],K,I)),F=await x.load(),{source:L,globalIdField:D}=
F;let M=A;"feature"===F.type&&F.infoFor3D&&null!=B.deleteFeatures&&null!=D&&(M={...M,globalIdToObjectId:await y(x,B.deleteFeatures,D)});return E(F,L,B,A)};b.computeEffectiveEditingEnabled=function(x){return x.sourceJSON?.isMultiServicesView?!1:x.userHasUpdateItemPrivileges||x.editingEnabled};b.createDefaultRenderer=function(x,B){if(x.defaultSymbol)return x.types?.length?new m({defaultSymbol:r(x.defaultSymbol,x,B),field:x.typeIdField,uniqueValueInfos:x.types.map(A=>({id:A.id,symbol:r(A.symbol,A,B)}))}):
new u({symbol:r(x.defaultSymbol,x,B)})};b.createQuery=function(x){const B=new h,A=x.capabilities?.data,E=x.capabilities?.query;B.historicMoment=x.historicMoment;B.gdbVersion=x.gdbVersion;B.returnGeometry=!0;E&&(B.compactGeometryEnabled=E.supportsCompactGeometry,B.defaultSpatialReferenceEnabled=E.supportsDefaultSpatialReference);A&&(A.supportsZ&&null!=x.returnZ&&(B.returnZ=x.returnZ),A.supportsM&&null!=x.returnM&&(B.returnM=x.returnM));B.outFields=["*"];const {timeOffset:F,timeExtent:L}=x;B.timeExtent=
null!=F&&null!=L?L.offset(-F.value,F.unit):L||null;B.multipatchOption="multipatch"===x.geometryType?"xyFootprint":null;return B};b.deleteAttachments=async function(x,B,A,E){const F=await w(x);await v(x,B,E);if(!F.deleteAttachments)throw new k(E,"Layer source does not support deleteAttachments capability");return F.deleteAttachments(B,A)};b.ensureLayerCredential=async function(x,B,A){const E=x.parsedUrl?.path;E&&x.authenticationTriggerEvent===B&&await z(E,A)};b.fetchRecomputedExtents=async function(x,
B,A){x=(await x.load({signal:B?.signal})).source;if(!x.fetchRecomputedExtents)throw new k(A,"Layer source does not support fetchUpdates capability");return x.fetchRecomputedExtents(B)};b.geometryTypeKebabDict=q;b.getGlobalIdToObjectIdMap=y;b.hasDataChanged=async function(x){const B=x.source;if(B?.refresh)try{const {dataChanged:A,updates:E}=await B.refresh();null!=E&&(x.sourceJSON={...x.sourceJSON,...E},x.read(E,{origin:"service",url:x.parsedUrl}));if(A)return!0}catch{}if(x.definitionExpression)try{return(await g.parseWhereClause(x.definitionExpression,
x.fieldsIndex)).hasDateFunctions}catch{}return!1};b.isLayerCacheStale=function(x){let B=x.sourceJSON?.cacheMaxAge;if(!B)return!1;x=x.editingInfo?.lastEditDate?.getTime();if(null==x)return!0;B*=1E3;return Date.now()-x<B};b.queryAttachments=async function(x,B,A,E){B=c.from(B);await x.load();A=x.source;x=x.capabilities;if(!x?.data?.supportsAttachment)throw new k(E,"this layer doesn't support attachments");const {attachmentTypes:F,objectIds:L,globalIds:D,num:M,size:K,start:I,where:P}=B;if(!x?.operations?.supportsQueryAttachments&&
(0<F?.length||0<D?.length||0<K?.length||M||I||P))throw new k(E,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",B);if(!(L?.length||D?.length||P))throw new k(E,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",B);if(!A.queryAttachments)throw new k(E,"Layer source does not support queryAttachments capability",B);return A.queryAttachments(B)};b.queryExtent=async function(x,B,A,E){const F=await w(x);if(!F.queryExtent)throw new k(E,
"Layer source does not support queryExtent capability");return F.queryExtent(h.from(B)??x.createQuery(),A)};b.queryFeatureCount=async function(x,B,A,E){const F=await w(x);if(!F.queryFeatureCount)throw new k(E,"Layer source does not support queryFeatureCount capability");return F.queryFeatureCount(h.from(B)??x.createQuery(),A)};b.queryObjectIds=async function(x,B,A,E){const F=await w(x);if(!F.queryObjectIds)throw new k(E,"Layer source does not support queryObjectIds capability");return F.queryObjectIds(h.from(B)??
x.createQuery(),A)};b.queryRelatedFeatures=async function(x,B,A,E){x=await w(x);if(!x.queryRelatedFeatures)throw new k(E,"Layer source does not support queryRelatedFeatures capability");return x.queryRelatedFeatures(t.from(B),A)};b.queryRelatedFeaturesCount=async function(x,B,A,E){x=await w(x);if(!x.queryRelatedFeaturesCount)throw new k(E,"Layer source does not support queryRelatedFeaturesCount capability");return x.queryRelatedFeaturesCount(t.from(B),A)};b.readGlobalIdField=function(x){const {globalIdField:B,
fields:A}=x;if(B)return B;if(A)for(const E of A)if("esriFieldTypeGlobalID"===E.type)return E.name};b.readObjectIdField=function(x){const {objectIdField:B,fields:A}=x;if(B)return B;if(A)for(const E of A)if("esriFieldTypeOID"===E.type)return E.name};b.readVersion=function(x){return x.currentVersion?x.currentVersion:x.hasOwnProperty("capabilities")||x.hasOwnProperty("drawingInfo")||x.hasOwnProperty("hasAttachments")||x.hasOwnProperty("htmlPopupType")||x.hasOwnProperty("relationships")||x.hasOwnProperty("timeInfo")||
x.hasOwnProperty("typeIdField")||x.hasOwnProperty("types")?10:9.3};b.updateAttachment=async function(x,B,A,E,F){const L=await w(x);await v(x,B,F);if(!L.updateAttachment)throw new k(F,"Layer source does not support updateAttachment capability");return L.updateAttachment(B,A,E)};b.uploadAssets=async function(x,B,A){const {uploadAssets:E}=await new Promise((F,L)=>a(["../graphics/editingSupport"],F,L));x=await x.load();return E(x,x.source,B,A)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/support/featureQueryAll":function(){define(["exports","../../rest/support/Query"],function(a,b){function d(k){return e(k)*f(k)}function f(k){return k.capabilities.query.maxRecordCount||2E3}function e(k){return k.capabilities.query.supportsMaxRecordCountFactor?b.MAX_MAX_RECORD_COUNT_FACTOR:1}a.getMaxRecordCountFactor=e;a.getMaximumQuerySize=d;a.getMaximumRecordCount=f;a.queryAllJSON=async function(k,q,g){q=q.clone();k.capabilities.query.supportsMaxRecordCountFactor&&(q.maxRecordCountFactor=
e(k));const p=d(k),l=k.capabilities.query.supportsPagination;q.start=0;q.num=p;let n=null;for(;;){const u=await k.source.queryFeaturesJSON(q,g);null==n?n=u:n.features=n.features.concat(u.features);n.exceededTransferLimit=u.exceededTransferLimit;if(!l||!u.exceededTransferLimit)break;q.start+=p}return n};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AttachmentQuery":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,d,f,e,k,q){var g;b=g=class extends b.JSONSupport{constructor(p){super(p);this.attachmentsWhere=this.attachmentTypes=null;this.cacheHint=void 0;this.objectIds=this.num=this.name=this.globalIds=this.keywords=null;this.returnMetadata=!1;this.where=this.start=this.size=null}writeStart(p,l){l.resultOffset=this.start;l.resultRecordCount=this.num||10}clone(){return new g(d.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,
where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};a.__decorate([f.property({type:[String],json:{write:!0}})],b.prototype,"attachmentTypes",void 0);a.__decorate([f.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],b.prototype,"attachmentsWhere",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],
b.prototype,"cacheHint",void 0);a.__decorate([f.property({type:[String],json:{write:!0}})],b.prototype,"keywords",void 0);a.__decorate([f.property({type:[Number],json:{write:!0}})],b.prototype,"globalIds",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([f.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);a.__decorate([f.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);a.__decorate([f.property({type:Boolean,
json:{default:!1,write:!0}})],b.prototype,"returnMetadata",void 0);a.__decorate([f.property({type:[Number],json:{write:!0}})],b.prototype,"size",void 0);a.__decorate([f.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);a.__decorate([q.writer("start"),q.writer("num")],b.prototype,"writeStart",null);a.__decorate([f.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=g=a.__decorate([k.subclass("esri.rest.support.AttachmentQuery")],
b);b.from=e.ensureType(b);return b})},"esri/rest/support/RelationshipQuery":function(){define("../../chunks/tslib.es6 ../../geometry ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/source/DataLayerSource ../../geometry/SpatialReference".split(" "),function(a,b,d,f,e,k,q,g,p,l){var n;b=n=class extends d.JSONSupport{constructor(u){super(u);
this.dynamicDataSource=this.cacheHint=void 0;this.gdbVersion=null;this.geometryPrecision=void 0;this.historicMoment=null;this.maxAllowableOffset=void 0;this.outSpatialReference=this.outFields=this.orderByFields=this.objectIds=null;this.num=this.start=this.relationshipId=void 0;this.returnGeometry=!1;this.returnZ=this.returnM=void 0;this.where=null}_writeHistoricMoment(u,m){m.historicMoment=u&&u.getTime()}writeStart(u,m){m.resultOffset=this.start;m.resultRecordCount=this.num||10;0<this.start&&null==
this.where&&(m.definitionExpression="1\x3d1")}clone(){return new n(f.clone({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,
num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};a.__decorate([e.property({type:Boolean,json:{write:!0}})],b.prototype,"cacheHint",void 0);a.__decorate([e.property({type:p.DataLayerSource,json:{write:!0}})],b.prototype,"dynamicDataSource",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);a.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0);a.__decorate([e.property({type:Date})],
b.prototype,"historicMoment",void 0);a.__decorate([g.writer("historicMoment")],b.prototype,"_writeHistoricMoment",null);a.__decorate([e.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);a.__decorate([e.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);a.__decorate([e.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0);a.__decorate([e.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);a.__decorate([e.property({type:l,
json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);a.__decorate([e.property({json:{write:!0}})],b.prototype,"relationshipId",void 0);a.__decorate([e.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);a.__decorate([g.writer("start"),g.writer("num")],b.prototype,"writeStart",null);a.__decorate([e.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);a.__decorate([e.property({json:{write:!0}})],
b.prototype,"returnGeometry",void 0);a.__decorate([e.property({type:Boolean,json:{write:{overridePolicy(u){return{enabled:u}}}}})],b.prototype,"returnM",void 0);a.__decorate([e.property({type:Boolean,json:{write:{overridePolicy(u){return{enabled:u}}}}})],b.prototype,"returnZ",void 0);a.__decorate([e.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=n=a.__decorate([q.subclass("esri.rest.support.RelationshipQuery")],
b);b.from=k.ensureType(b);return b})},"esri/layers/support/GeometryFieldsInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q,g,p){b=class extends b.ClonableMixin(d.JSONSupport){constructor(l){super(l);this.units=this.shapeLengthField=this.shapeAreaField=
null}};a.__decorate([e.property({type:String,json:{read:{source:"shapeAreaFieldName"}}})],b.prototype,"shapeAreaField",void 0);a.__decorate([e.property({type:String,json:{read:{source:"shapeLengthFieldName"}}})],b.prototype,"shapeLengthField",void 0);a.__decorate([e.property({type:String,json:{read:l=>f.areaUnitsJSONMap.read(l)||f.lengthUnitsJSONMap.read(l)}})],b.prototype,"units",void 0);return b=a.__decorate([p.subclass("esri.layers.support.GeometryFieldsInfo")],b)})},"esri/layers/support/LayerFloorInfo":function(){define("../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g){var p;d=p=class extends d.JSONSupport{constructor(l){super(l);this.floorField=null;this.viewAllMode=!1;this.viewAllLevelIds=new b}clone(){return new p({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"floorField",void 0);a.__decorate([f.property({json:{read:!1,write:!1}})],d.prototype,"viewAllMode",void 0);a.__decorate([f.property({json:{read:!1,write:!1}})],
d.prototype,"viewAllLevelIds",void 0);return d=p=a.__decorate([g.subclass("esri.layers.support.LayerFloorInfo")],d)})},"esri/layers/support/Relationship":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q,g,p){k=new d.JSONMap({esriRelCardinalityOneToOne:"one-to-one",
esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"});d=new d.JSONMap({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});b=class extends b.ClonableMixin(f.JSONSupport){constructor(l){super(l);this.role=this.relationshipTableId=this.relatedTableId=this.name=this.keyFieldInRelationshipTable=this.keyField=this.id=this.composite=this.cardinality=null}};a.__decorate([e.property({json:{read:k.read,write:k.write}})],b.prototype,"cardinality",void 0);a.__decorate([e.property({json:{read:!0,
write:!0}})],b.prototype,"composite",void 0);a.__decorate([e.property({json:{read:!0,write:!0}})],b.prototype,"id",void 0);a.__decorate([e.property({json:{read:!0,write:!0}})],b.prototype,"keyField",void 0);a.__decorate([e.property({json:{read:!0,write:!0}})],b.prototype,"keyFieldInRelationshipTable",void 0);a.__decorate([e.property({json:{read:!0,write:!0}})],b.prototype,"name",void 0);a.__decorate([e.property({json:{read:!0,write:!0}})],b.prototype,"relatedTableId",void 0);a.__decorate([e.property({json:{read:!0,
write:!0}})],b.prototype,"relationshipTableId",void 0);a.__decorate([e.property({json:{read:d.read,write:d.write}})],b.prototype,"role",void 0);return b=a.__decorate([p.subclass("esri.layers.support.Relationship")],b)})},"esri/layers/support/serviceCapabilitiesUtils":function(){define(["exports","../../core/has","./arcgisLayerUrl","../../rest/support/jsonUtils"],function(a,b,d,f){function e(n){n=n?.supportedSpatialAggregationStatistics?.map(u=>u.toLowerCase());return{envelope:!!n?.includes("envelopeaggregate"),
centroid:!!n?.includes("centroidaggregate"),convexHull:!!n?.includes("convexhullaggregate")}}function k(n,u){return!!n?.supportedOperationsWithCacheHint?.map(m=>m.toLowerCase())?.includes(u.toLowerCase())}function q(n){const u=n.attachmentProperties,m={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:k(n.advancedQueryCapabilities,"queryAttachments"),supportsResize:f.readBoolean(n,"supportsAttachmentsResizing",!1)};u&&Array.isArray(u)&&
u.forEach(c=>{const h=l[c.name];h&&(m[h]=!!c.isEnabled)});return m}function g(n,u,m){n=n?n.toLowerCase().split(",").map(y=>y.trim()):[];m=m?d.parse(m):null;m=n.includes(null!=m&&"MapServer"===m.serverType?"data":"query");const c=n.includes("editing")&&!u.datesInUnknownTimezone;let h=c&&n.includes("create"),t=c&&n.includes("delete"),v=c&&n.includes("update");const w=n.includes("changetracking"),z=u.advancedQueryCapabilities;!c||h||t||v||(h=t=v=!0);return{supportsCalculate:f.readBoolean(u,"supportsCalculate",
!1),supportsTruncate:f.readBoolean(u,"supportsTruncate",!1),supportsValidateSql:f.readBoolean(u,"supportsValidateSql",!1),supportsAdd:h,supportsDelete:t,supportsEditing:c,supportsChangeTracking:w,supportsQuery:m,supportsQueryAnalytics:f.readBoolean(z,"supportsQueryAnalytic",!1),supportsQueryAttachments:f.readBoolean(z,"supportsQueryAttachments",!1),supportsQueryTopFeatures:f.readBoolean(z,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:f.readBoolean(u,"supportsAttachmentsResizing",!1),supportsSync:n.includes("sync"),
supportsUpdate:v,supportsExceedsLimitStatistics:f.readBoolean(u,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:f.readBoolean(u,"supportsAsyncConvert3D",!1)}}function p(n,u){const m=n.advancedQueryCapabilities,c=n.ownershipBasedAccessControlForFeatures,h=n.archivingInfo;var t=n.currentVersion;t=!u?.includes("MapServer")||t>=b("mapserver-pbf-version-support");u=d.isHostedAgolService(u);const v=new Set((n.supportedQueryFormats??"").split(",").map(w=>w.toLowerCase().trim()));return{supportsStatistics:f.readBoolean(m,
"supportsStatistics",n.supportsStatistics),supportsPercentileStatistics:f.readBoolean(m,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:f.readBoolean(m,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:e(m),supportsCentroid:f.readBoolean(m,"supportsReturningGeometryCentroid",!1),supportsDistance:f.readBoolean(m,"supportsQueryWithDistance",!1),supportsDistinct:f.readBoolean(m,"supportsDistinct",n.supportsAdvancedQueries),supportsExtent:f.readBoolean(m,
"supportsReturningQueryExtent",!1),supportsGeometryProperties:f.readBoolean(m,"supportsReturningGeometryProperties",!1),supportsHavingClause:f.readBoolean(m,"supportsHavingClause",!1),supportsOrderBy:f.readBoolean(m,"supportsOrderBy",n.supportsAdvancedQueries),supportsPagination:f.readBoolean(m,"supportsPagination",!1),supportsQuantization:f.readBoolean(n,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:f.readBoolean(n,"supportsQuantizationEditMode",!1),supportsQueryGeometry:f.readBoolean(n,
"supportsReturningQueryGeometry",!1),supportsResultType:f.readBoolean(m,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:f.readBoolean(m,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:f.readBoolean(m,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:f.readBoolean(n,"useStandardizedQueries",!1),supportsTopFeaturesQuery:f.readBoolean(m,"supportsTopFeaturesQuery",!1),supportsQueryByAnonymous:f.readBoolean(c,"allowAnonymousToQuery",!0),supportsQueryByOthers:f.readBoolean(c,
"allowOthersToQuery",!0),supportsHistoricMoment:f.readBoolean(h,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:t&&v.has("pbf"),supportsDisjointSpatialRelationship:f.readBoolean(m,"supportsDisjointSpatialRel",!1),supportsCacheHint:f.readBoolean(m,"supportsQueryWithCacheHint",!1)||k(m,"query"),supportsDefaultSpatialReference:f.readBoolean(m,"supportsDefaultSR",!1),supportsCompactGeometry:u,supportsFullTextSearch:f.readBoolean(m,"supportsFullTextSearch",!1),maxRecordCountFactor:f.readNumber(n,
"maxRecordCountFactor",void 0),maxRecordCount:f.readNumber(n,"maxRecordCount",void 0),standardMaxRecordCount:f.readNumber(n,"standardMaxRecordCount",void 0),tileMaxRecordCount:f.readNumber(n,"tileMaxRecordCount",void 0)}}const l={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};a.getFeatureLayerCapabilities=function(n,u){var m={supportsCacheHint:k(n.advancedQueryCapabilities,"queryAnalytics")},c=q(n);var h={isVersioned:f.readBoolean(n,
"isDataVersioned",!1),supportsAttachment:f.readBoolean(n,"hasAttachments",!1),supportsM:f.readBoolean(n,"hasM",!1),supportsZ:f.readBoolean(n,"hasZ",!1)};var t={supportsAdvancedFieldProperties:f.readBoolean(n,"supportsFieldDescriptionProperty",!1)},v=g(n.capabilities,n,u);u=p(n,u);var w=n.advancedQueryCapabilities;var z=f.readBoolean(w,"supportsAdvancedQueryRelated",!1);w={supportsPagination:f.readBoolean(w,"supportsQueryRelatedPagination",!1),supportsCount:z,supportsOrderBy:z,supportsCacheHint:k(w,
"queryRelated")};z={supportsCacheHint:k(n.advancedQueryCapabilities,"queryTopFilter")};const y=n.ownershipBasedAccessControlForFeatures,r=n?n.advancedEditingCapabilities:void 0;n={supportsGeometryUpdate:f.readBoolean(n,"allowGeometryUpdates",!0),supportsGlobalId:f.readBoolean(n,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:f.readBoolean(n,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:f.readBoolean(n,"supportsRollbackOnFailureParameter",
!1),supportsUpdateWithoutM:f.readBoolean(n,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:f.readBoolean(n,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:f.readBoolean(y,"allowAnonymousToDelete",!0),supportsDeleteByOthers:f.readBoolean(y,"allowOthersToDelete",!0),supportsUpdateByAnonymous:f.readBoolean(y,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:f.readBoolean(y,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:f.readBoolean(r,"supportsAsyncApplyEdits",!1),zDefault:f.readNumber(n,
"zDefault",void 0)};return{analytics:m,attachment:c,data:h,metadata:t,operations:v,query:u,queryRelated:w,queryTopFeatures:z,editing:n}};a.getVideoLayerCapabilities=function(n){return{operations:{supportsExportClip:f.readBoolean(n,"supportsExportClip",!1),supportsMensuration:f.readBoolean(n,"supportsMensuration",!1)},query:{supportsCoverageQuery:f.readBoolean(n,"supportsCoverageQuery",!1)}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/jsonUtils":function(){define(["exports"],
function(a){function b(d,f,e){return d&&d.hasOwnProperty(f)?d[f]:e}a.readBoolean=function(d,f,e){return!!b(d,f,e)};a.readNumber=function(d,f,e){return b(d,f,e)};a.readValue=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Subtype":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){b=class extends b.ClonableMixin(d.JSONSupport){constructor(u){super(u);this.code=null;this.defaultValues={};this.name=this.domains=null}readDomains(u){if(!u)return null;const m={};for(const c of Object.keys(u))m[c]=n.fromJSON(u[c]);return m}writeDomains(u,m){if(u){var c={};for(const h of Object.keys(u))u[h]&&(c[h]=u[h]?.toJSON());m.domains=c}}};a.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"code",void 0);a.__decorate([f.property({type:Object,
json:{write:!0}})],b.prototype,"defaultValues",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"domains",void 0);a.__decorate([g.reader("domains")],b.prototype,"readDomains",null);a.__decorate([l.writer("domains")],b.prototype,"writeDomains",null);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);return b=a.__decorate([p.subclass("esri.layers.support.Subtype")],b)})},"esri/layers/mixins/FeatureReductionLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/AggregateField ../support/featureReductionUtils ../../views/2d/layers/support/clusterUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){a.FeatureReductionLayer=u=>{u=class extends u{constructor(...m){super(...m);this.addHandles(d.watch(()=>this.renderer,()=>{if(this.featureReduction){const c=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",c)}},d.sync))}set featureReduction(m){m=this._normalizeFeatureReduction(m);this._set("featureReduction",m)}set renderer(m){}_normalizeFeatureReduction(m){if("cluster"!==m?.type)return m;const c=m.clone(),h=[new p({name:"cluster_count",
isAutoGenerated:!0,statisticType:"count"})],t=(c.fields??[]).filter(v=>!v.isAutoGenerated);if(m.renderer&&!m.renderer.authoringInfo?.isAutoGenerated)return c.fields=[...h,...t],c;if(m.symbol)return c.fields=[...h,...t],c.renderer=null,c;if(!this.renderer)return m;m=n.createClusterRenderer(h,this.renderer,m,null,!1);c.fields=[...h,...t];c.renderer=m;return c}};b.__decorate([f.property(l.featureReductionProperty)],u.prototype,"featureReduction",null);return u=b.__decorate([g.subclass("esri.layers.mixins.FeatureReductionLayer")],
u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/AggregateField":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ExpressionInfo".split(" "),function(a,b,d,f,e,k,q){var g;b=g=class extends b.JSONSupport{constructor(p){super(p);this.isAutoGenerated=!1;this.statisticType=this.onStatisticExpression=
this.onStatisticField=this.alias=this.name=null}clone(){return new g({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:d.clone(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"isAutoGenerated",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],
b.prototype,"alias",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"onStatisticField",void 0);a.__decorate([f.property({type:q,json:{write:!0}})],b.prototype,"onStatisticExpression",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"statisticType",void 0);return b=g=a.__decorate([k.subclass("esri.layers.support.AggregateField")],b)})},"esri/layers/support/ExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g){b=class extends b.ClonableMixin(d.JSONSupport){constructor(p){super(p);this.returnType=this.title=this.expression=null}};a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"returnType",void 0);return b=a.__decorate([g.subclass("esri.layers.support.ExpressionInfo")],b)})},"esri/layers/support/featureReductionUtils":function(){define("exports ../../core/accessorSupport/layerContainerType ./FeatureReduction ./FeatureReductionBinning ./FeatureReductionCluster ./FeatureReductionSelection".split(" "),
function(a,b,d,f,e,k){const q={key:"type",base:d.FeatureReduction,typeMap:{cluster:e,binning:f}};a.featureReductionProperty={types:{key:"type",base:d.FeatureReduction,typeMap:{selection:k,cluster:e,binning:f}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:q},"portal-item":{types:q},"web-scene":{types:{key:"type",base:d.FeatureReduction,typeMap:{selection:k}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:b.excludeTables}}}}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReduction":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q,g){a.FeatureReduction=class extends d.JSONSupport{constructor(){super(...arguments);this.type=null}};b.__decorate([f.property({type:["selection",
"cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],a.FeatureReduction.prototype,"type",void 0);a.FeatureReduction=b.__decorate([g.subclass("esri.layers.support.FeatureReduction")],a.FeatureReduction);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionBinning":function(){define("../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../core/lang ../../core/object ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./featureLayerUtils ./FeatureReduction ./LabelClass".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B,A,E){var F;d=F=class extends A.FeatureReduction{constructor(L){super(L);this.type="binning";this.binType="geohash";this.fixedBinLevel=3;this.labelingInfo=null;this.labelsVisible=!0;this.maxScale=0;this.popupEnabled=!0;this.popupTemplate=null;this.fields=[];this.renderer=null}writeFields(L,D,M){L=L.filter(K=>"avg_angle"!==K.statisticType).map(K=>K.toJSON());c.setDeepValue(M,L,D)}readRenderer(L,D,M){return(L=D.drawingInfo?.renderer)?n.read(L,D,
M)??void 0:B.createDefaultRenderer(D,M)}clone(){return new F({fields:m.clone(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:m.clone(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:m.clone(this.popupTemplate),renderer:m.clone(this.renderer)})}};a.__decorate([v.enumeration({binning:"binning"})],d.prototype,"type",void 0);a.__decorate([v.enumeration({geohash:"geohash"})],d.prototype,"binType",void 0);a.__decorate([h.property({type:Number,
range:{min:1,max:9},json:{write:!0}})],d.prototype,"fixedBinLevel",void 0);a.__decorate([h.property({type:[E],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],d.prototype,"labelingInfo",void 0);a.__decorate([h.property(x.labelsVisible)],d.prototype,"labelsVisible",void 0);a.__decorate([h.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],d.prototype,"maxScale",void 0);a.__decorate([h.property(x.popupEnabled)],d.prototype,"popupEnabled",
void 0);a.__decorate([h.property({type:b,json:{name:"popupInfo",write:!0}})],d.prototype,"popupTemplate",void 0);a.__decorate([h.property({type:[r],json:{write:!0}})],d.prototype,"fields",void 0);a.__decorate([y.writer("fields")],d.prototype,"writeFields",null);a.__decorate([h.property({types:u.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],d.prototype,"renderer",void 0);a.__decorate([w.reader("renderer",["drawingInfo.renderer"])],d.prototype,"readRenderer",null);return d=F=a.__decorate([z.subclass("esri.layers.support.FeatureReductionBinning")],
d)})},"esri/layers/support/LabelClass":function(){define("../../chunks/tslib.es6 ../../symbols ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./LabelExpressionInfo ./labelUtils ./layerUtils ../../symbols/support/defaults ../../symbols/support/jsonUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t){function v(r,x,B){return{enabled:!c.isSceneServiceLayer(B?.layer)}}function w(r){return r?"service"===r.origin?!1:"map-image"!==r.layer?.type:!0}function z(r){return"map-image"===r?.type?!!r.capabilities?.exportMap?.supportsArcadeExpressionForLabeling:!1}var y;d=new d.JSONMap({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",
esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",
esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},
{ignoreUnknown:!0});f=y=class extends f.JSONSupport{static evaluateWhere(r,x){const B=(A,E,F)=>{switch(E){case "\x3d":return A==F;case "\x3c\x3e":return A!=F;case "\x3e":return A>F;case "\x3e\x3d":return A>=F;case "\x3c":return A<F;case "\x3c\x3d":return A<=F}return!1};try{if(null==r)return!0;const A=r.split(" ");if(3===A.length)return B(x[A[0]],A[1],A[2]);if(7===A.length){const E=B(x[A[0]],A[1],A[2]),F=A[3],L=B(x[A[4]],A[5],A[6]);switch(F){case "AND":return E&&L;case "OR":return E||L}}return!1}catch(A){console.log("Error.: can't parse \x3d "+
r)}}constructor(r){super(r);this.type="label";this.name=null;this.allowOverrun=!1;this.deconflictionStrategy="static";this.labelPlacement=this.labelExpressionInfo=this.labelExpression=null;this.labelPosition="curved";this.minScale=this.maxScale=0;this.repeatLabel=!0;this.repeatLabelDistance=null;this.symbol=h.defaultTextSymbol2D;this.useCodedValues=void 0;this.where=null}readLabelExpression(r,x){x=x.labelExpressionInfo;if(!x||!x.value&&!x.expression)return r}writeLabelExpression(r,x,B){if(this.labelExpressionInfo)if(null!=
this.labelExpressionInfo.value)r=m.templateStringToSql(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const A=m.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression);A&&(r="["+A+"]")}null!=r&&(x[B]=r)}writeLabelExpressionInfo(r,x,B,A){if(null==r&&null!=this.labelExpression&&w(A))r=new u({expression:this.getLabelExpressionArcade()});else if(!r)return;r=r.toJSON(A);r.expression&&(x[B]=r)}writeMaxScale(r,x){if(r||this.minScale)x.maxScale=r}writeMinScale(r,
x){if(r||this.maxScale)x.minScale=r}getLabelExpression(){return m.getLabelExpression(this)}getLabelExpressionArcade(){return m.getLabelExpressionArcade(this)}getLabelExpressionSingleField(){return m.getLabelExpressionSingleField(this)}hash(){return JSON.stringify(this)}clone(){return new y({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:e.clone(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,
maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:e.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};a.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"name",void 0);a.__decorate([q.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:v}}}}})],f.prototype,"allowOverrun",void 0);a.__decorate([q.property({type:String,
json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:v}}}}})],f.prototype,"deconflictionStrategy",void 0);a.__decorate([q.property({type:String,json:{write:{overridePolicy(r,x,B){return this.labelExpressionInfo&&"service"===B?.origin&&z(B.layer)?{enabled:!1}:{allowNull:!0}}}}})],f.prototype,"labelExpression",void 0);a.__decorate([p.reader("labelExpression")],f.prototype,"readLabelExpression",null);a.__decorate([n.writer("labelExpression")],
f.prototype,"writeLabelExpression",null);a.__decorate([q.property({type:u,json:{write:{overridePolicy(r,x,B){return w(B)||z(B?.layer)?{allowNull:!0}:{enabled:!1}}}}})],f.prototype,"labelExpressionInfo",void 0);a.__decorate([n.writer("labelExpressionInfo")],f.prototype,"writeLabelExpressionInfo",null);a.__decorate([q.property({type:d.apiValues,json:{type:d.jsonValues,read:d.read,write:d.write}})],f.prototype,"labelPlacement",void 0);a.__decorate([q.property({type:["curved","parallel"],json:{write:!0,
origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],f.prototype,"labelPosition",void 0);a.__decorate([q.property({type:Number})],f.prototype,"maxScale",void 0);a.__decorate([n.writer("maxScale")],f.prototype,"writeMaxScale",null);a.__decorate([q.property({type:Number})],f.prototype,"minScale",void 0);a.__decorate([n.writer("minScale")],f.prototype,"writeMinScale",null);a.__decorate([q.property({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:v}}}}})],
f.prototype,"repeatLabel",void 0);a.__decorate([q.property({type:Number,cast:k.toPt,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:v}}}}})],f.prototype,"repeatLabelDistance",void 0);a.__decorate([q.property({types:b.symbolTypesLabel,json:{origins:{"web-scene":{types:b.symbolTypesLabel3D,write:t.writeLabelSymbol,default:null}},write:t.writeLabelSymbol,default:null}})],f.prototype,"symbol",void 0);a.__decorate([q.property({type:Boolean,json:{write:!0}})],f.prototype,
"useCodedValues",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],f.prototype,"where",void 0);return f=y=a.__decorate([l.subclass("esri.layers.support.LabelClass")],f)})},"esri/layers/support/LabelExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./labelUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l){var n;b=n=class extends b.JSONSupport{constructor(){super(...arguments);this.value=this.title=this.expression=null}readExpression(u,m){return m.value?l.convertTemplatedStringToArcade(m.value):u}writeExpression(u,m,c){null!=this.value&&(u=l.convertTemplatedStringToArcade(this.value));null!=u&&(m[c]=u)}clone(){return new n({expression:this.expression,title:this.title,value:this.value})}};a.__decorate([d.property({type:String,json:{write:{writerEnsuresNonNull:!0}}})],b.prototype,
"expression",void 0);a.__decorate([q.reader("expression",["expression","value"])],b.prototype,"readExpression",null);a.__decorate([p.writer("expression")],b.prototype,"writeExpression",null);a.__decorate([d.property({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],b.prototype,"title",void 0);a.__decorate([d.property({json:{read:!1,write:!1}})],b.prototype,"value",void 0);return b=n=a.__decorate([g.subclass("esri.layers.support.LabelExpressionInfo")],b)})},"esri/layers/support/labelUtils":function(){define(["exports",
"../../core/string"],function(a,b){function d(t){return t.replaceAll(RegExp("\\[","g"),"{").replaceAll(RegExp("\\]","g"),"}")}function f(t){const v={expression:"",type:"none"};t.labelExpressionInfo?t.labelExpressionInfo.value?(v.expression=t.labelExpressionInfo.value,v.type="conventional"):t.labelExpressionInfo.expression&&(v.expression=t.labelExpressionInfo.expression,v.type="arcade"):null!=t.labelExpression&&(v.expression=d(t.labelExpression),v.type="conventional");return v}function e(t){t?(t=b.replace(t,
v=>'__begin__$feature["'+v+'"]__end__'),t=l.test(t)?t.replace(l,""):'"'+t,t=n.test(t)?t.replace(n,""):t+'"',t=t.replaceAll(g,'" + ').replaceAll(p,' + "')):t='""';return t}function k(t){return t?.match(u)?.[1].trim()||null}function q(t){if(!t)return null;let v=m.exec(t)||c.exec(t);return v?v[1]||v[3]:(v=h.exec(t))?v[2]:null}const g=RegExp("__begin__","ig"),p=RegExp("__end__","ig"),l=RegExp("^__begin__","i"),n=RegExp("__end__$","i"),u=/^\s*\{([^}]+)\}\s*$/i,m=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,
c=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,h=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;a.convertTemplatedStringToArcade=e;a.getLabelExpression=f;a.getLabelExpressionArcade=function(t){t=f(t);if(!t)return null;switch(t.type){case "conventional":return e(t.expression);case "arcade":return t.expression}return null};a.getLabelExpressionSingleField=function(t){t=f(t);if(!t)return null;
switch(t.type){case "conventional":return k(t.expression);case "arcade":return q(t.expression)}return null};a.getSingleFieldArcadeExpression=q;a.getSingleFieldTemplatedString=k;a.sqlToTemplateString=d;a.templateStringToSql=function(t){return t.replaceAll(RegExp("\\{","g"),"[").replaceAll(RegExp("\\}","g"),"]")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaults":function(){define("exports ../../core/has ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),
function(a,b,d,f,e,k,q){const g=e.fromJSON(q.defaultPointSymbolJSON),p=f.fromJSON(q.defaultPolylineSymbolJSON),l=d.fromJSON(q.defaultPolygonSymbolJSON);b=k.fromJSON(q.defaultTextSymbolJSON);e=e.fromJSON(q.errorPointSymbolJSON);f=f.fromJSON(q.errorPolylineSymbolJSON);d=d.fromJSON(q.errorPolygonSymbolJSON);a.defaultPointSymbol2D=g;a.defaultPolygonSymbol2D=l;a.defaultPolylineSymbol2D=p;a.defaultTextSymbol2D=b;a.errorPointSymbol2D=e;a.errorPolygonSymbol2D=d;a.errorPolylineSymbol2D=f;a.getDefaultSymbol2D=
function(n){if(null==n)return null;switch(n.type){case "point":case "multipoint":return g;case "polyline":return p;case "polygon":case "extent":return l}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaultsJSON":function(){define(["exports"],function(a){const b=[252,146,31,255],d={type:"esriSMS",style:"esriSMSCircle",size:6,color:b,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},f={type:"esriSLS",style:"esriSLSSolid",
width:.75,color:b};a.defaultColor=b;a.defaultOutlineColor=[153,153,153,255];a.defaultPointSymbolJSON=d;a.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};a.defaultPolylineSymbolJSON=f;a.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,
text:"",xoffset:0,yoffset:0,angle:0};a.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};a.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};a.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionCluster":function(){define("../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../symbols ../../core/JSONSupport ../../core/lang ../../core/object ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./featureLayerUtils ./LabelClass".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B,A,E,F){var L;d=L=class extends c.JSONSupport{constructor(D){super(D);this.type="cluster";this.clusterRadius=v.toPt("80px");this.clusterMinSize=v.toPt("12px");this.clusterMaxSize=v.toPt("50px");this.maxScale=0;this.popupEnabled=!0;this.labelingInfo=this.symbol=this.renderer=this.popupTemplate=null;this.labelsVisible=!0;this.fields=null}readRenderer(D,M,K){D=M.drawingInfo?.renderer;return D?.authoringInfo?.isAutoGenerated?null:D?"simple"!==D.type||
D.visualVariables?.length?n.read(D,M,K)??void 0:null:E.createDefaultRenderer(M,K)}readSymbol(D,M,K){D=M.drawingInfo?.renderer;return D?.authoringInfo?.isAutoGenerated?null:D&&"simple"===D.type&&!D.visualVariables?.length?n.read(D,M,K)?.symbol:null}writeSymbol(D,M,K,I){K=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||K)D=new p({symbol:D}),M.drawingInfo={renderer:D.write({},I)}}writeFields(D,M,K){D=D.filter(I=>"avg_angle"!==I.statisticType).map(I=>I.toJSON());t.setDeepValue(K,D,M)}readFields(D,
M,K){return D.filter(I=>!I.isAutoGenerated).map(I=>B.fromJSON(I))}clone(){return new L({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:h.clone(this.labelingInfo),labelsVisible:this.labelsVisible,fields:h.clone(this.fields),maxScale:this.maxScale,renderer:h.clone(this.renderer),symbol:h.clone(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:h.clone(this.popupTemplate)})}};a.__decorate([w.property({type:["cluster"],readOnly:!0,
json:{write:!0}})],d.prototype,"type",void 0);a.__decorate([w.property({type:Number,cast:D=>"auto"===D?D:v.toPt(D),json:{write:!0}})],d.prototype,"clusterRadius",void 0);a.__decorate([w.property({type:Number,cast:v.toPt,json:{write:!0}})],d.prototype,"clusterMinSize",void 0);a.__decorate([w.property({type:Number,cast:v.toPt,json:{write:!0}})],d.prototype,"clusterMaxSize",void 0);a.__decorate([w.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],d.prototype,"maxScale",void 0);
a.__decorate([w.property(A.popupEnabled)],d.prototype,"popupEnabled",void 0);a.__decorate([w.property({type:b,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],d.prototype,"popupTemplate",void 0);a.__decorate([w.property({types:u.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],d.prototype,"renderer",void 0);a.__decorate([y.reader("renderer",["drawingInfo.renderer"])],d.prototype,"readRenderer",null);a.__decorate([w.property({types:m.symbolTypesCluster})],d.prototype,"symbol",
void 0);a.__decorate([y.reader("symbol",["drawingInfo.renderer"])],d.prototype,"readSymbol",null);a.__decorate([x.writer("symbol")],d.prototype,"writeSymbol",null);a.__decorate([w.property({type:[F],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],d.prototype,"labelingInfo",void 0);a.__decorate([w.property(A.labelsVisible)],d.prototype,"labelsVisible",void 0);a.__decorate([w.property({type:[B],json:{write:!0}})],d.prototype,"fields",void 0);a.__decorate([x.writer("fields")],
d.prototype,"writeFields",null);a.__decorate([y.reader("fields")],d.prototype,"readFields",null);return d=L=a.__decorate([r.subclass("esri.layers.support.FeatureReductionCluster")],d)})},"esri/layers/support/FeatureReductionSelection":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./FeatureReduction".split(" "),function(a,b,d,f,e,k,q){var g;
d=g=class extends q.FeatureReduction{constructor(p){super(p);this.type="selection"}clone(){return new g}};a.__decorate([b.property({type:["selection"]})],d.prototype,"type",void 0);return d=g=a.__decorate([k.subclass("esri.layers.support.FeatureReductionSelection")],d)})},"esri/views/2d/layers/support/clusterUtils":function(){define("exports ../../../../core/Error ../../../../core/has ../../../../core/Logger ../../../../core/MD5 ../../../../layers/support/AggregateField ../../../../layers/support/ExpressionInfo ../../../../renderers/support/AuthoringInfo ../../../../renderers/visualVariables/SizeVariable ../../../../renderers/visualVariables/support/SizeStop ../../engine/LevelDependentSizeVariable".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){function u(r,x,B){switch(r){case "sum":return`cluster_sum_${x}`;case "avg":case "avg_angle":return`cluster_avg_${x}`;case "mode":return`cluster_type_${x}`;case "avg_norm":return r=x.toLowerCase()+",norm:field,"+B.toLowerCase(),"cluster_avg_"+e.createMD5Hash(r)}}function m(r,x,B,A){const E=e.createMD5Hash(x),F="mode"===B?`cluster_type_${E}`:"sum"===B?`cluster_sum_${E}`:`cluster_avg_${E}`;r.some(L=>L.name===F)||r.push(new k({name:F,isAutoGenerated:!0,onStatisticExpression:new q({expression:x,
returnType:A}),statisticType:B}));return F}function c(r,x,B,A,E){if("cluster_count"===x||r.some(L=>L.name===x))return x;const F=u(B,x,E);r.some(L=>L.name===F)||("avg_norm"===B?r.push(new k({name:F,isAutoGenerated:!0,onStatisticExpression:new q({expression:`$feature.${x} / $feature.${E}`,returnType:A}),statisticType:"avg"})):r.push(new k({name:F,isAutoGenerated:!0,onStatisticField:x,statisticType:B})));return F}const h=f.getLogger("esri.views.2d.layers.support.clusterUtils");d.add("esri-cluster-arcade-enabled",
!0);const t=d("esri-cluster-arcade-enabled"),v=r=>{for(const x of r)if("size"===x.type)return x;return null},w=r=>{for(const x of r)if("cluster_count"===x.field)return!0;return!1},z=(r,x)=>{const B=[new l({value:0,size:0}),new l({value:1})];if(null==x)return new p({field:"cluster_count",stops:[...B,new l({value:2,size:0})]});const A=Object.keys(x).reduce((E,F)=>({...E,[F]:[...B,new l({value:Math.max(2,x[F].minValue),size:r.clusterMinSize}),new l({value:Math.max(3,x[F].maxValue),size:r.clusterMaxSize})]}),
{});return new n.LevelDependentSizeVariable({field:"cluster_count",levels:A})},y=r=>{const x=B=>h.error(new b("Unsupported-renderer",B,{renderer:r}));if(!r)return!1;switch(r.type){case "unique-value":if(r.field2||r.field3)return x("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case "class-breaks":if(r.normalizationField){const B=r.normalizationType;if("field"!==B)return x(`FeatureReductionCluster does not support a normalizationType of ${B}`),!1}break;case "simple":case "pie-chart":break;
default:return x(`FeatureReductionCluster does not support renderers of type ${r.type}`),!1}if(!t){if("valueExpression"in r&&r.valueExpression)return x("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in r&&r.visualVariables||[]).some(B=>!!("valueExpression"in B&&B.valueExpression)))return x("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),
!1}return!0};a.createClusterCountSizeVariable=z;a.createClusterRenderer=(r,x,B,A,E)=>{x=x.clone();if(!y(x))return x;x.authoringInfo||(x.authoringInfo=new g);x.authoringInfo.isAutoGenerated=!0;if("visualVariables"in x){const F=(x.visualVariables||[]).filter(D=>"$view.scale"!==D.valueExpression),L=v(F);F.forEach(D=>{"rotation"===D.type?D.field?D.field=c(r,D.field,"avg_angle","number"):D.valueExpression&&(D.field=m(r,D.valueExpression,"avg_angle","number"),D.valueExpression=null):D.normalizationField?
(D.field=c(r,D.field,"avg_norm","number",D.normalizationField),D.normalizationField=null):D.field?D.field=c(r,D.field,"avg","number"):D.valueExpression&&(D.field=m(r,D.valueExpression,"avg","number"),D.valueExpression=null)});null==L&&!w(F)&&E&&(F.push(z(B,A)),x.dynamicClusterSize=!0);x.visualVariables=F}switch(x.type){case "pie-chart":for(const F of x.attributes)F.field?F.field=c(r,F.field,"sum","number"):F.valueExpression&&(F.field=m(r,F.valueExpression,"sum","number"),F.valueExpression=null);break;
case "unique-value":x.field?x.field=c(r,x.field,"mode","string"):x.valueExpression&&(x.field=m(r,x.valueExpression,"mode","string"),x.valueExpression=null);break;case "class-breaks":x.normalizationField?(x.field=c(r,x.field,"avg_norm","number",x.normalizationField),x.normalizationField=null):x.field?x.field=c(r,x.field,"avg","number"):x.valueExpression&&(x.field=m(r,x.valueExpression,"avg","number"),x.valueExpression=null)}return x};a.findSizeVV=v;a.hasClusterCountVV=w;a.injectDynamicLevelDependentSizeVisualVariable=
function(r,x,B){r=r.clone();let A=!1;if("visualVariables"in r){const E=(r.visualVariables||[]).filter(F=>"$view.scale"!==F.valueExpression);null==v(E)&&(r.visualVariables||(r.visualVariables=[]),r.visualVariables.push(z(x,B)),A=r.dynamicClusterSize=!0)}return{renderer:r,didInject:A}};a.isClusterCompatibleRenderer=y;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MD5":function(){define(["exports"],function(a){function b(g,p){const l=(g&65535)+(p&65535);return(g>>16)+(p>>
16)+(l>>16)<<16|l&65535}function d(g,p,l,n,u,m){g=b(b(p,g),b(n,m));return b(g<<u|g>>>32-u,l)}function f(g,p,l,n,u,m,c){return d(p&l|~p&n,g,p,u,m,c)}function e(g,p,l,n,u,m,c){return d(p&n|l&~n,g,p,u,m,c)}function k(g,p,l,n,u,m,c){return d(l^(p|~n),g,p,u,m,c)}const q={Base64:0,Hex:1,String:2,Raw:3};a.createMD5Hash=function(g,p=q.Hex){p=p||q.Base64;var l=[];for(let c=0,h=8*g.length;c<h;c+=8)l[c>>5]|=(g.charCodeAt(c/8)&255)<<c%32;g=8*g.length;l[g>>5]|=128<<g%32;l[(g+64>>>9<<4)+14]=g;g=1732584193;var n=
-271733879;let u=-1732584194,m=271733878;for(let c=0;c<l.length;c+=16){const h=g,t=n,v=u,w=m;g=f(g,n,u,m,l[c],7,-680876936);m=f(m,g,n,u,l[c+1],12,-389564586);u=f(u,m,g,n,l[c+2],17,606105819);n=f(n,u,m,g,l[c+3],22,-1044525330);g=f(g,n,u,m,l[c+4],7,-176418897);m=f(m,g,n,u,l[c+5],12,1200080426);u=f(u,m,g,n,l[c+6],17,-1473231341);n=f(n,u,m,g,l[c+7],22,-45705983);g=f(g,n,u,m,l[c+8],7,1770035416);m=f(m,g,n,u,l[c+9],12,-1958414417);u=f(u,m,g,n,l[c+10],17,-42063);n=f(n,u,m,g,l[c+11],22,-1990404162);g=f(g,
n,u,m,l[c+12],7,1804603682);m=f(m,g,n,u,l[c+13],12,-40341101);u=f(u,m,g,n,l[c+14],17,-1502002290);n=f(n,u,m,g,l[c+15],22,1236535329);g=e(g,n,u,m,l[c+1],5,-165796510);m=e(m,g,n,u,l[c+6],9,-1069501632);u=e(u,m,g,n,l[c+11],14,643717713);n=e(n,u,m,g,l[c],20,-373897302);g=e(g,n,u,m,l[c+5],5,-701558691);m=e(m,g,n,u,l[c+10],9,38016083);u=e(u,m,g,n,l[c+15],14,-660478335);n=e(n,u,m,g,l[c+4],20,-405537848);g=e(g,n,u,m,l[c+9],5,568446438);m=e(m,g,n,u,l[c+14],9,-1019803690);u=e(u,m,g,n,l[c+3],14,-187363961);
n=e(n,u,m,g,l[c+8],20,1163531501);g=e(g,n,u,m,l[c+13],5,-1444681467);m=e(m,g,n,u,l[c+2],9,-51403784);u=e(u,m,g,n,l[c+7],14,1735328473);n=e(n,u,m,g,l[c+12],20,-1926607734);g=d(n^u^m,g,n,l[c+5],4,-378558);m=d(g^n^u,m,g,l[c+8],11,-2022574463);u=d(m^g^n,u,m,l[c+11],16,1839030562);n=d(u^m^g,n,u,l[c+14],23,-35309556);g=d(n^u^m,g,n,l[c+1],4,-1530992060);m=d(g^n^u,m,g,l[c+4],11,1272893353);u=d(m^g^n,u,m,l[c+7],16,-155497632);n=d(u^m^g,n,u,l[c+10],23,-1094730640);g=d(n^u^m,g,n,l[c+13],4,681279174);m=d(g^n^
u,m,g,l[c],11,-358537222);u=d(m^g^n,u,m,l[c+3],16,-722521979);n=d(u^m^g,n,u,l[c+6],23,76029189);g=d(n^u^m,g,n,l[c+9],4,-640364487);m=d(g^n^u,m,g,l[c+12],11,-421815835);u=d(m^g^n,u,m,l[c+15],16,530742520);n=d(u^m^g,n,u,l[c+2],23,-995338651);g=k(g,n,u,m,l[c],6,-198630844);m=k(m,g,n,u,l[c+7],10,1126891415);u=k(u,m,g,n,l[c+14],15,-1416354905);n=k(n,u,m,g,l[c+5],21,-57434055);g=k(g,n,u,m,l[c+12],6,1700485571);m=k(m,g,n,u,l[c+3],10,-1894986606);u=k(u,m,g,n,l[c+10],15,-1051523);n=k(n,u,m,g,l[c+1],21,-2054922799);
g=k(g,n,u,m,l[c+8],6,1873313359);m=k(m,g,n,u,l[c+15],10,-30611744);u=k(u,m,g,n,l[c+6],15,-1560198380);n=k(n,u,m,g,l[c+13],21,1309151649);g=k(g,n,u,m,l[c+4],6,-145523070);m=k(m,g,n,u,l[c+11],10,-1120210379);u=k(u,m,g,n,l[c+2],15,718787259);n=k(n,u,m,g,l[c+9],21,-343485551);g=b(g,h);n=b(n,t);u=b(u,v);m=b(m,w)}l=[g,n,u,m];switch(p){case q.Raw:return l;case q.Hex:p=[];for(let c=0,h=4*l.length;c<h;c++)p.push("0123456789abcdef".charAt(l[c>>2]>>c%4*8+4&15)+"0123456789abcdef".charAt(l[c>>2]>>c%4*8&15));return p.join("");
case q.String:p=[];for(let c=0,h=32*l.length;c<h;c+=8)p.push(String.fromCharCode(l[c>>5]>>>c%32&255));return p.join("");case q.Base64:p=[];for(let c=0,h=4*l.length;c<h;c+=3)for(g=(l[c>>2]>>c%4*8&255)<<16|(l[c+1>>2]>>(c+1)%4*8&255)<<8|l[c+2>>2]>>(c+2)%4*8&255,n=0;4>n;n++)8*c+6*n>32*l.length?p.push("\x3d"):p.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>6*(3-n)&63));return p.join("")}};a.outputTypes=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/views/2d/engine/LevelDependentSizeVariable":function(){define("exports ../../../chunks/tslib.es6 ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../renderers/visualVariables/SizeVariable ../../../renderers/visualVariables/support/sizeVariableUtils".split(" "),function(a,b,d,f,e,k,q,g,p){var l;a.LevelDependentSizeVariable=l=class extends g{writeLevels(n,
u,m){for(const c in n){u.stops=this.levels[c];break}}clone(){return new l({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:p.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:p.isSizeVariable(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(n=>n.clone()),target:this.target,useSymbolValue:this.useSymbolValue,
valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone(),levels:d.clone(this.levels)})}};b.__decorate([f.property()],a.LevelDependentSizeVariable.prototype,"levels",void 0);b.__decorate([q.writer("levels")],a.LevelDependentSizeVariable.prototype,"writeLevels",null);a.LevelDependentSizeVariable=l=b.__decorate([k.subclass("esri.views.2d.engine.LevelDependentSizeVariable")],a.LevelDependentSizeVariable);Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/mixins/OrderedLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/object ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/OrderByInfo".split(" "),function(a,b,d,f,e,k,q,g,p){function l(u,m,c){if(!u)return null;u=u.find(h=>!!h.field);if(!u)return null;m=new p;m.read(u,c);return[m]}function n(u,m,c,h){(u=u.find(t=>!!t.field))&&
d.setDeepValue(c,[u.toJSON()],m)}a.OrderedLayer=u=>{u=class extends u{constructor(){super(...arguments);this.orderBy=null}};b.__decorate([f.property({type:[p],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:l},write:{target:"layerDefinition.orderBy",writer:n}}})],u.prototype,"orderBy",void 0);return u=b.__decorate([g.subclass("esri.layers.mixins.OrderedLayer")],u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/OrderByInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g){var p;b=new b.JSONMap({asc:"ascending",desc:"descending"});d=p=class extends d.JSONSupport{constructor(l){super(l);this.valueExpression=this.field=null;this.order="ascending"}clone(){return new p({field:this.field,valueExpression:this.valueExpression,order:this.order})}};a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"field",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"valueExpression",void 0);a.__decorate([f.property({type:b.apiValues,
json:{read:b.read,write:b.write}})],d.prototype,"order",void 0);return d=p=a.__decorate([g.subclass("esri.layers.support.OrderByInfo")],d)})},"esri/layers/mixins/PublishableLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../support/PublishingInfo".split(" "),function(a,b,d,f,e,k,q,g){const p=Symbol("esri.layers.mixins.PublishableLayer");
a.PublishableLayer=l=>{l=class extends l{constructor(){super(...arguments);this[n]=!0}get publishingInfo(){if(this.destroyed)return null;var u=this._get("publishingInfo");if(u)return u;u=new g;this._checkPublishingStatus(u);return u}_checkPublishingStatus(u){let m=0;const c=async t=>{u.updating=!0;let v;try{v=await this.fetchPublishingStatus()}catch(w){v="unavailable"}if("published"===v||"unavailable"===v)"publishing"===u.status&&this.refresh(),h.remove();u.status=v;u.updating=!1;h.removed||(m=setTimeout(c,
t,t+125))},h={removed:!1,remove(){this.removed=!0;clearTimeout(m)}};this.when().catch(()=>h.remove());c(250);this.addHandles(h)}};var n=p;b.__decorate([d.property({readOnly:!0,clonable:!1})],l.prototype,"publishingInfo",null);return l=b.__decorate([q.subclass("esri.layers.mixins.PublishableLayer")],l)};a.isPublishableLayer=function(l){return null!=l&&"object"===typeof l&&p in l};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/PublishingInfo":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q){b=class extends b{constructor(){super(...arguments);this.updating=!1;this.status="unknown"}};a.__decorate([d.property()],b.prototype,"updating",void 0);a.__decorate([d.property()],b.prototype,"status",void 0);return b=a.__decorate([q.subclass("esri.layers.support.PublishingInfo")],b)})},"esri/layers/mixins/TemporalLayer":function(){define("exports ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../support/fieldUtils ../support/TimeInfo ../../portal/timeUnitKebabDictionary".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m){a.TemporalLayer=c=>{c=class extends c{constructor(){super(...arguments);this.timeOffset=this.timeExtent=null;this.useViewTime=!0}readOffset(h,t){t=t.timeInfo.exportOptions;if(!t)return null;h=t.timeOffset;t=m.timeUnitKebabDictionary.fromJSON(t.timeOffsetUnits);return h&&t?new f({value:h,unit:t}):null}set timeInfo(h){n.fixTimeInfoFields(h,this.fieldsIndex);this._set("timeInfo",h)}};b.__decorate([e.property({type:d,json:{write:!1}})],c.prototype,"timeExtent",void 0);
b.__decorate([e.property({type:f})],c.prototype,"timeOffset",void 0);b.__decorate([p.reader("service","timeOffset",["timeInfo.exportOptions"])],c.prototype,"readOffset",null);b.__decorate([e.property({value:null,type:u,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"timeInfo",null);b.__decorate([e.property({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],c.prototype,
"useViewTime",void 0);return c=b.__decorate([l.subclass("esri.layers.mixins.TemporalLayer")],c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/TimeInterval":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/enumeration ./core/accessorSupport/decorators/subclass ./portal/timeUnitKebabDictionary".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){b=class extends b.ClonableMixin(d.JSONSupport){constructor(u){super(u);this.unit="milliseconds";this.value=0}toMilliseconds(){return f.convertTime(this.value,this.unit,"milliseconds")}};a.__decorate([p.enumeration(n.timeUnitKebabDictionary,{nonNullable:!0})],b.prototype,"unit",void 0);a.__decorate([e.property({type:Number,json:{write:!0},nonNullable:!0})],b.prototype,"value",void 0);return b=a.__decorate([l.subclass("esri.TimeInterval")],b)})},"esri/portal/timeUnitKebabDictionary":function(){define(["exports",
"../core/jsonMap"],function(a,b){b=b.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});a.timeUnitKebabDictionary=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TimeInfo":function(){define("../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../time/timeZoneUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m){f=class extends f.ClonableMixin(e.JSONSupport){constructor(c){super(c);this.cumulative=!1;this.fullTimeExtent=this.endField=null;this.hasLiveData=!1;this.trackIdField=this.timeZone=this.startField=this.interval=null;this.useTime=!0}readFullTimeExtent(c,h){return h.timeExtent&&Array.isArray(h.timeExtent)&&2===h.timeExtent.length?new b({start:new Date(h.timeExtent[0]),end:new Date(h.timeExtent[1])}):null}writeFullTimeExtent(c,h){h.timeExtent=null!=c?.start&&null!=
c.end?[c.start.getTime(),c.end.getTime()]:null}readInterval(c,h){return h.timeInterval&&h.timeIntervalUnits?d.fromJSON({value:h.timeInterval,unit:h.timeIntervalUnits}):h.defaultTimeInterval&&h.defaultTimeIntervalUnits?d.fromJSON({value:h.defaultTimeInterval,unit:h.defaultTimeIntervalUnits}):null}writeInterval(c,h){h.timeInterval=c?.toJSON().value??null;h.timeIntervalUnits=c?.toJSON().unit??null}};a.__decorate([k.property({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],f.prototype,
"cumulative",void 0);a.__decorate([k.property({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],f.prototype,"endField",void 0);a.__decorate([k.property({type:b,json:{write:{enabled:!0,allowNull:!0}}})],f.prototype,"fullTimeExtent",void 0);a.__decorate([l.reader("fullTimeExtent",["timeExtent"])],f.prototype,"readFullTimeExtent",null);a.__decorate([u.writer("fullTimeExtent")],f.prototype,"writeFullTimeExtent",null);a.__decorate([k.property({type:Boolean,json:{write:!0}})],f.prototype,
"hasLiveData",void 0);a.__decorate([k.property({type:d,json:{write:{enabled:!0,allowNull:!0}}})],f.prototype,"interval",void 0);a.__decorate([l.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],f.prototype,"readInterval",null);a.__decorate([u.writer("interval")],f.prototype,"writeInterval",null);a.__decorate([k.property({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],f.prototype,"startField",void 0);a.__decorate([k.property(m.timeZoneProperty("timeReference",
!0))],f.prototype,"timeZone",void 0);a.__decorate([k.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],f.prototype,"trackIdField",void 0);a.__decorate([k.property({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],f.prototype,"useTime",void 0);return f=a.__decorate([n.subclass("esri.layers.support.TimeInfo")],f)})},"esri/layers/support/FeatureTemplate":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p){d=new d.JSONMap({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",
esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});b=class extends b.ClonableMixin(f.JSONSupport){constructor(l){super(l);this.thumbnail=this.prototype=this.drawingTool=this.description=this.name=null}};a.__decorate([e.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([e.property({json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([e.property({json:{read:d.read,write:d.write}})],b.prototype,
"drawingTool",void 0);a.__decorate([e.property({json:{write:!0}})],b.prototype,"prototype",void 0);a.__decorate([e.property({json:{write:!0}})],b.prototype,"thumbnail",void 0);return b=a.__decorate([p.subclass("esri.layers.support.FeatureTemplate")],b)})},"esri/layers/support/FeatureType":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains ./FeatureTemplate".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u){b=class extends b.ClonableMixin(d.JSONSupport){constructor(m){super(m);this.templates=this.domains=this.name=this.id=null}readDomains(m){const c={};for(const h of Object.keys(m))c[h]=n.fromJSON(m[h]);return c}writeDomains(m,c){const h={};for(const t of Object.keys(m))m[t]&&(h[t]=m[t]?.toJSON());c.domains=h}};a.__decorate([f.property({json:{write:!0}})],b.prototype,"id",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([f.property({json:{write:!0}})],
b.prototype,"domains",void 0);a.__decorate([g.reader("domains")],b.prototype,"readDomains",null);a.__decorate([l.writer("domains")],b.prototype,"writeDomains",null);a.__decorate([f.property({type:[u],json:{write:!0}})],b.prototype,"templates",void 0);return b=a.__decorate([p.subclass("esri.layers.support.FeatureType")],b)})},"esri/layers/support/fieldProperties":function(){define("exports ../../core/has ../../core/Logger ./Field ./FieldsIndex ./fieldUtils".split(" "),function(a,b,d,f,e,k){a.defineFieldProperties=
function(){return{fields:{type:[f],value:null,set:function(q){if(q&&b("big-integer-warning-enabled")){var g=q.filter(p=>"big-integer"===p.type||"oid"===p.type&&8<=(p.length||0));g.length&&(g=g.map(p=>`'${p.name}'`).join(", "),d.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${g}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`))}this._set("fields",
q)}},fieldsIndex:{readOnly:!0,get(){return e.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(q){this._userOutFields=q;this.notifyChange("outFields")},get:function(){const q=this._userOutFields;if(!q?.length)return null;if(q.includes("*"))return["*"];if(!this.fields)return q;for(const g of q)this.fieldsIndex?.has(g)||d.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${g} found in outFields`,{layer:this,outFields:q});
return k.fixFields(this.fieldsIndex,q)}}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/labelingInfo":function(){define(["exports","../../core/Error","../../core/lang","../../core/Logger","./LabelClass"],function(a,b,d,f,e){const k=f.getLogger("esri.layers.support.labelingInfo"),q=/\[([^\[\]]+)\]/gi,g={esriGeometryPoint:"above-right above-center above-left center-center center-left center-right below-center below-left below-right".split(" "),esriGeometryPolygon:["always-horizontal"],
esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};a.reader=function(p,l,n){return p?p.map(u=>{const m=new e;m.read(u,n);if(m.labelExpression){const c=l.fields||l.layerDefinition?.fields||this.fields;m.labelExpression=m.labelExpression.replaceAll(q,(h,t)=>{a:if(c){h=t.toLowerCase();for(let v=0;v<c.length;v++){const w=c[v].name;if(w.toLowerCase()===h){t=w;break a}}}return`[${t}]`})}return m}):null};a.validateLabelingInfo=function(p,l){p=d.clone(p);return p.some(n=>{{const m=n.labelPlacement;
var u=g[l];n.symbol?u?(u.includes(m)||(u=u[0],m&&k.warn(`Found invalid label placement type ${m} for ${l}. Defaulting to ${u}`),n.labelPlacement=u),n=!1):(k.error(new b("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${l}' is not supported`)),n=!0):(k.warn("No ILabelClass symbol specified."),n=!0)}return n})?[]:p};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/versionUtils":function(){define(["exports","./arcgisLayerUrl"],
function(a,b){const d=[];d.push([10.91,()=>{const f=new Set([9709,9716,9741,9761,9766]);for(var e=9712;9713>=e;e++)f.add(e);for(e=9748;9749>=e;e++)f.add(e);for(e=20904;20932>=e;e++)f.add(e);for(e=21004;21032>=e;e++)f.add(e);for(e=21207;21264>=e;e++)f.add(e);for(e=21307;21364>=e;e++)f.add(e);for(e=23301;23333>=e;e++)f.add(e);for(e=102759;102760>=e;e++)f.add(e);for(e=102934;102955>=e;e++)f.add(e);return f}]);d.push([10.9,()=>{const f=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,
29874,103599,103872,104028]);for(var e=9356;9360>=e;e++)f.add(e);for(e=9404;9407>=e;e++)f.add(e);for(e=9476;9482>=e;e++)f.add(e);for(e=9487;9494>=e;e++)f.add(e);for(e=9697;9699>=e;e++)f.add(e);return f}]);d.push([10.81,()=>{const f=new Set([9265,9333,103598,103699]);for(var e=9248;9254>=e;e++)f.add(e);for(e=9271;9273>=e;e++)f.add(e);for(e=9284;9285>=e;e++)f.add(e);for(e=21453;21463>=e;e++)f.add(e);return f}]);d.push([10.8,()=>{const f=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,
9006,9009,9012,9017,9191]);for(var e=8035;8036>=e;e++)f.add(e);for(e=8455;8456>=e;e++)f.add(e);for(e=8518;8529>=e;e++)f.add(e);for(e=8533;8536>=e;e++)f.add(e);for(e=8538;8540>=e;e++)f.add(e);for(e=8677;8679>=e;e++)f.add(e);for(e=8902;8903>=e;e++)f.add(e);for(e=8907;8910>=e;e++)f.add(e);for(e=8949;8951>=e;e++)f.add(e);for(e=8972;8987>=e;e++)f.add(e);for(e=9039;9040>=e;e++)f.add(e);for(e=9068;9069>=e;e++)f.add(e);for(e=9140;9141>=e;e++)f.add(e);for(e=9148;9150>=e;e++)f.add(e);for(e=9153;9159>=e;e++)f.add(e);
for(e=9205;9218>=e;e++)f.add(e);for(e=9221;9222>=e;e++)f.add(e);for(e=54098;54101>=e;e++)f.add(e);return f}]);d.push([10.71,()=>{const f=new Set([6316]);for(var e=8351;8353>=e;e++)f.add(e);for(e=9294;9297>=e;e++)f.add(e);for(e=22619;22621>=e;e++)f.add(e);for(e=103586;103594>=e;e++)f.add(e);return f}]);d.push([10.7,()=>{const f=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(var e=8065;8068>=e;e++)f.add(e);for(e=8082;8083>=e;e++)f.add(e);for(e=8379;8385>=e;e++)f.add(e);
for(e=8836;8840>=e;e++)f.add(e);for(e=8857;8860>=e;e++)f.add(e);for(e=53035;53037>=e;e++)f.add(e);for(e=54090;54091>=e;e++)f.add(e);for(e=102498;102499>=e;e++)f.add(e);return f}]);d.push([10.61,()=>new Set([102497])]);d.push([10.6,()=>{const f=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(var e=7755;7787>=e;e++)f.add(e);for(e=7791;7795>=e;e++)f.add(e);for(e=7799;7801>=e;e++)f.add(e);for(e=7825;7831>=e;e++)f.add(e);for(e=7877;7878>=e;e++)f.add(e);for(e=7882;7883>=
e;e++)f.add(e);for(e=7991;7992>=e;e++)f.add(e);for(e=8042;8043>=e;e++)f.add(e);for(e=8058;8059>=e;e++)f.add(e);for(e=8311;8348>=e;e++)f.add(e);for(e=9060;9067>=e;e++)f.add(e);for(e=102562;102568>=e;e++)f.add(e);for(e=102799;102900>=e;e++)f.add(e);return f}]);a.serviceSupportsSpatialReference=function(f,e){if(b.isHostedAgolService(f.url??""))return!0;({wkid:e}=e);for(const k of d){if((f.version??0)>=k[0])break;"function"===typeof k[1]&&(k[1]=k[1]());if(k[1].has(e))return!1}return!0};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/TopFeaturesQuery":function(){define("../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/support/jsonUtils ./TopFilter ../../geometry/SpatialReference".split(" "),function(a,b,d,f,e,k,q,g,p,
l,n,u,m){var c;const h=new f.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});f=new f.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",
esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});e=c=class extends e.JSONSupport{constructor(t){super(t);this.distance=this.cacheHint=void 0;this.geometry=null;this.num=this.maxAllowableOffset=this.geometryPrecision=void 0;this.resultType=this.outSpatialReference=this.outFields=this.orderByFields=this.objectIds=null;this.returnGeometry=!1;this.start=this.returnZ=this.returnM=void 0;this.spatialRelationship="intersects";this.timeExtent=
null;this.topFilter=void 0;this.units=null;this.where="1\x3d1"}writeStart(t,v){v.resultOffset=this.start;v.resultRecordCount=this.num||10}clone(){return new c(k.clone({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,
returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};a.__decorate([q.property({type:Boolean,json:{write:!0}})],e.prototype,"cacheHint",void 0);a.__decorate([q.property({type:Number,json:{write:{overridePolicy(t){return{enabled:0<t}}}}})],e.prototype,"distance",void 0);a.__decorate([q.property({types:b.geometryTypes,json:{read:n.fromJSON,write:!0}})],e.prototype,
"geometry",void 0);a.__decorate([q.property({type:Number,json:{write:!0}})],e.prototype,"geometryPrecision",void 0);a.__decorate([q.property({type:Number,json:{write:!0}})],e.prototype,"maxAllowableOffset",void 0);a.__decorate([q.property({type:Number,json:{read:{source:"resultRecordCount"}}})],e.prototype,"num",void 0);a.__decorate([q.property({json:{write:!0}})],e.prototype,"objectIds",void 0);a.__decorate([q.property({type:[String],json:{write:!0}})],e.prototype,"orderByFields",void 0);a.__decorate([q.property({type:[String],
json:{write:!0}})],e.prototype,"outFields",void 0);a.__decorate([q.property({type:m,json:{read:{source:"outSR"},write:{target:"outSR"}}})],e.prototype,"outSpatialReference",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],e.prototype,"resultType",void 0);a.__decorate([q.property({json:{write:!0}})],e.prototype,"returnGeometry",void 0);a.__decorate([q.property({type:Boolean,json:{write:{overridePolicy(t){return{enabled:t}}}}})],e.prototype,"returnM",void 0);a.__decorate([q.property({type:Boolean,
json:{write:{overridePolicy(t){return{enabled:t}}}}})],e.prototype,"returnZ",void 0);a.__decorate([q.property({type:Number,json:{read:{source:"resultOffset"}}})],e.prototype,"start",void 0);a.__decorate([l.writer("start"),l.writer("num")],e.prototype,"writeStart",null);a.__decorate([q.property({type:String,json:{read:{source:"spatialRel",reader:h.read},write:{target:"spatialRel",writer:h.write}}})],e.prototype,"spatialRelationship",void 0);a.__decorate([q.property({type:d,json:{write:!0}})],e.prototype,
"timeExtent",void 0);a.__decorate([q.property({type:u,json:{write:!0}})],e.prototype,"topFilter",void 0);a.__decorate([q.property({type:String,json:{read:f.read,write:{writer:f.write,overridePolicy(t){return{enabled:null!=t&&null!=this.distance&&0<this.distance}}}}})],e.prototype,"units",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],e.prototype,"where",void 0);e=c=a.__decorate([p.subclass("esri.rest.support.TopFeaturesQuery")],e);e.from=g.ensureType(e);return e})},"esri/rest/support/TopFilter":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q){var g;b=g=class extends b.JSONSupport{constructor(p){super(p);this.orderByFields=this.topCount=this.groupByFields=void 0}clone(){return new g({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};a.__decorate([d.property({type:[String],json:{write:!0}})],b.prototype,"groupByFields",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"topCount",void 0);a.__decorate([d.property({type:[String],json:{write:!0}})],
b.prototype,"orderByFields",void 0);return b=g=a.__decorate([q.subclass("esri.rest.support.TopFilter")],b)})},"esri/support/popupUtils":function(){define("exports ../PopupTemplate ../layers/support/fieldUtils ../popup/content/AttachmentsContent ../popup/content/Content ../popup/content/CustomContent ../popup/content/ExpressionContent ../popup/content/FieldsContent ../popup/content/MediaContent ../popup/content/RelationshipContent ../popup/content/TextContent ../popup/FieldInfo ../popup/support/FieldInfoFormat".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m){function c(x,B){const A=x;B&&(x=x.filter(E=>!B.includes(E.type)));x===A&&(x=x.slice());x.sort(h);return x}function h(x,B){return"oid"===x.type?-1:"oid"===B.type?1:y(x)?-1:y(B)?1:(x.alias||x.name).toLocaleLowerCase().localeCompare((B.alias||B.name).toLocaleLowerCase())}function t(x,B){const A=B?.visibleFieldNames;return c(x.fields??[],B?.ignoreFieldTypes||r).map(E=>{var F=E.name,L=d.isFieldEditable(E,x),D=E.alias,M=z(E),K={...x,visibleFieldNames:A};E=K.visibleFieldNames?
K.visibleFieldNames.has(E.name):d.isFieldVisibleByDefault(E,K);return new u({fieldName:F,isEditable:L,label:D,format:M,visible:E})})}function v(x,B){return x.map(A=>new u({fieldName:A.name,isEditable:!1,label:A.alias,format:w(A,B),visible:!0}))}function w(x,B){const {onStatisticField:A,onStatisticExpression:E,statisticType:F}=x;return A&&(x=B.find(L=>A===L.name))?z(x):"number"===E?.returnType?new m({digitSeparator:!0,places:2}):"count"===F?new m({digitSeparator:!0,places:0}):null}function z(x){switch(x.type){case "small-integer":case "integer":case "single":return new m({digitSeparator:!0,
places:0});case "double":return new m({digitSeparator:!0,places:2});case "string":return d.isRasterPixelValueField(x.name)?new m({digitSeparator:!0,places:0}):null;default:return null}}function y(x){return"name"===(x.name&&x.name.toLowerCase())||"name"===(x.alias&&x.alias.toLowerCase())?!0:!1}const r=["geometry","blob","raster","guid","xml"];a.createFieldInfos=t;a.createFieldsContent=function(x,B){return new g({fieldInfos:t(x,B).filter(A=>A.visible)})};a.createPopupTemplate=function({displayField:x,
editFieldsInfo:B,fields:A,objectIdField:E,title:F},L){if(!A)return null;B=t({editFieldsInfo:B,fields:A,objectIdField:E},L);if(!B.length)return null;A={titleBase:F,fields:A,displayField:x};x=d.getDisplayFieldName(A);({titleBase:A}=A);x=x?`${A}: {${x.trim()}}`:A??"";A=[new g,new f];return new b({title:x,content:A,fieldInfos:B})};a.createPopupTemplateForFeatureReduction=function(x){const {fields:B,featureReduction:A,title:E}=x;x=A.fields;if(!x)return null;x=v(x,B??[]);if(!x.length)return null;var F=
[new g];return new b({title:E,content:F,fieldInfos:x})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/webdoc/interfaces":function(){define(["exports"],function(a){a.SaveOperationType=void 0;var b=a.SaveOperationType||(a.SaveOperationType={});b[b.SAVE=0]="SAVE";b[b.SAVE_AS=1]="SAVE_AS";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("require ../../../chunks/tslib.es6 ../../../geometry ../../../kernel ../../../request ../../../TimeExtent ../../../core/arrayUtils ../../../core/Error ../../../core/has ../../../core/jsonMap ../../../core/Loadable ../../../core/Logger ../../../core/object ../../../core/promiseUtils ../../../core/urlUtils ../../../core/uuid ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../geometry/Extent ../../../geometry/support/meshVertexSpaceUtils ../../../geometry/support/meshUtils/External ../applyEditsUtils ./support/clientSideDefaults ./support/QueryTask ../../support/arcgisLayerUrl ../../support/featureLayerUtils ../../support/infoFor3D ../../../rest/query/executeQueryJSON ../../../rest/query/operations/editsZScale ../../../rest/support/Query ../../../versionManagement/support/versionManagementUtils ../../../geometry/SpatialReference".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B,A,E,F,L,D,M,K,I,P,T){const Z=new l.JSONMap({originalAndCurrentFeatures:"original-and-current-features",none:"none"}),J=new Set(["Feature Layer","Oriented Imagery Layer","Table"]),Q=new l.JSONMap({Started:"published",Publishing:"publishing",Stopped:"unavailable"});d=class extends n{constructor(){super(...arguments);this.type="feature-layer";this.refresh=c.debounce(async()=>{await this.load();var N=this.sourceJSON.editingInfo?.lastEditDate;if(null==
N)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}N=N!==this.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:N,updates:N?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}});this._ongoingAssetUploads=new Map}load(N){const V=this._fetchService(this.layer.sourceJSON,{...N}).then(()=>this.layer.setUserPrivileges(this.sourceJSON.serviceItemId,N)).then(()=>this._ensureLatestMetadata(N));this.addResolvingPromise(V);
return Promise.resolve(this)}get queryTask(){const {capabilities:N,parsedUrl:V,dynamicDataSource:U,infoFor3D:sa,gdbVersion:za,spatialReference:Fa,fieldsIndex:Da}=this.layer,va=p("featurelayer-pbf")&&N?.query.supportsFormatPBF&&null==sa;return new E({url:V.path,pbfSupported:va,fieldsIndex:Da,infoFor3D:sa,dynamicDataSource:U,gdbVersion:za,sourceSpatialReference:Fa,queryAttachmentsSupported:N?.operations?.supportsQueryAttachments??!1})}async addAttachment(N,V){await this.load();var {layer:U}=this;await L.ensureLayerCredential(U,
"editing");N=N.attributes[U.objectIdField];U=U.parsedUrl.path+"/"+N+"/addAttachment";const sa=this._getLayerRequestOptions();V=this._getFormDataForAttachment(V,sa.query);try{const za=await e(U,{body:V});return B.createFeatureEditResult(za.data.addAttachmentResult)}catch(za){throw this._createAttachmentErrorResult(N,za);}}async updateAttachment(N,V,U){await this.load();var {layer:sa}=this;await L.ensureLayerCredential(sa,"editing");N=N.attributes[sa.objectIdField];sa=sa.parsedUrl.path+"/"+N+"/updateAttachment";
V=this._getLayerRequestOptions({query:{attachmentId:V}});U=this._getFormDataForAttachment(U,V.query);try{const za=await e(sa,{body:U});return B.createFeatureEditResult(za.data.updateAttachmentResult)}catch(za){throw this._createAttachmentErrorResult(N,za);}}async applyEdits(N,V){await this.load();const {layer:U}=this;await L.ensureLayerCredential(U,"editing");const sa=U.infoFor3D;var za=null!=sa,Fa=za||(V?.globalIdUsed??!1);const Da=za?await this._uploadMeshesAndGetAssetMapEditsJSON(N):null;var va=
N.addFeatures?.map(G=>B.getFeatureJSON(this.layer,G,sa))??[];va=(await Promise.all(va)).filter(q.isSome);var W=N.updateFeatures?.map(G=>B.getFeatureJSON(this.layer,G,sa))??[];W=(await Promise.all(W)).filter(q.isSome);const ba=B.getFeatureIds(this.layer,N.deleteFeatures,Fa);K.unapplyEditsZUnitScaling(va,W,U.spatialReference);N=await B.getAttachmentEditsJSON(this.layer,N);za=U.capabilities.editing.supportsAsyncApplyEdits&&za;var fa=V?.gdbVersion||U.gdbVersion;const Ba={gdbVersion:fa,rollbackOnFailure:V?.rollbackOnFailureEnabled,
useGlobalIds:Fa,returnEditMoment:V?.returnEditMoment,usePreviousEditMoment:V?.usePreviousEditMoment,async:za};await P.isSafeToEditVersion(this.layer.url,fa,!0);fa=P.isVersionInEditSession(this.layer.url,fa||null);V?.returnServiceEditsOption?(Ba.edits=JSON.stringify([{id:U.layerId,adds:va,updates:W,deletes:ba,attachments:N,assetMaps:Da}]),Ba.returnServiceEditsOption=Z.toJSON(V?.returnServiceEditsOption),Ba.returnServiceEditsInSourceSR=V?.returnServiceEditsInSourceSR):(Ba.adds=va.length?JSON.stringify(va):
null,Ba.updates=W.length?JSON.stringify(W):null,Ba.deletes=ba.length?Fa?JSON.stringify(ba):ba.join(","):null,Ba.attachments=N&&JSON.stringify(N),Ba.assetMaps=null!=Da?JSON.stringify(Da):void 0);Fa=this._getLayerRequestOptions({method:"post",query:Ba});fa&&(Fa.authMode="immediate",Fa.query.returnEditMoment=!0,Fa.query.sessionId=P.currentSessionId);V=V?.returnServiceEditsOption?U.url:U.parsedUrl.path;let Ja;try{Ja=za?await this._asyncApplyEdits(V+"/applyEdits",Fa):await e(V+"/applyEdits",Fa)}catch(G){if(B.isProtectedOrPrivateVersionError(G))Fa.authMode=
"immediate",Ja=za?await this._asyncApplyEdits(V+"/applyEdits",Fa):await e(V+"/applyEdits",Fa);else throw G;}!U.capabilities.operations?.supportsEditing&&U.effectiveCapabilities?.operations?.supportsEditing&&await f.id?.findCredential(U.url)?.refreshToken();return this._createEditsResult(Ja)}async deleteAttachments(N,V){await this.load();var {layer:U}=this;await L.ensureLayerCredential(U,"editing");N=N.attributes[U.objectIdField];U=U.parsedUrl.path+"/"+N+"/deleteAttachments";try{return(await e(U,this._getLayerRequestOptions({query:{attachmentIds:V.join(",")},
method:"post"}))).data.deleteAttachmentResults.map(B.createFeatureEditResult)}catch(sa){throw this._createAttachmentErrorResult(N,sa);}}fetchRecomputedExtents(N={}){return this.load({signal:N.signal}).then(async()=>{var V=this._getLayerRequestOptions({...N,query:{returnUpdates:!0}});const {layerId:U,url:sa}=this.layer;({data:V}=await e(`${sa}/${U}`,V));const {id:za,extent:Fa,fullExtent:Da,timeExtent:va}=V;V=Fa||Da;return{id:za,fullExtent:V&&y.fromJSON(V),timeExtent:va&&k.fromJSON({start:va[0],end:va[1]})}})}async queryAttachments(N,
V={}){await this.load();V=this._getLayerRequestOptions(V);return this.queryTask.executeAttachmentQuery(N,V)}async queryFeatures(N,V){await this.load();V=await this.queryTask.execute(N,{...V,query:this._createRequestQueryOptions(V)});N.outStatistics?.length&&V.features.length&&V.features.forEach(U=>{const sa=U.attributes;N.outStatistics?.forEach(({outStatisticFieldName:za})=>{if(za){const Fa=za.toLowerCase();Fa&&Fa in sa&&za!==Fa&&(sa[za]=sa[Fa],delete sa[Fa])}})});return V}async queryFeaturesJSON(N,
V){await this.load();return this.queryTask.executeJSON(N,{...V,query:this._createRequestQueryOptions(V)})}async queryObjectIds(N,V){await this.load();return this.queryTask.executeForIds(N,{...V,query:this._createRequestQueryOptions(V)})}async queryFeatureCount(N,V){await this.load();return this.queryTask.executeForCount(N,{...V,query:this._createRequestQueryOptions(V)})}async queryExtent(N,V){await this.load();return this.queryTask.executeForExtent(N,{...V,query:this._createRequestQueryOptions(V)})}async queryRelatedFeatures(N,
V){await this.load();return this.queryTask.executeRelationshipQuery(N,{...V,query:this._createRequestQueryOptions(V)})}async queryRelatedFeaturesCount(N,V){await this.load();return this.queryTask.executeRelationshipQueryForCount(N,{...V,query:this._createRequestQueryOptions(V)})}async queryTopFeatures(N,V){await this.load();return this.queryTask.executeTopFeaturesQuery(N,{...V,query:this._createRequestQueryOptions(V)})}async queryTopObjectIds(N,V){await this.load();return this.queryTask.executeForTopIds(N,
{...V,query:this._createRequestQueryOptions(V)})}async queryTopExtents(N,V){await this.load();return this.queryTask.executeForTopExtents(N,{...V,query:this._createRequestQueryOptions(V)})}async queryTopCount(N,V){await this.load();return this.queryTask.executeForTopCount(N,{...V,query:this._createRequestQueryOptions(V)})}async fetchPublishingStatus(){if(!F.isHostedAgolService(this.layer.url))return"unavailable";var N=h.join(this.layer.url,"status");N=await e(N,{query:{f:"json"}});return Q.fromJSON(N.data.status)}async uploadAssets(N,
V){const {uploadAssets:U}=await new Promise((sa,za)=>a(["./support/uploadAssets"],sa,za));return U(N,{layer:this.layer,ongoingUploads:this._ongoingAssetUploads},V)}async _asyncApplyEdits(N,V){for(N=(await e(N,V)).data.statusUrl;;){V=(await e(N,{query:{f:"json"},responseType:"json"})).data;switch(V.status){case "Completed":return e(V.resultUrl,{query:{f:"json"},responseType:"json"});case "CompletedWithErrors":throw new g("async-applyEdits-failed","asynchronous applyEdits call failed.");case "Failed ImportChanges":case "InProgress":case "Pending":case "ExportAttachments":case "ExportChanges":case "ExportingData":case "ExportingSnapshot":case "ImportAttachments":case "ProvisioningReplica":case "UnRegisteringReplica":break;
default:throw new g("async-applyEdits-failed","asynchronous applyEdits call failed (undefined response status)");}await c.after(1E3)}}_createRequestQueryOptions(N){N={...this.layer.customParameters,token:this.layer.apiKey,...N?.query};this.layer.datesInUnknownTimezone&&(N.timeReferenceUnknownClient=!0);return N}async _fetchService(N,V){N||(N={},p("featurelayer-advanced-symbols")&&(N.returnAdvancedSymbols=!0),V?.cacheBust&&(N._ts=Date.now()),{data:N}=await e(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:N,
signal:V?.signal})));this.sourceJSON=await this._patchServiceJSON(N,V?.signal);V=N.type;if(!J.has(V))throw new g("feature-layer-source:unsupported-type",`Source type "${V}" is not supported`);}async _patchServiceJSON(N,V){if("Table"!==N.type&&N.geometryType&&!N?.drawingInfo?.renderer&&!N.defaultSymbol){const U=A.createDrawingInfo(N.geometryType).renderer;m.setDeepValue("drawingInfo.renderer",U,N)}"esriGeometryMultiPatch"===N.geometryType&&N.infoFor3D&&(N.geometryType="mesh");if(null==N.extent)try{const {data:U}=
await e(this.layer.url,this._getLayerRequestOptions({signal:V}));U.spatialReference&&(N.extent={xmin:0,ymin:0,xmax:0,ymax:0,spatialReference:U.spatialReference})}catch(U){c.throwIfAbortError(U)}return N}async _ensureLatestMetadata(N){if(this.layer.userHasUpdateItemPrivileges&&0<this.sourceJSON.cacheMaxAge)return this._fetchService(null,{...N,cacheBust:!0})}async _uploadMeshesAndGetAssetMapEditsJSON(N){var {addAssetFeatures:V}=N;if(!V?.length)return null;N=await this._filterRedundantAssetMaps(V);if(!V?.length)return null;
V=[];const U=new Map;for(const za of N){const {geometry:Fa}=za;var {vertexSpace:sa}=Fa;sa.isRelative?V.push(Fa):(sa=r.toRelativeVertexSpace(Fa),U.set(sa,Fa),za.geometry=sa,V.push(sa))}await this.uploadAssets(V);for(const [za,Fa]of U)Fa.addExternalSources(za.metadata.externalSources.items);return{adds:this._getAssetMapEditsJSON(N),updates:[],deletes:[]}}_getAssetMapEditsJSON(N){const V=[],U=this.layer.globalIdField,sa=this.layer.parsedUrl;for(const Da of N){var za=Da.geometry;({metadata:N}=za);var Fa=
N.getExternalSourcesOnService(sa);N=Da.getAttribute(U);if(0===Fa.length)u.getLogger(this).error(`Skipping feature ${N}. The mesh it is associated with has not been uploaded to the service and cannot be mapped to it.`);else{({source:Fa}=Fa.find(x.isOriginalExternal)??Fa[0]);({vertexSpace:za}=za);za=za.isGeoreferenced?["PROJECT_VERTICES"]:[];for(const va of Fa)1!==va.parts.length?u.getLogger(this).error(`Skipping asset ${va.assetName}. It does not have exactly one part, so we cannot map it to a feature.`):
V.push({globalId:t.generateBracedUUID(),parentGlobalId:N,assetName:va.assetName,assetHash:va.parts[0].partHash,flags:za})}}return V}_createEditsResult(N){var V=N.data;const {layerId:U}=this.layer;N=[];let sa=null;if(Array.isArray(V))for(var za of V)N.push({id:za.id,editedFeatures:za.editedFeatures}),za.id===U&&(sa={addResults:za.addResults??[],updateResults:za.updateResults??[],deleteResults:za.deleteResults??[],attachments:za.attachments,editMoment:za.editMoment});else sa=V;za=B.unpackEditResultData(sa);
if(0<N.length){za.editedFeatureResults=[];for(const Fa of N)({editedFeatures:N}=Fa),V=N?.spatialReference?new T(N.spatialReference):null,za.editedFeatureResults.push({layerId:Fa.id,editedFeatures:B.createEditedFeatures(N,V)})}return za}_createAttachmentErrorResult(N,V){return{objectId:N,globalId:null,error:new g("feature-layer-source:attachment-failure",V.details.messages?.[0]||V.message,{code:V.details.httpStatus||V.details.messageCode})}}_getFormDataForAttachment(N,V){if(N=N instanceof FormData?
N:N&&N.elements?new FormData(N):null)for(const U in V){const sa=V[U];null!=sa&&(N.set?N.set(U,sa):N.append(U,sa))}return N}_getLayerRequestOptions(N={}){const {parsedUrl:V,gdbVersion:U,dynamicDataSource:sa}=this.layer;return{...N,query:{gdbVersion:U,layer:sa?JSON.stringify({source:sa}):void 0,...V.query,f:"json",...this._createRequestQueryOptions(N)},responseType:"json"}}async _filterRedundantAssetMaps(N){var {layer:V}=this;const {globalIdField:U,infoFor3D:sa,parsedUrl:za}=V;if(null==sa||null==U)return N;
V=D.getAssetMapTable(sa);if(null==V)return N;var Fa=h.join(za.path,`../${V.id}`);V=[];const Da=[];for(var va of N)0<va.geometry.metadata.getExternalSourcesOnService(za).length?Da.push(va):V.push(va);va=Da.map(Ja=>Ja.getAttribute(U)).filter(q.isSome);if(0===va.length)return N;const {assetMapFieldRoles:{parentGlobalId:W,assetHash:ba}}=sa,fa=new I;fa.where=`${W} IN (${va.map(Ja=>`'${Ja}'`)})`;fa.outFields=[ba,W];fa.returnGeometry=!1;Fa=await M.executeQueryJSON(Fa,fa);const {features:Ba}=Fa;return 0===
Ba.length?N:[...V,...Da.filter(Ja=>{const G=Ja.getAttribute(U);if(!G)return!0;({metadata:Ja}=Ja.geometry);const S=Ba.filter(pa=>pa.getAttribute(W)===G);if(0===S.length)return!0;const ja=S.map(pa=>pa.getAttribute(ba));return Ja.getExternalSourcesOnService(za).flatMap(({source:pa})=>pa.flatMap(Aa=>Aa.parts.map(Y=>Y.partHash))).some(pa=>ja.every(Aa=>pa!==Aa))})]}};b.__decorate([v.property()],d.prototype,"type",void 0);b.__decorate([v.property({constructOnly:!0})],d.prototype,"layer",void 0);b.__decorate([v.property({readOnly:!0})],
d.prototype,"queryTask",null);return d=b.__decorate([z.subclass("esri.layers.graphics.sources.FeatureLayerSource")],d)})},"esri/geometry/support/meshVertexSpaceUtils":function(){define(["exports","../../chunks/mat4","../../chunks/mat4f64","./MeshGeoreferencedRelativeVertexSpace","../../chunks/vec32"],function(a,b,d,f,e){const k=d.create();a.toRelativeVertexSpace=function(q){var {vertexSpace:g}=q;if(g.isRelative)return q.clone();({anchor:g}=q);var p=g.clone();g=b.fromTranslation(k,[-p.x,-p.y,-p.z]);
p=new f({origin:[p.x,p.y,p.z]});q=q.cloneWithVertexSpace(p);({position:p}=q.vertexAttributes);q.vertexAttributes.position=e.transformMat4(new Float64Array(p.length),p,g);q.vertexAttributesChanged();return q};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat4f64":function(){define(["exports"],function(a){function b(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function d(g){return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]]}function f(g,
p,l,n,u,m,c,h,t,v,w,z,y,r,x,B){return[g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B]}function e(g,p){return new Float64Array(g,p,16)}const k=b(),q=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:k,clone:d,create:b,createView:e,fromValues:f},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=k;a.clone=d;a.create=b;a.createView=e;a.fromValues=f;a.mat4f64=q})},"esri/geometry/support/MeshGeoreferencedRelativeVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/vec3f64 ../Point".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){b=class extends b.ClonableMixin(d.JSONSupport){constructor(u){super(u);this.type="georeferenced-relative";this.isGeoreferenced=this.isRelative=!0;this.origin=l.create()}getOriginPoint(u){const [m,c,h]=this.origin;return new n({x:m,y:c,z:h,spatialReference:u})}setOriginFromPoint({x:u,y:m,z:c}){this.origin=l.fromValues(u,m,c??0)}};a.__decorate([g.enumeration({georeferencedRelative:"georeferenced-relative"},{readOnly:!0})],b.prototype,"type",void 0);a.__decorate([f.property({type:[Number],
nonNullable:!0,json:{write:!0}})],b.prototype,"origin",void 0);return b=a.__decorate([p.subclass("esri.geometry.support.MeshGeoreferencedRelativeVertexSpace")],b)})},"esri/chunks/vec32":function(){define(["exports","../geometry/support/buffer/math/common"],function(a,b){function d(m,c,h){f(m.typedBuffer,c.typedBuffer,h,m.typedBufferStride,c.typedBufferStride)}function f(m,c,h,t=3,v=t){if(m.length/t!==Math.ceil(c.length/v))return b.mathLogger.error("source and destination buffers need to have the same number of elements"),
m;const w=m.length/t,z=h[0],y=h[1],r=h[2],x=h[4],B=h[5],A=h[6],E=h[8],F=h[9],L=h[10],D=h[12],M=h[13];h=h[14];let K=0,I=0;for(let P=0;P<w;P++){const T=c[K],Z=c[K+1],J=c[K+2];m[I]=z*T+x*Z+E*J+D;m[I+1]=y*T+B*Z+F*J+M;m[I+2]=r*T+A*Z+L*J+h;K+=v;I+=t}return m}function e(m,c,h){k(m.typedBuffer,c.typedBuffer,h,m.typedBufferStride,c.typedBufferStride)}function k(m,c,h,t=3,v=t){if(m.length/t!==Math.ceil(c.length/v))b.mathLogger.error("source and destination buffers need to have the same number of elements");
else{var w=m.length/t,z=h[0],y=h[1],r=h[2],x=h[3],B=h[4],A=h[5],E=h[6],F=h[7];h=h[8];var L=0,D=0;for(let M=0;M<w;M++){const K=c[L],I=c[L+1],P=c[L+2];m[D]=z*K+x*I+E*P;m[D+1]=y*K+B*I+F*P;m[D+2]=r*K+A*I+h*P;L+=v;D+=t}}}function q(m,c,h){g(m.typedBuffer,c,h,m.typedBufferStride)}function g(m,c,h,t=3){const v=Math.min(m.length/t,c.count),w=c.typedBuffer;c=c.typedBufferStride;let z=0,y=0;for(let r=0;r<v;r++)m[y]=h*w[z],m[y+1]=h*w[z+1],m[y+2]=h*w[z+2],z+=c,y+=t}function p(m,c){l(m.typedBuffer,c.typedBuffer,
m.typedBufferStride,c.typedBufferStride)}function l(m,c,h=3,t=h){const v=Math.min(m.length/h,c.length/t);let w=0,z=0;for(let r=0;r<v;r++){const x=c[w],B=c[w+1],A=c[w+2];var y=x*x+B*B+A*A;0<y&&(y=1/Math.sqrt(y),m[z]=y*x,m[z+1]=y*B,m[z+2]=y*A);w+=t;z+=h}}function n(m,c,h){const t=Math.min(m.count,c.count),v=m.typedBuffer;m=m.typedBufferStride;const w=c.typedBuffer;c=c.typedBufferStride;let z=0,y=0;for(let r=0;r<t;r++)v[y]=w[z]>>h,v[y+1]=w[z+1]>>h,v[y+2]=w[z+2]>>h,z+=c,y+=m}const u=Object.freeze(Object.defineProperty({__proto__:null,
normalize:l,normalizeView:p,scale:g,scaleView:q,shiftRight:n,transformMat3:k,transformMat3View:e,transformMat4:f,transformMat4View:d},Symbol.toStringTag,{value:"Module"}));a.normalize=l;a.normalizeView=p;a.scale=g;a.scaleView=q;a.shiftRight=n;a.transformMat3=k;a.transformMat3View=e;a.transformMat4=f;a.transformMat4View=d;a.vec3=u})},"esri/geometry/support/buffer/math/common":function(){define(["exports","../../../../core/Logger"],function(a,b){b=b.getLogger("esri.views.3d.support.buffer.math");a.mathLogger=
b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/External":function(){define(["exports","../../../request","../../../core/arrayUtils","../../../core/promiseUtils","../../../layers/support/infoFor3D"],function(a,b,d,f,e){function k(h){return Array.isArray(h)?h.every(t=>t instanceof n):!1}function q(h){return h?Array.isArray(h)?h.some(g):g(h):!1}function g(h){if(h instanceof File){const {type:t,name:v}=h;return m.test(t)||c.test(v)}return m.test(h.assetMimeType)||
c.test(h.assetName)}function p(h,t){return Array.isArray(h)?0<h.length&&h.every(v=>l(v,t)):l(h,t)}function l(h,t){return h instanceof n&&h.isOnService(t)}class n{constructor(h,t,v){this.assetName=h;this.assetMimeType=t;this.parts=v}equals(h){return this===h||this.assetName===h.assetName&&this.assetMimeType===h.assetMimeType&&d.equals(this.parts,h.parts,(t,v)=>t.equals(v))}isOnService(h){return this.parts.every(t=>t.isOnService(h))}makeHash(){let h="";for(const t of this.parts)h+=t.partHash;return h}async toBlob(h){var {parts:t}=
this;if(1===t.length)return t[0].toBlob(h);t=await Promise.all(t.map(v=>v.toBlob(h)));f.throwIfAborted(h);return new Blob(t)}}class u{constructor(h,t){this.partUrl=h;this.partHash=t}equals(h){return this===h||this.partUrl===h.partUrl&&this.partHash===h.partHash}isOnService(h){return this.partUrl.startsWith(`${h.path}/assets/`)}async toBlob(h){const {data:t}=await b(this.partUrl,{responseType:"blob"});f.throwIfAborted(h);return t}}const m=/^(model\/gltf\+json)|(model\/gltf-binary)$/,c=/\.(gltf|glb)/i;
a.ServiceAsset=n;a.ServiceAssetPart=u;a.assetFormatId=function(h,t){return h instanceof File?e.getFileFormatId(h,t):e.getMimeTypeFormatId(h.assetMimeType,t)??e.getFilenameFormatId(h.assetName,t)};a.assetIsOnService=l;a.externalIsOnService=function(h,t){if(!h)return!1;({source:h}=h);return p(h,t)};a.externalSourceToMultiPart=function(h){return Array.isArray(h)?h:[h]};a.externalSourcesAreEqual=function(h,t){if(h===t)return!0;({source:h}=h);({source:t}=t);if(h===t)return!0;if(k(h)&&k(t)){if(h.length!==
t.length)return!1;var v=(w,z)=>w.assetName<z.assetName?-1:w.assetName>z.assetName?1:0;h=[...h].sort(v);t=[...t].sort(v);for(v=0;v<h.length;++v)if(!h[v].equals(t[v]))return!1;return!0}return!1};a.isDisplayAsset=g;a.isDisplayExternal=function(h){return q(h?.source)};a.isDisplaySource=q;a.isOriginalExternal=function(h){return!!h.original};a.sourceIsOnService=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/applyEditsUtils":function(){define("exports ../../Graphic ../../core/Error ../../core/Logger ../../core/unitUtils ../../core/urlUtils ../../geometry/projection ../../geometry/support/jsonUtils ./editingSupport".split(" "),
function(a,b,d,f,e,k,q,g,p){async function l(m,c){const {feature:h,attachment:t}=c,{globalId:v,name:w,contentType:z,data:y,uploadId:r}=t;c={globalId:v};h&&("attributes"in h?c.parentGlobalId=h.attributes?.[m.globalIdField]:h.globalId&&(c.parentGlobalId=h.globalId));if(r)c.uploadId=r;else if(y){if(m=await k.parseData(y))c.contentType=m.mediaType,c.data=m.data;y instanceof File&&(c.name=y.name)}w&&(c.name=w);z&&(c.contentType=z);return c}function n(m){const c=!0===m.success?null:m.error||{code:void 0,
description:void 0};return{objectId:m.objectId,globalId:m.globalId,error:c?new d("feature-layer-source:edit-failure",c.description,{code:c.code}):null}}function u(m,c){return new b({attributes:m.attributes,geometry:g.fromJSON({...m.geometry,spatialReference:c})})}a.createEditedFeatures=function(m,c){return{adds:m?.adds?.map(h=>u(h,c))||[],updates:m?.updates?.map(h=>({original:u(h[0],c),current:u(h[1],c)}))||[],deletes:m?.deletes?.map(h=>u(h,c))||[],spatialReference:c}};a.createFeatureEditResult=n;
a.getAttachmentEditsJSON=async function(m,c){const h=await Promise.all((c.addAttachments??[]).map(v=>l(m,v))),t=await Promise.all((c.updateAttachments??[]).map(v=>l(m,v)));c=c.deleteAttachments??[];return h.length||t.length||c.length?{adds:h,updates:t,deletes:[...c]}:null};a.getFeatureIds=function(m,c,h){if(!c||0===c.length)return[];if(h&&p.isFeatureIdentifierArrayWithGlobalId(c))return c.map(v=>v.globalId);if(p.isFeatureIdentifierArrayWithObjectId(c))return c.map(v=>v.objectId);const t=h?m.globalIdField:
m.objectIdField;return t?c.map(v=>v.getAttribute(t)):[]};a.getFeatureJSON=async function(m,c,h){var {geometry:t}=c;c={...c.attributes};if(null!=h&&"mesh"===t?.type){({transformFieldRoles:h}=h);const {origin:v,spatialReference:w,transform:z}=t;m=m.spatialReference;await q.initializeProjection(w,m);const y=q.project(v,m);c[h.originX]=y.x;c[h.originY]=y.y;c[h.originZ]=y.z??0;if(null!=z){const {translation:r,scale:x,rotation:B}=z;({vertexSpace:t}=t);t=t.isGeoreferenced?1:e.getMetersPerCartesianUnitForSR(w)/
e.getMetersPerCartesianUnitForSR(m);c[h.translationX]=r[0]*t;c[h.translationY]=r[2]*t;c[h.translationZ]=-r[1]*t;c[h.scaleX]=x[0];c[h.scaleY]=x[2];c[h.scaleZ]=x[1];c[h.rotationX]=B[0];c[h.rotationY]=B[2];c[h.rotationZ]=-B[1];c[h.rotationDeg]=B[3]}return{attributes:c}}return null==t?{attributes:c}:"mesh"===t.type||"extent"===t.type?null:{geometry:t.toJSON(),attributes:c}};a.isProtectedOrPrivateVersionError=function(m){m=m.details.raw;const c=+m.extendedCode;return 500===+m.code&&(-2147217144===c||-2147467261===
c)};a.unpackEditResultData=function(m){var c=m?.assetMaps;if(c){for(const h of c.addResults)h.success||f.getLogger("esri.layers.graphics.sources.support.sourceUtils").error(`Failed to map asset to feature with globalId ${h.globalId}.`);for(const h of c.updateResults)h.success||f.getLogger("esri.layers.graphics.sources.support.sourceUtils").error(`Failed to map asset to feature with globalId ${h.globalId}.`)}c=m?.attachments;c={addFeatureResults:m?.addResults?.map(n)??[],updateFeatureResults:m?.updateResults?.map(n)??
[],deleteFeatureResults:m?.deleteResults?.map(n)??[],addAttachmentResults:c?.addResults?c.addResults.map(n):[],updateAttachmentResults:c?.updateResults?c.updateResults.map(n):[],deleteAttachmentResults:c?.deleteResults?c.deleteResults.map(n):[]};m?.editMoment&&(c.editMoment=m.editMoment);return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/editingSupport":function(){define("exports ../../Graphic ../../core/Collection ../../core/Error ../../core/lang ../../core/Logger ../../core/promiseUtils ../../core/urlUtils ../../core/uuid ../../geometry/support/normalizeUtils ../mixins/EditBusLayer ../support/fieldUtils ../support/infoFor3D ../support/layerUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c){function h(D){return"object"===typeof D&&null!=D&&"objectId"in D&&!!D.objectId}function t(D){return"object"===typeof D&&null!=D&&"globalId"in D&&!!D.globalId}async function v(D,M,K,I){await D.load();if(null==M?.applyEdits)throw new f(`${D.type}-layer:no-editing-support`,"Layer source does not support applyEdits capability",{layer:D});if(!c.getEffectiveEditingEnabled(D))throw new f(`${D.type}-layer:editing-disabled`,"Editing is disabled for layer",{layer:D});const {edits:P,
options:T}=await w(D,K,I);return P.addFeatures?.length||P.updateFeatures?.length||P.deleteFeatures?.length||P.addAttachments?.length||P.updateAttachments?.length||P.deleteAttachments?.length?{edits:P,results:await M.applyEdits(P,T)}:{edits:P,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function w(D,M,K){const I=c.getEffectiveLayerCapabilities(D),P=null!=D.infoFor3D;E(M,I,K,!(!M||
!(M.addFeatures||M.updateFeatures||M.deleteFeatures)),!(!M||!(M.addAttachments||M.updateAttachments||M.deleteAttachments)),`${D.type}-layer`);if(!I.data.isVersioned&&K?.gdbVersion)throw new f(`${D.type}-layer:invalid-parameter`,"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");if(!I.editing.supportsRollbackOnFailure&&K?.rollbackOnFailureEnabled)throw new f(`${D.type}-layer:invalid-parameter`,"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'");
const T={...K};null!=T.rollbackOnFailureEnabled||I.editing.supportsRollbackOnFailure||(T.rollbackOnFailureEnabled=!0);T.rollbackOnFailureEnabled||"original-and-current-features"!==T.returnServiceEditsOption||(!1===T.rollbackOnFailureEnabled&&k.getLogger("esri.layers.graphics.editingSupport").warn(`${D.type}-layer:invalid-parameter`,"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwrritten and set to true."),
T.rollbackOnFailureEnabled=!0);if(!I.editing.supportsReturnServiceEditsInSourceSpatialReference&&T.returnServiceEditsInSourceSR)throw new f(`${D.type}-layer:invalid-parameter`,"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'");if(T.returnServiceEditsInSourceSR&&"original-and-current-features"!==T.returnServiceEditsOption)throw new f(`${D.type}-layer:invalid-parameter`,"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'");
M=A(M,I,`${D.type}-layer`);const Z=K?.globalIdUsed||P,J=D.fields.filter(Q=>"big-integer"===Q.type||"oid"===Q.type&&8<=(Q.length||0));if(Z){const {globalIdField:Q}=D;if(null==Q)throw new f(`${D.type}-layer:invalid-parameter`,"Layer does not specify a global id field.");M.addFeatures.forEach(N=>{({attributes:N}=N);null==N[Q]&&(N[Q]=p.generateBracedUUID())})}M.addFeatures.forEach(Q=>{z(Q,D,Z,J);y(Q,D)});M.updateFeatures.forEach(Q=>{z(Q,D,Z,J);y(Q,D);const N=c.getEffectiveLayerCapabilities(D);if("geometry"in
Q&&null!=Q.geometry&&!N?.editing.supportsGeometryUpdate)throw new f(`${D.type}-layer:unsupported-operation`,"Layer does not support geometry updates.");});M.deleteFeatures.forEach(Q=>{z(Q,D,Z,J)});M.addAttachments.forEach(Q=>r(Q,D));M.updateAttachments.forEach(Q=>r(Q,D));P&&await L(M,D);return{edits:await x(M),options:T}}function z(D,M,K,I){if(K){if("attributes"in D&&!D.attributes[M.globalIdField])throw new f(`${M.type}-layer:invalid-parameter`,`Feature should have '${M.globalIdField}' when 'globalIdUsed' is true`);
if(!("attributes"in D||D.globalId))throw new f(`${M.type}-layer:invalid-parameter`,"`'globalId' of the feature should be passed when 'globalIdUsed' is true");}if(I.length&&"attributes"in D)for(const P of I)if(K=D.attributes[P.name],void 0!==K&&!u.isValidFieldValue(P,K))throw new f(`${M.type}-layer:invalid-parameter`,`Big-integer field '${P.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:D});if("geometry"in D&&null!=D.geometry){if(D.geometry.hasZ&&!1===M.capabilities?.data.supportsZ)throw new f(`${M.type}-layer:z-unsupported`,
"Layer does not support z values while feature has z values.");if(D.geometry.hasM&&!1===M.capabilities?.data.supportsM)throw new f(`${M.type}-layer:m-unsupported`,"Layer does not support m values while feature has m values.");}}function y(D,M){if("geometry"in D&&"mesh"===D.geometry?.type&&null!=M.infoFor3D&&({geometry:D}=D,D.vertexSpace.isGeoreferenced))throw new f(`${M.type}-layer:georeferenced-mesh-unsupported`,"Uploading georeferenced meshes to a layer is not supported.");}function r(D,M){const {feature:K,
attachment:I}=D;if(!K||"attributes"in K&&!K.attributes[M.globalIdField])throw new f(`${M.type}-layer:invalid-parameter`,"Attachment should have reference to a feature with 'globalId'");if(!("attributes"in K||K.globalId))throw new f(`${M.type}-layer:invalid-parameter`,"Attachment should have reference to 'globalId' of the parent feature");if(!I.globalId)throw new f(`${M.type}-layer:invalid-parameter`,"Attachment should have 'globalId'");if(!I.data&&!I.uploadId)throw new f(`${M.type}-layer:invalid-parameter`,
"Attachment should have 'data' or 'uploadId'");if(!(I.data instanceof File&&I.data.name||I.name))throw new f(`${M.type}-layer:invalid-parameter`,"'name' is required when attachment is specified as Base64 encoded string using 'data'");if(!M.capabilities?.editing.supportsUploadWithItemId&&I.uploadId)throw new f(`${M.type}-layer:invalid-parameter`,"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'");if("string"===typeof I.data&&(D=g.dataComponents(I.data))&&
!D.isBase64)throw new f(`${M.type}-layer:invalid-parameter`,"Attachment 'data' should be a Blob, File or Base64 encoded string");}async function x(D){const M=D.addFeatures??[],K=D.updateFeatures??[];var I=M.concat(K).map(Z=>Z.geometry);I=await l.normalizeCentralMeridian(I);const P=M.length,T=K.length;I.slice(0,P).forEach((Z,J)=>M[J].geometry=Z);I.slice(P,P+T).forEach((Z,J)=>K[J].geometry=Z);return D}function B(D){return{addFeatures:Array.from(D?.addFeatures??[]),updateFeatures:Array.from(D?.updateFeatures??
[]),deleteFeatures:D&&d.isCollection(D.deleteFeatures)?D.deleteFeatures.toArray():D.deleteFeatures||[],addAttachments:D.addAttachments||[],updateAttachments:D.updateAttachments||[],deleteAttachments:D.deleteAttachments||[]}}function A(D,M,K){D=B(D);if(D.addFeatures?.length&&!M.operations.supportsAdd)throw new f(`${K}:unsupported-operation`,"Layer does not support adding features.");if(D.updateFeatures?.length&&!M.operations.supportsUpdate)throw new f(`${K}:unsupported-operation`,"Layer does not support updating features.");
if(D.deleteFeatures?.length&&!M.operations.supportsDelete)throw new f(`${K}:unsupported-operation`,"Layer does not support deleting features.");D.addFeatures=D.addFeatures.map(F);D.updateFeatures=D.updateFeatures.map(F);D.addAssetFeatures=[];return D}function E(D,M,K,I,P,T){if(!D||!I&&!P)throw new f(`${T}:missing-parameters`,"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required");if(!M.editing.supportsGlobalId&&K?.globalIdUsed)throw new f(`${T}:invalid-parameter`,
"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'");if(!M.editing.supportsGlobalId&&P)throw new f(`${T}:invalid-parameter`,"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'");if(!K?.globalIdUsed&&P)throw new f(`${T}:invalid-parameter`,"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true");
}function F(D){const M=new b;D.attributes||(D.attributes={});M.geometry=D.geometry;M.attributes=D.attributes;return M}async function L(D,M){if(null!=M.infoFor3D){var {infoFor3D:K}=M,I=m.getMimeTypeFormatId("model/gltf-binary",K.supportedFormats)??m.getFilenameFormatId("glb",K.supportedFormats);if(!I||!K.editFormats.includes(I))throw new f(`${M.type}-layer:binary-gltf-asset-not-supported`,"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.");D.addAssetFeatures??(D.addAssetFeatures=
[]);({addAssetFeatures:M}=D);for(const P of D.addFeatures??[])"mesh"===P?.geometry?.type&&M.push(P);for(const P of D.updateFeatures??[])"mesh"===P?.geometry?.type&&M.push(P)}}a.applyEdits=async function(D,M,K,I={}){var P="gdbVersion"in D?D.gdbVersion:null;P=I.gdbVersion??P;n.isEditBusLayer(D)&&D.url?P=n.emitApplyEditsEvent(D.url,D.layerId,P,"original-and-current-features"===I.returnServiceEditsOption):(P=q.createResolver(),P.promise.then(T=>{(T.addedFeatures.length||T.updatedFeatures.length||T.deletedFeatures.length||
T.addedAttachments.length||T.updatedAttachments.length||T.deletedAttachments.length)&&D.emit("edits",T)}),D.emit("apply-edits",{result:P.promise}));try{const {results:T,edits:Z}=await v(D,M,K,I);M=Q=>Q.filter(N=>!N.error).map(e.clone);const J={edits:Z,addedFeatures:M(T.addFeatureResults),updatedFeatures:M(T.updateFeatureResults),deletedFeatures:M(T.deleteFeatureResults),addedAttachments:M(T.addAttachmentResults),updatedAttachments:M(T.updateAttachmentResults),deletedAttachments:M(T.deleteAttachmentResults),
exceededTransferLimit:!1,historicMoment:T.editMoment?new Date(T.editMoment):null,globalIdToObjectId:I.globalIdToObjectId};T.editedFeatureResults?.length&&(J.editedFeatures=T.editedFeatureResults);P.resolve(J);return T}catch(T){throw P.reject(T),T;}};a.checkEditingCapabilities=E;a.isFeatureIdentifierArrayWithGlobalId=function(D){return D.every(t)};a.isFeatureIdentifierArrayWithObjectId=function(D){return D.every(h)};a.isFeatureIdentifierWithGlobalId=t;a.isFeatureIdentifierWithObjectId=h;a.normalizeCollections=
B;a.normalizeEdits=A;a.normalizeGeometries=x;a.shallowCloneFeature=F;a.uploadAssets=function(D,M,K,I){if(null==M?.applyEdits)throw new f(`${D.type}-layer:no-editing-support`,"Layer source does not support applyEdits capability",{layer:D});if(!M.uploadAssets)throw new f(`${D.type}-layer:no-asset-upload-support`,"Layer source does not support uploadAssets capability",{layer:D});return M.uploadAssets(K,I)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../config ../../core/Error ../../core/Logger ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../rest/geometryService/cut ../../rest/geometryService/simplify".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n){function u(z){const y=[];let r=0,x=0;for(let B=0;B<z.length;B++){const A=z[B];let E=null;for(let F=0;F<A.length;F++)E=A[F],y.push(E),0===F?x=r=E[0]:(r=Math.min(r,E[0]),x=Math.max(x,E[0]));E&&y.push([(r+x)/2,0])}return y}function m(z,y){if(!(z instanceof k||z instanceof e))throw w.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new d("straightLineDensify: the input geometry is neither polyline nor polygon");var r=q.getGeometryParts(z);
const x=[];for(const A of r){r=[];x.push(r);r.push([A[0][0],A[0][1]]);for(let E=0;E<A.length-1;E++){const F=A[E][0],L=A[E][1],D=A[E+1][0],M=A[E+1][1];var B=Math.sqrt((D-F)*(D-F)+(M-L)*(M-L));const K=(M-L)/B,I=(D-F)/B,P=B/y;if(1<P){for(let T=1;T<=P-1;T++){const Z=T*y;r.push([I*Z+F,K*Z+L])}B=(B+Math.floor(P-1)*y)/2;r.push([I*B+F,K*B+L])}r.push([D,M])}}return"polygon"===z.type?new e({rings:x,spatialReference:z.spatialReference}):new k({paths:x,spatialReference:z.spatialReference})}function c(z,y,r){y&&
(z=m(z,1E6),z=p.webMercatorToGeographic(z,!0));r&&(z=q.updatePolyGeometry(z,r));return z}function h(z,y,r){if(Array.isArray(z)){var x=z[0];x>y?(r=q.offsetMagnitude(x,y),z[0]=x+-2*r*y):x<r&&(y=q.offsetMagnitude(x,r),z[0]=x+-2*y*r)}else x=z.x,x>y?(r=q.offsetMagnitude(x,y),z=z.clone().offset(-2*r*y,0)):x<r&&(y=q.offsetMagnitude(x,r),z=z.clone().offset(-2*y*r,0));return z}function t(z,y){let r=-1;for(let x=0;x<y.cutIndexes.length;x++){const B=y.cutIndexes[x],A=y.geometries[x],E=q.getGeometryParts(A);
for(let F=0;F<E.length;F++){const L=E[F];L.some(D=>{if(180>D[0])return!0;D=0;for(var M=0;M<L.length;M++){var K=L[M][0];D=K>D?K:D}D=Number(D.toFixed(9));D=-360*q.offsetMagnitude(D,180);for(M=0;M<L.length;M++)K=A.getPoint(F,M),A.setPoint(F,M,K.clone().offset(D,0));return!0})}if(B===r)if("polygon"===z[0].type)for(const F of q.getGeometryParts(A))z[B]=z[B].addRing(F);else{if("polyline"===z[0].type)for(const F of q.getGeometryParts(A))z[B]=z[B].addPath(F)}else r=B,z[B]=A}return z}async function v(z,y,
r){if(!Array.isArray(z))return v([z],y);y&&"string"!==typeof y&&w.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");var x="string"===typeof y?y:y?.url??b.geometryServiceUrl;let B,A,E;let F=0;var L=[];y=[];for(var D of z)if(null==D)y.push(D);else{if(!M){var M=D.spatialReference;var K=g.getInfo(M);var I=(B=M.isWebMercator)?102100:4326;A=q.cutParams[I].maxX;E=q.cutParams[I].minX;var P=q.cutParams[I].plus180Line;I=q.cutParams[I].minus180Line}if(K)if("mesh"===
D.type)y.push(D);else if("point"===D.type)y.push(h(D.clone(),A,E));else if("multipoint"===D.type){var T=D.clone();T.points=T.points.map(Z=>h(Z,A,E));y.push(T)}else if("extent"===D.type)T=D.clone()._normalize(!1,!1,K),y.push(T.rings?new e(T):T);else if(D.extent){T=D.extent;const Z=2*q.offsetMagnitude(T.xmin,E)*A;let J=0===Z?D.clone():q.updatePolyGeometry(D.clone(),Z);T.offset(Z,0);T.intersects(P)&&T.xmax!==A?(F=T.xmax>F?T.xmax:F,J=c(J,B),L.push(J),y.push("cut")):T.intersects(I)&&T.xmin!==E?(F=2*T.xmax*
A>F?2*T.xmax*A:F,J=c(J,B,360),L.push(J),y.push("cut")):y.push(J)}else y.push(D.clone());else y.push(D)}M=q.offsetMagnitude(F,A);K=-90;P=M;for(D=new k;0<M;)I=-180+360*M,D.addPath([[I,K],[I,-1*K]]),K*=-1,M--;if(0<L.length&&0<P){M=await l.cut(x,L,D,r);M=t(L,M);K=[];L=[];for(P=0;P<y.length;P++)D=y[P],"cut"!==D?L.push(D):(D=M.shift(),I=z[P],null!=I&&"polygon"===I.type&&I.rings&&1<I.rings.length&&D.rings.length>=I.rings.length?(K.push(D),L.push("simplify")):L.push(B?p.geographicToWebMercator(D):D));if(!K.length)return L;
y=await n.simplify(x,K,r);z=[];for(r=0;r<L.length;r++)x=L[r],"simplify"!==x?z.push(x):z.push(B?p.geographicToWebMercator(y.shift()):y.shift());return z}z=[];for(r=0;r<y.length;r++)x=y[r],"cut"!==x?z.push(x):(x=L.shift(),z.push(!0===B?p.geographicToWebMercator(x):x));return z}const w=f.getLogger("esri.geometry.support.normalizeUtils");a.getClosestDenormalizedXToReference=function(z,y,r){r=g.getInfo(r);if(null==r)return z;const [x,B]=r.valid;r=2*B;let A=0,E=0;y>B?A=Math.ceil(Math.abs(y-B)/r):y<x&&(A=
-Math.ceil(Math.abs(y-x)/r));z>B?E=Math.ceil(Math.abs(z-B)/r):z<x&&(E=-Math.ceil(Math.abs(z-x)/r));z+=(A-E)*r;y=z-y;y>B?z-=r:y<x&&(z+=r);return z};a.getDenormalizedExtent=function(z){if(!z)return null;const y=z.extent;if(!y)return null;var r=z.spatialReference&&g.getInfo(z.spatialReference);if(!r)return y;const [x,B]=r.valid;({width:r}=y);let {xmin:A,xmax:E}=y;[A,E]=[E,A];if("extent"===z.type||0===r||r<=B||r>2*B||A<x||E>B)return y;let F;switch(z.type){case "polygon":if(1<z.rings.length)F=u(z.rings);
else return y;break;case "polyline":if(1<z.paths.length)F=u(z.paths);else return y;break;case "multipoint":F=z.points}z=y.clone();for(let L=0;L<F.length;L++){let D=F[L][0];0>D?(D+=B,E=Math.max(D,E)):(D-=B,A=Math.min(D,A))}z.xmin=A;z.xmax=E;return z.width<r?(z.xmin-=B,z.xmax-=B,z):y};a.normalizeCentralMeridian=v;a.normalizeMapX=function(z,y){if(y=g.getInfo(y)){const [r,x]=y.valid;y=x-r;if(z<r)for(;z<r;)z+=y;if(z>x)for(;z>x;)z-=y}return z};a.straightLineDensify=m;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference","./jsonUtils"],function(a,b,d,f){function e(k){return f.isPolygon(k)?k.rings:k.paths}b={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new b({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:d.WebMercator}),minus180Line:new b({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],
[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:d.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new b({paths:[[[180,-180],[180,180]]],spatialReference:d.WGS84}),minus180Line:new b({paths:[[[-180,-180],[-180,180]]],spatialReference:d.WGS84})}};a.cutParams=b;a.getGeometryParts=e;a.offsetMagnitude=function(k,q){return Math.ceil((k-q)/(2*q))};a.updatePolyGeometry=function(k,q){const g=e(k);for(const p of g)for(const l of p)l[0]+=q;return k};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/rest/geometryService/cut":function(){define("exports ../../geometry ../../request ../../geometry/support/jsonUtils ../../geometry/support/spatialReferenceUtils ../utils".split(" "),function(a,b,d,f,e,k){a.cut=async function(q,g,p,l){q=k.parseUrl(q);const n=g[0].spatialReference;g={...l,responseType:"json",query:{...q.query,f:"json",sr:e.srToRESTValue(n),target:JSON.stringify({geometryType:f.getJsonType(g[0]),geometries:g}),cutter:JSON.stringify(p)}};g=await d(q.path+"/cut",
g);const {cutIndexes:u,geometries:m=[]}=g.data;return{cutIndexes:u,geometries:m.map(c=>{c=f.fromJSON(c);c.spatialReference=n;return c})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/utils":function(){define("exports ../config ../kernel ../core/lang ../core/urlUtils ../support/apiKeyUtils".split(" "),function(a,b,d,f,e,k){function q(g,p,l){const n={};for(const m in g)if("declaredClass"!==m){var u=g[m];if(null!=u&&"function"!==typeof u)if(Array.isArray(u)){n[m]=[];for(let c=
0;c<u.length;c++)n[m][c]=q(u[c])}else"object"===typeof u?u.toJSON?(u=u.toJSON(l?.[m]),n[m]=p?u:JSON.stringify(u)):n[m]=p?u:JSON.stringify(u):n[m]=u}return n}a.asValidOptions=function(g,p){return p?{...p,query:{...(g??{}),...p.query}}:{query:g}};a.encode=q;a.getToken=function(g,p){return g?k.supportsApiKey(g)&&(p||b.apiKey)?p||b.apiKey:d.id?.findCredential(g)?.token:null};a.parseUrl=function(g){return"string"===typeof g?e.urlToObject(g):f.clone(g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/rest/geometryService/simplify":function(){define("exports ../../request ../../core/urlUtils ../../geometry/support/jsonUtils ../../geometry/support/spatialReferenceUtils ./utils".split(" "),function(a,b,d,f,e,k){a.simplify=async function(q,g,p){const l="string"===typeof q?d.urlToObject(q):q;q=g[0].spatialReference;const n=f.getJsonType(g[0]);g={...p,query:{...l.query,f:"json",sr:e.srToRESTValue(q),geometries:JSON.stringify(k.encodeGeometries(g))}};({data:g}=await b(l.path+"/simplify",g));return k.decodeGeometries(g.geometries,
n,q)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/utils":function(){define(["exports","../../geometry/support/jsonUtils"],function(a,b){a.decodeGeometries=function(d,f,e){const k=b.getGeometryType(f);return d.map(q=>{q=k.fromJSON(q);q.spatialReference=e;return q})};a.encodeGeometries=function(d){return{geometryType:b.getJsonType(d[0]),geometries:d.map(f=>f.toJSON())}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define(["exports",
"../../../../core/has","../../../../core/lang","../../data/QueryEngineCapabilities","../../../../symbols/support/defaultsJSON"],function(a,b,d,f,e){const k=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let q=1;a.createCapabilities=function(g,p){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:g},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:p,supportsDelete:p,
supportsEditing:p,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:p,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:f.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:p,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,
supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}};a.createDefaultAttributesFunction=function(g,p){if(b("esri-csp-restrictions"))return()=>({[p]:null,...g});try{let l=`this.${p} = null;`;for(const u in g){const m=k.test(u)?`.${u}`:`["${u}"]`;l+=`this${m} = ${JSON.stringify(g[u])};`}const n=(new Function(`\n      return class AttributesClass$${q++} {\n        constructor() {\n          ${l};\n        }\n      }\n    `))();
return()=>new n}catch(l){return()=>({[p]:null,...g})}};a.createDefaultTemplate=function(g={}){return[{name:"New Feature",description:"",prototype:{attributes:d.clone(g)}}]};a.createDrawingInfo=function(g){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===g||"esriGeometryMultipoint"===g?e.defaultPointSymbolJSON:"esriGeometryPolyline"===g?e.defaultPolylineSymbolJSON:e.defaultPolygonSymbolJSON}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],
function(a){a.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,
supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/graphics/sources/support/QueryTask":function(){define("require ../../../../chunks/tslib.es6 ../../../../core/Accessor ../../../../core/Error ../../../../core/has ../../../../core/promiseUtils ../../../../core/urlUtils ../../../../core/accessorSupport/decorators/property ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/accessorSupport/decorators/subclass ../../../support/infoFor3D ../../../support/source/DataLayerSource ../../../../rest/utils ../../../../rest/query/executeForCount ../../../../rest/query/executeForExtent ../../../../rest/query/executeForIds ../../../../rest/query/executeQueryJSON ../../../../rest/query/executeQueryPBF ../../../../rest/support/FeatureSet ../../../../rest/support/Query".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r){const x=B=>Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}));d=class extends d{constructor(B){super(B);this.infoFor3D=this.gdbVersion=this.fieldsIndex=this.dynamicDataSource=null;this.queryAttachmentsSupported=this.pbfSupported=!1;this.url=this.sourceSpatialReference=null}get parsedUrl(){return q.urlToObject(this.url)}async execute(B,A){const E=await this.executeJSON(B,A);return this.featureSetFromJSON(B,
E,A)}async executeJSON(B,A){const E=this._normalizeQuery(B);B=null!=B.outStatistics?.[0];const F=e("featurelayer-pbf-statistics");B=!B||F;let L;if(this.pbfSupported&&B)try{L=await z.executeRawQueryPBF(this.url,E,A)}catch(D){if("query:parsing-pbf"===D.name)this.pbfSupported=!1;else throw D;}this.pbfSupported&&B||(L=await w.executeRawQueryJSON(this.url,E,A));this._normalizeFields(L.fields);return L}async featureSetFromJSON(B,A,E){if(!this._queryIs3DObjectFormat(B)||null==this.infoFor3D||!A.features)return y.fromJSON(A);
({meshFeatureSetFromJSON:E}=await k.whenOrAbort(new Promise((F,L)=>a(["../../../../rest/support/meshFeatureSet"],F,L)),E));return E(B,this.infoFor3D,A)}executeForCount(B,A){return h.executeForCount(this.url,this._normalizeQuery(B),A)}executeForExtent(B,A){return t.executeForExtent(this.url,this._normalizeQuery(B),A)}executeForIds(B,A){return v.executeForIds(this.url,this._normalizeQuery(B),A)}async executeRelationshipQuery(B,A){const [{default:E},{executeRelationshipQuery:F}]=await k.whenOrAbort(Promise.all([new Promise((L,
D)=>a(["../../../../rest/support/RelationshipQuery"],M=>L(x(M)),D)),new Promise((L,D)=>a(["../../../../rest/query/executeRelationshipQuery"],L,D))]),A);B=E.from(B);if(this.gdbVersion||this.dynamicDataSource)B=B.clone(),B.gdbVersion=B.gdbVersion||this.gdbVersion,B.dynamicDataSource=B.dynamicDataSource||this.dynamicDataSource;return F(this.url,B,A)}async executeRelationshipQueryForCount(B,A){const [{default:E},{executeRelationshipQueryForCount:F}]=await k.whenOrAbort(Promise.all([new Promise((L,D)=>
a(["../../../../rest/support/RelationshipQuery"],M=>L(x(M)),D)),new Promise((L,D)=>a(["../../../../rest/query/executeRelationshipQuery"],L,D))]),A);B=E.from(B);if(this.gdbVersion||this.dynamicDataSource)B=B.clone(),B.gdbVersion=B.gdbVersion||this.gdbVersion,B.dynamicDataSource=B.dynamicDataSource||this.dynamicDataSource;return F(this.url,B,A)}async executeAttachmentQuery(B,A){const {executeAttachmentQuery:E,fetchAttachments:F,processAttachmentQueryResult:L}=await k.whenOrAbort(new Promise((M,K)=>
a(["../../../../rest/query/operations/queryAttachments"],M,K)),A),D=c.parseUrl(this.url);B=await (this.queryAttachmentsSupported?E(D,B,A):F(D,B,A));return L(D,B)}async executeTopFeaturesQuery(B,A){const {executeTopFeaturesQuery:E}=await k.whenOrAbort(new Promise((F,L)=>a(["../../../../rest/query/executeTopFeaturesQuery"],F,L)),A);return E(this.parsedUrl,B,this.sourceSpatialReference,A)}async executeForTopIds(B,A){const {executeForTopIds:E}=await k.whenOrAbort(new Promise((F,L)=>a(["../../../../rest/query/executeForTopIds"],
F,L)),A);return E(this.parsedUrl,B,A)}async executeForTopExtents(B,A){const {executeForTopExtents:E}=await k.whenOrAbort(new Promise((F,L)=>a(["../../../../rest/query/executeForTopExtents"],F,L)),A);return E(this.parsedUrl,B,A)}async executeForTopCount(B,A){const {executeForTopCount:E}=await k.whenOrAbort(new Promise((F,L)=>a(["../../../../rest/query/executeForTopCount"],F,L)),A);return E(this.parsedUrl,B,A)}_normalizeQuery(B){let A=r.from(B);A.sourceSpatialReference=A.sourceSpatialReference||this.sourceSpatialReference;
if(this.gdbVersion||this.dynamicDataSource)A=A===B?A.clone():A,A.gdbVersion=B.gdbVersion||this.gdbVersion,A.dynamicDataSource=B.dynamicDataSource?m.DataLayerSource.from(B.dynamicDataSource):this.dynamicDataSource;const {infoFor3D:E}=this;if(null!=E&&this._queryIs3DObjectFormat(B)){A=A===B?A.clone():A;A.formatOf3DObjects=null;const {supportedFormats:F,queryFormats:L}=E,D=u.getMimeTypeFormatId("model/gltf-binary",F)??u.getFilenameFormatId("glb",F),M=u.getMimeTypeFormatId("model/gltf+json",F)??u.getFilenameFormatId("gtlf",
F);for(const K of L){if(K===D){A.formatOf3DObjects=K;break}K!==M||A.formatOf3DObjects||(A.formatOf3DObjects=K)}if(!A.formatOf3DObjects)throw new f("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(null==A.outFields||!A.outFields.includes("*")){A=A===B?A.clone():A;null==A.outFields&&(A.outFields=[]);const {originX:K,originY:I,originZ:P,translationX:T,translationY:Z,translationZ:J,scaleX:Q,scaleY:N,scaleZ:V,
rotationX:U,rotationY:sa,rotationZ:za,rotationDeg:Fa}=E.transformFieldRoles;A.outFields.push(K,I,P,T,Z,J,Q,N,V,U,sa,za,Fa)}}return A}_normalizeFields(B){if(null!=this.fieldsIndex&&null!=B)for(const A of B)(B=this.fieldsIndex.get(A.name))&&Object.assign(A,B.toJSON())}_queryIs3DObjectFormat(B){return null!=this.infoFor3D&&!0===B.returnGeometry&&"xyFootprint"!==B.multipatchOption&&!B.outStatistics}};b.__decorate([g.property({type:m.DataLayerSource})],d.prototype,"dynamicDataSource",void 0);b.__decorate([g.property()],
d.prototype,"fieldsIndex",void 0);b.__decorate([g.property()],d.prototype,"gdbVersion",void 0);b.__decorate([g.property()],d.prototype,"infoFor3D",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"parsedUrl",null);b.__decorate([g.property()],d.prototype,"pbfSupported",void 0);b.__decorate([g.property()],d.prototype,"queryAttachmentsSupported",void 0);b.__decorate([g.property()],d.prototype,"sourceSpatialReference",void 0);b.__decorate([g.property({type:String})],d.prototype,"url",void 0);
return d=b.__decorate([n.subclass("esri.tasks.QueryTask")],d)})},"esri/rest/query/executeForCount":function(){define(["exports","../utils","./operations/query","../support/Query"],function(a,b,d,f){a.executeForCount=async function(e,k,q){e=b.parseUrl(e);return d.executeQueryForCount(e,f.from(k),{...q}).then(g=>g.data.count)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/query":function(){define("exports ../../../request ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../../geometry/support/spatialReferenceUtils ../../operations/urlUtils ./pbfQueryUtils ./queryZScale".split(" "),
function(a,b,d,f,e,k,q,g,p){function l(c,h){if(h&&"extent"===c.type)return`${c.xmin},${c.ymin},${c.xmax},${c.ymax}`;if(h&&"point"===c.type)return`${c.x},${c.y}`;c=c.toJSON();delete c.spatialReference;return JSON.stringify(c)}function n(c,h){const t=c.geometry,v=c.toJSON();delete v.compactGeometryEnabled;delete v.defaultSpatialReferenceEnabled;let w,z,y;null!=t&&(z=t.spatialReference,y=k.srToRESTValue(z),v.geometryType=f.getJsonType(t),v.geometry=l(t,c.compactGeometryEnabled),v.inSR=y);v.groupByFieldsForStatistics&&
(v.groupByFieldsForStatistics=v.groupByFieldsForStatistics.join(","));v.objectIds&&(v.objectIds=v.objectIds.join(","));v.orderByFields&&(v.orderByFields=v.orderByFields.join(","));!v.outFields||!v.returnDistinctValues&&(h?.returnCountOnly||h?.returnExtentOnly||h?.returnIdsOnly)?delete v.outFields:v.outFields.includes("*")?v.outFields="*":v.outFields=v.outFields.join(",");v.outSR?(v.outSR=k.srToRESTValue(v.outSR),w=c.outSpatialReference):t&&(v.returnGeometry||v.returnCentroid)&&(v.outSR=v.inSR,w=z);
v.returnGeometry&&delete v.returnGeometry;v.outStatistics&&(v.outStatistics=JSON.stringify(v.outStatistics));v.fullText&&(v.fullText=JSON.stringify(v.fullText));v.pixelSize&&(v.pixelSize=JSON.stringify(v.pixelSize));v.quantizationParameters&&(c.defaultSpatialReferenceEnabled&&null!=z&&null!=c.quantizationParameters?.extent&&z.equals(c.quantizationParameters.extent.spatialReference)&&delete v.quantizationParameters.extent.spatialReference,v.quantizationParameters=JSON.stringify(v.quantizationParameters));
v.parameterValues&&(v.parameterValues=JSON.stringify(v.parameterValues));v.rangeValues&&(v.rangeValues=JSON.stringify(v.rangeValues));v.dynamicDataSource&&(v.layer=JSON.stringify({source:v.dynamicDataSource}),delete v.dynamicDataSource);if(v.timeExtent){const {start:r,end:x}=v.timeExtent;if(null!=r||null!=x)v.time=r===x?r:`${null==r?"null":r},${null==x?"null":x}`;delete v.timeExtent}c.defaultSpatialReferenceEnabled&&null!=z&&null!=w&&z.equals(w)&&(v.defaultSR=v.inSR,delete v.inSR,delete v.outSR);
return v}function u(c,h,t){return m(c,h,"pbf",t)}async function m(c,h,t,v={},w={}){c="string"===typeof c?d.urlToObject(c):c;var z=(await e.normalizeCentralMeridian(h.geometry?[h.geometry]:[],null,{signal:v.signal}))?.[0];null!=z&&(h=h.clone(),h.geometry=z);z=q.mapParameters({...c.query,f:t,...w,...n(h,w)});return b(d.join(c.path,null==h.formatOf3DObjects||w.returnCountOnly||w.returnExtentOnly||w.returnIdsOnly?"query":"query3d"),{...v,responseType:"pbf"===t?"array-buffer":"json",query:{...z,...v.query}})}
a.encodeGeometry=l;a.executeQuery=async function(c,h,t,v){c=null!=h.timeExtent&&h.timeExtent.isEmpty?{data:{features:[]}}:await m(c,h,"json",v);p.applyFeatureSetZUnitScaling(h,t,c.data);return c};a.executeQueryForCount=function(c,h,t){return null!=h.timeExtent&&h.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):m(c,h,"json",t,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForExtent=async function(c,h,t){if(null!=h.timeExtent&&h.timeExtent.isEmpty)return{data:{count:0,extent:null}};c=await m(c,
h,"json",t,{returnExtentOnly:!0,returnCountOnly:!0});h=c.data;if(h.hasOwnProperty("extent"))return c;if(h.features)throw Error("Layer does not support extent calculation.");if(h.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return c};a.executeQueryForIds=function(c,h,t){return null!=h.timeExtent&&h.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):m(c,h,"json",t,{returnIdsOnly:!0})};a.executeQueryPBF=async function(c,h,t,v){if(null!=h.timeExtent&&h.timeExtent.isEmpty)return{data:t.createFeatureResult()};
c=await u(c,h,v);c.data=g.parsePBFFeatureQuery(c.data,t);return c};a.executeQueryPBFBuffer=u;a.queryToQueryStringParameters=n;a.runQuery=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/operations/urlUtils":function(){define(["exports"],function(a){function b(d){const f={};for(const e in d){if("declaredClass"===e)continue;const k=d[e];if(null!=k&&"function"!==typeof k)if(Array.isArray(k)){f[e]=[];for(let q=0;q<k.length;q++)f[e][q]=b(k[q])}else"object"===typeof k?k.toJSON&&
(f[e]=JSON.stringify(k)):f[e]=k}return f}a.mapParameters=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(a,b){a.parsePBFFeatureQuery=function(d,f){var e=b.parseFeatureQuery(d,f);d=e.queryResult.featureResult;f=e.queryResult.queryGeometry;e=e.queryResult.queryGeometryType;if(d&&d.features&&d.features.length&&d.objectIdFieldName){const k=d.objectIdFieldName;for(const q of d.features)q.attributes&&
(q.objectId=q.attributes[k])}d&&(d.queryGeometry=f,d.queryGeometryType=e);return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define(["exports","../../../core/Error","../../../core/pbf","../../../layers/graphics/OptimizedGeometry","./pbfOptimizedFeatureSet"],function(a,b,d,f,e){function k(A){return A>=r.length?null:r[A]}function q(A,E,F){A=A.asUnsafe();for(F=E.createPointGeometry(F);A.next();)switch(A.tag()){case 3:var L=
A.getUInt32();L=A.pos()+L;let D=0;for(;A.pos()<L;)E.addCoordinatePoint(F,A.getSInt64(),D++);break;default:A.skip()}return F}function g(A,E,F){A=A.asUnsafe();const L=E.createGeometry(F);for(F=2+(F.hasZ?1:0)+(F.hasM?1:0);A.next();)switch(A.tag()){case 2:var D=A.getUInt32();D=A.pos()+D;for(var M=0;A.pos()<D;)E.addLength(L,A.getUInt32(),M++);break;case 3:D=A.getUInt32();D=A.pos()+D;M=0;for(E.allocateCoordinates(L);A.pos()<D;)E.addCoordinate(L,A.getSInt64(),M),M++,M===F&&(M=0);break;default:A.skip()}return L}
function p(A){A=A.asUnsafe();const E=new f;let F="esriGeometryPoint";for(;A.next();)switch(A.tag()){case 2:var L=A.getUInt32();for(L=A.pos()+L;A.pos()<L;)E.lengths.push(A.getUInt32());break;case 3:L=A.getUInt32();for(L=A.pos()+L;A.pos()<L;)E.coords.push(A.getSInt64());break;case 1:F=e.optimizedGeometryTypes[A.getEnum()];break;default:A.skip()}return{queryGeometry:E,queryGeometryType:F}}function l(A){for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:return A.getString();case 2:return A.getFloat();
case 3:return A.getDouble();case 4:return A.getSInt32();case 5:return A.getUInt32();case 6:return A.getInt64();case 7:return A.getUInt64();case 8:return A.getSInt64();case 9:return A.getBool();default:return A.skip(),null}return null}function n(A){A=A.asUnsafe();const E={type:k(0)};for(;A.next();)switch(A.tag()){case 1:E.name=A.getString();break;case 2:E.type=k(A.getEnum());break;case 3:E.alias=A.getString();break;case 4:var F=A.getEnum();F=F>=x.length?null:x[F];E.sqlType=F;break;case 5:A.skip();
break;case 6:E.defaultValue=A.getString();break;default:A.skip()}return E}function u(A){const E={};for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:E.name=A.getString();break;case 2:E.isSystemMaintained=A.getBool();break;default:A.skip()}return E}function m(A,E,F,L){const D=E.createFeature(F);let M=0;for(;A.next();)switch(A.tag()){case 1:const K=L[M++].name;D.attributes[K]=A.processMessage(l);break;case 2:D.geometry=A.processMessageWithArgs(g,E,F);break;case 4:D.centroid=A.processMessageWithArgs(q,
E,F);break;default:A.skip()}return D}function c(A){const E=[1,1,1,1];for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:E[0]=A.getDouble();break;case 2:E[1]=A.getDouble();break;case 4:E[2]=A.getDouble();break;case 3:E[3]=A.getDouble();break;default:A.skip()}return E}function h(A){const E=[0,0,0,0];for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:E[0]=A.getDouble();break;case 2:E[1]=A.getDouble();break;case 4:E[2]=A.getDouble();break;case 3:E[3]=A.getDouble();break;default:A.skip()}return E}function t(A){const E=
{originPosition:0>=B.length?null:B[0]};for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:var F=A.getEnum();E.originPosition=F>=B.length?null:B[F];break;case 2:E.scale=A.processMessage(c);break;case 3:E.translate=A.processMessage(h);break;default:A.skip()}return E}function v(A){const E={};for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:E.shapeAreaFieldName=A.getString();break;case 2:E.shapeLengthFieldName=A.getString();break;case 3:E.units=A.getString();break;default:A.skip()}return E}function w(A,
E){for(E=E.createSpatialReference();A.next();)switch(A.tag()){case 1:E.wkid=A.getUInt32();break;case 5:E.wkt=A.getString();break;case 2:E.latestWkid=A.getUInt32();break;case 3:E.vcsWkid=A.getUInt32();break;case 4:E.latestVcsWkid=A.getUInt32();break;default:A.skip()}return E}function z(A,E){const F=E.createFeatureResult();A=A.asUnsafe();F.geometryType=0>=E.geometryTypes.length?null:E.geometryTypes[0];let L=!1;for(;A.next();)switch(A.tag()){case 1:F.objectIdFieldName=A.getString();break;case 3:F.globalIdFieldName=
A.getString();break;case 4:F.geohashFieldName=A.getString();break;case 5:F.geometryProperties=A.processMessage(v);break;case 7:var D=A.getEnum();F.geometryType=D>=E.geometryTypes.length?null:E.geometryTypes[D];break;case 8:F.spatialReference=A.processMessageWithArgs(w,E);break;case 10:F.hasZ=A.getBool();break;case 11:F.hasM=A.getBool();break;case 12:F.transform=A.processMessage(t);break;case 9:F.exceededTransferLimit=A.getBool();break;case 13:E.addField(F,A.processMessage(n));break;case 15:L||(E.prepareFeatures(F),
L=!0);E.addFeature(F,A.processMessageWithArgs(m,E,F,F.fields));break;case 2:F.uniqueIdField=A.processMessage(u);break;default:A.skip()}E.finishFeatureResult(F);return F}function y(A,E){const F={};let L=null;for(;A.next();)switch(A.tag()){case 4:L=A.processMessageWithArgs(p);break;case 1:F.featureResult=A.processMessageWithArgs(z,E);break;default:A.skip()}null!=L&&F.featureResult&&E.addQueryGeometry(F,L);return F}const r="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML esriFieldTypeBigInteger esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "),
x="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),B=["upperLeft","lowerLeft"];a.parseFeatureQuery=function(A,E){try{const F=new d(new Uint8Array(A),new DataView(A));
for(A={};F.next();)switch(F.tag()){case 2:A.queryResult=F.processMessageWithArgs(y,E);break;default:F.skip()}return A}catch(F){throw new b("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:F});}};a.parseField=n;a.parseFieldType=k;a.parseTransform=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/pbf":function(){define(["./has","./ObjectPool"],function(a,b){var d;(function(q){q[q.varint=0]="varint";q[q.fixed64=1]="fixed64";q[q.delimited=2]="delimited";
q[q.fixed32=5]="fixed32";q[q.unknown=99]="unknown"})(d||(d={}));const f=new TextDecoder("utf-8"),e=a("safari")||a("ios")?6:a("ff")?12:32;class k{constructor(q,g,p=0,l=q?q.byteLength:0){this._tag=0;this._dataType=d.unknown;this._init(q,g,p,l)}_init(q,g,p,l){this._data=q;this._dataView=g;this._pos=p;this._end=l}asUnsafe(){return this}clone(){return new k(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(q){this._pos=q}nextTag(q){for(;;){if(this._pos===this._end)return!1;const g=
this._decodeVarint();this._tag=g>>3;this._dataType=g&7;if(!q||q===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const q=this._decodeVarint();this._tag=q>>3;this._dataType=q&7;return!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let q=4294967295;q=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return q;q=(q|(this._data[this._pos]&127)<<7)>>>0;if(128>
this._data[this._pos++])return q;q=(q|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return q;q=(q|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return q;q=(q|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return q}getUInt64(){return this._decodeVarint()}getSInt32(){const q=this.getUInt32();if(void 0!==q)return q>>>1^-(q&1)|0}getSInt64(){return this._decodeSVarint()}getBool(){const q=0!==this._data[this._pos];this._skip(1);return q}getEnum(){return this._decodeVarint()}getFixed64(){var q=
this._dataView;const g=this._pos;q=q.getUint32(g,!0)+4294967296*q.getUint32(g+4,!0);this._skip(8);return q}getSFixed64(){var q=this._dataView;const g=this._pos;q=q.getUint32(g,!0)+4294967296*q.getInt32(g+4,!0);this._skip(8);return q}getDouble(){const q=this._dataView.getFloat64(this._pos,!0);this._skip(8);return q}getFixed32(){const q=this._dataView.getUint32(this._pos,!0);this._skip(4);return q}getSFixed32(){const q=this._dataView.getInt32(this._pos,!0);this._skip(4);return q}getFloat(){const q=
this._dataView.getFloat32(this._pos,!0);this._skip(4);return q}getString(){const q=this._getLength();var g=this._pos;g=this._toString(this._data,g,g+q);this._skip(q);return g}getBytes(){const q=this._getLength();var g=this._pos;g=this._toBytes(this._data,g,g+q);this._skip(q);return g}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(q,g,p,l){const n=this.getMessage();q=q(n,g,p,l);n.release();return q}processMessage(q){const g=this.getMessage();q=q(g);g.release();return q}getMessage(){const q=
this._getLength(),g=k.pool.acquire();g._init(this._data,this._dataView,this._pos,this._pos+q);this._skip(q);return g}release(){k.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case d.varint:this._decodeVarint();break;case d.fixed64:this._skip(8);break;case d.delimited:this._skip(this._getLength());break;case d.fixed32:this._skip(4);break;default:throw Error("Invalid data type!");}}skipLen(q){this._skip(q)}_skip(q){if(this._pos+q>this._end)throw Error("Attempt to skip past the end of buffer!");
this._pos+=q}_decodeVarint(){const q=this._data;let g=this._pos,p=0,l=0;if(10<=this._end-g){if(l=q[g++],p|=l&127,0!==(l&128)&&(l=q[g++],p|=(l&127)<<7,0!==(l&128)&&(l=q[g++],p|=(l&127)<<14,0!==(l&128)&&(l=q[g++],p|=(l&127)<<21,0!==(l&128)&&(l=q[g++],p+=268435456*(l&127),0!==(l&128)&&(l=q[g++],p+=34359738368*(l&127),0!==(l&128)&&(l=q[g++],p+=4398046511104*(l&127),0!==(l&128)&&(l=q[g++],p+=562949953421312*(l&127),0!==(l&128)&&(l=q[g++],p+=72057594037927936*(l&127),0!==(l&128)&&(l=q[g++],p+=0x7fffffffffffffff*
(l&127),0!==(l&128)))))))))))throw Error("Varint too long!");}else{let n=1;for(;g!==this._end;){l=q[g];if(0===(l&128))break;++g;p+=(l&127)*n;n*=128}if(g===this._end)throw Error("Varint overrun!");++g;p+=l*n}this._pos=g;return p}_decodeSVarint(){const q=this._data;let g=0;const p=q[this._pos]&1;g=q[this._pos++];var l=0|g&127;if(0===(g&128))return p?-(l+1)/2:l/2;g=q[this._pos++];l|=(g&127)<<7;if(0===(g&128))return p?-(l+1)/2:l/2;g=q[this._pos++];l|=(g&127)<<14;if(0===(g&128))return p?-(l+1)/2:l/2;g=
q[this._pos++];l|=(g&127)<<21;if(0===(g&128))return p?-(l+1)/2:l/2;g=q[this._pos++];l+=268435456*(g&127);if(0===(g&128))return p?-(l+1)/2:l/2;g=q[this._pos++];l+=34359738368*(g&127);if(0===(g&128))return p?-(l+1)/2:l/2;g=q[this._pos++];l+=4398046511104*(g&127);if(0===(g&128))return p?-(l+1)/2:l/2;l=BigInt(l);g=q[this._pos++];l+=562949953421312n*BigInt(g&127);if(0===(g&128))return Number(p?-(l+1n)/2n:l/2n);g=q[this._pos++];l+=72057594037927936n*BigInt(g&127);if(0===(g&128))return Number(p?-(l+1n)/
2n:l/2n);g=q[this._pos++];l+=9223372036854775808n*BigInt(g&127);if(0===(g&128))return Number(p?-(l+1n)/2n:l/2n);throw Error("Varint too long!");}_getLength(){if(this._dataType!==d.delimited)throw Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(q,g,p){p=Math.min(this._end,p);if(p-g>e)return q=q.subarray(g,p),f.decode(q);let l="",n="";for(;g<p;++g){const u=q[g];u&128?n+="%"+u.toString(16):(l+=decodeURIComponent(n)+String.fromCharCode(u),
n="")}n.length&&(l+=decodeURIComponent(n));return l}_toBytes(q,g,p){p=Math.min(this._end,p);return new Uint8Array(q.buffer,g,p-g)}}k.pool=new b(k,void 0,q=>{q._data=null;q._dataView=null});return k})},"esri/layers/graphics/OptimizedGeometry":function(){define(function(){class a{constructor(b=[],d=[],f=!1){this.lengths=b??[];this.coords=d??[];this.hasIndeterminateRingOrder=f}static fromRect(b){const [d,f,e,k]=b;b=e-d;const q=k-f;return new a([5],[d,f,b,0,0,q,-b,0,0,-q])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((b,
d)=>b+d)}forEachVertex(b){let d=0;this.lengths.length||b(this.coords[0],this.coords[1]);for(let f=0;f<this.lengths.length;f++){const e=this.lengths[f];for(let k=0;k<e;k++)b(this.coords[2*(k+d)],this.coords[2*(k+d)+1]);d+=e}}clone(b){return b?(b.set(this.coords),new a(this.lengths.slice(),b,this.hasIndeterminateRingOrder)):new a(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}return a})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(a,b,d,f,e,k){const q=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class g{constructor(p){this._options=p;this.geometryTypes=q;this._vertexDimension=this._coordinatePtr=0}createFeatureResult(){return new e}prepareFeatures(p){this._vertexDimension=2;p.hasZ&&this._vertexDimension++;p.hasM&&this._vertexDimension++}finishFeatureResult(p){if(p?.features&&p.hasZ&&this._options.sourceSpatialReference&&p.spatialReference&&!d.equals(p.spatialReference,
this._options.sourceSpatialReference)&&!p.spatialReference.vcsWkid){var l=b.getMetersPerVerticalUnitForSR(this._options.sourceSpatialReference),n=b.getMetersPerVerticalUnitForSR(p.spatialReference);l/=n;if(1!==l)for(const u of p.features)if(f.hasGeometry(u))for(p=u.geometry.coords,n=2;n<p.length;n+=3)p[n]*=l}}addFeature(p,l){p.features.push(l)}createFeature(){return new f.OptimizedFeature}createSpatialReference(){return{wkid:0}}createGeometry(){return new k}addField(p,l){p.fields.push(l)}allocateCoordinates(p){p.coords.length=
p.lengths.reduce((l,n)=>l+n,0)*this._vertexDimension;this._coordinatePtr=0}addCoordinate(p,l){p.coords[this._coordinatePtr++]=l}addCoordinatePoint(p,l){p.coords.push(l)}addLength(p,l){p.lengths.push(l)}addQueryGeometry(p,l){p.queryGeometry=l.queryGeometry;p.queryGeometryType=l.queryGeometryType}createPointGeometry(){return new k}}a.OptimizedFeatureSetParserContext=g;a.optimizedGeometryTypes=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports"],
function(a){class b{constructor(f=null,e={},k,q){this.geometry=f;this.attributes=e;this.centroid=k;this.objectId=q;this.geohashY=this.geohashX=this.displayId=0}weakClone(){const f=new b(this.geometry,this.attributes,this.centroid,this.objectId);f.displayId=this.displayId;f.geohashX=this.geohashX;f.geohashY=this.geohashY;return f}}class d extends b{}a.OptimizedFeature=b;a.OptimizedFeatureWithGeometry=d;a.hasGeometry=function(f){return!!f.geometry?.coords?.length};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){class a{constructor(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}weakClone(){const b=new a;b.objectIdFieldName=this.objectIdFieldName;b.globalIdFieldName=
this.globalIdFieldName;b.geohashFieldName=this.geohashFieldName;b.geometryProperties=this.geometryProperties;b.geometryType=this.geometryType;b.spatialReference=this.spatialReference;b.hasZ=this.hasZ;b.hasM=this.hasM;b.features=this.features;b.fields=this.fields;b.transform=this.transform;b.exceededTransferLimit=this.exceededTransferLimit;b.uniqueIdField=this.uniqueIdField;b.queryGeometry=this.queryGeometry;b.queryGeometryType=this.queryGeometryType;return b}}return a})},"esri/rest/query/executeForExtent":function(){define("exports ../../geometry ../utils ./operations/query ../support/Query ../../geometry/Extent".split(" "),
function(a,b,d,f,e,k){a.executeForExtent=async function(q,g,p){q=d.parseUrl(q);return f.executeQueryForExtent(q,e.from(g),{...p}).then(l=>({count:l.data.count,extent:k.fromJSON(l.data.extent)}))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeForIds":function(){define(["exports","../utils","./operations/query","../support/Query"],function(a,b,d,f){a.executeForIds=async function(e,k,q){e=b.parseUrl(e);return d.executeQueryForIds(e,f.from(k),{...q}).then(g=>
g.data.objectIds)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryJSON":function(){define(["exports","../utils","./operations/query","../support/FeatureSet","../support/Query"],function(a,b,d,f,e){async function k(q,g,p){q=b.parseUrl(q);p={...p};g=e.from(g);({data:g}=await d.executeQuery(q,g,g.sourceSpatialReference,p));return g}a.executeQueryJSON=async function(q,g,p){q=await k(q,g,p);return f.fromJSON(q)};a.executeRawQueryJSON=k;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryPBF":function(){define("exports ../utils ./operations/pbfJSONFeatureSet ./operations/query ../support/FeatureSet ../support/Query".split(" "),function(a,b,d,f,e,k){async function q(g,p,l){g=b.parseUrl(g);l={...l};p=k.from(p);({data:p}=await f.executeQueryPBF(g,p,new d.JSONFeatureSetParserContext({sourceSpatialReference:p.sourceSpatialReference,applyTransform:!p.quantizationParameters}),l));return p}a.executeQueryPBF=async function(g,
p,l){g=await q(g,k.from(p),l);return e.fromJSON(g)};a.executeRawQueryPBF=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfJSONFeatureSet":function(){define(["exports","../../../core/maybe","../../../geometry/support/zscale","../../../layers/graphics/featureConversionUtils"],function(a,b,d,f){function e(m,c){return c}function k(m,c,h,t){switch(h){case 0:return l(m,c+t,0);case 1:return"lowerLeft"===m.originPosition?l(m,c+t,1):n(m,c+t,1)}}function q(m,
c,h,t){switch(h){case 2:return l(m,c,2);default:return k(m,c,h,t)}}function g(m,c,h,t){switch(h){case 2:return l(m,c,3);default:return k(m,c,h,t)}}function p(m,c,h,t){switch(h){case 3:return l(m,c,3);default:return q(m,c,h,t)}}function l({translate:m,scale:c},h,t){return m[t]+h*c[t]}function n({translate:m,scale:c},h,t){return m[t]-h*c[t]}class u{constructor(m){this._options=m;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];this._previousCoordinate=
[0,0];this._transform=null;this._applyTransform=e;this._lengths=[];this._vertexDimension=this._toAddInCurrentPath=this._currentLengthIndex=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;this._attributesConstructor=class{}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(m){this._options.applyTransform&&(m.transform=null);this._attributesConstructor=class{};this._coordinateBuffer=null;this._lengths.length=0;if(m.hasZ){var c=d.getGeometryZScaler(m.geometryType,this._options.sourceSpatialReference,
m.spatialReference);if(null!=c)for(const h of m.features)c(h.geometry)}}createSpatialReference(){return{}}addField(m,c){m=m.fields;b.assertIsSome(m);m.push(c);const h=m.map(t=>t.name);this._attributesConstructor=function(){for(const t of h)this[t]=null}}addFeature(m,c){m.features.push(c)}prepareFeatures(m){this._transform=m.transform;this._options.applyTransform&&m.transform&&(this._applyTransform=this._deriveApplyTransform(m));this._vertexDimension=2;m.hasZ&&this._vertexDimension++;m.hasM&&this._vertexDimension++;
switch(m.geometryType){case "esriGeometryPoint":this.addCoordinate=(c,h,t)=>this.addCoordinatePoint(c,h,t);this.createGeometry=c=>this.createPointGeometry(c);break;case "esriGeometryPolygon":this.addCoordinate=(c,h,t)=>this._addCoordinatePolygon(c,h,t);this.createGeometry=c=>this._createPolygonGeometry(c);break;case "esriGeometryPolyline":this.addCoordinate=(c,h,t)=>this._addCoordinatePolyline(c,h,t);this.createGeometry=c=>this._createPolylineGeometry(c);break;case "esriGeometryMultipoint":this.addCoordinate=
(c,h,t)=>this._addCoordinateMultipoint(c,h,t),this.createGeometry=c=>this._createMultipointGeometry(c)}}createFeature(){this._currentLengthIndex=this._lengths.length=0;this._previousCoordinate[0]=0;this._previousCoordinate[1]=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;return{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(m,c,h){0===this._lengths.length&&(this._toAddInCurrentPath=c);this._lengths.push(c)}addQueryGeometry(m,c){const {queryGeometry:h,queryGeometryType:t}=
c;c=f.unquantizeOptimizedGeometry(h.clone(),h,!1,!1,this._transform);c=f.convertToGeometry(c,t,!1,!1);m.queryGeometryType=t;m.queryGeometry={...c}}createPointGeometry(m){const c={x:0,y:0,spatialReference:m.spatialReference};m.hasZ&&(c.z=0);m.hasM&&(c.m=0);return c}addCoordinatePoint(m,c,h){c=this._applyTransform(this._transform,c,h,0);switch(h){case 0:m.x=c;break;case 1:m.y=c;break;case 2:"z"in m?m.z=c:m.m=c;break;case 3:m.m=c}}_transformPathLikeValue(m,c){let h=0;1>=c&&(h=this._previousCoordinate[c],
this._previousCoordinate[c]+=m);return this._applyTransform(this._transform,m,c,h)}_addCoordinatePolyline(m,c,h){this._dehydratedAddPointsCoordinate(m.paths,c,h)}_addCoordinatePolygon(m,c,h){this._dehydratedAddPointsCoordinate(m.rings,c,h)}_addCoordinateMultipoint(m,c,h){0===h&&m.points.push([]);c=this._transformPathLikeValue(c,h);m.points[m.points.length-1].push(c)}_createPolygonGeometry(m){return{rings:[[]],spatialReference:m.spatialReference,hasZ:!!m.hasZ,hasM:!!m.hasM}}_createPolylineGeometry(m){return{paths:[[]],
spatialReference:m.spatialReference,hasZ:!!m.hasZ,hasM:!!m.hasM}}_createMultipointGeometry(m){return{points:[],spatialReference:m.spatialReference,hasZ:!!m.hasZ,hasM:!!m.hasM}}_dehydratedAddPointsCoordinate(m,c,h){0===h&&0===this._toAddInCurrentPath--&&(m.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);c=this._transformPathLikeValue(c,h);m=m[m.length-1];0===h&&(this._coordinateBufferPtr=0,this._coordinateBuffer=
Array(this._vertexDimension),m.push(this._coordinateBuffer));this._coordinateBuffer[this._coordinateBufferPtr++]=c}_deriveApplyTransform(m){const {hasZ:c,hasM:h}=m;return c&&h?p:c?q:h?g:k}}a.JSONFeatureSetParserContext=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(a,b,d,f,e,k,q,g,p,l){function n(Y,da){return Y?da?4:3:da?3:2}function u(Y,da,ma,R){if(Y){if(ma)return da&&R?S:Ja;if(da&&R)return G}else if(da&&R)return Ja;return Ba}function m({scale:Y,translate:da},ma){return Math.round((ma-da[0])/Y[0])}function c({scale:Y,translate:da},ma){return Math.round((da[1]-ma)/Y[1])}function h({scale:Y,translate:da},ma,R){return ma*Y[R]+da[R]}function t(Y){Y=Y.coords;return{x:Y[0],y:Y[1]}}function v(Y,da){Y.coords[0]=da.x;Y.coords[1]=da.y;return Y}function w(Y){Y=
Y.coords;return{x:Y[0],y:Y[1],z:Y[2]}}function z(Y,da){Y.coords[0]=da.x;Y.coords[1]=da.y;Y.coords[2]=da.z;return Y}function y(Y){Y=Y.coords;return{x:Y[0],y:Y[1],m:Y[2]}}function r(Y,da){Y.coords[0]=da.x;Y.coords[1]=da.y;Y.coords[2]=da.m;return Y}function x(Y){Y=Y.coords;return{x:Y[0],y:Y[1],z:Y[2],m:Y[3]}}function B(Y,da){Y.coords[0]=da.x;Y.coords[1]=da.y;Y.coords[2]=da.z;Y.coords[3]=da.m;return Y}function A(Y,da){return Y&&da?B:Y?z:da?r:v}function E(Y,da,ma,R,H){ma=A(ma,R);for(const {geometry:X,
attributes:ia}of da)da=null!=X?ma(new l,X):null,Y.push(new g.OptimizedFeature(da,ia,null,H?ia[H]:void 0));return Y}function F(Y,da,ma,R){for(const {geometry:H,attributes:X}of da)Y.push({attributes:X,geometry:null!=H?L(H,ma,R):null});return Y}function L(Y,da,ma){if(null==Y)return null;const R=n(da,ma),H=[];for(let X=0;X<Y.coords.length;X+=R){const ia=[];for(let ta=0;ta<R;ta++)ia.push(Y.coords[X+ta]);H.push(ia)}return da?ma?{points:H,hasZ:da,hasM:ma}:{points:H,hasZ:da}:ma?{points:H,hasM:ma}:{points:H}}
function D(Y,da,ma,R,H){ma=n(ma,R);for(const {geometry:X,attributes:ia}of da)da=null!=X?M(new l,X,ma):null,Y.push(new g.OptimizedFeature(da,ia,null,H?ia[H]:void 0));return Y}function M(Y,da,ma=n(da.hasZ,da.hasM)){Y.lengths[0]=da.points.length;const R=Y.coords;let H=0;for(const X of da.points)for(da=0;da<ma;da++)R[H++]=X[da];return Y}function K(Y,da,ma){if(!Y)return null;const R=n(da,ma),{coords:H,lengths:X}=Y;Y=[];let ia=0;for(const ta of X){const Ca=[];for(let ha=0;ha<ta;ha++){const na=[];for(let ra=
0;ra<R;ra++)na.push(H[ia++]);Ca.push(na)}Y.push(Ca)}return da?ma?{paths:Y,hasZ:da,hasM:ma}:{paths:Y,hasZ:da}:ma?{paths:Y,hasM:ma}:{paths:Y}}function I(Y,da,ma,R,H){ma=n(ma,R);for(const {geometry:X,attributes:ia}of da)da=null!=X?P(new l,X,ma):null,Y.push(new g.OptimizedFeature(da,ia,null,H?ia[H]:void 0));return Y}function P(Y,da,ma=n(da.hasZ,da.hasM)){const {lengths:R,coords:H}=Y;let X=0;for(const ia of da.paths){for(const ta of ia)for(da=0;da<ma;da++)H[X++]=ta[da];R.push(ia.length)}return Y}function T(Y,
da,ma){if(!Y)return null;const R=n(da,ma),{coords:H,lengths:X}=Y;Y=[];let ia=0;for(const ta of X){const Ca=[];for(let ha=0;ha<ta;ha++){const na=[];for(let ra=0;ra<R;ra++)na.push(H[ia++]);Ca.push(na)}Y.push(Ca)}return da?ma?{rings:Y,hasZ:da,hasM:ma}:{rings:Y,hasZ:da}:ma?{rings:Y,hasM:ma}:{rings:Y}}function Z(Y,da,ma,R,H){for(const {geometry:X,centroid:ia,attributes:ta}of da){da=null!=X?J(new l,X,ma,R):null;const Ca=H?ta[H]:void 0;null!=ia?Y.push(new g.OptimizedFeature(da,ta,v(new l,ia),Ca)):Y.push(new g.OptimizedFeature(da,
ta,null,Ca))}return Y}function J(Y,da,ma=da.hasZ,R=da.hasM){return Q(Y,da.rings,ma,R)}function Q(Y,da,ma,R){ma=n(ma,R);const {lengths:H,coords:X}=Y;R=0;va(Y);for(const ia of da){for(const ta of ia)for(da=0;da<ma;da++)X[R++]=ta[da];H.push(ia.length)}return Y}function N(Y,da,ma,R,H,X){W(Y);if(!ma){for(const ia of da)Y.push(new g.OptimizedFeature(null,ia.attributes,null,X?ia.attributes[X]:void 0));return Y}switch(ma){case "esriGeometryPoint":return E(Y,da,R,H,X);case "esriGeometryMultipoint":return D(Y,
da,R,H,X);case "esriGeometryPolyline":return I(Y,da,R,H,X);case "esriGeometryPolygon":return Z(Y,da,R,H,X);default:ba.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ma}'`)),W(Y)}return Y}function V(Y,da,ma,R){Y=Y&&("coords"in Y?Y:Y.geometry);if(null==Y)return null;switch(da){case "esriGeometryPoint":return da=t,ma&&R?da=x:ma?da=w:R&&(da=y),da(Y);case "esriGeometryMultipoint":return L(Y,ma,R);case "esriGeometryPolyline":return K(Y,ma,R);case "esriGeometryPolygon":return T(Y,
ma,R);default:return ba.error("convertToGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${da}'`)),null}}function U(Y,da,ma,R,H){W(Y);if(null==ma){for(const ia of da)Y.push({attributes:ia.attributes});return Y}switch(ma){case "esriGeometryPoint":ma=t;R&&H?ma=x:R?ma=w:H&&(ma=y);for(var X of da){const {geometry:ia,attributes:ta}=X;R=null!=ia?ma(ia):null;Y.push({attributes:ta,geometry:R})}break;case "esriGeometryMultipoint":return F(Y,da,R,H);case "esriGeometryPolyline":for(const {geometry:ia,
attributes:ta}of da)Y.push({attributes:ta,geometry:null!=ia?K(ia,R,H):null});break;case "esriGeometryPolygon":for(const {geometry:ia,attributes:ta,centroid:Ca}of da)X=null!=ia?T(ia,R,H):null,null!=Ca?(da=t(Ca),Y.push({attributes:ta,centroid:da,geometry:X})):Y.push({attributes:ta,geometry:X});break;default:ba.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ma}'`))}return Y}function sa(Y,da,ma,R,H,X,ia=ma,ta=R){va(Y);if(!da?.coords.length)return null;H=fa[H];
const {coords:Ca,lengths:ha}=da;da=n(ma,R);const na=n(ma&&ia,R&&ta);ma=u(ma,R,ia,ta);if(!ha.length)return ma(Y.coords,Ca,0,0,m(X,Ca[0]),c(X,Ca[1])),va(Y,da,0),Y;let ra,Ia=0,aa,ka=0;for(const xa of ha){if(xa<H)continue;let ua=0;aa=ka;ta=R=m(X,Ca[Ia]);ra=ia=c(X,Ca[Ia+1]);ma(Y.coords,Ca,aa,Ia,ta,ra);ua++;Ia+=da;aa+=na;for(let Ea=1;Ea<xa;Ea++,Ia+=da)if(ta=m(X,Ca[Ia]),ra=c(X,Ca[Ia+1]),ta!==R||ra!==ia)ma(Y.coords,Ca,aa,Ia,ta-R,ra-ia),aa+=na,ua++,R=ta,ia=ra;ua>=H&&(Y.lengths.push(ua),ka=aa)}W(Y.coords,ka);
return Y.coords.length?Y:null}function za(Y,da,ma,R,H,X,ia){let ta=R,Ca=0;for(let na=X+ma;na<ia;na+=ma){var ha=da[na];const ra=da[na+1],Ia=da[ia],aa=da[ia+1];let ka=da[X],xa=da[X+1],ua=Ia-ka,Ea=aa-xa;if(0!==ua||0!==Ea){const Ma=((ha-ka)*ua+(ra-xa)*Ea)/(ua*ua+Ea*Ea);1<Ma?(ka=Ia,xa=aa):0<Ma&&(ka+=ua*Ma,xa+=Ea*Ma)}ua=ha-ka;Ea=ra-xa;ha=ua*ua+Ea*Ea;ha>ta&&(Ca=na,ta=ha)}ta>R&&(Ca-X>ma&&za(Y,da,ma,R,H,X,Ca),H(Y,da,Y.length,Ca,da[Ca],da[Ca+1]),ia-Ca>ma&&za(Y,da,ma,R,H,Ca,ia))}function Fa(Y,da,ma,R,H){const {coords:X,
lengths:ia}=da;ma=n(ma,R);if(!X.length)return Y!==da&&va(Y),Y;f.assertIsSome(H);const {originPosition:ta,scale:Ca,translate:ha}=H;H=Aa;H.originPosition=ta;R=H.scale;R[0]=Ca[0]??1;R[1]=-(Ca[1]??1);R[2]=Ca[2]??1;R[3]=Ca[3]??1;var na=H.translate;na[0]=ha[0]??0;na[1]=ha[1]??0;na[2]=ha[2]??0;na[3]=ha[3]??0;if(!ia.length){for(R=0;R<ma;++R)Y.coords[R]=h(H,X[R],R);Y!==da&&va(Y,ma,0);return Y}na=0;for(let Ia=0;Ia<ia.length;Ia++){const aa=ia[Ia];Y.lengths[Ia]=aa;for(var ra=0;ra<ma;++ra)Y.coords[na+ra]=h(H,
X[na+ra],ra);ra=Y.coords[na];let ka=Y.coords[na+1];na+=ma;for(let xa=1;xa<aa;xa++,na+=ma){ra+=X[na]*R[0];ka+=X[na+1]*R[1];Y.coords[na]=ra;Y.coords[na+1]=ka;for(let ua=2;ua<ma;++ua)Y.coords[na+ua]=h(H,X[na+ua],ua)}}Y!==da&&va(Y,X.length,ia.length);return Y}function Da(Y,da,ma,R){let H=0,X=Y[R*da],ia=Y[R*(da+1)];for(let ta=1;ta<ma;ta++){const Ca=X+Y[R*(da+ta)],ha=ia+Y[R*(da+ta)+1],na=(Ca-X)*(ha+ia);X=Ca;ia=ha;H+=na}return.5*H}function va(Y,da=0,ma=0){W(Y.lengths,ma);W(Y.coords,da)}function W(Y,da=0){Y.length!==
da&&(Y.length=da)}const ba=d.getLogger("esri.layers.graphics.featureConversionUtils"),fa={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryEnvelope:0},Ba=(Y,da,ma,R,H,X)=>{Y[ma]=H;Y[ma+1]=X},Ja=(Y,da,ma,R,H,X)=>{Y[ma]=H;Y[ma+1]=X;Y[ma+2]=da[R+2]},G=(Y,da,ma,R,H,X)=>{Y[ma]=H;Y[ma+1]=X;Y[ma+2]=da[R+3]},S=(Y,da,ma,R,H,X)=>{Y[ma]=H;Y[ma+1]=X;Y[ma+2]=da[R+2];Y[ma+3]=da[R+3]},ja=[],pa=[],Aa={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,
0]};a.convertFromFeature=function(Y,da,ma,R,H){ja[0]=Y;[Y]=N(pa,ja,da,ma,R,H);W(ja);W(pa);return Y};a.convertFromFeatureSet=function(Y,da){const ma=new p,{hasM:R,hasZ:H,features:X,objectIdFieldName:ia,spatialReference:ta,geometryType:Ca,exceededTransferLimit:ha,transform:na,fields:ra}=Y;ra&&(ma.fields=ra);ma.geometryType=Ca??null;ma.objectIdFieldName=ia??da??null;ma.spatialReference=ta??null;if(!ma.objectIdFieldName)return ba.error(new b("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),
ma;X&&N(ma.features,X,Ca,H,R,ma.objectIdFieldName);ha&&(ma.exceededTransferLimit=ha);R&&(ma.hasM=R);H&&(ma.hasZ=H);na&&(ma.transform=na);return ma};a.convertFromFeatures=N;a.convertFromGeometry=function(Y,da,ma){if(null==Y)return null;const R=new l;"hasZ"in Y&&null==da&&(da=Y.hasZ);"hasM"in Y&&null==ma&&(ma=Y.hasM);if(q.isPoint(Y))return A(null!=da?da:null!=Y.z,null!=ma?ma:null!=Y.m)(R,Y);if(q.isPolygon(Y))return J(R,Y,da,ma);if(q.isPolyline(Y))return P(R,Y,n(da,ma));if(q.isMultipoint(Y))return M(R,
Y,n(da,ma));ba.error("convertFromGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${Y}'`))};a.convertFromGraphics=function(Y,da,ma,R,H,X){const ia=Y.length;switch(ma){case "esriGeometryPoint":E(Y,da,R,H,X);break;case "esriGeometryMultipoint":D(Y,da,R,H,X);break;case "esriGeometryPolyline":I(Y,da,R,H,X);break;case "esriGeometryPolygon":Z(Y,da,R,H,X);break;default:ba.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ma}'`))}for(R=0;R<
da.length;R++)Y[R+ia].geometryType=ma,Y[R+ia].insertAfter=da[R].insertAfter,Y[R+ia].groupId=da[R].groupId;return Y};a.convertFromMultipoint=M;a.convertFromMultipointFeatures=D;a.convertFromNestedArray=Q;a.convertFromPoint=function(Y,da,ma=A(null!=da.z,null!=da.m)){return ma(Y,da)};a.convertFromPointFeatures=E;a.convertFromPolygon=J;a.convertFromPolyline=P;a.convertFromPolylineFeatures=I;a.convertToFeature=function(Y,da,ma,R){pa[0]=Y;U(ja,pa,da,ma,R);Y=ja[0];W(ja);W(pa);return Y};a.convertToFeatureSet=
function(Y){const {objectIdFieldName:da,spatialReference:ma,transform:R,fields:H,hasM:X,hasZ:ia,features:ta,geometryType:Ca,exceededTransferLimit:ha,uniqueIdField:na,queryGeometry:ra,queryGeometryType:Ia}=Y;Y=U([],ta,Ca,ia,X);const aa=V(ra,Ia,!1,!1);Y={features:Y,fields:H,geometryType:Ca,objectIdFieldName:da,spatialReference:ma,uniqueIdField:na,queryGeometry:aa};R&&(Y.transform=R);ha&&(Y.exceededTransferLimit=ha);X&&(Y.hasM=X);ia&&(Y.hasZ=ia);return Y};a.convertToFeatures=U;a.convertToGeometry=V;
a.convertToMultipoint=L;a.convertToMultipointFeatures=F;a.convertToPoint=function(Y,da,ma){return Y?da?ma?x(Y):w(Y):ma?y(Y):t(Y):null};a.convertToPolygon=T;a.convertToPolyline=K;a.deltaDecodeGeometry=function(Y,da){if(null==Y)return null;const ma=Y.clone(),R=Y.coords;Y=Y.lengths;let H=0;for(let ta=0;ta<Y.length;ta++){const Ca=Y[ta];var X=R[da*H],ia=R[da*H+1];for(let ha=1;ha<Ca;ha++)X+=R[da*(H+ha)],ia+=R[da*(H+ha)+1],ma.coords[da*(H+ha)]=X,ma.coords[da*(H+ha)+1]=ia;H+=Ca}return ma};a.deltaEncodeGeometry=
function(Y,da){const ma=Y.clone(),R=Y.coords;Y=Y.lengths;let H=0;for(let ia=0;ia<Y.length;ia++){const ta=Y[ia];let Ca=R[da*H];var X=R[da*H+1];for(let ha=1;ha<ta;ha++){const na=R[da*(H+ha)],ra=R[da*(H+ha)+1];X=ra-X;ma.coords[da*(H+ha)]=na-Ca;ma.coords[da*(H+ha)+1]=X;Ca=na;X=ra}H+=ta}return ma};a.generalizeOptimizedGeometry=function(Y,da,ma,R,H,X,ia=ma,ta=R){va(Y);if(!da?.coords.length)return null;H=fa[H];const {coords:Ca,lengths:ha}=da;da=n(ma,R);const na=n(ma&&ia,R&&ta);ma=u(ma,R,ia,ta);if(!ha.length)return ma(Y.coords,
Ca,0,0,Ca[0],Ca[1]),va(Y,da,0),Y;R=0;X*=X;for(const ra of ha){if(ra<H){R+=ra*da;continue}ia=Y.coords.length/na;ta=R;const Ia=R+(ra-1)*da;ma(Y.coords,Ca,Y.coords.length,ta,Ca[ta],Ca[ta+1]);za(Y.coords,Ca,da,X,ma,ta,Ia);ma(Y.coords,Ca,Y.coords.length,Ia,Ca[Ia],Ca[Ia+1]);ta=Y.coords.length/na-ia;ta>=H?Y.lengths.push(ta):W(Y.coords,ia*na);R+=ra*da}return Y.coords.length?Y:null};a.getBoundsOptimizedGeometry=function(Y,da,ma,R){if(!da?.coords?.length)return null;ma=n(ma,R);let H=R=Number.POSITIVE_INFINITY,
X=Number.NEGATIVE_INFINITY,ia=Number.NEGATIVE_INFINITY;if(da&&da.coords){da=da.coords;for(let ta=0;ta<da.length;ta+=ma){const Ca=da[ta],ha=da[ta+1];R=Math.min(R,Ca);X=Math.max(X,Ca);H=Math.min(H,ha);ia=Math.max(ia,ha)}}e.is(Y)?e.fromRectValues(Y,R,H,X,ia):k.fromValues(R,H,X,ia,Y);return Y};a.getQuantizedArea=function(Y,da){const {coords:ma,lengths:R}=Y;let H=Y=0;for(let X=0;X<R.length;X++){const ia=R[X];H+=Da(ma,Y,ia,da);Y+=ia}return Math.abs(H)};a.getQuantizedBoundsOptimizedGeometry=function(Y,da,
ma,R){ma=n(ma,R);const {lengths:H,coords:X}=da;R=da=Number.POSITIVE_INFINITY;let ia=Number.NEGATIVE_INFINITY,ta=Number.NEGATIVE_INFINITY,Ca=0;for(const ha of H){let na=X[Ca],ra=X[Ca+1];da=Math.min(na,da);R=Math.min(ra,R);ia=Math.max(na,ia);ta=Math.max(ra,ta);Ca+=ma;for(let Ia=1;Ia<ha;Ia++,Ca+=ma){const aa=X[Ca],ka=X[Ca+1];na+=aa;ra+=ka;0>aa&&(da=Math.min(da,na));0<aa&&(ia=Math.max(ia,na));0>ka?R=Math.min(R,ra):0<ka&&(ta=Math.max(ta,ra))}}Y[0]=da;Y[1]=R;Y[2]=ia;Y[3]=ta;return Y};a.getSignedQuantizedRingArea=
Da;a.quantizeOptimizedFeatureSet=function(Y,da){const {geometryType:ma,features:R,hasM:H,hasZ:X}=da;if(!Y)return da;for(let ia=0;ia<R.length;ia++){const ta=R[ia],Ca=ta.weakClone();Ca.geometry=new l;sa(Ca.geometry,ta.geometry,H,X,ma,Y);ta.centroid&&(Ca.centroid=new l,sa(Ca.centroid,ta.centroid,H,X,"esriGeometryPoint",Y));R[ia]=Ca}da.transform=Y;return da};a.quantizeOptimizedGeometry=sa;a.quantizeX=m;a.quantizeY=c;a.removeCollinearVectices=function(Y,da,ma,R,H){if(!da?.coords?.length)return null;ma=
fa[ma];const {coords:X,lengths:ia}=da;da=u(R,H,R,H);R=n(R,H);let ta=H=0,Ca=0,ha=0;for(const Ia of ia){ta=ha;da(Y.coords,X,ta,H,X[H],X[H+1]);H+=R;var na=X[H];let aa=X[H+1],ka=na,xa=aa;var ra=aa/na;ta+=R;da(Y.coords,X,ta,H,ka,xa);H+=R;for(let ua=2;ua<Ia;ua++){na=X[H];aa=X[H+1];const Ea=aa/na,Ma=ra===Ea||!isFinite(ra)&&!isFinite(Ea);ra=Ma&&isFinite(Ea)?0<=ra&&0<=Ea||0>=ra&&0>=Ea:0<=xa&&0<=aa||0>=xa&&0>=aa;Ma&&ra?(ka+=na,xa+=aa):(ka=na,xa=aa,ta+=R);da(Y.coords,X,ta,H,ka,xa);H+=R;ra=Ea}ta+=R;na=(ta-ha)/
R;na>=ma&&(Y.lengths[Ca]=na,ha=ta,Ca++)}Y.coords.length>ha&&(Y.coords.length=ha);Y.lengths.length>Ca&&(Y.lengths.length=Ca);return Y.coords.length&&Y.lengths.length?Y:null};a.removeZMValues=function(Y,da,ma,R,H,X){va(Y);Y.lengths.push(...da.lengths);if(ma===H&&R===X)for(var ia=0;ia<da.coords.length;ia++)Y.coords.push(da.coords[ia]);else for(ia=n(ma,R),ma=u(ma,R,H,X),da=da.coords,R=0;R<da.length;R+=ia)ma(Y.coords,da,Y.coords.length,R,da[R],da[R+1]);return Y};a.unquantizeOptimizedFeatureSet=function(Y){const {transform:da,
features:ma,hasM:R,hasZ:H}=Y;if(!da)return Y;for(const X of ma)null!=X.geometry&&Fa(X.geometry,X.geometry,R,H,da),null!=X.centroid&&Fa(X.centroid,X.centroid,R,H,da);Y.transform=null;return Y};a.unquantizeOptimizedGeometry=Fa;a.unquantizeValue=h;a.unquantizeX=function(Y,da){return h(Y,da,0)};a.unquantizeY=function(Y,da){return h(Y,-da,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/View":function(){define("../chunks/tslib.es6 ../Map ../TimeExtent ../core/Accessor ../core/asyncUtils ../core/Collection ../core/CollectionFlattener ../core/Error ../core/Evented ../core/Handles ../core/handleUtils ../core/Loadable ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection ../core/support/UpdatingHandles ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ../geometry/support/spatialReferenceUtils ../support/AnalysesCollection ../support/GraphicsCollection ../time/timeZoneUtils ./BasemapView ./LayerViewManager ./Magnifier ./Theme ./ToolViewManager ./input/Input ./input/ViewEvents ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B,A,E,F,L,D,M,K,I,P,T,Z,J,Q,N,V,U,sa){function za(Da){return Da.layerViews}var Fa;f=Fa=class extends p.EventedMixin(h.EsriPromiseMixin(f)){constructor(Da){super(Da);this._cursor=this._userSpatialReference=null;this.handles=new l;this.updatingHandles=new A.UpdatingHandles;this.allLayerViews=new q({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:za});
this.fatalError=this.basemapView=this.groundView=null;this.graphics=new K.GraphicsCollection;this.analyses=new M.AnalysesCollection;this.typeSpecificPreconditionsReady=!0;this.layerViews=new k;this.magnifier=new Z;this.padding={left:0,top:0,right:0,bottom:0};this.ready=!1;this.spatialReferenceWarningDelay=1E3;this.supportsGround=!0;this.scale=this.type=this.timeExtent=null;this.updating=!1;this.initialExtentRequired=!0;this.input=new N;this.navigation=new U;this.analysisViewManager=this.layerViewManager=
null;this.isHeightModelInfoRequired=!1;this.height=this.width=null;this.suspended=this.resizing=!1;this.viewEvents=new V.ViewEvents(this);this.persistableViewModels=new k;this._readyCycleForced=this._isValid=!1;this.theme=this._lockedTimeZone=this._userTimeZone=this._lockedSpatialReference=null;this.handles.add(v.watch(()=>this.preconditionsReady,va=>{va?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,Fa.views.add(this)):(this._lockedSpatialReference=null,Fa.views.remove(this));
this.notifyChange("spatialReference");!va&&this.ready?(this.toolViewManager?.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown()):va&&!this.ready&&(this._startup(),null!=this.analysisViewManager&&this.analysisViewManager.attach(),this.toolViewManager.attach())},v.sync))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>{this._isValid=!0;return v.whenOnce(()=>this.ready)}));
this.basemapView=new P.BasemapView({view:this});this.layerViewManager=new T({view:this,layerViewImporter:{importLayerView:Da=>this.importLayerView(Da),hasLayerViewModule:Da=>this.hasLayerViewModule(Da)},supportsGround:this.supportsGround});this.toolViewManager=new Q.ToolViewManager({view:this});this._setupSpatialReferenceLogger();this.addHandles([v.watch(()=>this.initialExtentRequired,Da=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:Da},{sync:!0,initial:!0}),v.watch(()=>
this.ready,Da=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=Da,this.defaultsFromMap.userSpatialReference=Da?this.spatialReference:this._userSpatialReference)},{sync:!0}),v.watch(()=>this._userSpatialReference,Da=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=Da)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){let Da=null;this.addHandles([v.watch(()=>this.defaultsFromMap?.ready,va=>{const W=0<this.map?.allLayers.length;va&&!this.spatialReference&&W?null==Da&&(va=
n.makeHandle(()=>Da=c.abortMaybe(Da)),Da=e.createTask(async ba=>{try{await t.after(this.spatialReferenceWarningDelay,null,ba)}catch{return}finally{Da=null}m.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.addHandles(va,"spatial-reference-logger-task")):this.removeHandles("spatial-reference-logger-task")},{sync:!0})])}destroy(){this.destroyed||(Fa.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&
(this.navigation.destroy(),this._set("navigation",null)),this.graphics=c.destroyMaybe(this.graphics),this.analyses=c.destroyMaybe(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),c.destroyMaybe(this.analysisViewManager),this.toolViewManager=c.destroyMaybe(this.toolViewManager),this.layerViewManager=c.destroyMaybe(this.layerViewManager),this.basemapView=c.destroyMaybe(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach(Da=>Da.destroy()),this.layerViews.length=
0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=c.destroyMaybe(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){m.getLogger(this).error("#toMap()","Not implemented on this instance of View");return null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(Da){this.toolViewManager&&(this.toolViewManager.activeTool=Da)}get animation(){return this._get("animation")}set animation(Da){this._set("animation",
Da)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new sa.DefaultsFromMap({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:Da=>this.getSpatialReferenceSupport(Da),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(Da){this._set("extent",Da)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||
!this._isValid||this._readyCycleForced||!this.map||u.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(Da){const va=this._get("map");Da!==va&&(Da?.destroyed&&(m.getLogger(this).warn("#map","The provided map is already destroyed",{map:Da}),Da=null),u.isLoadable(Da)&&
Da.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",Da))}get spatialReference(){let Da=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;Da&&this.defaultsFromMap?.required?.heightModelInfo&&(Da=Da.clone(),Da.vcsWkid=this.defaultsFromMap.vcsWkid,Da.latestVcsWkid=this.defaultsFromMap.latestVcsWkid);return Da}set spatialReference(Da){const va=!D.equals(Da,this._get("spatialReference"));
this._set("_userSpatialReference",Da);va&&(this._set("spatialReference",Da),this._spatialReferenceChanged(Da))}_spatialReferenceChanged(Da){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??I.system}set timeZone(Da){const va=new Set(["etc/utc","etc/gmt","gmt"]),W=new Set(Intl.supportedValuesOf("timeZone").map(ba=>ba.toLowerCase()));this._userTimeZone=Da;Da===I.system||Da===I.unknown||
va.has(Da.toLowerCase())||W.has(Da.toLowerCase())||m.getLogger(this).warn("#timeZone",`the parsed value '${Da}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(Da){this._cursor=Da;this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new J}whenLayerView(Da){return this.layerViewManager?.whenLayerView(Da)??
Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}importLayerView(Da){throw new g("importLayerView() not implemented");}hasLayerViewModule(Da){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(Da){return null!=
this.getSpatialReferenceSupport({spatialReference:Da})}when(Da,va){this.isResolved()&&!this.ready&&m.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() \x3d\x3e view.ready).then(...) instead.");return super.when(Da,va)}forceReadyCycle(){this.ready&&(v.when(()=>this.destroyed||!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(Da){this.toolViewManager.tools.add(Da);
this.activeTool=Da}tryFatalErrorRecovery(){this.fatalError=null}};f.views=new k;a.__decorate([w.property()],f.prototype,"_userSpatialReference",void 0);a.__decorate([w.property()],f.prototype,"activeTool",null);a.__decorate([w.property({readOnly:!0})],f.prototype,"allLayerViews",void 0);a.__decorate([w.property()],f.prototype,"groundView",void 0);a.__decorate([w.property()],f.prototype,"animation",null);a.__decorate([w.property()],f.prototype,"basemapView",void 0);a.__decorate([w.property()],f.prototype,
"center",null);a.__decorate([w.property({readOnly:!0})],f.prototype,"_defaultsFromMapSettings",null);a.__decorate([w.property()],f.prototype,"defaultsFromMap",null);a.__decorate([w.property()],f.prototype,"fatalError",void 0);a.__decorate([w.property({type:E})],f.prototype,"extent",null);a.__decorate([w.property(B.owningCollectionProperty(K.GraphicsCollection,"graphics"))],f.prototype,"graphics",void 0);a.__decorate([w.property(B.owningCollectionProperty(M.AnalysesCollection,"analyses"))],f.prototype,
"analyses",void 0);a.__decorate([w.property({readOnly:!0,type:F})],f.prototype,"heightModelInfo",null);a.__decorate([w.property({readOnly:!0})],f.prototype,"interacting",null);a.__decorate([w.property({readOnly:!0})],f.prototype,"navigating",null);a.__decorate([w.property({readOnly:!0,dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _lockedSpatialReference defaultsFromMap.ready typeSpecificPreconditionsReady".split(" ")})],f.prototype,"preconditionsReady",
null);a.__decorate([w.property({readOnly:!0})],f.prototype,"typeSpecificPreconditionsReady",void 0);a.__decorate([w.property({type:k,readOnly:!0})],f.prototype,"layerViews",void 0);a.__decorate([w.property()],f.prototype,"resolution",null);a.__decorate([w.property({type:Z})],f.prototype,"magnifier",void 0);a.__decorate([w.property({value:null,type:b})],f.prototype,"map",null);a.__decorate([w.property()],f.prototype,"padding",void 0);a.__decorate([w.property({readOnly:!0})],f.prototype,"ready",void 0);
a.__decorate([w.property({type:L})],f.prototype,"spatialReference",null);a.__decorate([w.property()],f.prototype,"spatialReferenceWarningDelay",void 0);a.__decorate([w.property()],f.prototype,"stationary",null);a.__decorate([w.property({readOnly:!0})],f.prototype,"supportsGround",void 0);a.__decorate([w.property({type:d})],f.prototype,"timeExtent",void 0);a.__decorate([w.property({type:String,nonNullable:!0})],f.prototype,"timeZone",null);a.__decorate([w.property()],f.prototype,"tools",null);a.__decorate([w.property()],
f.prototype,"toolViewManager",void 0);a.__decorate([w.property({readOnly:!0})],f.prototype,"type",void 0);a.__decorate([w.property({type:Number})],f.prototype,"scale",void 0);a.__decorate([w.property({readOnly:!0})],f.prototype,"updating",void 0);a.__decorate([w.property({readOnly:!0})],f.prototype,"initialExtentRequired",void 0);a.__decorate([w.property({readOnly:!0})],f.prototype,"initialExtent",null);a.__decorate([w.property()],f.prototype,"cursor",null);a.__decorate([w.property({readOnly:!0})],
f.prototype,"input",void 0);a.__decorate([w.property({type:U,nonNullable:!0})],f.prototype,"navigation",void 0);a.__decorate([w.property()],f.prototype,"layerViewManager",void 0);a.__decorate([w.property()],f.prototype,"analysisViewManager",void 0);a.__decorate([w.property()],f.prototype,"width",void 0);a.__decorate([w.property()],f.prototype,"height",void 0);a.__decorate([w.property({readOnly:!0})],f.prototype,"resizing",void 0);a.__decorate([w.property({value:null,readOnly:!0})],f.prototype,"size",
null);a.__decorate([w.property({readOnly:!0})],f.prototype,"suspended",void 0);a.__decorate([w.property({readOnly:!0})],f.prototype,"viewEvents",void 0);a.__decorate([w.property({readOnly:!0})],f.prototype,"persistableViewModels",void 0);a.__decorate([w.property()],f.prototype,"_isValid",void 0);a.__decorate([w.property()],f.prototype,"_readyCycleForced",void 0);a.__decorate([w.property()],f.prototype,"_lockedSpatialReference",void 0);a.__decorate([w.property()],f.prototype,"_userTimeZone",void 0);
a.__decorate([w.property()],f.prototype,"_lockedTimeZone",void 0);a.__decorate([w.property({type:J})],f.prototype,"theme",void 0);a.__decorate([w.property({readOnly:!0,type:J})],f.prototype,"effectiveTheme",null);return f=Fa=a.__decorate([x.subclass("esri.views.View")],f)})},"esri/core/support/OwningCollection":function(){define("exports ../../chunks/tslib.es6 ../Collection ../collectionUtils ../has ../Logger ../accessorSupport/decorators/property ../accessorSupport/ensureType ../arrayUtils ../accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p,l){a.OwningCollection=class extends d{constructor(n){super(n);this.addHandles([this.on("before-add",u=>{null==u.item&&u.preventDefault()}),this.on("after-add",u=>this._own(u.item)),this.on("after-remove",u=>this._release(u.item))])}get owner(){return this._get("owner")}set owner(n){n!==this._get("owner")&&(this._releaseAll(),this._set("owner",n),this._ownAll())}_ownAll(){for(const n of this.items)this._own(n)}_releaseAll(){for(const n of this.items)this._release(n)}_createNewInstance(n){return this.itemType?
new (d.ofType(this.itemType.Type))(n):new d(n)}};b.__decorate([q.property()],a.OwningCollection.prototype,"owner",null);a.OwningCollection=b.__decorate([l.subclass("esri.core.support.OwningCollection")],a.OwningCollection);a.owningCollectionProperty=function(n,u){return{type:n,cast:f.castForReferenceSetter,set(m){m=f.referenceSetter(m,this._get(u),n);m.owner=this;this._set(u,m)}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/support/UpdatingHandles":function(){define("exports ../../chunks/tslib.es6 ../Accessor ../handleUtils ../reactiveUtils ../scheduling ../accessorSupport/decorators/property ../accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g){a.UpdatingHandles=class extends d{constructor(){super(...arguments);this.updating=!1;this._scheduleHandleId=this._handleId=0;this._pendingPromises=new Set}destroy(){this.removeAll()}add(p,l,n={}){return this._installWatch(p,l,n,e.watch)}addWhen(p,l,n={}){return this._installWatch(p,l,n,e.when)}addOnCollectionChange(p,l,{initial:n=!1,final:u=!1}={}){const m=++this._handleId;this.addHandles([e.on(p,"after-changes",this._createSyncUpdatingCallback(),e.sync),e.on(p,"change",
l,{onListenerAdd:n?c=>l({added:c.toArray(),removed:[]}):void 0,onListenerRemove:u?c=>l({added:[],removed:c.toArray()}):void 0})],m);return f.makeHandle(()=>this.removeHandles(m))}addPromise(p){if(null==p)return p;const l=++this._handleId;this.addHandles(f.makeHandle(()=>{this._pendingPromises.delete(p)&&(0!==this._pendingPromises.size||this.hasHandles(-42)||this._set("updating",!1))}),l);this._pendingPromises.add(p);this._set("updating",!0);const n=()=>this.removeHandles(l);p.then(n,n);return p}removeAll(){this._pendingPromises.clear();
this.removeAllHandles();this._set("updating",!1)}_installWatch(p,l,n={},u){const m=++this._handleId;n.sync||this._installSyncUpdatingWatch(p,m);p=u(p,l,n);this.addHandles(p,m);return f.makeHandle(()=>this.removeHandles(m))}_installSyncUpdatingWatch(p,l){const n=this._createSyncUpdatingCallback();p=e.watch(p,n,{sync:!0,equals:()=>!1});this.addHandles(p,l);return p}_createSyncUpdatingCallback(){return()=>{this.removeHandles(-42);++this._scheduleHandleId;const p=this._scheduleHandleId;this._get("updating")||
this._set("updating",!0);this.addHandles(k.schedule(()=>{p===this._scheduleHandleId&&(this._set("updating",0<this._pendingPromises.size),this.removeHandles(-42))}),-42)}}};b.__decorate([q.property({readOnly:!0})],a.UpdatingHandles.prototype,"updating",void 0);a.UpdatingHandles=b.__decorate([g.subclass("esri.core.support.UpdatingHandles")],a.UpdatingHandles);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/AnalysesCollection":function(){define("exports ../chunks/tslib.es6 ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/Error ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),
function(a,b,d,f,e,k,q,g,p){a.AnalysesCollection=class extends p.OwningCollection{constructor(l){super(l);this.addHandles(this.on("before-add",n=>{null!=n.item&&n.item.parent===this.owner&&(d.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),n.preventDefault())}))}_own(l){l.parent=this.owner}_release(l){l.parent=null}};a.AnalysesCollection=b.__decorate([g.subclass("esri.support.AnalysesCollection")],a.AnalysesCollection);Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/support/GraphicsCollection":function(){define("exports ../chunks/tslib.es6 ../Graphic ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/Error ../core/accessorSupport/decorators/shared ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),function(a,b,d,f,e,k,q,g,p,l,n){a.GraphicsCollection=class extends n.OwningCollection{_own(u){u.layer&&"remove"in u.layer&&u.layer!==this.owner&&
u.layer.remove(u);u.layer=this.owner}_release(u){u.layer===this.owner&&(u.layer=null)}};b.__decorate([p.shared({Type:d,ensureType:e.ensureType(d)})],a.GraphicsCollection.prototype,"itemType",void 0);a.GraphicsCollection=b.__decorate([l.subclass("esri.support.GraphicsCollection")],a.GraphicsCollection);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/BasemapView":function(){define("exports ../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p,l){a.BasemapView=class extends d{constructor(n){super(n);this.view=null;this.baseLayerViews=new f;this.referenceLayerViews=new f;this._loadingHandle=e.watch(()=>this.view?.map?.basemap,u=>{u&&u.load().catch(()=>{})},e.initial)}destroy(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const n of this.baseLayerViews)n.destroy();this.baseLayerViews.length=0;for(const n of this.referenceLayerViews)n.destroy();this.referenceLayerViews.length=
0}get suspended(){return this.view?this.view.suspended:!0}get updating(){if(this.view&&this.view.suspended)return!1;const n=this.view?.map?.basemap;return n&&n.loaded?this.baseLayerViews.some(u=>u.updating)||this.referenceLayerViews.some(u=>u.updating):!1}};b.__decorate([k.property({constructOnly:!0})],a.BasemapView.prototype,"view",void 0);b.__decorate([k.property({readOnly:!0})],a.BasemapView.prototype,"baseLayerViews",void 0);b.__decorate([k.property({readOnly:!0})],a.BasemapView.prototype,"referenceLayerViews",
void 0);b.__decorate([k.property({readOnly:!0})],a.BasemapView.prototype,"suspended",null);b.__decorate([k.property({type:Boolean,readOnly:!0})],a.BasemapView.prototype,"updating",null);a.BasemapView=b.__decorate([l.subclass("esri.views.BasemapView")],a.BasemapView);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/LayerViewManager":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/MapUtils ../core/maybe ../core/promiseUtils ../core/reactiveUtils ../core/scheduling ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../core/accessorSupport/get ../core/support/UpdatingHandles ../support/collectionUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v){class w{constructor(z,y,r){this.layer=z;this.view=y;this.layerViewImporter=r;this._controller=new AbortController;this._deferred=q.createResolver();this.done=this._started=!1;this.promise=this._deferred.promise;q.onAbort(this._controller.signal,()=>{const x=new d("cancelled:layerview-create","layerview creation cancelled",{layer:z});this._deferred.reject(x)})}tryRecycle(z){if(!(this.done&&this.layerView&&"tryRecycleWith"in this.layerView))return null;const y=
this.layer.type,r=this._controller.signal;for(let x=0;x<z.length;x++){const B=z[x];if(B.type!==y)continue;const A=this.layerView.tryRecycleWith(B,{signal:r});if(A){z.splice(x,1);this.layer=B;const E=this.layerView,F=E.view;return this.promise=Promise.race([A.then(()=>{q.throwIfAborted(this._controller.signal);B.emit("layerview-destroy",{view:F,layerView:E});F.emit("layerview-destroy",{view:F,layerView:E});B.emit("layerview-create",{view:F,layerView:E});F.emit("layerview-create",{view:F,layerView:E});
return E}),new Promise((L,D)=>q.onAbort(this._controller.signal,()=>D(q.createAbortError())))])}}return null}destroy(){this._controller.abort();const {layerView:z}=this;if(z){const {layer:y,view:r}=this;y.emit("layerview-destroy",{view:r,layerView:z});r.emit("layerview-destroy",{layer:y,layerView:z})}this.done=!0;this._map=this.layerViewImporter=this.view=this.layerView=this.layer=null}async start(){if(!this._started){this._started=!0;var {_controller:{signal:z},layer:y,view:r}=this;this._map=r.map;
try{await y.load({signal:z});y.prefetchResources&&await y.prefetchResources({signal:z});let B;if("createLayerView"in y&&null!=y.createLayerView)B=await y.createLayerView(r,{signal:z});else{if(!this.layerViewImporter.hasLayerViewModule(y))throw new d("layer:view-not-supported","No layerview implementation was found");var x=await this.layerViewImporter.importLayerView(y);q.throwIfAborted(z);B="default"in x?new x.default({layer:y,view:r}):new x({layer:y,view:r})}let A;x=()=>{A=k.removeMaybe(A);B.destroyed||
B.destroy();B.layer=null;B.parent=null;B.view=null;this.done=!0};A=q.onAbort(z,x);q.throwIfAborted(z);try{await B.when()}catch(E){throw x(),E;}this._map?.allLayers?.includes(y)?(this.layerView=B,y.emit("layerview-create",{view:r,layerView:B}),r.emit("layerview-create",{layer:y,layerView:B}),this.done=!0,this._deferred.resolve(B)):(x(),this._deferred.reject(new d("view:no-layerview-for-layer","The layer has been removed from the map",{layer:y})))}catch(B){y.emit("layerview-create-error",{view:r,error:B}),
r.emit("layerview-create-error",{layer:y,error:B}),this.done=!0,this._deferred.reject(new d("layerview:create-error","layerview creation failed",{layer:y,error:B}))}}}}b=class extends b{constructor(z){super(z);this._layerLayerViewInfoMap=new Map;this._recyclingInfoMap=new Map;this._watchUpdatingTracking=new t.UpdatingHandles;this.supportsGround=!0;this._preloadLayerViewModules=()=>{const y=this.view.map?.allLayers;if(y)for(const r of y)this.layerViewImporter.hasLayerViewModule(r)&&this.layerViewImporter.importLayerView(r)};
this._reschedule=()=>{if(this.destroyed)return Promise.reject();null==this._workPromise&&(this._workPromise=q.createResolver(),this._workPromise.promise.catch(()=>{}));this.removeHandles("reschedule");this.addHandles(p.schedule(this._doWork),"reschedule");return this._workPromise.promise};this._doWork=()=>{if(!this.destroyed){var y=this.view.map;this._map!==y&&(this.clear(),this._map=y);if(null==this._workPromise)this.notifyChange("updating");else{this.removeHandles("reschedule");this.removeHandles("collection-change");
var r=new Set,x=[],B=this.view.ready,A=L=>{if(null!=L)for(const D of L)D&&(r.add(D),(L=this._layerLayerViewInfoMap.get(D))&&B?L.start():L||this._recyclingInfoMap.has(D)||x.push(D),"layers"in D&&D.layers&&A(D.layers))};for(var E of this._rootCollectionNames)A(h.get(this,E));for(const [L,D]of this._layerLayerViewInfoMap)r.has(L)||(this._layerLayerViewInfoMap.delete(D.layer),(E=D.tryRecycle(x))?(this.notifyChange("updating"),this._recyclingInfoMap.set(D.layer,D),E.then(()=>{this.notifyChange("updating");
this._recyclingInfoMap.delete(D.layer);this._layerLayerViewInfoMap.set(D.layer,D);this._reschedule()}).catch(()=>{this.notifyChange("updating");this._recyclingInfoMap.delete(D.layer);D.destroy();this._reschedule()})):D.destroy());for(const [L,D]of this._recyclingInfoMap)r.has(L)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(D.layer),D.destroy());for(const L of x)this._createLayerView(L);this._refreshCollections();var F=[y?.ground?.layers,y?.basemap?.baseLayers,y?.basemap?.referenceLayers,
y?.layers].filter(L=>!!L);r.forEach(L=>"layers"in L&&F.push(L.layers));this.addHandles(F.map(L=>this._watchUpdatingTracking.addOnCollectionChange(()=>L,this._reschedule)),"collection-change");this._workPromise.resolve();this._workPromise=null}}}}initialize(){this.addHandles([g.on(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),g.watch(()=>{const z=this.view,y=z?.map;return[y?.basemap,y?.ground,y?.layers,z?.ready]},()=>this._reschedule(),
g.syncAndInitial)]);this._preloadLayerViewModules();this._reschedule()}destroy(){this.clear();v.destroyMap(this._recyclingInfoMap);v.destroyMap(this._layerLayerViewInfoMap);this._watchUpdatingTracking.destroy();this._map=null;null!=this._workPromise&&(this._workPromise.reject(q.createAbortError()),this._workPromise=null)}get _layersToLayerViews(){const z=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];
this.supportsGround&&z.push(["view.map.ground.layers","view.groundView.layerViews"]);return new Map(z)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||e.someMap(this._layerLayerViewInfoMap,z=>!z.done)||0<this._recyclingInfoMap.size}get updatingRemaining(){let z=0;for(const y of this._layerLayerViewInfoMap.values())y.done||++z;return z}clear(){this.destroyed||(v.destroyMap(this._layerLayerViewInfoMap),
this._refreshCollections())}async whenLayerView(z){await this._reschedule();if(!this._layerLayerViewInfoMap.has(z)){if(this._recyclingInfoMap.has(z))return this._recyclingInfoMap.get(z).promise;throw new d("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:z});}return this._layerLayerViewInfoMap.get(z).promise}_refreshCollections(){for(const [z,y]of this._layersToLayerViews)this._populateLayerViewsOwners(h.get(this,z),h.get(this,y),this.view);this.notifyChange("updating");
this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(z,y,r){if(z&&y){var x=0;for(const B of z)z=this._layerLayerViewInfoMap.get(B),z?.layerView&&(z=z.layerView,z.layer=B,z.parent=r,y.at(x)!==z&&y.splice(x,0,z),B.layers&&this._populateLayerViewsOwners(B.layers,z.layerViews,z),x+=1);x<y.length&&y.splice(x,y.length)}else y&&y.removeAll()}_createLayerView(z){z.load().catch(()=>{});this.layerViewImporter.hasLayerViewModule(z)&&this.layerViewImporter.importLayerView(z);const y=new w(z,this.view,
this.layerViewImporter);y.promise.then(()=>this._refreshCollections(),r=>{r&&(q.isAbortError(r)||"cancelled:layerview-create"===r.name)||f.getLogger(this).error(`Failed to create layerview for layer title:'${z.title??"no title"}', id:'${z.id??"no id"}' of type '${z.type}'.`,{layer:z,error:r});this._refreshCollections()});this._layerLayerViewInfoMap.set(z,y);this.view.ready&&y.start();this.notifyChange("updating");this.notifyChange("updatingRemaining")}};a.__decorate([l.property()],b.prototype,"_workPromise",
void 0);a.__decorate([l.property({readOnly:!0})],b.prototype,"_watchUpdatingTracking",void 0);a.__decorate([l.property({readOnly:!0})],b.prototype,"_layersToLayerViews",null);a.__decorate([l.property({readOnly:!0})],b.prototype,"_rootCollectionNames",null);a.__decorate([l.property()],b.prototype,"layerViewImporter",void 0);a.__decorate([l.property()],b.prototype,"supportsGround",void 0);a.__decorate([l.property({readOnly:!0})],b.prototype,"updating",null);a.__decorate([l.property({readOnly:!0})],
b.prototype,"updatingRemaining",null);a.__decorate([l.property({constructOnly:!0})],b.prototype,"view",void 0);return b=a.__decorate([c.subclass("esri.views.LayerViewManager")],b)})},"esri/views/Magnifier":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,d,f,e,k,q,g){b=class extends b{constructor(p){super(p);
this.factor=1.5;this.offset=d.createScreenPoint(0,0);this.position=null;this.size=120;this.maskUrl=null;this.maskEnabled=!0;this.overlayUrl=null;this.visible=this.overlayEnabled=!0}get version(){this.commitProperty("factor");this.commitProperty("offset");this.commitProperty("position");this.commitProperty("visible");this.commitProperty("size");this.commitProperty("maskUrl");this.commitProperty("maskEnabled");this.commitProperty("overlayUrl");this.commitProperty("overlayEnabled");return(this._get("version")||
0)+1}};a.__decorate([f.property({type:Number})],b.prototype,"factor",void 0);a.__decorate([f.property({nonNullable:!0})],b.prototype,"offset",void 0);a.__decorate([f.property()],b.prototype,"position",void 0);a.__decorate([f.property({type:Number,range:{min:0}})],b.prototype,"size",void 0);a.__decorate([f.property()],b.prototype,"maskUrl",void 0);a.__decorate([f.property()],b.prototype,"maskEnabled",void 0);a.__decorate([f.property()],b.prototype,"overlayUrl",void 0);a.__decorate([f.property()],b.prototype,
"overlayEnabled",void 0);a.__decorate([f.property({readOnly:!0})],b.prototype,"version",null);a.__decorate([f.property({type:Boolean})],b.prototype,"visible",void 0);return b=a.__decorate([g.subclass("esri.views.Magnifier")],b)})},"esri/views/Theme":function(){define("../chunks/tslib.es6 ../Color ../core/Accessor ../core/Clonable ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,
b,d,f,e,k,q,g,p){d=class extends f.ClonableMixin(d){constructor(l){super(l);this.accentColor=new b([255,127,0]);this.textColor=new b([255,255,255])}};a.__decorate([e.property({type:b,nonNullable:!0})],d.prototype,"accentColor",void 0);a.__decorate([e.property({type:b,nonNullable:!0})],d.prototype,"textColor",void 0);return d=a.__decorate([p.subclass("esri.views.Theme")],d)})},"esri/views/ToolViewManager":function(){define("exports ../chunks/tslib.es6 ../core/Accessor ../core/clock ../core/Collection ../core/has ../core/Logger ../core/maybe ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ../core/support/UpdatingHandles ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/interfaces ./interactive/ToolViewManagerManipulatorState".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z){a.ToolViewManager=class extends d{constructor(y){super(y);this._updatingHandles=new c.UpdatingHandles;this._clock=f.clock;this._manipulatorState=new z.ToolViewManagerManipulatorState;this.tools=new e;this.cursor=null;this._interacting=!1;this._interactingTimeout=1E3;this._interactingTimeoutHandle=null;this._forEachTool=r=>{for(const x of this.tools.items)if(r(x))break}}initialize(){this.addHandles([this.view.on(t.eventTypes,y=>{this._handleInputEvent(y)},
h.ViewEventPriorities.TOOL),...v.getToolCollectionHandles(this.tools),this.tools.on("before-add",({item:y})=>{this._updateToolEditableFlag(y)}),this.tools.on("before-remove",({item:y})=>{this._manipulatorState.clearPointers(y,this._manipulatorStateEventArgs);this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null;this.tools.drain(y=>y.destroy());this._clearInteractingTimeout();this._interacting=!1;this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,
activeTool:this.activeTool,setActiveTool:y=>{this.activeTool=y},view:this.view}}set activeTool(y){if(null!=y&&!this.view.ready)q.getLogger(this).error("Cannot set active tool while view is not ready.");else if(y!==this.activeTool){var r=this.activeTool;this._set("activeTool",y);null!=r&&r.deactivate();null!=y&&y.activate();this._removeIncompleteTools(y);for(const x of this.tools)this._updateToolEditableFlag(x),y=v.areToolManipulatorsEditable(x),null!=this.activeTool&&y||this._manipulatorState.clearPointers(x,
this._manipulatorStateEventArgs,!y);this._updateCursor()}}get updating(){return this._updatingHandles.updating||this.tools.some(y=>y.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=g.removeMaybe(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout();this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){"3d"===this.view.type?this.addHandles([p.watch(()=>
{const {state:y}=this.view;return"camera"in y&&y.camera},()=>this._forEachManipulator(y=>y.onViewChange())),this.view.elevationProvider?.on("elevation-change",y=>this._forEachManipulator(r=>r.onElevationChange(y)))],"attached"):this.addHandles(p.watch(()=>this.view.extent,()=>this._forEachManipulator(y=>y.onViewChange())))}detach(){this.activeTool=null;this.tools.removeAll();this.removeHandles("attached");this._clearInteractingTimeout();this._interacting=!1}_forEachManipulator(y){this._forEachTool(r=>
{r.manipulators&&r.manipulators.forEach(({manipulator:x})=>y(x,r))})}_handleInputEvent(y){let r=!1;const x={...y,stopPropagation:()=>{r=!0;y.stopPropagation()}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(x):this._forEachTool(B=>{!r&&B.visible&&B.handleInputEvent(x)});!r&&"key-down"===y.type&&"Escape"===y.key&&this.activeTool&&(y.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(x,this._manipulatorStateEventArgs);r||null==
this.activeTool||this.activeTool.handleInputEventAfter(x);this._manipulatorState.handleHoverEvent(x,this._forEachTool);this._updateCursor();"pointer-move"===y.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles("tools");this._forEachTool(y=>{if(y instanceof d){const r=p.watch(()=>[y.cursor,y.visible,y.editable],()=>{v.areToolManipulatorsEditable(y)||this._manipulatorState.clearPointers(y,
this._manipulatorStateEventArgs);this._updateCursor()});this.addHandles(r,"tools")}y.manipulators&&this.addHandles([y.manipulators.on("after-remove",r=>{this._manipulatorState.clearPointers(y,this._manipulatorStateEventArgs,!0,r.item.manipulator)}),y.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()})],"tools")});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()}_updateToolEditableFlag(y){y.setEditableFlag?.(w.EditableFlag.MANAGER,
null==this.activeTool||y===this.activeTool)}_updateCursor(){let y=this._manipulatorState.cursor;null==y&&this._forEachTool(r=>null!=r.cursor&&r.visible?(y=r.cursor,!0):!1);this._get("cursor")!==y&&this._set("cursor",y)}_removeIncompleteTools(y){this.tools.filter(r=>(null==y||r!==y)&&!r.created&&r.removeIncompleteOnCancel).forEach(r=>{this.tools.remove(r)})}get test(){const y=this;return{setClock:r=>this._clock=r,set interactingTimeoutEnabled(r){y._interactingTimeout=r?1E3:0},get interactingTimeoutEnabled(){return 0!==
y._interactingTimeout}}}};b.__decorate([l.property({constructOnly:!0,nonNullable:!0})],a.ToolViewManager.prototype,"view",void 0);b.__decorate([l.property({value:null})],a.ToolViewManager.prototype,"activeTool",null);b.__decorate([l.property({readOnly:!0,type:e})],a.ToolViewManager.prototype,"tools",void 0);b.__decorate([l.property({readOnly:!0})],a.ToolViewManager.prototype,"cursor",void 0);b.__decorate([l.property({readOnly:!0})],a.ToolViewManager.prototype,"updating",null);b.__decorate([l.property()],
a.ToolViewManager.prototype,"_interacting",void 0);b.__decorate([l.property({readOnly:!0})],a.ToolViewManager.prototype,"interacting",null);a.ToolViewManager=b.__decorate([m.subclass("esri.views.ToolViewManager")],a.ToolViewManager);a.interactingTimeout=1E3;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputManager":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/Logger ../../core/Queue ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../3d/support/PropertiesPool ./keys ./handlers/LatestPointer ./handlers/MultiTouch".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c){a.InputManager=class extends d{constructor(y){super(y);this._pointerCaptures=new Map;this._nameToGroup={};this._handlers=[];this._handlersPriority=[];this._currentPropagation=null;this._updateDependenciesAfterPropagation=!1;this._sourceEvents=new Set;this._keyModifiers=new Set;this._activeKeyModifiers=new Set;this._stoppedPropagationEventIds=new Set;this.primaryKey=u.primaryKey;this._latestPointerType="mouse";this._propertiesPool=new n.PropertiesPool({latestPointerLocation:z},
this);this.latestPointerLocation=null;this._paused=!1;this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()}destroy(){const y=Object.keys(this._nameToGroup);for(const r of y)this.uninstallHandlers(r);this.eventSource.destroy();this._currentPropagation=null;this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(y=>y.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||
this._paused}installHandlers(y,r,x=v.INTERNAL){if(this._nameToGroup[y])f.getLogger(this).error("There is already an InputHandler group registered under the name `"+y+"`");else if(0===r.length)f.getLogger(this).error("Can't register a group of zero handlers");else{var B={name:y,handlers:r.map(A=>({handler:A,active:!0,removed:!1,priorityIndex:0,groupPriority:x,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[y]=B;for(y=B.handlers.length-1;0<=y;y--){const A=B.handlers[y];this._handlers.push(A);
A.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(E,F,L,D,M)=>{this._emitInputEvent(A.priorityIndex+1,E,F,L,M,D)},setPointerCapture:(E,F)=>{this._setPointerCapture(B,A,E,F)},setEventCallback:E=>{A.eventCallback=E},setUninstallCallback:E=>{A.uninstallCallback=E},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}}uninstallHandlers(y){const r=this._nameToGroup[y];r?(r.handlers.forEach(x=>{x.removed=!0;x.uninstallCallback?.()}),
delete this._nameToGroup[y],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):f.getLogger(this).error("There is no InputHandler group registered under the name `"+y+"`")}hasHandlers(y){return void 0!==this._nameToGroup[y]}updateDependencies(){if(this._currentPropagation)this._updateDependenciesAfterPropagation=!0;else{this._updateDependenciesAfterPropagation=!1;var y=new Set,r=new Set;this._handlersPriority=[];for(var x=this._handlers.length-
1;0<=x;x--){var B=this._handlers[x];B.priorityIndex=x;this._handlersPriority.push(B)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(x=this._handlersPriority.length-1;0<=x;x--){B=this._handlersPriority[x];B.priorityIndex=x;let A=B.handler.hasSideEffects;if(!A)for(const E of B.handler.outgoingEventTypes)if(y.has(E)){A=!0;break}if(A)for(const E of B.handler.incomingEventMatches){y.add(E.eventType);for(const F of E.keyModifiers)u.isSystemModifier(F)||r.add(F)}B.active=A}this._sourceEvents=
y;this._keyModifiers=r;0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up"));this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}}_setLatestPointer(y,r,x){this._latestPointerType=y;y=this._get("latestPointerLocation");if(null==y||y.x!==r||y.y!==x)y=this._propertiesPool.get("latestPointerLocation"),y.x=r,y.y=x,this._set("latestPointerLocation",y)}_onEventReceived(y,
r){"pointer-capture-lost"===y&&this._pointerCaptures.delete(r.native.pointerId);this._updateKeyModifiers(y,r);this._emitInputEventFromSource(y,r,null!=this.test.timestamp?this.test.timestamp:r.native?r.native.timestamp:void 0,r.native?r.native.cancelable:void 0)}_updateKeyModifiers(y,r){if(r){var x=!1,B=()=>{if(!x){const E=new Set;this._activeKeyModifiers.forEach(F=>{E.add(F)});this._activeKeyModifiers=E;x=!0}},A=(E,F)=>{F&&!this._activeKeyModifiers.has(E)?(B(),this._activeKeyModifiers.add(E)):!F&&
this._activeKeyModifiers.has(E)&&(B(),this._activeKeyModifiers.delete(E))};if("key-down"===y||"key-up"===y){const E=r.key;this._keyModifiers.has(E)&&A(E,"key-down"===y)}y=r.native;A("Alt",!(!y||!y.altKey));A("Ctrl",!(!y||!y.ctrlKey));A("Shift",!(!y||!y.shiftKey));A("Meta",!(!y||!y.metaKey));A("Primary",this._activeKeyModifiers.has(this.primaryKey))}}_installRecognizers(){this._latestPointerHandler=new m.LatestPointer((y,r,x)=>this._setLatestPointer(y,r,x));this._multiTouchHandler=new c.MultiTouch;
this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],v.ALWAYS);0<this.recognizers.length&&this.installHandlers("default",this.recognizers,v.INTERNAL)}_setPointerCapture(y,r,x,B){y=y.name+"-"+r.priorityIndex;r=this._pointerCaptures.get(x.pointerId)||new Set;this._pointerCaptures.set(x.pointerId,r);B?(r.add(y),1===r.size&&this.eventSource&&this.eventSource.setPointerCapture(x,!0)):r.has(y)&&(r.delete(y),0===r.size&&(this._pointerCaptures.delete(x.pointerId),
this.eventSource&&this.eventSource.setPointerCapture(x,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(y=>!y.removed);this.updateDependencies()}_emitInputEventFromSource(y,r,x,B){this._emitInputEvent(0,y,r,x,B)}_emitInputEvent(y,r,x,B,A,E){B=void 0!==B?B:this._currentPropagation?this._currentPropagation.timestamp:performance.now();y={event:new h(r,x,B,E||this._activeKeyModifiers,void 0!==A?A:!1),priorityIndex:y};this._currentPropagation?this._currentPropagation.events.push(y):
this._doNewPropagation(y)}_doNewPropagation(y){this._currentPropagation={events:new e,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:y.event.timestamp};this._currentPropagation.events.push(y);this._continuePropagation()}_continuePropagation(){this._paused=!1;const y=this._currentPropagation;if(y){for(;0<y.events.length;){const {event:r,priorityIndex:x}=y.events.pop(),B=r.data?.eventId;if(null==B||!this._stoppedPropagationEventIds.has(B))for(y.currentHandler=this._handlersPriority[x];y.currentHandler;){if(y.currentHandler.removed)y.needsHandlerGarbageCollect=
!0;else{y.currentHandler.active&&!r.shouldStopPropagation()&&y.currentHandler.eventCallback?.(r);if(r.shouldStopPropagation()){null!=B&&this._stoppedPropagationEventIds.add(B);break}if(r.shouldPausePropagation(()=>this._continuePropagation())){this._pausePropagation({event:r,priorityIndex:y.currentHandler.priorityIndex+1});return}}y.currentHandler=this._handlersPriority[y.currentHandler.priorityIndex+1]}}y.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();
this._currentPropagation=null;this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(y){const r=new e;r.push(y);if(y=this._currentPropagation){for(;y.events.length;)r.push(y.events.pop());y.events=r;y.currentHandler=null;this._paused=!0}}_compareHandlerPriority(y,r){if(y.handler.hasSideEffects!==r.handler.hasSideEffects)return y.handler.hasSideEffects?1:-1;if(y.groupPriority!==r.groupPriority)return y.groupPriority>r.groupPriority?-1:1;for(const x of y.handler.incomingEventMatches)for(const B of r.handler.incomingEventMatches){if(x.eventType!==
B.eventType)continue;const A=x.keyModifiers.filter(E=>B.keyModifiers.includes(E));if(A.length===x.keyModifiers.length!==(A.length===B.keyModifiers.length))return x.keyModifiers.length>B.keyModifiers.length?-1:1}return y.priorityIndex>r.priorityIndex?-1:1}_sortHandlersPriority(y){const r=[];for(const x of y){for(y=0;y<r.length&&0<=this._compareHandlerPriority(x,r[y]);)y++;r.splice(y,0,x)}return r}get debug(){const y=r=>{const x=this._setPointerCapture;this._setPointerCapture=()=>{};r();this._setPointerCapture=
x};return{injectEvent:(r,x)=>{y(()=>{this._onEventReceived(r,x)})},disablePointerCapture:y}}};b.__decorate([k.property({readOnly:!0})],a.InputManager.prototype,"hasPendingInputs",null);b.__decorate([k.property({constructOnly:!0})],a.InputManager.prototype,"eventSource",void 0);b.__decorate([k.property({constructOnly:!0})],a.InputManager.prototype,"recognizers",void 0);b.__decorate([k.property()],a.InputManager.prototype,"_latestPointerType",void 0);b.__decorate([k.property()],a.InputManager.prototype,
"latestPointerType",null);b.__decorate([k.property()],a.InputManager.prototype,"multiTouchActive",null);b.__decorate([k.property({readOnly:!0})],a.InputManager.prototype,"latestPointerLocation",void 0);b.__decorate([k.property()],a.InputManager.prototype,"_paused",void 0);b.__decorate([k.property({readOnly:!0})],a.InputManager.prototype,"updating",null);a.InputManager=b.__decorate([l.subclass("esri.views.input.InputManager")],a.InputManager);class h{constructor(y,r,x,B,A){this.type=y;this.data=r;
this.timestamp=x;this.modifiers=B;this.cancelable=A;this._propagationState=t.NONE;this._resumeCallback=null}stopPropagation(){this._propagationState|=t.STOPPED}shouldStopPropagation(){return 0!==(this._propagationState&t.STOPPED)}async(y){this._propagationState|=t.PAUSED;const r=(x,B)=>{this._propagationState&=~t.PAUSED;const A=this._resumeCallback;this._resumeCallback=null;A&&A();if(B)throw x;return x};return("function"===typeof y?y():y).then(x=>r(x,!1),x=>r(x,!0))}shouldPausePropagation(y){return this._propagationState&
t.PAUSED?(this._resumeCallback=y,!0):!1}preventDefault(){this.data.native.preventDefault()}}var t;(function(y){y[y.NONE=0]="NONE";y[y.STOPPED=1]="STOPPED";y[y.PAUSED=2]="PAUSED"})(t||(t={}));const v={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};class w{}const z=w;a.ViewEventPriorities=v;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/PropertiesPool":function(){define(["exports","../../../core/ReentrantObjectPool","../../../core/accessorSupport/watch"],function(a,
b,d){class f{constructor(e,k){this._owner=k;this._properties={};this._afterDispatchHandle=null;for(const q in e)k=new b.ReentrantObjectPool(e[q],void 0,void 0,2,2),this._properties[q]={pool:k,acquired:[]};this._afterDispatchHandle=d.afterDispatch(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const e in this._properties){const k=this._properties[e];for(const q of k.acquired)d.isValueInUse(q)||k.pool.release(q);k.pool.destroy();
k.pool=null;k.acquired=null}this._owner=this._properties=null}get(e){const k=this._owner._get(e);e=this._properties[e];let q=e.pool.acquire();for(e.acquired.push(q);q===k;)e.acquired.push(q),q=e.pool.acquire();return q}_release(){for(const e in this._properties){const k=this._properties[e];let q=0;for(const g of k.acquired)d.isValueInUse(g)?k.acquired[q++]=g:k.pool.release(g);k.acquired.length=q}}}a.PropertiesPool=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/keys":function(){define(["exports",
"../../core/events","../../core/has"],function(a,b,d){d=d("mac")?"Meta":"Ctrl";const f={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(var e=48;58>e;e++)f[e]=String.fromCharCode(e);for(e=1;25>e;e++)f[111+e]=`F${e}`;for(e=65;91>e;e++)f[e]=[String.fromCharCode(e+32),String.fromCharCode(e)];a.eventKey=function(k){if(void 0!==k.key)return b.eventKey(k);const q=f[k.keyCode];
return Array.isArray(q)?k.shiftKey?q[1]:q[0]:q};a.isSystemModifier=function(k){switch(k){case "Ctrl":case "Alt":case "Shift":case "Meta":case "Primary":return!0}return!1};a.primaryKey=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/handlers/LatestPointer":function(){define(["exports","../InputHandler"],function(a,b){class d extends b.InputHandler{constructor(f){super(!0);this._onChange=f;this._value="mouse";this._y=this._x=null;this.registerIncoming("pointer-move",
e=>{this._update(e.data)})}_update(f){const e="touch"===f.native.pointerType?"touch":"mouse",{x:k,y:q}=f;if(e!==this._value||this._x!==k||this._y!==q)this._value=e,this._x=k,this._y=q,this._onChange(e,k,q)}}a.LatestPointer=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputHandler":function(){define(["exports","../../core/Logger","./EventMatch"],function(a,b,d){const f=b.getLogger("esri.views.input.InputHandler");class e{constructor(g){this._manager=null;this._incoming=
{};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;this._hasSideEffects=g}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const g in this._incoming){const p=this._incoming[g];for(const l of p)this._incomingEventMatches.push(l.match)}}return this._incomingEventMatches}get incomingEventTypes(){this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(g=>g.eventType));return this._incomingEventTypes}get outgoingEventTypes(){this._outgoingEventTypes||
(this._outgoingEventTypes=Object.keys(this._outgoing));return this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(g){this._manager?f.error("This InputHandler has already been registered with an InputManager"):(g.setEventCallback(p=>this._handleEvent(p)),g.setUninstallCallback(()=>this._onUninstall()),this._manager=g)}onUninstall(){}registerIncoming(g,p,l){"function"===typeof p?(l=p,p=[]):p=p||[];g="string"===typeof g?new d.EventMatch(g,
p):g;const n=()=>{this._incomingEventMatches=this._incomingEventTypes=null};p=u=>{const m=this._incoming[u.match.eventType];m&&(u=m.indexOf(u),m.splice(u,1),n(),this._manager&&this._manager.updateDependencies())};l=new k(g,l,{onPause:p,onRemove:p,onResume:u=>{const m=this._incoming[u.match.eventType];m&&!m.includes(u)&&(m.push(u),n(),this._manager&&this._manager.updateDependencies())}});p=this._incoming[g.eventType];p||(p=[],this._incoming[g.eventType]=p);p.push(l);n();this._manager&&this._manager.updateDependencies();
return l}registerOutgoing(g){if(this._outgoing[g])throw Error("There is already a callback registered for this outgoing InputEvent: "+g);const p=new q(g,{onEmit:(l,n,u,m)=>{this._manager?.emit(l.eventType,n,u,m)},onRemove:l=>{delete this._outgoing[l.eventType];this._manager?.updateDependencies()}});this._outgoing[g]=p;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();return p}startCapturingPointer(g){this._manager?.setPointerCapture(g,!0)}stopCapturingPointer(g){this._manager?.setPointerCapture(g,
!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):f.error("This InputHandler is not registered with an InputManager")}_handleEvent(g){const p=this._incoming[g.type];if(p)for(const l of p)if(l.match.matches(g)&&(l.callback?.(g),g.shouldStopPropagation()))break}}class k{constructor(g,p,l){this.match=g;this._callback=p;this._handler=l}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}
class q{constructor(g,p){this.eventType=g;this._removed=!1;this._handler=p}emit(g,p,l){if(!this._removed)this._handler.onEmit(this,g,p,l)}remove(){this._removed=!0;this._handler.onRemove(this)}}a.InputHandler=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/EventMatch":function(){define(["exports"],function(a){class b{constructor(d,f=[]){this.eventType=d;this.keyModifiers=f}matches(d){if(d.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;d=
d.modifiers;for(const f of this.keyModifiers)if(!d.has(f))return!1;return!0}}a.EventMatch=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/handlers/MultiTouch":function(){define(["exports","../../../core/signal","../InputHandler"],function(a,b,d){class f extends d.InputHandler{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0);this._activeTouchPointerIds=new Set;this._multiTouchActive=b.signal(!1);this._onPointerAdd=({data:e})=>{"touch"===
e.pointerType&&(this._activeTouchPointerIds.add(e.native.pointerId),this._update())};this._onPointerRemove=({data:e})=>{"touch"===e.pointerType&&(this._activeTouchPointerIds.delete(e.native.pointerId),this._update())};this.registerIncoming("pointer-down",this._onPointerAdd);this.registerIncoming("pointer-up",this._onPointerRemove);this.registerIncoming("pointer-capture-lost",this._onPointerRemove);this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=
1<this._activeTouchPointerIds.size}}a.MultiTouch=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/signal":function(){define(["exports","./lang","./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],function(a,b,d,f){class e{constructor(k,q){this._observable=new f.SimpleObservable;this._value=k;this._equalityFunction=q}get value(){d.trackAccess(this._observable);return this._value}set value(k){this._equalityFunction(k,this._value)||(this._value=k,this._observable.notify())}mutate(k){k(this._value);
this._observable.notify()}}a.signal=function(k,q=b.equalsShallow){return new e(k,q)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/ViewEvents":function(){define("exports ../../core/has ../../core/handleUtils ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager ./IViewEvents".split(" "),function(a,b,d,f,e,k,q,g){function p(c){return!!n[c]}function l(c){for(const h of c)if(!p(h))return!1;return!0}b="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");
const n={};b.forEach(c=>{n[c]=!0});class u{constructor(c){this._handlers=new Map;this._counter=0;this._handlerCounts=new Map;this.view=c;this.inputManager=null}connect(c){c&&this.disconnect();this.inputManager=c;this._handlers.forEach(({handler:h,priority:t},v)=>this.inputManager?.installHandlers(v,[h],t))}disconnect(){this.inputManager&&this._handlers.forEach((c,h)=>this.inputManager?.uninstallHandlers(h));this.inputManager=null}destroy(){this.disconnect();this._handlers.clear();this.view=null}on(c,
h,t,v){const w=Array.isArray(c)?c:c.split(",");if(!l(w))return w.some(p)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;if(Array.isArray(h))c=h;else{var z=h;c=[]}"function"===typeof t?z=t:v=t;v=null!=v?v:q.ViewEventPriorities.DEFAULT;const y=this._createUniqueGroupName();t=new m(this.view,w,c,z);this._handlers.set(y,{handler:t,priority:v});for(const r of w)z=this._handlerCounts.get(r)||0,this._handlerCounts.set(r,z+1);this.inputManager&&
this.inputManager.installHandlers(y,[t],v);return d.makeHandle(()=>this._removeHandler(y,w))}hasHandler(c){return!!this._handlerCounts.get(c)}_removeHandler(c,h){if(this._handlers.has(c)){this._handlers.delete(c);for(const t of h)h=this._handlerCounts.get(t),void 0===h?console.error("Trying to remove handler for event that has no handlers registered: ",t):1===h?this._handlerCounts.delete(t):this._handlerCounts.set(t,h-1)}this.inputManager&&this.inputManager.uninstallHandlers(c)}_createUniqueGroupName(){this._counter+=
1;return`viewEvents_${this._counter}`}}class m extends k.InputHandler{constructor(c,h,t,v){super(!0);this._latestDragStart=void 0;this.view=c;for(const w of h)switch(w){case "click":this.registerIncoming("click",t,z=>v(this._wrapClick(z)));break;case "double-click":this.registerIncoming("double-click",t,z=>v(this._wrapDoubleClick(z)));break;case "immediate-click":this.registerIncoming("immediate-click",t,z=>v(this._wrapImmediateClick(z)));break;case "immediate-double-click":this.registerIncoming("immediate-double-click",
t,z=>v(this._wrapImmediateDoubleClick(z)));break;case "hold":this.registerIncoming("hold",t,z=>v(this._wrapHold(z)));break;case "drag":this.registerIncoming("drag",t,z=>{(z=this._wrapDrag(z))&&v(z)});break;case "key-down":this.registerIncoming("key-down",t,z=>v(this._wrapKeyDown(z)));break;case "key-up":this.registerIncoming("key-up",t,z=>v(this._wrapKeyUp(z)));break;case "pointer-down":this.registerIncoming("pointer-down",t,z=>v(this._wrapPointer(z,"pointer-down")));break;case "pointer-move":this.registerIncoming("pointer-move",
t,z=>v(this._wrapPointer(z,"pointer-move")));break;case "pointer-up":this.registerIncoming("pointer-up",t,z=>v(this._wrapPointer(z,"pointer-up")));break;case "pointer-drag":this.registerIncoming("pointer-drag",t,z=>v(this._wrapPointerDrag(z)));break;case "mouse-wheel":this.registerIncoming("mouse-wheel",t,z=>v(this._wrapMouseWheel(z)));break;case "pointer-enter":this.registerIncoming("pointer-enter",t,z=>v(this._wrapPointer(z,"pointer-enter")));break;case "pointer-leave":this.registerIncoming("pointer-leave",
t,z=>v(this._wrapPointer(z,"pointer-leave")));break;case "gamepad":this.registerIncoming("gamepad",t,z=>{v(this._wrapGamepad(z))});break;case "focus":this.registerIncoming("focus",t,z=>{v(this._wrapFocus(z))});break;case "blur":this.registerIncoming("blur",t,z=>{v(this._wrapBlur(z))})}}_wrapFocus(c){return{type:"focus",timestamp:c.timestamp,native:c.data.native,cancelable:c.cancelable,stopPropagation:()=>c.stopPropagation(),async:h=>c.async(h),preventDefault:()=>c.preventDefault()}}_wrapBlur(c){return{type:"blur",
timestamp:c.timestamp,native:c.data.native,cancelable:c.cancelable,stopPropagation:()=>c.stopPropagation(),async:h=>c.async(h),preventDefault:()=>c.preventDefault()}}_wrapClick(c){const {pointerType:h,button:t,buttons:v,x:w,y:z,native:y,eventId:r}=c.data,{cancelable:x,timestamp:B}=c,A=e.createScreenPoint(w,z),E=this._getMapPoint(w,z);return{type:"click",pointerType:h,button:t,buttons:v,x:w,y:z,native:y,timestamp:B,screenPoint:A,mapPoint:E,eventId:r,cancelable:x,stopPropagation:()=>c.stopPropagation(),
async:F=>c.async(F),preventDefault:()=>c.preventDefault()}}_wrapDoubleClick(c){const {pointerType:h,button:t,buttons:v,x:w,y:z,native:y,eventId:r}=c.data,{cancelable:x,timestamp:B}=c;return{type:"double-click",pointerType:h,button:t,buttons:v,x:w,y:z,native:y,timestamp:B,mapPoint:this._getMapPoint(w,z),eventId:r,cancelable:x,stopPropagation:()=>c.stopPropagation(),async:A=>c.async(A),preventDefault:()=>c.preventDefault()}}_wrapImmediateClick(c){const {pointerType:h,button:t,buttons:v,x:w,y:z,native:y,
eventId:r}=c.data,x=y.pointerId,{cancelable:B,timestamp:A}=c;return{type:"immediate-click",pointerId:x,pointerType:h,button:t,buttons:v,x:w,y:z,native:y,timestamp:A,mapPoint:this._getMapPoint(w,z),eventId:r,cancelable:B,stopPropagation:()=>c.stopPropagation(),async:E=>c.async(E),preventDefault:()=>c.preventDefault()}}_wrapImmediateDoubleClick(c){const {pointerType:h,button:t,buttons:v,x:w,y:z,native:y,eventId:r}=c.data,x=y.pointerId,{cancelable:B,timestamp:A}=c;return{type:"immediate-double-click",
pointerId:x,pointerType:h,button:t,buttons:v,x:w,y:z,native:y,timestamp:A,mapPoint:this._getMapPoint(w,z),eventId:r,cancelable:B,stopPropagation:()=>c.stopPropagation(),async:E=>c.async(E),preventDefault:()=>c.preventDefault()}}_wrapHold(c){const {pointerType:h,button:t,buttons:v,x:w,y:z,native:y}=c.data,{cancelable:r,timestamp:x}=c;return{type:"hold",pointerType:h,button:t,buttons:v,x:w,y:z,native:y,timestamp:x,mapPoint:this._getMapPoint(w,z),cancelable:r,stopPropagation:()=>c.stopPropagation(),
async:B=>c.async(B),preventDefault:()=>c.preventDefault()}}_getMapPoint(c,h){return this.view.toMap(e.createScreenPoint(c,h),{exclude:[]})}_wrapDrag(c){const h=c.data,{x:t,y:v}=h.center,{action:w,pointerType:z,button:y}=h;"start"===w&&(this._latestDragStart=h);if(this._latestDragStart){var r=h.pointer.native,x=h.buttons,{cancelable:B,timestamp:A}=c,E={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};"end"===w&&(this._latestDragStart=void 0);return{type:"drag",action:w,x:t,y:v,origin:E,
pointerType:z,button:y,buttons:x,radius:h.radius,angle:f.rad2deg(h.angle),native:r,timestamp:A,cancelable:B,stopPropagation:()=>c.stopPropagation(),async:F=>c.async(F),preventDefault:()=>c.preventDefault()}}}_wrapKeyDown(c){const {key:h,repeat:t,native:v}=c.data,{cancelable:w,timestamp:z}=c;return{type:"key-down",key:h,repeat:t,native:v,timestamp:z,cancelable:w,stopPropagation:()=>c.stopPropagation(),async:y=>c.async(y),preventDefault:()=>c.preventDefault()}}_wrapKeyUp(c){const {key:h,native:t}=c.data,
{cancelable:v,timestamp:w}=c;return{type:"key-up",key:h,native:t,timestamp:w,cancelable:v,stopPropagation:()=>c.stopPropagation(),async:z=>c.async(z),preventDefault:()=>c.preventDefault()}}_wrapPointer(c,h){const {x:t,y:v,button:w,buttons:z,native:y,eventId:r}=c.data,x=y.pointerId,B=y.pointerType,{cancelable:A,timestamp:E}=c;return{type:h,x:t,y:v,pointerId:x,pointerType:B,button:w,buttons:z,native:y,timestamp:E,eventId:r,cancelable:A,stopPropagation:()=>c.stopPropagation(),async:F=>c.async(F),preventDefault:()=>
c.preventDefault()}}_wrapPointerDrag(c){const {x:h,y:t,buttons:v,native:w,eventId:z}=c.data.currentEvent,{button:y}=c.data.startEvent,r=c.data.startEvent.native.pointerId,x=c.data.startEvent.native.pointerType,B=c.data.action,A={x:c.data.startEvent.x,y:c.data.startEvent.y},{cancelable:E,timestamp:F}=c;return{type:"pointer-drag",x:h,y:t,pointerId:r,pointerType:x,button:y,buttons:v,action:B,origin:A,native:w,timestamp:F,eventId:z,cancelable:E,stopPropagation:()=>c.stopPropagation(),async:L=>c.async(L),
preventDefault:()=>c.preventDefault()}}_wrapMouseWheel(c){const {cancelable:h,data:t,timestamp:v}=c,{x:w,y:z,deltaY:y,native:r}=t;return{type:"mouse-wheel",x:w,y:z,deltaY:y,native:r,timestamp:v,cancelable:h,stopPropagation:()=>c.stopPropagation(),async:x=>c.async(x),preventDefault:()=>c.preventDefault()}}_wrapGamepad(c){const {action:h,state:t,device:v}=c.data,{cancelable:w,timestamp:z}=c,{buttons:y,axes:r}=t;return{type:"gamepad",device:v,timestamp:z,action:h,buttons:y,axes:r,cancelable:w,stopPropagation:()=>
c.stopPropagation(),async:x=>c.async(x),preventDefault:()=>c.preventDefault()}}}Object.defineProperty(a,"MouseButton",{enumerable:!0,get:()=>g.MouseButton});a.ViewEvents=u;a.eventTypes=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/IViewEvents":function(){define(["exports"],function(a){a.MouseButton=void 0;var b=a.MouseButton||(a.MouseButton={});b[b.Left=0]="Left";b[b.Middle=1]="Middle";b[b.Right=2]="Right";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/views/interactive/interactiveToolUtils":function(){define(["exports","../../core/Logger","./interfaces"],function(a,b,d){a.areToolManipulatorsEditable=function(f){return f.visible&&null!=f.getEditableFlag&&f.getEditableFlag(d.EditableFlag.USER)&&f.getEditableFlag(d.EditableFlag.MANAGER)};a.getToolCollectionHandles=function(f){return[f.on("before-add",e=>{const k=e.item;if(null==k||f.includes(k))b.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),
e.preventDefault();else k.onAdd()}),f.on("after-remove",e=>{e=e.item;e.active&&(e.view.activeTool=null);e.destroy()})]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interfaces":function(){define(["exports"],function(a){a.EditableFlag=void 0;(function(b){b[b.USER=0]="USER";b[b.MANAGER=1]="MANAGER"})(a.EditableFlag||(a.EditableFlag={}));a.ManipulatorStateFlags=void 0;(function(b){b[b.None=0]="None";b[b.Unfocused=1]="Unfocused";b[b.Focused=2]="Focused";b[b.Unselected=
4]="Unselected";b[b.Selected=8]="Selected";b[b.All=15]="All"})(a.ManipulatorStateFlags||(a.ManipulatorStateFlags={}));a.ManipulatorStateCustomFlags=void 0;(function(b){b[b.None=0]="None";b[b.Custom1=16]="Custom1";b[b.Custom2=32]="Custom2";b[b.Custom3=64]="Custom3";b[b.Custom4=128]="Custom4";b[b.Custom5=256]="Custom5";b[b.Custom6=512]="Custom6";b[b.Custom7=1024]="Custom7";b[b.Custom8=2048]="Custom8";b[b.Custom9=4096]="Custom9";b[b.Custom10=8192]="Custom10";b[b.Custom11=16384]="Custom11";b[b.Custom12=
32768]="Custom12";b[b.All=65520]="All"})(a.ManipulatorStateCustomFlags||(a.ManipulatorStateCustomFlags={}));Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("exports ../../core/iteratorUtils ../../core/MapUtils ../../core/mathUtils ../../core/screenUtils ./interactiveToolUtils ../support/screenUtils".split(" "),function(a,b,d,f,e,k,q){class g{constructor(){this._pointerLocations=new Map;this._hoveredManipulators=
new Map;this._grabbedManipulators=new Map;this._draggedManipulators=new Map;this._revertToNullActiveTool=this._stopDrag=!1;this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return 0<this._grabbedManipulators.size||0<this._draggedManipulators.size}handleInputEvent(p,l){var n=()=>p.stopPropagation();switch(p.type){case "pointer-move":"mouse"===p.pointerType&&this._pointerLocations.set(p.pointerId,{x:p.x,y:p.y,pointerType:p.pointerType});break;case "drag":0<this._grabbedManipulators.size&&
(this._stopDrag=!0);this._stopDrag&&(p.stopPropagation(),"end"===p.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===p.pointerType&&0!==p.button)break;n=q.createScreenPointFromEvent(p);var u=this._intersect(n,p.pointerType,l.forEachTool);if(null==u)break;var m=u.manipulator,c=u.tool;null==m||null==c||!m.interactive||m.grabbable&&m.grabbableForEvent(p)||!m.grabbing||m.dragging||this._ungrabManipulatorBeforeDragging(m,p,l);null!=m&&null!=c&&m.interactive&&m.grabbable&&m.grabbableForEvent(p)&&
!m.grabbing&&(this._grabbedManipulators.set(p.pointerId,{manipulator:m,tool:c,start:n,pointerType:p.pointerType}),1===this._grabbedManipulators.size&&null==l.activeTool&&(this._revertToNullActiveTool=!0,l.setActiveTool(u.tool)),m.grabbing=!0,m.events.emit("grab-changed",{action:"start",pointerType:p.pointerType,screenPoint:n}),p.stopPropagation());break;case "pointer-up":this._draggedManipulators.has(p.pointerId)||this._handlePointerEnd(p,l);break;case "pointer-drag":if("mouse"===p.pointerType&&0!==
p.button)break;c=this._grabbedManipulators.get(p.pointerId);n=c?.manipulator;u=c?.tool;if(null==n||null==u)break;m=q.createScreenPointFromEvent(p);m.x=f.clamp(m.x,0,l.view.width);m.y=f.clamp(m.y,0,l.view.height);c=c.start;const h=this._draggedManipulators.get(p.pointerId);switch(p.action){case "start":case "update":if("update"===p.action||1===this._grabbedManipulators.size)n.dragging=!0,h?n.events.emit("drag",{action:"update",start:c,screenPoint:m}):n.events.emit("drag",{action:"start",start:c,screenPoint:m,
pointerType:p.pointerType}),this._draggedManipulators.set(p.pointerId,{tool:u,manipulator:n,start:c});break;case "end":n.dragging=!1,h&&n.events.emit("drag",{action:"end",start:c,screenPoint:m}),this._draggedManipulators.delete(p.pointerId),this._handlePointerEnd(p,l)}p.stopPropagation();break;case "immediate-click":u=q.createScreenPointFromEvent(p);const t=this._intersect(u,p.pointerType,l.forEachTool);p.native.shiftKey||l.forEachTool(z=>{if((null==t||t.tool!==z||z.automaticManipulatorSelection)&&
z.manipulators){let y=!1;z.manipulators.forEach(({manipulator:r})=>{r.selected&&(r.selected=!1,y=!0)});if(y&&z.onManipulatorSelectionChanged)z.onManipulatorSelectionChanged()}});if(null==t)break;const {manipulator:v,tool:w}=t;if(!v.interactive)break;if(v.selectable&&w.automaticManipulatorSelection&&(v.selected=!v.selected,w.onManipulatorSelectionChanged))w.onManipulatorSelectionChanged();v.events.emit("immediate-click",{screenPoint:u,button:p.button,pointerType:p.pointerType,shiftKey:p.native.shiftKey,
stopPropagation:n});v?.consumesClicks&&p.stopPropagation();break;case "click":n=q.createScreenPointFromEvent(p);u=this._intersect(n,p.pointerType,l.forEachTool)?.manipulator;if(null==u||!u.interactive)break;u.events.emit(p.type,{screenPoint:n,button:p.button,pointerType:p.pointerType,shiftKey:p.native.shiftKey});p.stopPropagation();break;case "double-click":u=q.createScreenPointFromEvent(p);m=this._intersect(u,p.pointerType,l.forEachTool);m=null!=m?m.manipulator:null;if(null==m||!m.interactive)break;
m.events.emit("double-click",{screenPoint:u,button:p.button,pointerType:p.pointerType,shiftKey:p.native.shiftKey,stopPropagation:n});m?.consumesClicks&&p.stopPropagation();break;case "immediate-double-click":u=q.createScreenPointFromEvent(p),m=this._intersect(u,p.pointerType,l.forEachTool),m=null!=m?m.manipulator:null,null!=m&&m.interactive&&(m.events.emit("immediate-double-click",{screenPoint:u,button:p.button,pointerType:p.pointerType,shiftKey:p.native.shiftKey,stopPropagation:n}),m?.consumesClicks&&
p.stopPropagation())}this._onFocusChange(l.forEachTool)}_ungrabManipulatorBeforeDragging(p,l,n){p.grabbing=!1;p.events.emit("grab-changed",{action:"end",pointerType:l.pointerType,screenPoint:q.createScreenPointFromEvent(l)});this._grabbedManipulators.forEach(({manipulator:u},m)=>{u===p&&this._grabbedManipulators.delete(m)});this._afterManipulatorUngrab(n.setActiveTool)}_handlePointerEnd(p,l){const n=this._grabbedManipulators.get(p.pointerId)?.manipulator;null!=n&&n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",
{action:"end",pointerType:p.pointerType,screenPoint:q.createScreenPointFromEvent(p)}),this._grabbedManipulators.delete(p.pointerId),this._afterManipulatorUngrab(l.setActiveTool))}_cursorFromMap(p){let l=null;d.someMap(p,({manipulator:n})=>{if(null!=n&&n.interactive){if(n.grabbing&&n.grabCursor)return l=n.grabCursor,!0;if(n.cursor)return l=n.cursor,!0}return!1});return l}_onFocusChange(p){this._updateCursor();this._updateFocusedManipulatorTools(p)}_updateCursor(){this._cursor=0<this._grabbedManipulators.size?
this._cursorFromMap(this._grabbedManipulators)||"grabbing":0<this._hoveredManipulators.size?this._cursorFromMap(this._hoveredManipulators)||"pointer":null}_updateFocusedManipulatorTools(p){const l=new Set,n=new Set;this._grabbedManipulators.forEach(({tool:u})=>{l.add(u)});this._hoveredManipulators.forEach(({tool:u})=>{n.add(u)});p(u=>{u.hasGrabbedManipulators=l.has(u);u.hasHoveredManipulators=n.has(u);var m=this._grabbedManipulators.values();m=b.find(m,({tool:c})=>c===u);u.firstGrabbedManipulator=
null!=m?m.manipulator:null})}clearPointers(p,{forEachTool:l,setActiveTool:n},u=!0,m){this._grabbedManipulators.forEach(({tool:c,manipulator:h,pointerType:t},v)=>{c!==p||null!=m&&m!==h||(this._grabbedManipulators.delete(v),h.grabbing=!1,h.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:t}))});this._draggedManipulators.forEach(({tool:c,manipulator:h},t)=>{c!==p||null!=m&&m!==h||(this._draggedManipulators.delete(t),h.dragging=!1,h.events.emit("drag",{action:"cancel"}))});u&&this._hoveredManipulators.forEach(({tool:c,
manipulator:h},t)=>{c!==p||null!=m&&m!==h||(this._hoveredManipulators.delete(t),h.hovering=!1)});this._afterManipulatorUngrab(n);this._onFocusChange(l)}_intersect(p,l,n){let u=null;n(m=>{if(null==m.manipulators||!k.areToolManipulatorsEditable(m))return!1;const c=m.manipulators.intersect(p,l);if(null==c)return!1;u={tool:m,manipulator:c};return!0});return u}updateHoveredStateFromKnownPointers(p){this._pointerLocations.forEach((l,n)=>{this._updateHoveredStateForPointerAtScreenPosition(e.createScreenPoint(l.x,
l.y),n,l.pointerType,p)})}handleHoverEvent(p,l){"pointer-up"!==p.type&&"immediate-click"!==p.type&&"pointer-move"!==p.type||"mouse"!==p.pointerType||this._updateHoveredStateForPointerAtScreenPosition(q.createScreenPointFromEvent(p),p.pointerId,p.pointerType,l)}_updateHoveredStateForPointerAtScreenPosition(p,l,n,u){p=this._intersect(p,n,u);n=this._hoveredManipulators.get(l)?.manipulator;null==p||p.manipulator.interactive||(p=null);if(null==p||n!==p.manipulator)null!=n&&(n.hovering=!1),null!=p?(p.manipulator.hovering=
!0,this._hoveredManipulators.set(l,p)):this._hoveredManipulators.delete(l),this._onFocusChange(u)}_afterManipulatorUngrab(p){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(p(null),this._revertToNullActiveTool=!1)}}a.ToolViewManagerManipulatorState=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/screenUtils":function(){define(["exports","../../core/has","../../core/screenUtils"],function(a,b,d){function f(k){return d.createScreenPoint(k.x,k.y)}
function e(k,q){return(k=(k instanceof HTMLElement?k:k.surface)?.getBoundingClientRect())?d.createScreenPoint(q.clientX-k.left,q.clientY-k.top):d.createScreenPoint(0,0)}a.createScreenPointArrayFromEvent=function(k){return d.createScreenPointArray(k.x,k.y)};a.createScreenPointFromEvent=f;a.createScreenPointFromNativeEvent=e;a.createScreenPointFromSupportedEvent=function(k,q){return q instanceof Event?e(k,q):f(q)};a.isSupportedScreenPointEvent=function(k){if(k instanceof Event)return!0;if("object"===
typeof k&&"type"in k)switch(k.type){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0}return!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/Input":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),
function(a,b,d,f,e,k,q,g){b=class extends b{constructor(){super(...arguments);this.gamepad=new g}};a.__decorate([d.property({readOnly:!0})],b.prototype,"gamepad",void 0);return b=a.__decorate([q.subclass("esri.views.input.Input")],b)})},"esri/views/input/gamepad/GamepadSettings":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Collection ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ./GamepadInputDevice".split(" "),
function(a,b,d,f,e,k,q,g,p){b=class extends b{constructor(...l){super(...l);this.devices=new d;this.enabledFocusMode="document"}};a.__decorate([f.property({type:d.ofType(p),readOnly:!0})],b.prototype,"devices",void 0);a.__decorate([f.property({type:["document","view","none"]})],b.prototype,"enabledFocusMode",void 0);return b=a.__decorate([g.subclass("esri.views.input.gamepad.GamepadSettings")],b)})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q){b=class extends b{constructor(l){super();this.nativeIndex=null;this._detectedDeviceType="unknown";"standard"===l.mapping?this._detectedDeviceType="standard":g.test(l.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown";this.nativeIndex=l.index}get native(){const l=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<l.length?l[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return p[this.deviceType]}};
a.__decorate([d.property({nonNullable:!0,readOnly:!0})],b.prototype,"nativeIndex",void 0);a.__decorate([d.property({type:String,readOnly:!0})],b.prototype,"deviceType",null);a.__decorate([d.property({type:Number,readOnly:!0})],b.prototype,"axisThreshold",null);b=a.__decorate([q.subclass("esri.views.input.gamepad.GamepadInputDevice")],b);const g=RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),p={standard:.15,spacemouse:.025,unknown:0};return b})},"esri/views/navigation/Navigation":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),
function(a,b,d,f,e,k,q,g){b=class extends b{constructor(p){super(p);this.browserTouchPanEnabled=!0;this.gamepad=new g;this.mouseWheelZoomEnabled=this.momentumEnabled=!0}};a.__decorate([d.property({type:Boolean})],b.prototype,"browserTouchPanEnabled",void 0);a.__decorate([d.property({type:g,nonNullable:!0})],b.prototype,"gamepad",void 0);a.__decorate([d.property({type:Boolean})],b.prototype,"momentumEnabled",void 0);a.__decorate([d.property({type:Boolean})],b.prototype,"mouseWheelZoomEnabled",void 0);
return b=a.__decorate([q.subclass("esri.views.navigation.Navigation")],b)})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../input/gamepad/GamepadInputDevice".split(" "),function(a,b,d,f,e,k,q,g){b=class extends b{constructor(p){super(p);this.enabled=
!0;this.device=null;this.mode="pan";this.tiltDirection="forward-down";this.velocityFactor=1}};a.__decorate([d.property({type:Boolean,nonNullable:!0})],b.prototype,"enabled",void 0);a.__decorate([d.property({type:g})],b.prototype,"device",void 0);a.__decorate([d.property({type:["pan","zoom"],nonNullable:!0})],b.prototype,"mode",void 0);a.__decorate([d.property({type:["forward-down","forward-up"],nonNullable:!0})],b.prototype,"tiltDirection",void 0);a.__decorate([d.property({type:Number,nonNullable:!0})],
b.prototype,"velocityFactor",void 0);return b=a.__decorate([q.subclass("esri.views.navigation.gamepad.GamepadSettings")],b)})},"esri/views/support/DefaultsFromMap":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/asyncUtils ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../geometry/support/heightModelInfoUtils ../ViewingMode ./projectionUtils".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c){a.DefaultsFromMap=class extends d{constructor(t){super(t);this.required={tileInfo:!1,heightModelInfo:!1,extent:!1};this.userSpatialReference=this.defaultSpatialReference=null;this.sourcePreloadCount=10;this.priorityCollection=null;this.requiresExtentInSpatialReference=!0;this.suspended=!1;this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=e.abortMaybe(this._projectExtentTask.task));
this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return null!=this.userSpatialReference?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==
this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const t=this.map?.(),v=[];null!=this.priorityCollection&&v.push(this.priorityCollection);v.push({parent:t?.basemap,layers:t?.basemap?.baseLayers},{layers:t?.layers},{parent:t?.ground,layers:t?.ground?.layers},{parent:t?.basemap,layers:t?.basemap?.referenceLayers});return v}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??
{updating:!1};const {layers:t,updating:v}=this._allLayers;var w=null;for(const y of t){var z=this._getSupportedSpatialReferences(y);0<z.length&&(z=this._narrowDownSpatialReferenceCandidates(w,z),null!=z&&(w=z));if(null!=w&&1===w.length)break}if(v&&(null==w||1!==w.length))return{updating:!0};w=this._pickSpatialReferenceCandidate(w);return{spatialReference:null!=w?w.spatialReference:null,viewingMode:null!=w?w.viewingMode:null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??
{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const {layers:t,updating:v}=this._collectLayers([{parent:this.map?.()?.basemap,layers:this.map?.()?.basemap?.baseLayers},{layers:this.map?.()?.layers}]);if(t&&0<t.length&&"tileInfo"in t[0]){const w=t[0].tileInfo;return{tileInfo:w&&w.spatialReference.equals(this.spatialReference)?w:null,updating:!1}}return{updating:v}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??
{updating:!1};const {layers:t,updating:v}=this._allLayers;for(const w of t)if(u.supportsHeightModelInfo(w)){const z=u.deriveHeightModelInfoFromLayer(w);if(z)return{heightModelInfo:z,vcsWkid:w.spatialReference?.vcsWkid,latestVcsWkid:w.spatialReference?.latestVcsWkid,updating:!1}}return{updating:v}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};
var t=this._allLayers;const v=t.updating,w=[];for(const y of t.layers){t="fullExtents"in y&&y.fullExtents||(null!=y.fullExtent?[y.fullExtent]:[]);var z=this.requiresExtentInSpatialReference?null:t[0];if(z=t.find(r=>r.spatialReference.equals(this.spatialReference))??z)return{candidates:[{extent:z,layer:y}],updating:!1};if(0<this._getSupportedSpatialReferences(y).length)for(const r of t)w.push({extent:r,layer:y})}return{candidates:w,updating:v}}get _extentTask(){const {candidates:t,updating:v}=this._extentCandidatesTask;
if(v)return{updating:v};if(null==t||0===t.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const w=this._pickExtentCandidate(t),z=this.spatialReference;if(w.extent.equals(this._projectExtentTask.input)&&z.equals(this._projectExtentTask.spatialReference))return{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished};null!=this._projectExtentTask.task&&(this._projectExtentTask.task=
e.abortMaybe(this._projectExtentTask.task));this._projectExtentTask={input:w.extent.clone(),output:null,spatialReference:z.clone(),task:f.createTask(async y=>{try{const r=await c.projectWithEngineOrService(w.extent,z,"portalItem"in w.layer?w.layer.portalItem:void 0,y);this._projectExtentTask={...this._projectExtentTask,task:null,output:r}}catch(r){k.isAborted(y)||(this._projectExtentTask={...this._projectExtentTask,task:null})}})};return{updating:!0}}_narrowDownSpatialReferenceCandidates(t,v){if(null==
t)return v;const w=[];for(const y of t)for(const r of v)if(y.spatialReference.equals(r.spatialReference)){t=y.viewingMode;var z=r.viewingMode;t=null!=t?null!=z?t===z?t:!1:t:z;if(!1!==t){w.push({spatialReference:y.spatialReference,viewingMode:t});break}}return 0<w.length?w:null}_pickSpatialReferenceCandidate(t){const v=this.defaultSpatialReference;if(null==t||1>t.length)return null!=v?{spatialReference:v,viewingMode:null}:null;null!=v&&1<t.length&&t.some(({spatialReference:w})=>w.equals(v))&&(t=t.filter(({spatialReference:w})=>
w.equals(v)));1<t.length&&t.some(({viewingMode:w})=>w!==m.ViewingMode.Local)&&(t=t.filter(({viewingMode:w})=>w!==m.ViewingMode.Local));return t[0]}_getSupportedSpatialReferences(t){var v="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(0===v.length)return[];const w=[];for(const z of v)if(v=this.getSpatialReferenceSupport({spatialReference:z,layer:t}),null!=v){v=null!=v.constraints?v.constraints:[{spatialReference:z,viewingMode:null}];
for(const {spatialReference:y,viewingMode:r}of v)this.requiresExtentInSpatialReference&&null!=this.userSpatialReference&&!y.equals(this.userSpatialReference)||w.push({spatialReference:y,viewingMode:r})}return w}_pickExtentCandidate(t){const v=this.spatialReference;return t.find(({extent:w})=>v.equals(w.spatialReference))||t[0]}_collectLayers(t){if("loaded"!==this._loadMaybe(this.map?.()))return{layers:[],updating:!0};const v=new h;for(const w of t)if(this._collectCollection(w,v),v.preloading===this.sourcePreloadCount)break;
return{layers:v.layers,updating:v.updating}}_collectCollection(t,v){if(t.layers){switch(this._loadMaybe(t.parent)){case "loading":v.updating=!0;++v.preloading;return;case "failed":return}for(const w of t.layers){switch(this._loadMaybe(w)){case "failed":continue;case "loading":v.updating=!0;++v.preloading;break;case "loaded":v.updating||v.layers.push(w),"layers"in w&&this._collectCollection({layers:w.layers},v)}if(v.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in
t&&null!=t.loadStatus?"not-loaded"===t.loadStatus?(t.load().catch(v=>{k.isAbortError(v)||console.log(v)}),"loading"):t.loadStatus:"loaded"}};b.__decorate([q.property()],a.DefaultsFromMap.prototype,"required",void 0);b.__decorate([q.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"map",void 0);b.__decorate([q.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"getSpatialReferenceSupport",void 0);b.__decorate([q.property()],a.DefaultsFromMap.prototype,"defaultSpatialReference",void 0);
b.__decorate([q.property()],a.DefaultsFromMap.prototype,"userSpatialReference",void 0);b.__decorate([q.property()],a.DefaultsFromMap.prototype,"sourcePreloadCount",void 0);b.__decorate([q.property()],a.DefaultsFromMap.prototype,"priorityCollection",void 0);b.__decorate([q.property()],a.DefaultsFromMap.prototype,"requiresExtentInSpatialReference",void 0);b.__decorate([q.property()],a.DefaultsFromMap.prototype,"suspended",void 0);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,
"ready",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfoReady",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"spatialReference",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"extent",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfo",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"vcsWkid",null);b.__decorate([q.property({readOnly:!0})],
a.DefaultsFromMap.prototype,"latestVcsWkid",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"viewingMode",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"tileInfo",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"mapCollections",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_allLayers",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_spatialReferenceTask",null);
b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_tileInfoTask",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_heightModelInfoTask",null);b.__decorate([q.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_extentCandidatesTask",null);b.__decorate([q.property()],a.DefaultsFromMap.prototype,"_extentTask",null);b.__decorate([q.property()],a.DefaultsFromMap.prototype,"_projectExtentTask",void 0);a.DefaultsFromMap=b.__decorate([n.subclass("esri.views.support.DefaultsFromMap")],
a.DefaultsFromMap);class h{constructor(){this.layers=[];this.preloading=-1;this.updating=!1}}Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/heightModelInfoUtils":function(){define(["exports","../../core/has","../../core/Error","../HeightModelInfo","../../layers/support/arcgisLayerUrl"],function(a,b,d,f,e){function k(c,h,t){if(!q(c)||!q(h))return u.Unsupported;if(null==c||null==h)return u.Ok;if(!t&&c.heightUnit!==h.heightUnit)return u.Units;if(c.heightModel!==
h.heightModel)return u.HeightModel;switch(c.heightModel){case "gravity-related-height":return u.Ok;case "ellipsoidal":return c.vertCRS===h.vertCRS?u.Ok:u.CRS;default:return u.Unsupported}}function q(c){return null==c||null!=c.heightModel&&null!=c.heightUnit}function g(c){const h=c.url?e.parse(c.url):void 0;return(null!=c.spatialReference?.vcsWkid||null==h||"ImageServer"!==h.serverType)&&"heightModelInfo"in c&&c.heightModelInfo?c.heightModelInfo:l(c)?f.deriveUnitFromSR(m,c.spatialReference):null}function p(c){if("unknown"===
c.type||!("capabilities"in c))return!1;switch(c.type){case "csv":case "feature":case "geojson":case "subtype-group":case "ogc-feature":case "oriented-imagery":case "wfs":case "knowledge-graph-sublayer":return!0;case "imagery":case "map-image":case "map-notes":case "tile":case "vector-tile":case "scene":case "elevation":case null:return!1;default:return!1}}function l(c){return p(c)?!!(c.capabilities&&c.capabilities.data&&c.capabilities.data.supportsZ):n(c)}function n(c){switch(c.type){case "building-scene":case "elevation":case "integrated-mesh":case "point-cloud":case "scene":case "voxel":return!0}return!1}
var u;(function(c){c[c.Ok=0]="Ok";c[c.Units=1]="Units";c[c.HeightModel=2]="HeightModel";c[c.CRS=3]="CRS";c[c.Unsupported=4]="Unsupported"})(u||(u={}));const m=new f({heightModel:"gravity-related-height"});a.deriveHeightModelInfoFromLayer=g;a.rejectLayerError=function(c,h,t){const v=g(c),w=k(v,h,t);if(v){const z=f.deriveUnitFromSR(v,c.spatialReference).heightUnit;if(!t&&z!==v.heightUnit)return h=new d("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${z})`,
{horizontalUnit:z}),new d("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:v,error:h})}if(!("heightModelInfo"in c&&null!=c.heightModelInfo||null!=c.spatialReference)&&l(c)||w===u.Unsupported)return new d("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:v});switch(w){case u.Units:return c=v?.heightUnit||"unknown",t=h?.heightUnit||"unknown",c=new d("layerview:incompatible-height-unit",
`The vertical units of the layer (${c}) must match the vertical units of the scene (${t})`,{layerUnit:c,sceneUnit:t}),new d("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:v,sceneHeightModelInfo:h,error:c});case u.HeightModel:return c=v?.heightModel||"unknown",t=h?.heightModel||"unknown",c=new d("layerview:incompatible-height-model",`The height model of the layer (${c}) must match the height model of the scene (${t})`,
{layerHeightModel:c,sceneHeightModel:t}),new d("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:v,sceneHeightModelInfo:h,error:c});case u.CRS:return c=v?.vertCRS||"unknown",t=h?.vertCRS||"unknown",c=new d("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${c}) must match the vertical datum of the scene (${t})`,{layerDatum:c,sceneDatum:t}),new d("layerview:incompatible-height-model-info",
"The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:v,sceneHeightModelInfo:h,error:c})}return null};a.supportsHeightModelInfo=function(c){return null!=c.layers||n(c)||p(c)||"heightModelInfo"in c};a.validateWebSceneError=function(c,h){if(!c)return null;if(!q(c))return new d("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:c});const t=c.heightUnit;c=f.deriveUnitFromSR(c,h).heightUnit;
return t!==c?new d("webscene:incompatible-height-unit",`The vertical units of the scene (${t}) must match the horizontal units of the scene (${c})`,{verticalUnit:t,horizontalUnit:c}):null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewingMode":function(){define(["exports"],function(a){a.ViewingMode=void 0;(function(b){b[b.Global=1]="Global";b[b.Local=2]="Local"})(a.ViewingMode||(a.ViewingMode={}));a.stringFromViewingMode=function(b){return b===a.ViewingMode.Global?
"global":"local"};a.viewingModeFromString=function(b){return"global"===b?a.ViewingMode.Global:a.ViewingMode.Local};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/projectionUtils":function(){define(["require","exports","../../core/promiseUtils","../../geometry/projection"],function(a,b,d,f){async function e(p){q||(q=(new Promise((l,n)=>a(["../../portal/support/geometryServiceUtils"],l,n))).then(l=>g=l));await q;d.throwIfAborted(p)}async function k(p,l,n,u){if(!p)return null;
const m=p.spatialReference;if(f.isLoaded()||f.canProjectWithoutEngine(m,l))return f.project(p,l);if(g)return g.projectGeometry(p,l,n,u);await Promise.race([e(u),f.load(u)]);return k(p,l,n,u)}let q=null,g;b.projectWithEngineOrService=k;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewAnimation":function(){define("../chunks/tslib.es6 ../core/Error ../core/Promise ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,d,f,e,k,q,g,p){d=class extends d.EsriPromise{constructor(l){super(l);this.state="running";this._resolver=this.target=null}initialize(){this._resolver=f.createResolver();this.addResolvingPromise(this._resolver.promise)}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new b("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state",
"finished"),this._resolver?.resolve())}update(l,n){n||(n=f.isPromiseLike(l)?"waiting-for-target":"running");this._set("target",l);this._set("state",n)}};a.__decorate([e.property({readOnly:!0})],d.prototype,"done",null);a.__decorate([e.property({readOnly:!0,type:String})],d.prototype,"state",void 0);a.__decorate([e.property()],d.prototype,"target",void 0);d=a.__decorate([p.subclass("esri.views.ViewAnimation")],d);(d||(d={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};
return d})},"esri/views/layers/LayerView":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/Identifiable ../../core/Logger ../../core/maybe ../../core/Promise ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/support/UpdatingHandles".split(" "),function(a,b,d,f,e,k,q,g,p,l,n,u,m){b=class extends f.IdentifiableMixin(q.EsriPromiseMixin(d.EventedMixin(b))){constructor(c){super(c);
this._updatingHandles=new m.UpdatingHandles;this.parent=this.layer=null}initialize(){this.when().catch(c=>{if("layerview:create-error"!==c.name){const h=this.layer&&this.layer.id||"no id",t=this.layer?.title||"no title";e.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${t}', id: '${h}')`,c)}})}destroy(){this._updatingHandles=k.destroyMaybe(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&
!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(c){this._overrideIfSome("visible",c)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const c=this.parent?.suspended?this.parent.suspendInfo:{};this.view?.ready||(c.viewNotReady=!0);this.layer&&this.layer.loaded||(c.layerNotLoaded=
!0);this.visible||(c.layerInvisible=!0);return c}isUpdating(){return!1}};a.__decorate([g.property()],b.prototype,"fullOpacity",null);a.__decorate([g.property()],b.prototype,"layer",void 0);a.__decorate([g.property()],b.prototype,"parent",void 0);a.__decorate([g.property({readOnly:!0})],b.prototype,"suspended",null);a.__decorate([g.property({readOnly:!0})],b.prototype,"suspendInfo",null);a.__decorate([g.property({readOnly:!0})],b.prototype,"legendEnabled",null);a.__decorate([g.property({type:Boolean,
readOnly:!0})],b.prototype,"updating",null);a.__decorate([g.property({readOnly:!0})],b.prototype,"updatingProgress",null);a.__decorate([g.property()],b.prototype,"visible",null);a.__decorate([g.property()],b.prototype,"view",void 0);return b=a.__decorate([u.subclass("esri.views.layers.LayerView")],b)})},"esri/widgets/Widget":function(){define("../chunks/tslib.es6 ../intl ../core/deprecate ../core/domUtils ../core/Evented ../core/events ../core/has ../core/lang ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/uuid ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleTrackingTarget ../libs/maquette-advanced-projector/projector ./support/componentsUtils ./support/jsxWidgetSupport ./support/legacyIcon ./support/symbols ./support/tests ./support/vnodeCache ./support/widgetUtils ../intl/locale ../intl/messages".split(" "),
function(a,b,d,f,e,k,q,g,p,l,n,u,m,c,h,t,v,w,z,y,r,x,B,A,E,F,L,D,M){function K(J,Q){for(const N in Q)null!=J[N]&&("object"===typeof J[N]&&"object"===typeof Q[N]?K(J[N],Q?.[N]):J[N]=Q[N]);return J}let I=0;var P=B.legacyIcon.checkboxUnchecked;const T=y.createAdvancedProjector({postProcessProjectionOptions(J){const Q=J.eventHandlerInterceptor,N=/capture$/i;J.eventHandlerInterceptor=(V,U,sa,za)=>{const Fa=Q?.(V,U,sa,za),Da=N.test(V);V=V.replace(N,"");if(!(V.toLowerCase()in sa)||Da){const va=V[2].toLowerCase()+
V.slice(3),W=fa=>Fa?.call(sa,fa);sa.addEventListener(va,W,Da);const ba=za.afterRemoved;za.afterRemoved=fa=>{ba?.(fa);sa.removeEventListener(va,W,Da)}}return Fa}},handleInterceptedEvent(J,Q,N,V){const {eventPhase:U,type:sa}=V,za=U===Event.CAPTURING_PHASE;let Fa=`on${sa}${za?"capture":""}`;Q=Q.properties;if(!(Q&&Fa in Q||(Fa=`on${sa[0].toUpperCase()}${sa.slice(1)}${za?"Capture":""}`,Q&&Fa in Q)))return;F.clearVNodeCache();J.scheduleRender();Q[Fa].call(Q.bind||N,V)}});let Z=!1;e=class extends n.EsriPromiseMixin(e.EventedAccessor){constructor(J,
Q){super(J,Q);this._attached=!1;this._projector=T;this._readyForTrueRender=!1;this.iconClass=P;this.icon=null;this.key=this;this._loadLocale=u.debounce(async()=>{if(this._messageBundleProps?.length){const sa=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:za,propertyName:Fa})=>{this.destroyed||(za=await M.fetchMessageBundle(za),this.uiStrings&&Object.keys(this.uiStrings)&&(za=K(g.clone(za),this.uiStrings)),this[Fa]=za)}));if(this.destroyed)return;for(const za of sa)"rejected"===
za.status&&p.getLogger(this).error("widget-intl:locale-error",this.declaredClass,za.reason)}await this.loadLocale()});r.commitAssetPath();const N="esri-widget-uid-"+c.generateUUID(),V=this.render.bind(this);this._trackingTarget=new z.SimpleTrackingTarget(()=>this.scheduleRender());const U=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const sa=V();let {properties:za}=sa;za||(sa.properties=za={});const {key:Fa}=za;Fa||(za.key=N);if(x.isWidgetConstructor(sa.vnodeSelector)){if(!this.visible)return{vnodeSelector:"div",
properties:{key:`${N}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}}else this.visible?za.styles||(za.styles={}):(za.class="",za.styles={display:"none"}),za.styles.display||(za.styles.display="");let Da=0;sa.children?.forEach(va=>{if(!x.isWidgetConstructor(va.vnodeSelector)){var {properties:W}=va;W||(va.properties=W={});W.key||(W.key=`${this.id}--${Da++}`)}});return x.processWidgets(this,sa)};this.render=()=>{if(Z)return U();let sa=F.getVNodeCache(this)??null;
if(sa)return sa;this._trackingTarget.clear();Z=!0;try{sa=w.runTracked(this._trackingTarget,U)}catch(za){throw console.error(za),za;}finally{Z=!1}sa&&F.setVNodeCache(this,sa);return sa};(J=this.beforeFirstRender())?this._resourcesFetch=J.then(()=>{this._readyForTrueRender=!0;this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0);this.addResolvingPromise(this._resourcesFetch);E.registerLoading(this._resourcesFetch)}normalizeCtorArgs(J,
Q){J={...J};Q&&(J.container=Q);return J}postInitialize(){}beforeFirstRender(){const J=this.loadDependencies();return this._messageBundleProps?.length||J?Promise.all([J,this._loadLocale()]).then(()=>{}).catch(u.throwIfNotAbortError):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(l.destroyMaybe(this._trackingTarget),l.destroyMaybe(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=
null,F.deleteVNodeCache(this))}set container(J){this._get("container")||this._set("container",J)}castContainer(J){return f.byId(J)}get domNode(){return this.container}set domNode(J){this.container=J}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+I++}set id(J){J&&this._set("id",J)}get label(){return this.declaredClass.split(".").pop()}set label(J){this._overrideIfSome("label",J)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(J){this._set("visible",
J)}get [(b=A.widgetSymbol,A.widgetTestDataSymbol)](){return{projector:this._projector}}render(){throw Error("not implemented");}scheduleRender(){this.destroyed||(F.deleteVNodeCache(this),this._projector.scheduleRender())}own(J){d.deprecatedFunction(p.getLogger(this.declaredClass),"`Widget.own()` is deprecated in favor of Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"});this.addHandles(J)}classes(...J){return L.classes.apply(this,J)}renderNow(){F.deleteVNodeCache(this);this._projector.renderNow()}_postInitialize(){if(!this.destroyed){this.scheduleRender();
this._delegatedEventNames?.length&&this.addHandles(m.watch(()=>this.viewModel,(Q,N)=>{N&&this.removeHandles("delegated-events");Q&&k.isEventTarget(Q)&&this.addHandles(this._delegatedEventNames.map(V=>k.on(Q,V,U=>{this.emit(V,U)})),"delegated-events")},m.syncAndInitial));this.postInitialize();var J=async()=>{await this._loadLocale().catch(u.throwIfNotAbortError);this.scheduleRender()};this.addHandles([D.onLocaleChange(J),m.watch(()=>this.uiStrings,J),m.when(()=>this.container,Q=>{this.destroyed||this._attach(Q)},
{initial:!0,once:!0})])}}_attach(J){J&&(this._projector.merge(J,this.render),this._attached=!0)}_detach(J){this._attached&&(this._projector.detach(this.render),this._attached=!1);J?.parentNode?.removeChild(J)}};e[b]=!0;a.__decorate([h.property()],e.prototype,"_readyForTrueRender",void 0);a.__decorate([h.property({value:null})],e.prototype,"container",null);a.__decorate([t.cast("container")],e.prototype,"castContainer",null);a.__decorate([h.property()],e.prototype,"iconClass",void 0);a.__decorate([h.property()],
e.prototype,"icon",void 0);a.__decorate([h.property()],e.prototype,"id",null);a.__decorate([h.property()],e.prototype,"label",null);a.__decorate([h.property()],e.prototype,"renderable",null);a.__decorate([h.property()],e.prototype,"uiStrings",void 0);a.__decorate([h.property()],e.prototype,"viewModel",void 0);a.__decorate([h.property({value:!0})],e.prototype,"visible",null);a.__decorate([h.property()],e.prototype,"key",void 0);a.__decorate([h.property()],e.prototype,"children",void 0);a.__decorate([h.property()],
e.prototype,"afterCreate",void 0);a.__decorate([h.property()],e.prototype,"afterUpdate",void 0);a.__decorate([h.property()],e.prototype,"afterRemoved",void 0);return e=a.__decorate([v.subclass("esri.widgets.Widget")],e)})},"esri/core/domUtils":function(){define(["exports"],function(a){const b=(()=>"function"===typeof Element.prototype.closest?(d,f)=>d.closest(f):(d,f)=>{do{if(d.matches(f))return d;d=d.parentElement}while(null!==d&&1===d.nodeType);return null})();a.byId=function(d){return"string"===
typeof d?document.getElementById(d):d??null};a.closest=b;a.empty=function(d){for(;d.hasChildNodes();)d.removeChild(d.firstChild)};a.insertAfter=function(d,f){const e=f.parentNode;e&&(e.lastChild===f?e.appendChild(d):e.insertBefore(d,f.nextSibling))};a.insertBefore=function(d,f){const e=f.parentNode;e&&e.insertBefore(d,f)};a.remove=function(d){d.parentNode&&d.parentNode.removeChild(d)};a.reparent=function(d,f){for(;;){const e=d.firstChild;if(!e)break;f.appendChild(e)}};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/libs/maquette-advanced-projector/projector":function(){define(["exports","../maquette/dom","../maquette/projector","./advanced-projector-options","./utils"],function(a,b,d,f,e){const k=(p,l)=>{const n=[];for(;p&&p!==l;)n.push(p),p=p.parentNode;return n},q=(p,l)=>p.find(l),g=(p,l,n=!1)=>{let u=p;l.forEach((m,c)=>{const h=u?.children?q(u.children,t=>t.domNode===m):void 0;if(!n||h||c===l.length-1)u=h});return u};a.createAdvancedProjector=p=>{let l;const n={...f.defaultAdvancedProjectorOptions,
...p},u=e.applyDefaultProjectionOptions(n),m=u.performanceLogger;let c=!0,h,t=!1;const v=[],w=[],z=(r,x,B)=>{let A;u.eventHandlerInterceptor=(F,L,D,M)=>function(K){m("domEvent",K);var I=k(K.currentTarget,A.domNode);const P=I.some(Z=>customElements.get(Z?.tagName?.toLowerCase()));K.eventPhase!==Event.CAPTURING_PHASE&&P?(I=K.composedPath(),I=I.slice(I.indexOf(K.currentTarget),I.indexOf(A.domNode)).reverse(),I=g(A.getLastRender(),I,!0)):(I.reverse(),I=g(A.getLastRender(),I));let T;I&&(T=n.handleInterceptedEvent(l,
I,this,K));m("domEventProcessed",K);return T};n.postProcessProjectionOptions?.(u);const E=B();A=r(x,E,u);u.eventHandlerInterceptor=void 0;v.push(A);w.push(B);n.afterFirstVNodeRendered&&n.afterFirstVNodeRendered(A,E)};let y=()=>{h=void 0;if(c){c=!1;m("renderStart",void 0);for(let r=0;r<v.length;r++){const x=w[r]();m("rendered",void 0);v[r].update(x);m("patched",void 0)}m("renderDone",void 0);c=!0}};n.modifyDoRenderImplementation&&(y=n.modifyDoRenderImplementation(y,v,w));return l={renderNow:y,scheduleRender:()=>
{h||t||(h=requestAnimationFrame(y))},stop:()=>{h&&(cancelAnimationFrame(h),h=void 0);t=!0},resume:()=>{t=!1;c=!0;l.scheduleRender()},append:(r,x)=>{z(b.dom.append,r,x)},insertBefore:(r,x)=>{z(b.dom.insertBefore,r,x)},merge:(r,x)=>{z(b.dom.merge,r,x)},replace:(r,x)=>{z(b.dom.replace,r,x)},detach:r=>{for(let x=0;x<w.length;x++)if(w[x]===r)return w.splice(x,1),v.splice(x,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/dom":function(){define(["exports",
"./projection"],function(a,b){const d={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(f,e,k)=>{"-"===e.charAt(0)?f.style.setProperty(e,k):f.style[e]=k}};a.applyDefaultProjectionOptions=f=>b.extend(d,f);a.dom={create:(f,e)=>{e=b.extend(d,e);b.createDom(f,document.createElement("div"),void 0,e);return b.createProjection(f,e)},append:(f,e,k)=>{k=b.extend(d,k);b.createDom(e,f,void 0,k);return b.createProjection(e,k)},insertBefore:(f,e,k)=>{k=b.extend(d,k);b.createDom(e,
f.parentNode,f,k);return b.createProjection(e,k)},merge:(f,e,k)=>{k=b.extend(d,k);e.domNode=f;b.initPropertiesAndChildren(f,e,k);return b.createProjection(e,k)},replace:(f,e,k)=>{k=b.extend(d,k);b.createDom(e,f.parentNode,f,k);f.parentNode.removeChild(f);return b.createProjection(e,k)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projection":function(){define(["exports","../../widgets/support/widgetUtils"],function(a,b){function d(y){if(!(y instanceof Element&&
y.tagName.includes("-")))return!1;const r=window.customElements.get(y.tagName.toLowerCase());return!!r&&y instanceof r}let f=[],e=(y,r)=>{let x={};Object.keys(y).forEach(B=>{x[B]=y[B]});r&&Object.keys(r).forEach(B=>{x[B]=r[B]});return x},k=(y,r)=>y.vnodeSelector!==r.vnodeSelector?!1:y.properties&&r.properties?y.properties.key!==r.properties.key?!1:y.properties.bind===r.properties.bind:!y.properties&&!r.properties,q=y=>{if("string"!==typeof y)throw Error("Style values must be strings");},g=(y,r,x,
B)=>{let A=y[r];if(""!==A.vnodeSelector){var E=A.properties;if(!(E&&(void 0===E.key?E.bind:E.key)))for(E=0;E<y.length;E++)if(E!==r&&k(y[E],A))throw Error(`${x.vnodeSelector} had a ${A.vnodeSelector} child ${"added"===B?B:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`);}},p=[],l=!1,n=y=>{(y.children||[]).forEach(n);y.properties&&y.properties.afterRemoved&&y.properties.afterRemoved.apply(y.properties.bind||y.properties,[y.domNode])},u=()=>
{l=!1;p.forEach(n);p.length=0},m=y=>{p.push(y);l||(l=!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(u,{timeout:16}):setTimeout(u,16))},c=y=>{let r=y.domNode;if(y.properties){let x=y.properties.exitAnimation;if(x){r.style.pointerEvents="none";x(r,()=>{r.parentNode&&(r.parentNode.removeChild(r),m(y))},y.properties);return}}r.parentNode&&(r.parentNode.removeChild(r),m(y))},h=(y,r,x)=>{if(r){var B=x.eventHandlerInterceptor,A=Object.keys(r),E=A.length;for(let K=
0;K<E;K++){var F=A[K];let I=r[F];if("className"===F)throw Error('Property "className" is not supported, use "class".');if("class"===F)z(y,I,!0);else if("classes"===F){F=Object.keys(I);var L=F.length;for(var D=0;D<L;D++){var M=F[D];I[M]&&y.classList.add(M)}}else if("styles"===F)for(F=Object.keys(I),L=F.length,D=0;D<L;D++){M=F[D];let P=I[M];P&&(q(P),x.styleApplyer(y,M,P))}else"key"!==F&&null!==I&&void 0!==I&&(L=typeof I,"function"===L?(0===F.lastIndexOf("on",0)&&(B&&(I=B(F,I,y,r)),"oninput"===F&&function(){let P=
I;I=function(T){P.apply(this,[T]);T.target["oninput-value"]=T.target.value}}()),y[F]=I):"http://www.w3.org/2000/svg"===x.namespace?"href"===F?y.setAttributeNS("http://www.w3.org/1999/xlink",F,I):y.setAttribute(F,I):"string"===L&&"value"!==F?"innerHTML"===F?y[F]=b.renderingSanitizer.sanitize(I):d(y)&&F in y?y[F]=I:y.setAttribute(F,I):y[F]=I)}}},t=(y,r,x)=>{var B=r.children;if(B)for(let A of B)v(A,y,void 0,x);r.text&&(y.textContent=r.text);h(y,r.properties,x);r.properties&&r.properties.afterCreate&&
r.properties.afterCreate.apply(r.properties.bind||r.properties,[y,x,r.vnodeSelector,r.properties,r.children])},v=(y,r,x,B)=>{let A;var E=0;let F=y.vnodeSelector,L=r.ownerDocument;if(""===F)A=y.domNode=L.createTextNode(y.text),void 0!==x?r.insertBefore(A,x):r.appendChild(A);else{for(let M=0;M<=F.length;++M){var D=F.charAt(M);if(M===F.length||"."===D||"#"===D)D=F.charAt(E-1),E=F.slice(E,M),"."===D?A.classList.add(E):"#"===D?A.id=E:("svg"===E&&(B=e(B,{namespace:"http://www.w3.org/2000/svg"})),void 0!==
B.namespace?A=y.domNode=L.createElementNS(B.namespace,E):(A=y.domNode=y.domNode||L.createElement(E),"input"===E&&y.properties&&void 0!==y.properties.type&&A.setAttribute("type",y.properties.type)),void 0!==x?r.insertBefore(A,x):A.parentNode!==r&&r.appendChild(A)),E=M+1}t(A,y,B)}},w,z=(y,r,x)=>{r&&r.split(" ").forEach(B=>{B&&y.classList.toggle(B,x)})};w=(y,r,x)=>{let B=y.domNode;if(y===r)return!1;let A=!1;if(""===r.vnodeSelector){if(r.text!==y.text)return y=B.ownerDocument.createTextNode(r.text),B.parentNode.replaceChild(y,
B),r.domNode=y,!0;r.domNode=B}else{0===r.vnodeSelector.lastIndexOf("svg",0)&&(x=e(x,{namespace:"http://www.w3.org/2000/svg"}));y.text!==r.text&&(A=!0,void 0===r.text?B.removeChild(B.firstChild):B.textContent=r.text);r.domNode=B;var E=y.children;var F=r.children,L=x;if(E===F)E=!1;else{E=E||f;F=F||f;for(var D=E.length,M=F.length,K=0,I=0,P=!1;I<M;){var T=K<D?E[K]:void 0,Z=F[I];if(void 0!==T&&k(T,Z))P=w(T,Z,L)||P,K++;else{b:{T=E;var J=Z,Q=K+1;if(""!==J.vnodeSelector)for(;Q<T.length;Q++)if(k(T[Q],J)){T=
Q;break b}T=-1}if(0<=T){for(;K<T;K++)c(E[K]),g(E,K,r,"removed");P=w(E[T],Z,L)||P;K=T+1}else v(Z,B,K<D?E[K].domNode:void 0,L),Z.properties&&(T=Z.properties.enterAnimation)&&T(Z.domNode,Z.properties),g(F,I,r,"added")}I++}if(D>K)for(;K<D;K++)c(E[K]),g(E,K,r,"removed");E=P}A=E||A;E=y.properties;F=r.properties;L=x;if(F){D=!1;M=Object.keys(F);I=M.length;for(P=0;P<I;P++)if(T=M[P],Z=F[T],K=E[T],"class"===T)K!==Z&&(z(B,K,!1),z(B,Z,!0));else if("classes"===T){T=B.classList;J=Object.keys(Z);Q=J.length;for(var N=
0;N<Q;N++){var V=J[N];let U=!!Z[V];U!==!!K[V]&&(D=!0,U?T.add(V):T.remove(V))}}else if("styles"===T)for(T=Object.keys(Z),J=T.length,Q=0;Q<J;Q++)N=T[Q],V=Z[N],V!==K[N]&&(D=!0,V?(q(V),L.styleApplyer(B,N,V)):L.styleApplyer(B,N,""));else(Z||"string"!==typeof K||(Z=""),"value"!==T||d(B))?Z!==K&&(K=typeof Z,"function"===K&&L.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===L.namespace?"href"===T?B.setAttributeNS("http://www.w3.org/1999/xlink",T,Z):B.setAttribute(T,Z):"string"===K?"innerHTML"===T?
B[T]=b.renderingSanitizer.sanitize(Z):"role"===T&&""===Z?B.removeAttribute(T):d(B)&&T in B?B[T]=Z:B.setAttribute(T,Z):B[T]!==Z&&(B[T]=Z),D=!0)):(J=B[T],J!==Z&&(B["oninput-value"]?J===B["oninput-value"]:Z!==K)&&(B[T]=Z,B["oninput-value"]=void 0),Z!==K&&(D=!0));E=D}else E=void 0;A=E||A;r.properties&&r.properties.afterUpdate&&r.properties.afterUpdate.apply(r.properties.bind||r.properties,[B,x,r.vnodeSelector,r.properties,r.children])}A&&r.properties&&r.properties.updateAnimation&&r.properties.updateAnimation(B,
r.properties,y.properties);return!1};a.createDom=v;a.createProjection=(y,r)=>({getLastRender:()=>y,update:x=>{if(y.vnodeSelector!==x.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let B=y;y=x;w(B,x,r)},domNode:y.domNode});a.extend=e;a.initPropertiesAndChildren=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widgetUtils":function(){define("exports ../../core/ArrayPool ../../core/handleUtils ../../core/has ../../core/Logger ../../core/reactiveUtils ./vnodeCache".split(" "),
function(a,b,d,f,e,k,q){function g(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,
"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,
"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,
"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,
cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,"float":!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,
"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,
"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,
"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,
"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,
"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,
"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,
"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,
"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function p(ha){ha=ha||{};var na={},ra;for(ra in ha)na[ra]=ha[ra];ha=na;ha.whiteList=ha.whiteList||T.whiteList;ha.onAttr=ha.onAttr||T.onAttr;ha.onIgnoreAttr=ha.onIgnoreAttr||T.onIgnoreAttr;ha.safeAttrValue=ha.safeAttrValue||T.safeAttrValue;this.options=ha}function l(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:"autoplay controls crossorigin loop muted preload src".split(" "),
b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],
summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls crossorigin loop muted playsinline poster preload src height width".split(" ")}}function n(ha){return ha.replace(U,"\x26lt;").replace(sa,"\x26gt;")}function u(ha){return ha.replace(za,
"\x26quot;")}function m(ha){return ha.replace(Fa,'"')}function c(ha){return ha.replace(Da,function(na,ra){return"x"===ra[0]||"X"===ra[0]?String.fromCharCode(parseInt(ra.substr(1),16)):String.fromCharCode(parseInt(ra,10))})}function h(ha){return ha.replace(va,":").replace(W," ")}function t(ha){for(var na="",ra=0,Ia=ha.length;ra<Ia;ra++)na+=32>ha.charCodeAt(ra)?" ":ha.charAt(ra);return N.trim(na)}function v(ha){ha=m(ha);ha=c(ha);ha=h(ha);return ha=t(ha)}function w(ha){ha=u(ha);return ha=n(ha)}function z(ha,
na){for(;na<ha.length;na++){var ra=ha[na];if(" "!==ra)return"\x3d"===ra?na:-1}}function y(ha,na){for(;na<ha.length;na++){var ra=ha[na];if(" "!==ra)return"'"===ra||'"'===ra?na:-1}}function r(ha,na){for(;0<na;na--){var ra=ha[na];if(" "!==ra)return"\x3d"===ra?na:-1}}function x(ha){var na='"'===ha[0]&&'"'===ha[ha.length-1]||"'"===ha[0]&&"'"===ha[ha.length-1]?!0:!1;return na?ha.substr(1,ha.length-2):ha}function B(ha){var na=Y.spaceIndex(ha);if(-1===na)return{html:"",closing:"/"===ha[ha.length-2]};ha=Y.trim(ha.slice(na+
1,-1));(na="/"===ha[ha.length-1])&&(ha=Y.trim(ha.slice(0,-1)));return{html:ha,closing:na}}function A(ha){var na={},ra;for(ra in ha)Array.isArray(ha[ra])?na[ra.toLowerCase()]=ha[ra].map(function(Ia){return Ia.toLowerCase()}):na[ra.toLowerCase()]=ha[ra];return na}function E(ha){ha=ha||{};var na={},ra;for(ra in ha)na[ra]=ha[ra];ha=na;ha.stripIgnoreTag&&(ha.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),ha.onIgnoreTag=ja.onIgnoreTagStripAll);
ha.whiteList=ha.whiteList||ha.allowList?A(ha.whiteList||ha.allowList):ja.whiteList;ha.onTag=ha.onTag||ja.onTag;ha.onTagAttr=ha.onTagAttr||ja.onTagAttr;ha.onIgnoreTag=ha.onIgnoreTag||ja.onIgnoreTag;ha.onIgnoreTagAttr=ha.onIgnoreTagAttr||ja.onIgnoreTagAttr;ha.safeAttrValue=ha.safeAttrValue||ja.safeAttrValue;ha.escapeHtml=ha.escapeHtml||ja.escapeHtml;this.options=ha;!1===ha.css?this.cssFilter=!1:(ha.css=ha.css||{},this.cssFilter=new S(ha.css))}function F(ha){ha=ha?.closest("[dir]");return null!==ha&&
ha instanceof HTMLElement&&"rtl"===ha.dir||"rtl"===document.dir}var L=function(ha){if("object"!==typeof ha||null===ha||"[object Object]"!==Object.prototype.toString.call(ha))return!1;var na=Object.getPrototypeOf(ha);if(null===na)return!0;for(;null!==Object.getPrototypeOf(na);)na=Object.getPrototypeOf(na);return Object.getPrototypeOf(ha)===na},D={exports:{}},M={};f={exports:{}};var K={},I=/javascript\s*:/gim;K.whiteList=g();K.getDefaultWhiteList=g;K.onAttr=function(ha,na,ra){};K.onIgnoreAttr=function(ha,
na,ra){};K.safeAttrValue=function(ha,na){return I.test(na)?"":na};var P={indexOf:function(ha,na){var ra;if(Array.prototype.indexOf)return ha.indexOf(na);var Ia=0;for(ra=ha.length;Ia<ra;Ia++)if(ha[Ia]===na)return Ia;return-1},forEach:function(ha,na,ra){var Ia;if(Array.prototype.forEach)return ha.forEach(na,ra);var aa=0;for(Ia=ha.length;aa<Ia;aa++)na.call(ra,ha[aa],aa,ha)},trim:function(ha){return String.prototype.trim?ha.trim():ha.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(ha){return String.prototype.trimRight?
ha.trimRight():ha.replace(/(\s*$)/g,"")}},T=K,Z=function(ha,na){function ra(){if(!aa){var Ma=P.trim(ha.slice(ka,xa)),la=Ma.indexOf(":");if(-1!==la){var qa=P.trim(Ma.slice(0,la));la=P.trim(Ma.slice(la+1));qa&&(Ma=na(ka,ua.length,qa,la,Ma))&&(ua+=Ma+"; ")}}ka=xa+1}ha=P.trimRight(ha);";"!==ha[ha.length-1]&&(ha+=";");for(var Ia=ha.length,aa=!1,ka=0,xa=0,ua="";xa<Ia;xa++){var Ea=ha[xa];if("/"===Ea&&"*"===ha[xa+1]){Ea=ha.indexOf("*/",xa+2);if(-1===Ea)break;xa=Ea+1;ka=xa+1;aa=!1}else"("===Ea?aa=!0:")"===
Ea?aa=!1:";"===Ea?aa||ra():"\n"===Ea&&ra()}return P.trim(ua)};p.prototype.process=function(ha){ha=(ha||"").toString();if(!ha)return"";var na=this.options,ra=na.whiteList,Ia=na.onAttr,aa=na.onIgnoreAttr,ka=na.safeAttrValue;return Z(ha,function(xa,ua,Ea,Ma,la){var qa=ra[Ea],Ka=!1;!0===qa?Ka=qa:"function"===typeof qa?Ka=qa(Ma):qa instanceof RegExp&&(Ka=qa.test(Ma));!0!==Ka&&(Ka=!1);if(Ma=ka(Ea,Ma)){xa={position:ua,sourcePosition:xa,source:la,isWhite:Ka};if(Ka)return Ka=Ia(Ea,Ma,xa),void 0===Ka||null===
Ka?Ea+":"+Ma:Ka;Ka=aa(Ea,Ma,xa);if(void 0!==Ka&&null!==Ka)return Ka}})};(function(ha,na){na=ha.exports=function(Ia,aa){return(new p(aa)).process(Ia)};na.FilterCSS=p;for(var ra in K)na[ra]=K[ra]})(f,f.exports);var J={indexOf:function(ha,na){var ra;if(Array.prototype.indexOf)return ha.indexOf(na);var Ia=0;for(ra=ha.length;Ia<ra;Ia++)if(ha[Ia]===na)return Ia;return-1},forEach:function(ha,na,ra){var Ia;if(Array.prototype.forEach)return ha.forEach(na,ra);var aa=0;for(Ia=ha.length;aa<Ia;aa++)na.call(ra,
ha[aa],aa,ha)},trim:function(ha){return String.prototype.trim?ha.trim():ha.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(ha){return(ha=/\s|\n|\t/.exec(ha))?ha.index:-1}},Q=f.exports.getDefaultWhiteList,N=J,V=new f.exports.FilterCSS,U=/</g,sa=/>/g,za=/"/g,Fa=/&quot;/g,Da=/&#([a-zA-Z0-9]*);?/gim,va=/&colon;?/gim,W=/&newline;?/gim,ba=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,fa=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Ba=/u\s*r\s*l\s*\(.*/gi;
M.whiteList=l();M.getDefaultWhiteList=l;M.onTag=function(ha,na,ra){};M.onIgnoreTag=function(ha,na,ra){};M.onTagAttr=function(ha,na,ra){};M.onIgnoreTagAttr=function(ha,na,ra){};M.safeAttrValue=function(ha,na,ra,Ia){ra=v(ra);if("href"===na||"src"===na){ra=N.trim(ra);if("#"===ra)return"#";if("http://"!==ra.substr(0,7)&&"https://"!==ra.substr(0,8)&&"mailto:"!==ra.substr(0,7)&&"tel:"!==ra.substr(0,4)&&"data:image/"!==ra.substr(0,11)&&"ftp://"!==ra.substr(0,6)&&"./"!==ra.substr(0,2)&&"../"!==ra.substr(0,
3)&&"#"!==ra[0]&&"/"!==ra[0])return""}else if("background"===na){if(ba.lastIndex=0,ba.test(ra))return""}else if("style"===na){fa.lastIndex=0;if(fa.test(ra))return"";Ba.lastIndex=0;if(Ba.test(ra)&&(ba.lastIndex=0,ba.test(ra)))return"";!1!==Ia&&(Ia=Ia||V,ra=Ia.process(ra))}return ra=w(ra)};M.escapeHtml=n;M.escapeQuote=u;M.unescapeQuote=m;M.escapeHtmlEntities=c;M.escapeDangerHtml5Entities=h;M.clearNonPrintableCharacter=t;M.friendlyAttrValue=v;M.escapeAttrValue=w;M.onIgnoreTagStripAll=function(){return""};
M.StripTagBody=function(ha,na){"function"!==typeof na&&(na=function(){});var ra=!Array.isArray(ha),Ia=[],aa=!1;return{onIgnoreTag:function(ka,xa,ua){var Ea=ra?!0:-1!==N.indexOf(ha,ka);if(Ea){if(ua.isClosing)return Ia.push([!1!==aa?aa:ua.position,ua.position+10]),aa=!1,"[/removed]";aa||(aa=ua.position);return"[removed]"}return na(ka,xa,ua)},remove:function(ka){var xa="",ua=0;N.forEach(Ia,function(Ea){xa+=ka.slice(ua,Ea[0]);ua=Ea[1]});return xa+=ka.slice(ua)}}};M.stripCommentTag=function(ha){for(var na=
"",ra=0;ra<ha.length;){var Ia=ha.indexOf("\x3c!--",ra);if(-1===Ia){na+=ha.slice(ra);break}na+=ha.slice(ra,Ia);ra=ha.indexOf("--\x3e",Ia);if(-1===ra)break;ra+=3}return na};M.stripBlankChar=function(ha){ha=ha.split("");ha=ha.filter(function(na){na=na.charCodeAt(0);return 127===na?!1:31>=na?10===na||13===na?!0:!1:!0});return ha.join("")};M.cssFilter=V;M.getDefaultCSSWhiteList=Q;var Ja={},G=/[^a-zA-Z0-9\\_:.-]/gim;Ja.parseTag=function(ha,na,ra){var Ia="",aa=0,ka=!1,xa=!1,ua=0,Ea=ha.length,Ma="",la="";
ua=0;a:for(;ua<Ea;ua++)if(la=ha.charAt(ua),!1===ka)"\x3c"===la&&(ka=ua);else if(!1===xa)if("\x3c"===la)Ia+=ra(ha.slice(aa,ua)),aa=ka=ua;else if("\x3e"===la)Ia+=ra(ha.slice(aa,ka)),la=ha.slice(ka,ua+1),aa=void 0,aa=la,Ma=J.spaceIndex(aa),aa=-1===Ma?aa.slice(1,-1):aa.slice(1,Ma+1),aa=J.trim(aa).toLowerCase(),"/"===aa.slice(0,1)&&(aa=aa.slice(1)),"/"===aa.slice(-1)&&(aa=aa.slice(0,-1)),Ma=aa,Ia+=na(ka,Ia.length,Ma,la,"\x3c/"===la.slice(0,2)),aa=ua+1,ka=!1;else{if('"'===la||"'"===la){Ma=1;for(var qa=
ha.charAt(ua-Ma);""===qa.trim()||"\x3d"===qa;){if("\x3d"===qa){xa=la;continue a}qa=ha.charAt(ua-++Ma)}}}else la===xa&&(xa=!1);aa<ha.length&&(Ia+=ra(ha.substr(aa)));return Ia};Ja.parseAttr=function(ha,na){function ra(la,qa){la=J.trim(la);la=la.replace(G,"").toLowerCase();1>la.length||(la=na(la,qa||""))&&ka.push(la)}for(var Ia=0,aa=0,ka=[],xa=!1,ua=ha.length,Ea=0;Ea<ua;Ea++){var Ma=ha.charAt(Ea);if(!1===xa&&"\x3d"===Ma)xa=ha.slice(Ia,Ea),Ia=Ea+1,aa='"'===ha.charAt(Ia)||"'"===ha.charAt(Ia)?Ia:y(ha,Ea+
1);else{if(!1!==xa&&Ea===aa)if(Ma=ha.indexOf(Ma,Ea+1),-1===Ma)break;else{Ia=J.trim(ha.slice(aa+1,Ma));ra(xa,Ia);xa=!1;Ea=Ma;Ia=Ea+1;continue}/\s|\n|\t/.test(Ma)&&(ha=ha.replace(/\s|\n|\t/g," "),!1===xa?(Ma=z(ha,Ea),-1===Ma?(Ia=J.trim(ha.slice(Ia,Ea)),ra(Ia),xa=!1,Ia=Ea+1):Ea=Ma-1):(Ma=r(ha,Ea-1),-1===Ma&&(Ia=J.trim(ha.slice(Ia,Ea)),Ia=x(Ia),ra(xa,Ia),xa=!1,Ia=Ea+1)))}}Ia<ha.length&&(!1===xa?ra(ha.slice(Ia)):ra(xa,x(J.trim(ha.slice(Ia)))));return J.trim(ka.join(" "))};var S=f.exports.FilterCSS,ja=
M,pa=Ja.parseTag,Aa=Ja.parseAttr,Y=J;E.prototype.process=function(ha){ha=(ha||"").toString();if(!ha)return"";var na=this.options,ra=na.whiteList,Ia=na.onTag,aa=na.onIgnoreTag,ka=na.onTagAttr,xa=na.onIgnoreTagAttr,ua=na.safeAttrValue,Ea=na.escapeHtml,Ma=this.cssFilter;na.stripBlankChar&&(ha=ja.stripBlankChar(ha));na.allowCommentTag||(ha=ja.stripCommentTag(ha));var la=!1;na.stripIgnoreTagBody&&(la=ja.StripTagBody(na.stripIgnoreTagBody,aa),aa=la.onIgnoreTag);ha=pa(ha,function(qa,Ka,Qa,Ta,Ya){qa={sourcePosition:qa,
position:Ka,isClosing:Ya,isWhite:Object.prototype.hasOwnProperty.call(ra,Qa)};Ka=Ia(Qa,Ta,qa);if(void 0!==Ka&&null!==Ka)return Ka;if(qa.isWhite){if(qa.isClosing)return"\x3c/"+Qa+"\x3e";qa=B(Ta);var ab=ra[Qa];Ka=Aa(qa.html,function(db,Za){var jb=-1!==Y.indexOf(ab,db),qb=ka(Qa,db,Za,jb);if(void 0!==qb&&null!==qb)return qb;if(jb)return(Za=ua(Qa,db,Za,Ma))?db+'\x3d"'+Za+'"':db;qb=xa(Qa,db,Za,jb);if(void 0!==qb&&null!==qb)return qb});Ta="\x3c"+Qa;Ka&&(Ta+=" "+Ka);qa.closing&&(Ta+=" /");return Ta+"\x3e"}Ka=
aa(Qa,Ta,qa);return void 0!==Ka&&null!==Ka?Ka:Ea(Ta)},Ea);la&&(ha=la.remove(ha));return ha};(function(ha,na){function ra(aa,ka){return(new Ia(ka)).process(aa)}var Ia=E;na=ha.exports=ra;na.filterXSS=ra;na.FilterXSS=Ia;(function(){for(var aa in M)na[aa]=M[aa];for(var ka in Ja)na[ka]=Ja[ka]})();"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=ha.exports)})(D,D.exports);f=function(){function ha(na,ra){var Ia=this;this.arcgisWhiteList=
{a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:"alt border height src style width".split(" "),li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:"border cellpadding cellspacing height style width".split(" "),
tbody:[],tr:["align","height","style","valign"],td:"align colspan height nowrap rowspan style valign width".split(" "),th:"align colspan height nowrap rowspan style valign width".split(" "),u:[],ul:[],video:"autoplay controls height loop muted poster preload width".split(" ")};this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there arcgis-quickcapture mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");
this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(ka,xa,ua,Ea){return"a"===ka&&"href"===xa||("img"===ka||"source"===ka)&&"src"===xa?Ia.sanitizeUrl(ua):D.exports.safeAttrValue(ka,xa,ua,Ea)}};this._entityMap={"\x26":"\x26#x38;","\x3c":"\x26#x3C;","\x3e":"\x26#x3E;",'"':"\x26#x22;","'":"\x26#x27;","/":"\x26#x2F;"};if(na&&!ra)var aa=na;else na&&ra?(aa=Object.create(this.arcgisFilterOptions),Object.keys(na).forEach(function(ka){"whiteList"===ka?aa.whiteList=Ia._extendObjectOfArrays([Ia.arcgisWhiteList,
na.whiteList||{}]):aa[ka]=na[ka]})):(aa=Object.create(this.arcgisFilterOptions),aa.whiteList=this.arcgisWhiteList);this.xssFilterOptions=aa;this._xssFilter=new D.exports.FilterXSS(aa)}ha.prototype.sanitize=function(na,ra){void 0===ra&&(ra={});switch(typeof na){case "number":return isNaN(na)||!isFinite(na)?null:na;case "boolean":return na;case "string":return this._xssFilter.process(na);case "object":return this._iterateOverObject(na,ra);default:if(!ra.allowUndefined||"undefined"!==typeof na)return null}};
ha.prototype.sanitizeUrl=function(na,ra){ra=(null!==ra&&void 0!==ra?ra:{}).isProtocolRequired;ra=void 0===ra?!0:ra;var Ia=this._trim(na.substring(0,na.indexOf(":"))),aa="/"===na,ka=/^#/.test(na),xa=Ia&&-1<this.allowedProtocols.indexOf(Ia.toLowerCase());return aa||ka||xa?D.exports.escapeAttrValue(na):Ia||ra?"":D.exports.escapeAttrValue("https://".concat(na))};ha.prototype.sanitizeHTMLAttribute=function(na,ra,Ia,aa){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(na,
ra,Ia,aa):D.exports.safeAttrValue(na,ra,Ia,aa)};ha.prototype.validate=function(na,ra){void 0===ra&&(ra={});ra=this.sanitize(na,ra);return{isValid:na===ra,sanitized:ra}};ha.prototype.encodeHTML=function(na){var ra=this;return String(na).replace(/[&<>"'\/]/g,function(Ia){return ra._entityMap[Ia]})};ha.prototype.encodeAttrValue=function(na){var ra=/^[a-zA-Z0-9]$/;return String(na).replace(/[\x00-\xFF]/g,function(Ia,aa){return ra.test(Ia)?Ia:"\x26#x".concat(Number(na.charCodeAt(aa)).toString(16),";")})};
ha.prototype._extendObjectOfArrays=function(na){var ra={};na.forEach(function(Ia){Object.keys(Ia).forEach(function(aa){Array.isArray(Ia[aa])&&Array.isArray(ra[aa])?ra[aa]=ra[aa].concat(Ia[aa]):ra[aa]=Ia[aa]})});return ra};ha.prototype._iterateOverObject=function(na,ra){var Ia=this;void 0===ra&&(ra={});try{var aa=!1,ka=void 0;if(Array.isArray(na))ka=na.reduce(function(xa,ua){var Ea=Ia.validate(ua,ra);if(Ea.isValid)return xa.concat([ua]);aa=!0;return xa.concat([Ea.sanitized])},[]);else if(L(na))ka=
Object.keys(na).reduce(function(xa,ua){var Ea=na[ua],Ma=Ia.validate(Ea,ra);Ma.isValid?xa[ua]=Ea:(aa=!0,xa[ua]=Ma.sanitized);return xa},{});else return ra.allowUndefined&&"undefined"===typeof na?void 0:null;return aa?ka:na}catch(xa){return null}};ha.prototype._trim=function(na){return String.prototype.trim?na.trim():na.replace(/(^\s*)|(\s*$)/g,"")};return ha}();var da,ma,R=function(ha){if("WebkitTransition"in ha.style)da="webkitTransitionEnd",ma="webkitAnimationEnd";else if("transition"in ha.style)da=
"transitionend",ma="animationend";else throw Error("Your browser is not supported!");},H=function(ha,na){void 0===na&&(na=ha+"-active");return function(ra){da||R(ra);var Ia=!1,aa=function(ka){Ia||(Ia=!0,ra.removeEventListener(da,aa),ra.removeEventListener(ma,aa),ra.classList.remove(ha),ra.classList.remove(na))};ra.classList.add(ha);ra.addEventListener(da,aa);ra.addEventListener(ma,aa);requestAnimationFrame(function(){ra.classList.add(na)})}},X=function(ha,na){void 0===na&&(na=ha+"-active");return function(ra,
Ia){da||R(ra);var aa=!1,ka=function(xa){aa||(aa=!0,ra.removeEventListener(da,ka),ra.removeEventListener(ma,ka),Ia())};ra.classList.add(ha);ra.addEventListener(da,ka);ra.addEventListener(ma,ka);requestAnimationFrame(function(){ra.classList.add(na)})}};const ia=e.getLogger("esri.widgets.support.widgetUtils");e=(()=>{const ha=new Map,na=new ResizeObserver(Ia=>{q.clearVNodeCache();for(const aa of Ia)ha.get(aa.target)?.(aa)}),ra=(Ia,aa,ka)=>{ha.has(Ia)&&ia.error("Already observing element",Ia);ha.set(Ia,
aa);na.observe(Ia,ka);return d.makeHandle(()=>{na.unobserve(Ia);ha.delete(Ia)})};return(Ia,aa,ka)=>{let xa=null;return d.handlesGroup([k.watch(()=>"function"===typeof Ia?Ia():Ia,ua=>{xa?.remove();ua&&(xa=ra(ua,aa,ka))},k.syncAndInitial),d.makeHandle(()=>xa?.remove())])}})();Q="dd dl dt h1 h2 h3 h4 h5 h6 sub sup animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" ");
const ta=Q.reduce((ha,na)=>{ha[na]=[];return ha},{}),Ca="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords d dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");f=new f({whiteList:ta,onTagAttr:(ha,na,ra)=>{ha=`${na}="${ra}"`;if(Ca.includes(na))return ha},stripIgnoreTag:!0,stripIgnoreTagBody:["script",
"style"]},!0);a.additionalAllowedTags=Q;a.classes=function(ha){const na=b.acquire();for(var ra=0;ra<arguments.length;ra++){const Ia=arguments[ra],aa=typeof Ia;if("string"===aa)na.push(Ia);else if(Array.isArray(Ia))na.push.apply(na,Ia);else if("object"===aa)for(const ka in Ia)Ia[ka]&&na.push(ka)}ra=na.join(" ");b.release(na);return ra};a.cssTransition=function(ha,na){return("enter"===ha?H:X)(na)};a.discardNode=function(ha){this[ha.getAttribute("data-node-ref")]=null};a.getDir=function(ha){return F(ha)?
"rtl":"ltr"};a.isActivationKey=function(ha){return"Enter"===ha||" "===ha};a.isRTL=F;a.keepMenuItemWithinView=function(ha,na){const ra=ha.getBoundingClientRect();na=na.getBoundingClientRect();const Ia=ra.top,aa=na.top;(ra.top+ra.height>na.top+na.height||Ia<aa)&&ha.scrollIntoView({block:"end"})};a.onResize=e;a.renderingSanitizer=f;a.safeAttrs=Ca;a.storeNode=function(ha){this[ha.getAttribute("data-node-ref")]=ha};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/vnodeCache":function(){define(["exports"],
function(a){const b=new Map;a.clearVNodeCache=function(){b.clear()};a.deleteVNodeCache=function(d){b.delete(d)};a.getVNodeCache=function(d){return b.get(d)};a.setVNodeCache=function(d,f){b.set(d,f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projector":function(){define(["exports","./dom"],function(a,b){let d;d=Array.prototype.find?(k,q)=>k.find(q):(k,q)=>k.filter(q)[0];let f=(k,q)=>{let g=k;q.forEach(p=>{g=g&&g.children?d(g.children,l=>l.domNode===p):void 0});
return g},e=(k,q,g)=>{let p=function(l){g("domEvent",l);var n=q(),u=l.currentTarget,m=n.domNode;let c=[];for(;u&&u!==m;)c.push(u),u=u.parentNode;c.reverse();n=f(n.getLastRender(),c);k.scheduleRender();let h;n&&(h=n.properties[`on${l.type}`].apply(n.properties.bind||this,arguments));g("domEventProcessed",l);return h};return(l,n,u,m)=>p};a.createProjector=k=>{let q,g=b.applyDefaultProjectionOptions(k),p=g.performanceLogger,l=!0,n,u=!1,m=[],c=[],h=(v,w,z)=>{let y;g.eventHandlerInterceptor=e(q,()=>y,
p);y=v(w,z(),g);m.push(y);c.push(z)},t=()=>{n=void 0;if(l){l=!1;p("renderStart",void 0);for(let v=0;v<m.length;v++){let w=c[v]();p("rendered",void 0);m[v].update(w);p("patched",void 0)}p("renderDone",void 0);l=!0}};return q={renderNow:t,scheduleRender:()=>{n||u||(n=requestAnimationFrame(t))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0);u=!0},resume:()=>{u=!1;l=!0;q.scheduleRender()},append:(v,w)=>{h(b.dom.append,v,w)},insertBefore:(v,w)=>{h(b.dom.insertBefore,v,w)},merge:(v,w)=>{h(b.dom.merge,
v,w)},replace:(v,w)=>{h(b.dom.replace,v,w)},detach:v=>{for(let w=0;w<c.length;w++)if(c[w]===v)return c.splice(w,1),m.splice(w,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/advanced-projector-options":function(){define(["exports"],function(a){a.defaultAdvancedProjectorOptions={handleInterceptedEvent:(b,d,f,e)=>{b.scheduleRender();return d.properties[`on${e.type}`].apply(d.properties.bind||
f,[e])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/utils":function(){define(["exports"],function(a){const b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(d,f,e)=>{"-"===f.charAt(0)?d.style.setProperty(f,e):d.style[f]=e}};a.applyDefaultProjectionOptions=d=>({...b,...d});Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/componentsUtils":function(){define("exports ../../chunks/dom ../../assets ../../core/has ../../core/urlUtils ../../chunks/index".split(" "),
function(a,b,d,f,e,k){function q(){const {classList:g}=document.body,p=window.matchMedia("(prefers-color-scheme: dark)").matches,l=()=>g.contains(b.darkMode)||g.contains(b.autoMode)&&p?"dark":"light",n=m=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:m}}));let u=l();n(u);window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",m=>{m=m.matches?"dark":"light";u!==m&&n(m);u=m});(new MutationObserver(()=>{var m=l();u!==m&&n(m);u=m})).observe(document.body,
{attributes:!0,attributeFilter:["class"]})}(function(){"undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document&&("interactive"===document.readyState?q():document.addEventListener("DOMContentLoaded",()=>q(),{once:!0}))})();a.commitAssetPath=function(){try{k.getAssetPath(".")}catch{k.setAssetPath(e.makeAbsolute(d.getAssetUrl("esri/widgets/support/components/assets")))}};a.loadCalciteComponents=function(g){const p=
[];for(const l of Object.keys(g))customElements.get(`calcite-${l}`)||p.push(g[l]?.());return 0<p.length?Promise.all(p):null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/dom":function(){define(["exports"],function(a){function b(J,Q){function N(V){if(V){var U;(U=V.closest(Q))||(V=V.getRootNode().host||null,U=N(V));V=U}else V=null;return V}return N(J)}function d(J,Q){return f(J,Q)}function f(J,Q){if(J){var N=Q(J);if(void 0!==N)return N;({parentNode:J}=J);return f(J instanceof
ShadowRoot?J.host:J,Q)}}async function e(J){if(J)return"function"===typeof J?.setFocus?J.setFocus():J.focus()}function k(J,Q){return J?Array.from(J.children||[]).filter(N=>N?.matches(Q)):[]}function q(J,Q,N){Q=":not([slot])"===Q?k(J,":not([slot])"):Array.from(J.querySelectorAll(Q));Q=N&&!1===N.direct?Q:Q.filter(U=>U.parentElement===J);Q=N?.matches?Q.filter(U=>U?.matches(N.matches)):Q;const V=N?.selector;return V?Q.map(U=>Array.from(U.querySelectorAll(V))).reduce((U,sa)=>[...U,...sa],[]).filter(U=>
!!U):Q}function g(J,Q,N){Q=":not([slot])"===Q?k(J,":not([slot])")[0]||null:J.querySelector(Q);Q=N&&!1===N.direct?Q:Q?.parentElement===J?Q:null;Q=N?.matches?Q?.matches(N.matches)?Q:null:Q;return(J=N?.selector)?Q?.querySelector(J):Q}function p(J){return J.target.assignedNodes({flatten:!0}).filter(Q=>Q.nodeType===Node.TEXT_NODE).map(Q=>Q.textContent).join("").trim()}function l(J){return!!n(J).length}function n(J){return J.target.assignedElements({flatten:!0})}const u={autoMode:"calcite-mode-auto",darkMode:"calcite-mode-dark",
lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"};var m='input:not([inert]) select:not([inert]) textarea:not([inert]) a[href]:not([inert]) button:not([inert]) [tabindex]:not(slot):not([inert]) audio[controls]:not([inert]) video[controls]:not([inert]) [contenteditable]:not([contenteditable\x3d"false"]):not([inert]) details\x3esummary:first-of-type:not([inert]) details:not([inert])'.split(" "),
c=m.join(","),h="undefined"===typeof Element,t=h?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,v=!h&&Element.prototype.getRootNode?function(J){var Q;return null===J||void 0===J?void 0:null===(Q=J.getRootNode)||void 0===Q?void 0:Q.call(J)}:function(J){return null===J||void 0===J?void 0:J.ownerDocument},w=function V(Q,N){var U;void 0===N&&(N=!0);var sa=null===Q||void 0===Q?void 0:null===(U=Q.getAttribute)||void 0===U?void 0:U.call(Q,
"inert");return""===sa||"true"===sa||N&&Q&&V(Q.parentNode)},z=function(Q,N,V){if(w(Q))return[];var U=Array.prototype.slice.apply(Q.querySelectorAll(c));N&&t.call(Q,c)&&U.unshift(Q);return U=U.filter(V)},y=function sa(N,V,U){for(var za=[],Fa=Array.from(N);Fa.length;){var Da=Fa.shift();if(!w(Da,!1))if("SLOT"===Da.tagName){var va=Da.assignedElements();va=sa(va.length?va:Da.children,!0,U);U.flatten?za.push.apply(za,va):za.push({scopeParent:Da,candidates:va})}else{t.call(Da,c)&&U.filter(Da)&&(V||!N.includes(Da))&&
za.push(Da);va=Da.shadowRoot||"function"===typeof U.getShadowRoot&&U.getShadowRoot(Da);var W=!w(va,!1)&&(!U.shadowRootFilter||U.shadowRootFilter(Da));va&&W?(va=sa(!0===va?Da.children:va.children,!0,U),U.flatten?za.push.apply(za,va):za.push({scopeParent:Da,candidates:va})):Fa.unshift.apply(Fa,Da.children)}}return za},r=function(N){if(!N)throw Error("No node provided");if(0>N.tabIndex){var V;if(!(V=/^(AUDIO|VIDEO|DETAILS)$/.test(N.tagName))){var U;V=null===N||void 0===N?void 0:null===(U=N.getAttribute)||
void 0===U?void 0:U.call(N,"contenteditable");V=""===V||"true"===V}if(V&&isNaN(parseInt(N.getAttribute("tabindex"),10)))return 0}return N.tabIndex},x=function(N,V){return N.tabIndex===V.tabIndex?N.documentOrder-V.documentOrder:N.tabIndex-V.tabIndex},B=function(N){return"DETAILS"===N.tagName&&Array.prototype.slice.apply(N.children).some(function(V){return"SUMMARY"===V.tagName})},A=function(N,V){for(var U=0;U<N.length;U++)if(N[U].checked&&N[U].form===V)return N[U]},E=function(N){if(!N.name)return!0;
var V=N.form||v(N),U=function(za){return V.querySelectorAll('input[type\x3d"radio"][name\x3d"'+za+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)var sa=U(window.CSS.escape(N.name));else try{sa=U(N.name)}catch(za){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",za.message),!1}U=A(sa,N.form);return!U||U===N},F=function(N){N=N.getBoundingClientRect();
var V=N.height;return 0===N.width&&0===V},L=function(N,V){var U=V.displayCheck;V=V.getShadowRoot;if("hidden"===getComputedStyle(N).visibility)return!0;var sa=t.call(N,"details\x3esummary:first-of-type")?N.parentElement:N;if(t.call(sa,"details:not([open]) *"))return!0;if(!U||"full"===U||"legacy-full"===U){if("function"===typeof V){for(sa=N;N;){var za=N.parentElement,Fa=v(N);if(za&&!za.shadowRoot&&!0===V(za))return F(N);N=N.assignedSlot?N.assignedSlot:za||Fa===N.ownerDocument?za:Fa.host}N=sa}V=N;var Da;
sa=V&&v(V);za=null===(Da=sa)||void 0===Da?void 0:Da.host;Da=!1;if(sa&&sa!==V){var va,W,ba;for(Da=!!(null!==(va=za)&&void 0!==va&&null!==(W=va.ownerDocument)&&void 0!==W&&W.contains(za)||null!==V&&void 0!==V&&null!==(ba=V.ownerDocument)&&void 0!==ba&&ba.contains(V));!Da&&za;){var fa,Ba,Ja;sa=v(za);za=null===(fa=sa)||void 0===fa?void 0:fa.host;Da=!(null===(Ba=za)||void 0===Ba||null===(Ja=Ba.ownerDocument)||void 0===Ja||!Ja.contains(za))}}if(Da)return!N.getClientRects().length;if("legacy-full"!==U)return!0}else if("non-zero-area"===
U)return F(N);return!1},D=function(N,V){var U;(U=V.disabled||w(V))||(U="INPUT"===V.tagName&&"hidden"===V.type);if(!(N=U||L(V,N)||B(V)))a:{if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(V.tagName))for(N=V.parentElement;N;){if("FIELDSET"===N.tagName&&N.disabled){for(U=0;U<N.children.length;U++){var sa=N.children.item(U);if("LEGEND"===sa.tagName){N=t.call(N,"fieldset[disabled] *")?!0:!sa.contains(V);break a}}N=!0;break a}N=N.parentElement}N=!1}return N?!1:!0},M=function(N,V){return"INPUT"===V.tagName&&"radio"===
V.type&&!E(V)||0>r(V)||!D(N,V)?!1:!0},K=function(N){N=parseInt(N.getAttribute("tabindex"),10);return isNaN(N)||0<=N?!0:!1},I=function U(V){var sa=[],za=[];V.forEach(function(Fa,Da){var va=!!Fa.scopeParent,W=va?Fa.scopeParent:Fa;var ba=r(W);ba=0>ba&&va&&isNaN(parseInt(W.getAttribute("tabindex"),10))?0:ba;var fa=va?U(Fa.candidates):W;0===ba?va?sa.push.apply(sa,fa):sa.push(W):za.push({documentOrder:Da,tabIndex:ba,item:Fa,isScope:va,content:fa})});return za.sort(x).reduce(function(Fa,Da){Da.isScope?Fa.push.apply(Fa,
Da.content):Fa.push(Da.content);return Fa},[]).concat(sa)},P=function(V,U){U=U||{};V=U.getShadowRoot?y([V],U.includeContainer,{filter:M.bind(null,U),flatten:!1,getShadowRoot:U.getShadowRoot,shadowRootFilter:K}):z(V,U.includeContainer,M.bind(null,U));return I(V)},T=m.concat("iframe").join(",");const Z={getShadowRoot:!0};a.CSS_UTILITY=u;a.autoMode="calcite-mode-auto";a.closestElementCrossShadowBoundary=b;a.containsCrossShadowBoundary=function(V,U){return!!d(U,sa=>sa===V?!0:void 0)};a.darkMode="calcite-mode-dark";
a.filterDirectChildren=function(V,U){return Array.from(V.children).filter(sa=>sa.matches(U))};a.focusElement=e;a.focusElementInGroup=(V,U,sa,za=!0)=>{U=V.indexOf(U);const Fa=U===V.length-1;za&&(sa="previous"===sa&&0===U?"last":"next"===sa&&Fa?"first":sa);V="previous"===sa?V[U-1]||V[za?V.length-1:U]:"next"===sa?V[U+1]||V[za?0:U]:"last"===sa?V[V.length-1]:V[0];e(V);return V};a.focusFirstTabbable=function(V){V&&(P(V,Z)[0]||V).focus()};a.focusable=function(V,U){U=U||{};return U.getShadowRoot?y([V],U.includeContainer,
{filter:D.bind(null,U),flatten:!0,getShadowRoot:U.getShadowRoot}):z(V,U.includeContainer,D.bind(null,U))};a.getElementDir=function(V){return(V=b(V,"[dir]"))?V.getAttribute("dir"):"ltr"};a.getElementProp=function(V,U,sa){return(V=V.closest(`[${U}]`))?V.getAttribute(U):sa};a.getModeName=function(V){return b(V,`.${u.darkMode}, .${u.lightMode}`)?.classList.contains("calcite-mode-dark")?"dark":"light"};a.getShadowRootNode=function(V){V=V.getRootNode();return"host"in V?V:null};a.getSlotted=function(V,U,
sa){U&&!Array.isArray(U)&&"string"!==typeof U&&(sa=U,U=null);U=U?Array.isArray(U)?U.map(za=>`[slot="${za}"]`).join(","):`[slot="${U}"]`:":not([slot])";return sa?.all?q(V,U,sa):g(V,U,sa)};a.getTabIndex=r;a.intersects=function(V,U){return!(U.left>V.right||U.right<V.left||U.top>V.bottom||U.bottom<V.top)};a.isBefore=function(V,U){if(V.parentNode!==U.parentNode)return!1;const sa=Array.from(V.parentNode.children);return sa.indexOf(V)<sa.indexOf(U)};a.isFocusable=function(V,U){U=U||{};if(!V)throw Error("No node provided");
return!1===t.call(V,T)?!1:D(U,V)};a.isPrimaryPointerButton=function(V){return!(!V.isPrimary||0!==V.button)};a.isTabbable=function(V,U){U=U||{};if(!V)throw Error("No node provided");return!1===t.call(V,c)?!1:M(U,V)};a.nodeListToArray=function(V){return Array.isArray(V)?V:Array.from(V)};a.queryElementRoots=function(V,{selector:U,id:sa}){function za(Fa){if(!Fa)return null;Fa.assignedSlot&&(Fa=Fa.assignedSlot);var Da=Fa.getRootNode();Fa=sa?"getElementById"in Da?Da.getElementById(sa):null:U?Da.querySelector(U):
null;Da=Da.host||null;return Fa?Fa:Da?za(Da):null}return za(V)};a.setRequestedIcon=function(V,U,sa){if("string"===typeof U&&""!==U)return U;if(""===U)return V[sa]};a.slotChangeGetAssignedElements=n;a.slotChangeHasAssignedElement=l;a.slotChangeHasContent=function(V){return l(V)||!!p(V)};a.tabbable=P;a.tabbableOptions=Z;a.toAriaBoolean=function(V){return(!!V).toString()}})},"esri/chunks/index":function(){define(["exports"],function(a){let b,d,f,e=!1,k=!1,q=!1,g=!1,p=!1;const l=(aa,ka)=>()=>{},n={},
u=aa=>{aa=typeof aa;return"object"===aa||"function"===aa},m=(aa,ka,...xa)=>{let ua=null,Ea=null,Ma=null,la=!1,qa=!1;const Ka=[],Qa=Ta=>{for(let Ya=0;Ya<Ta.length;Ya++)if(ua=Ta[Ya],Array.isArray(ua))Qa(ua);else if(null!=ua&&"boolean"!==typeof ua){if(la="function"!==typeof aa&&!u(ua))ua=String(ua);la&&qa?Ka[Ka.length-1].$text$+=ua:Ka.push(la?c(null,ua):ua);qa=la}};Qa(xa);if(ka){ka.key&&(Ea=ka.key);ka.name&&(Ma=ka.name);const Ta=ka.className||ka.class;Ta&&(ka.class="object"!==typeof Ta?Ta:Object.keys(Ta).filter(Ya=>
Ta[Ya]).join(" "))}if("function"===typeof aa)return aa(null===ka?{}:ka,Ka,t);xa=c(aa,null);xa.$attrs$=ka;0<Ka.length&&(xa.$children$=Ka);xa.$key$=Ea;xa.$name$=Ma;return xa},c=(aa,ka)=>({$flags$:0,$tag$:aa,$text$:ka,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),h={},t={forEach:(aa,ka)=>aa.map(v).forEach(ka),map:(aa,ka)=>aa.map(v).map(ka).map(w)},v=aa=>({vattrs:aa.$attrs$,vchildren:aa.$children$,vkey:aa.$key$,vname:aa.$name$,vtag:aa.$tag$,vtext:aa.$text$}),w=aa=>{if("function"===
typeof aa.vtag){var ka=Object.assign({},aa.vattrs);aa.vkey&&(ka.key=aa.vkey);aa.vname&&(ka.name=aa.vname);return m(aa.vtag,ka,...(aa.vchildren||[]))}ka=c(aa.vtag,aa.vtext);ka.$attrs$=aa.vattrs;ka.$children$=aa.vchildren;ka.$key$=aa.vkey;ka.$name$=aa.vname;return ka},z=aa=>Aa.map(ka=>ka(aa)).find(ka=>!!ka),y=(aa,ka)=>{if(null!=aa&&!u(aa)){if(ka&4)return"false"===aa?!1:""===aa||!!aa;if(ka&2)return parseFloat(aa);if(ka&1)return String(aa)}return aa},r=new WeakMap,x=(aa,ka,xa)=>{let ua=pa.get(aa);ia&&
xa?(ua=ua||new CSSStyleSheet,"string"===typeof ua?ua=ka:ua.replaceSync(ka)):ua=ka;pa.set(aa,ua)},B=(aa,ka)=>"sc-"+(ka&&aa.$flags$&32?aa.$tagName$+"-"+ka:aa.$tagName$),A=(aa,ka,xa,ua,Ea,Ma)=>{if(xa!==ua){let Ka=ka in aa,Qa=ka.toLowerCase();if("class"===ka){aa=aa.classList;const Ta=xa?xa.split(E):[],Ya=ua?ua.split(E):[];aa.remove(...Ta.filter(ab=>ab&&!Ya.includes(ab)));aa.add(...Ya.filter(ab=>ab&&!Ta.includes(ab)))}else if("style"===ka){for(var la in xa)ua&&null!=ua[la]||(la.includes("-")?aa.style.removeProperty(la):
aa.style[la]="");for(var qa in ua)xa&&ua[qa]===xa[qa]||(qa.includes("-")?aa.style.setProperty(qa,ua[qa]):aa.style[qa]=ua[qa])}else if("key"!==ka)if("ref"===ka)ua&&ua(aa);else if(aa.__lookupSetter__(ka)||"o"!==ka[0]||"n"!==ka[1]){la=u(ua);if((Ka||la&&null!==ua)&&!Ea)try{if(aa.tagName.includes("-"))aa[ka]=ua;else if(qa=null==ua?"":ua,"list"===ka)Ka=!1;else if(null==xa||aa[ka]!=qa)aa[ka]=qa}catch(Ta){}xa=!1;Qa!==(Qa=Qa.replace(/^xlink:?/,""))&&(ka=Qa,xa=!0);if(null==ua||!1===ua){if(!1!==ua||""===aa.getAttribute(ka))xa?
aa.removeAttributeNS("http://www.w3.org/1999/xlink",ka):aa.removeAttribute(ka)}else(!Ka||Ma&4||Ea)&&!la&&(ua=!0===ua?"":ua,xa?aa.setAttributeNS("http://www.w3.org/1999/xlink",ka,ua):aa.setAttribute(ka,ua))}else ka="-"===ka[2]?ka.slice(3):Qa in Y?Qa.slice(2):Qa[2]+ka.slice(3),xa&&R.rel(aa,ka,xa,!1),ua&&R.ael(aa,ka,ua,!1)}},E=/\s/,F=(aa,ka,xa,ua)=>{const Ea=11===ka.$elm$.nodeType&&ka.$elm$.host?ka.$elm$.host:ka.$elm$;aa=aa&&aa.$attrs$||n;const Ma=ka.$attrs$||n;for(ua in aa)ua in Ma||A(Ea,ua,aa[ua],
void 0,xa,ka.$flags$);for(ua in Ma)A(Ea,ua,aa[ua],Ma[ua],xa,ka.$flags$)},L=(aa,ka,xa,ua)=>{ka=ka.$children$[xa];let Ea=0,Ma;e||(q=!0,"slot"===ka.$tag$&&(b&&ua.classList.add(b+"-s"),ka.$flags$|=ka.$children$?2:1));if(null!==ka.$text$)ua=ka.$elm$=da.createTextNode(ka.$text$);else if(ka.$flags$&1)ua=ka.$elm$=da.createTextNode("");else{g||(g="svg"===ka.$tag$);ua=ka.$elm$=da.createElementNS(g?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",ka.$flags$&2?"slot-fb":ka.$tag$);g&&"foreignObject"===
ka.$tag$&&(g=!1);F(null,ka,g);null!=b&&ua["s-si"]!==b&&ua.classList.add(ua["s-si"]=b);if(ka.$children$)for(Ea=0;Ea<ka.$children$.length;++Ea)(Ma=L(aa,ka,Ea,ua))&&ua.appendChild(Ma);"svg"===ka.$tag$?g=!1:"foreignObject"===ua.tagName&&(g=!0)}ua["s-hn"]=f;ka.$flags$&3&&(ua["s-sr"]=!0,ua["s-cr"]=d,ua["s-sn"]=ka.$name$||"",(xa=aa&&aa.$children$&&aa.$children$[xa])&&xa.$tag$===ka.$tag$&&aa.$elm$&&D(aa.$elm$,!1));return ua},D=(aa,ka)=>{R.$flags$|=1;aa=aa.childNodes;for(let xa=aa.length-1;0<=xa;xa--){const ua=
aa[xa];ua["s-hn"]!==f&&ua["s-ol"]&&((ua["s-ol"]?ua["s-ol"]:ua).parentNode.insertBefore(ua,ua&&ua["s-ol"]||ua),ua["s-ol"].remove(),ua["s-ol"]=void 0,q=!0);ka&&D(ua,ka)}R.$flags$&=-2},M=(aa,ka,xa,ua,Ea,Ma)=>{let la=aa["s-cr"]&&aa["s-cr"].parentNode||aa,qa;la.shadowRoot&&la.tagName===f&&(la=la.shadowRoot);for(;Ea<=Ma;++Ea)ua[Ea]&&(qa=L(null,xa,Ea,aa))&&(ua[Ea].$elm$=qa,la.insertBefore(qa,ka&&ka["s-ol"]||ka))},K=(aa,ka,xa,ua,Ea)=>{for(;ka<=xa;++ka)if(ua=aa[ka])Ea=ua.$elm$,N(ua),k=!0,Ea["s-ol"]?Ea["s-ol"].remove():
D(Ea,!0),Ea.remove()},I=(aa,ka)=>aa.$tag$===ka.$tag$?"slot"===aa.$tag$?aa.$name$===ka.$name$:aa.$key$===ka.$key$:!1,P=(aa,ka)=>{const xa=ka.$elm$=aa.$elm$,ua=aa.$children$,Ea=ka.$children$,Ma=ka.$tag$;var la=ka.$text$;if(null===la){g="svg"===Ma?!0:"foreignObject"===Ma?!1:g;"slot"!==Ma&&F(aa,ka,g);if(null!==ua&&null!==Ea){var qa=la=aa=0,Ka=0;let Ta=ua.length-1,Ya=ua[0],ab=ua[Ta],db=Ea.length-1,Za=Ea[0],jb=Ea[db];for(;aa<=Ta&&la<=db;)if(null==Ya)Ya=ua[++aa];else if(null==ab)ab=ua[--Ta];else if(null==
Za)Za=Ea[++la];else if(null==jb)jb=Ea[--db];else if(I(Ya,Za))P(Ya,Za),Ya=ua[++aa],Za=Ea[++la];else if(I(ab,jb))P(ab,jb),ab=ua[--Ta],jb=Ea[--db];else if(I(Ya,jb))"slot"!==Ya.$tag$&&"slot"!==jb.$tag$||D(Ya.$elm$.parentNode,!1),P(Ya,jb),xa.insertBefore(Ya.$elm$,ab.$elm$.nextSibling),Ya=ua[++aa],jb=Ea[--db];else if(I(ab,Za))"slot"!==Ya.$tag$&&"slot"!==jb.$tag$||D(ab.$elm$.parentNode,!1),P(ab,Za),xa.insertBefore(ab.$elm$,Ya.$elm$),ab=ua[--Ta],Za=Ea[++la];else{qa=-1;for(Ka=aa;Ka<=Ta;++Ka)if(ua[Ka]&&null!==
ua[Ka].$key$&&ua[Ka].$key$===Za.$key$){qa=Ka;break}0<=qa?(Ka=ua[qa],Ka.$tag$!==Za.$tag$?qa=L(ua&&ua[la],ka,qa,xa):(P(Ka,Za),ua[qa]=void 0,qa=Ka.$elm$)):qa=L(ua&&ua[la],ka,la,xa);Za=Ea[++la];if(qa){Ka=Ya.$elm$;Ka=(Ka["s-ol"]?Ka["s-ol"]:Ka).parentNode;var Qa=Ya.$elm$;Ka.insertBefore.call(Ka,qa,Qa&&Qa["s-ol"]||Qa)}}aa>Ta?M(xa,null==Ea[db+1]?null:Ea[db+1].$elm$,ka,Ea,la,db):la>db&&K(ua,aa,Ta)}else null!==Ea?(null!==aa.$text$&&(xa.textContent=""),M(xa,null,ka,Ea,0,Ea.length-1)):null!==ua&&K(ua,0,ua.length-
1);g&&"svg"===Ma&&(g=!1)}else(ka=xa["s-cr"])?ka.parentNode.textContent=la:aa.$text$!==la&&(xa.data=la)},T=aa=>{aa=aa.childNodes;let ka,xa,ua,Ea,Ma,la;xa=0;for(ua=aa.length;xa<ua;xa++)if(ka=aa[xa],1===ka.nodeType){if(ka["s-sr"])for(Ma=ka["s-sn"],ka.hidden=!1,Ea=0;Ea<ua;Ea++)if(la=aa[Ea].nodeType,aa[Ea]["s-hn"]!==ka["s-hn"]||""!==Ma){if(1===la&&Ma===aa[Ea].getAttribute("slot")){ka.hidden=!0;break}}else if(1===la||3===la&&""!==aa[Ea].textContent.trim()){ka.hidden=!0;break}T(ka)}},Z=[],J=aa=>{let ka,
xa,ua,Ea,Ma,la=0;const qa=aa.childNodes,Ka=qa.length;for(;la<Ka;la++){aa=qa[la];if(aa["s-sr"]&&(ka=aa["s-cr"])&&ka.parentNode)for(xa=ka.parentNode.childNodes,ua=aa["s-sn"],Ma=xa.length-1;0<=Ma;Ma--)ka=xa[Ma],ka["s-cn"]||ka["s-nr"]||ka["s-hn"]===aa["s-hn"]||(Q(ka,ua)?(Ea=Z.find(Qa=>Qa.$nodeToRelocate$===ka),k=!0,ka["s-sn"]=ka["s-sn"]||ua,Ea?Ea.$slotRefNode$=aa:Z.push({$slotRefNode$:aa,$nodeToRelocate$:ka}),ka["s-sr"]&&Z.map(Qa=>{Q(Qa.$nodeToRelocate$,ka["s-sn"])&&(Ea=Z.find(Ta=>Ta.$nodeToRelocate$===
ka))&&!Qa.$slotRefNode$&&(Qa.$slotRefNode$=Ea.$slotRefNode$)})):Z.some(Qa=>Qa.$nodeToRelocate$===ka)||Z.push({$nodeToRelocate$:ka}));1===aa.nodeType&&J(aa)}},Q=(aa,ka)=>1===aa.nodeType?null===aa.getAttribute("slot")&&""===ka||aa.getAttribute("slot")===ka?!0:!1:aa["s-sn"]===ka?!0:""===ka,N=aa=>{aa.$attrs$&&aa.$attrs$.ref&&aa.$attrs$.ref(null);aa.$children$&&aa.$children$.map(N)},V=(aa,ka)=>{const xa=aa.$hostElement$;var ua=aa.$cmpMeta$,Ea=aa.$vnode$||c(null,null);const Ma=ka&&ka.$tag$===h?ka:m(null,
null,ka);f=xa.tagName;ua.$attrsToReflect$&&(Ma.$attrs$=Ma.$attrs$||{},ua.$attrsToReflect$.map(([la,qa])=>Ma.$attrs$[qa]=xa[la]));Ma.$tag$=null;Ma.$flags$|=4;aa.$vnode$=Ma;Ma.$elm$=Ea.$elm$=xa.shadowRoot||xa;b=xa["s-sc"];d=xa["s-cr"];e=0!==(ua.$flags$&1);k=!1;P(Ea,Ma);R.$flags$|=1;if(q){J(Ma.$elm$);let la,qa;for(ua=0;ua<Z.length;ua++)Ea=Z[ua],aa=Ea.$nodeToRelocate$,aa["s-ol"]||(Ea=da.createTextNode(""),Ea["s-nr"]=aa,aa.parentNode.insertBefore(aa["s-ol"]=Ea,aa));for(ua=0;ua<Z.length;ua++)if(Ea=Z[ua],
aa=Ea.$nodeToRelocate$,Ea.$slotRefNode$){ka=Ea.$slotRefNode$.parentNode;la=Ea.$slotRefNode$.nextSibling;for(Ea=aa["s-ol"];Ea=Ea.previousSibling;)if((qa=Ea["s-nr"])&&qa["s-sn"]===aa["s-sn"]&&ka===qa.parentNode&&(qa=qa.nextSibling,!qa||!qa["s-nr"])){la=qa;break}(la||ka===aa.parentNode)&&aa.nextSibling===la||aa===la||(!aa["s-hn"]&&aa["s-ol"]&&(aa["s-hn"]=aa["s-ol"].parentNode.nodeName),ka.insertBefore(aa,la))}else 1===aa.nodeType&&(aa.hidden=!0)}k&&T(Ma.$elm$);R.$flags$&=-2;Z.length=0},U=(aa,ka)=>{aa.$flags$|=
16;return Ia(()=>sa(aa,ka))},sa=(aa,ka)=>{const xa=aa.$hostElement$,ua=l("scheduleUpdate",aa.$cmpMeta$.$tagName$);let Ea;Ea=ka?Fa(xa,"componentWillLoad"):Fa(xa,"componentWillUpdate");Ea=Da(Ea,()=>Fa(xa,"componentWillRender"));ua();return Da(Ea,()=>za(aa,xa,ka))},za=async(aa,ka,xa)=>{var ua=aa.$hostElement$,Ea=l("update",aa.$cmpMeta$.$tagName$);ua["s-rc"];if(xa){var Ma=aa.$cmpMeta$;xa=aa.$hostElement$;ua=Ma.$flags$;const Ya=l("attachStyles",Ma.$tagName$);var la,qa=xa.shadowRoot?xa.shadowRoot:xa.getRootNode(),
Ka;Ma=B(Ma,aa.$modeName$);const ab=pa.get(Ma);qa=11===qa.nodeType?qa:da;if(ab)if("string"===typeof ab){qa=qa.head||qa;let db=r.get(qa),Za;db||r.set(qa,db=new Set);if(!db.has(Ma)){Za=da.createElement("style");Za.innerHTML=ab;if(null===(Ka=R.$nonce$)||void 0===Ka){var Qa,Ta;Ka=null!==(Ta=null===(Qa=null===(la=da.head)||void 0===la?void 0:la.querySelector('meta[name\x3d"csp-nonce"]'))||void 0===Qa?void 0:Qa.getAttribute("content"))&&void 0!==Ta?Ta:void 0}la=Ka;null!=la&&Za.setAttribute("nonce",la);qa.insertBefore(Za,
qa.querySelector("link"));db&&db.add(Ma)}}else qa.adoptedStyleSheets.includes(ab)||(qa.adoptedStyleSheets=[...qa.adoptedStyleSheets,ab]);la=Ma;ua&10&&(xa["s-sc"]=la,xa.classList.add(la+"-h"),ua&2&&xa.classList.add(la+"-s"));Ya()}la=l("render",aa.$cmpMeta$.$tagName$);try{ka=ka.render&&ka.render(),aa.$flags$&=-17,aa.$flags$|=2,V(aa,ka)}catch(Ya){(0,console.error)(Ya,aa.$hostElement$)}la();Ea();Ea=aa.$hostElement$;ka=l("postUpdate",aa.$cmpMeta$.$tagName$);aa.$ancestorComponent$;Fa(Ea,"componentDidRender");
aa.$flags$&64?Fa(Ea,"componentDidUpdate"):(aa.$flags$|=64,Fa(Ea,"componentDidLoad"));ka()},Fa=(aa,ka,xa)=>{if(aa&&aa[ka])try{return aa[ka](xa)}catch(ua){(0,console.error)(ua,void 0)}},Da=(aa,ka)=>aa&&aa.then?aa.then(ka):ka(),va=(aa,ka,xa,ua)=>{const Ea=ja.get(aa),Ma=Ea.$instanceValues$.get(ka),la=Ea.$flags$;xa=y(xa,ua.$members$[ka][0]);const qa=Number.isNaN(Ma)&&Number.isNaN(xa);xa===Ma||qa||(Ea.$instanceValues$.set(ka,xa),ua.$watchers$&&la&128&&(ua=ua.$watchers$[ka])&&ua.map(Ka=>{try{aa[Ka](xa,Ma,
ka)}catch(Qa){(0,console.error)(Qa,aa)}}),2!==(la&18)||aa.componentShouldUpdate&&!1===aa.componentShouldUpdate(xa,Ma,ka)||U(Ea,!1))},W=(aa,ka,xa)=>{if(ka.$members$){aa.watchers&&(ka.$watchers$=aa.watchers);xa=Object.entries(ka.$members$);const ua=aa.prototype;xa.map(([Ma,[la]])=>{(la&31||la&32)&&Object.defineProperty(ua,Ma,{get(){return ja.get(this).$instanceValues$.get(Ma)},set(qa){va(this,Ma,qa,ka)},configurable:!0,enumerable:!0})});const Ea=new Map;ua.attributeChangedCallback=function(Ma,la,qa){R.jmp(()=>
{const Ka=Ea.get(Ma);if(this.hasOwnProperty(Ka))qa=this[Ka],delete this[Ka];else if(ua.hasOwnProperty(Ka)&&"number"===typeof this[Ka]&&this[Ka]==qa)return;this[Ka]=null===qa&&"boolean"===typeof this[Ka]?!1:qa})};aa.observedAttributes=xa.filter(([,Ma])=>Ma[0]&15).map(([Ma,la])=>{const qa=la[1]||Ma;Ea.set(qa,Ma);la[0]&512&&ka.$attrsToReflect$.push([Ma,qa]);return qa})}return aa},ba=async(aa,ka,xa,ua,Ea)=>{0===(ka.$flags$&32)&&(Ea=aa.constructor,ka.$flags$|=32,customElements.whenDefined(xa.$tagName$).then(()=>
ka.$flags$|=128),Ea.style&&(ua=Ea.style,"string"!==typeof ua&&(ua=ua[ka.$modeName$=z(aa)]),aa=B(xa,ka.$modeName$),pa.has(aa)||(Ea=l("registerStyles",xa.$tagName$),x(aa,ua,!!(xa.$flags$&1)),Ea())));ka.$ancestorComponent$;U(ka,!0)},fa=aa=>{if(0===(R.$flags$&1)){const ka=ja.get(aa),xa=ka.$cmpMeta$,ua=l("connectedCallback",xa.$tagName$);ka.$flags$&1?G(aa,ka,xa.$listeners$):(ka.$flags$|=1,xa.$flags$&12&&Ba(aa),xa.$members$&&Object.entries(xa.$members$).map(([Ea,[Ma]])=>{Ma&31&&aa.hasOwnProperty(Ea)&&(Ma=
aa[Ea],delete aa[Ea],aa[Ea]=Ma)}),ba(aa,ka,xa));ua()}},Ba=aa=>{const ka=aa["s-cr"]=da.createComment("");ka["s-cn"]=!0;aa.insertBefore(ka,aa.firstChild)},Ja=aa=>{0===(R.$flags$&1)&&(aa=ja.get(aa),aa.$rmListeners$&&(aa.$rmListeners$.map(ka=>ka()),aa.$rmListeners$=void 0))},G=(aa,ka,xa,ua)=>{xa&&xa.map(([Ea,Ma,la])=>{const qa=Ea&4?da:Ea&8?Y:Ea&16?da.body:aa,Ka=S(ka,la),Qa=H?{passive:0!==(Ea&1),capture:0!==(Ea&2)}:0!==(Ea&2);R.ael(qa,Ma,Ka,Qa);(ka.$rmListeners$=ka.$rmListeners$||[]).push(()=>R.rel(qa,
Ma,Ka,Qa))})},S=(aa,ka)=>xa=>{try{aa.$hostElement$[ka](xa)}catch(ua){(0,console.error)(ua,void 0)}},ja=new WeakMap,pa=new Map,Aa=[],Y="undefined"!==typeof window?window:{};null;const da=Y.document||{head:{}},ma=Y.HTMLElement||class{},R={$flags$:0,$resourcesUrl$:"",jmp:aa=>aa(),raf:aa=>requestAnimationFrame(aa),ael:(aa,ka,xa,ua)=>aa.addEventListener(ka,xa,ua),rel:(aa,ka,xa,ua)=>aa.removeEventListener(ka,xa,ua),ce:(aa,ka)=>new CustomEvent(aa,ka)},H=(()=>{let aa=!1;try{da.addEventListener("e",null,Object.defineProperty({},
"passive",{get(){aa=!0}}))}catch(ka){}return aa})();a:{try{new CSSStyleSheet;var X="function"===typeof(new CSSStyleSheet).replaceSync;break a}catch(aa){}X=!1}const ia=X,ta=[],Ca=[];X=(aa,ka)=>xa=>{aa.push(xa);p||(p=!0,ka&&R.$flags$&4?(xa=na,Promise.resolve(void 0).then(xa)):R.raf(na))};const ha=aa=>{for(let ka=0;ka<aa.length;ka++)try{aa[ka](performance.now())}catch(xa){(0,console.error)(xa,void 0)}aa.length=0},na=()=>{ha(ta);ha(Ca);(p=0<ta.length)&&R.raf(na)},ra=X(ta,!1),Ia=X(Ca,!0);a.Build={isDev:!1,
isBrowser:!0,isServer:!1,isTesting:!1};a.Fragment=(aa,ka)=>ka;a.H=ma;a.Host=h;a.createEvent=(aa,ka,xa)=>({emit:ua=>{ua=R.ce(ka,{bubbles:!!(xa&4),composed:!!(xa&2),cancelable:!!(xa&1),detail:ua});aa.dispatchEvent(ua);return ua}});a.forceUpdate=aa=>{aa=ja.get(aa);const ka=aa.$hostElement$.isConnected;ka&&2===(aa.$flags$&18)&&U(aa,!1);return ka};a.getAssetPath=aa=>{aa=new URL(aa,R.$resourcesUrl$);return aa.origin!==Y.location.origin?aa.href:aa.pathname};a.h=m;a.proxyCustomElement=(aa,ka)=>{const xa=
{$flags$:ka[0],$tagName$:ka[1]};xa.$members$=ka[2];xa.$listeners$=ka[3];xa.$watchers$=aa.$watchers$;xa.$attrsToReflect$=[];const ua=aa.prototype.connectedCallback,Ea=aa.prototype.disconnectedCallback;Object.assign(aa.prototype,{__registerHost(){const Ma={$flags$:0,$hostElement$:this,$cmpMeta$:xa,$instanceValues$:new Map};G(this,Ma,xa.$listeners$);ja.set(this,Ma)},connectedCallback(){fa(this);ua&&ua.call(this)},disconnectedCallback(){Ja(this);Ea&&Ea.call(this)},__attachShadow(){this.attachShadow({mode:"open",
delegatesFocus:!!(xa.$flags$&16)})}});aa.is=xa.$tagName$;return W(aa,xa)};a.readTask=ra;a.setAssetPath=aa=>R.$resourcesUrl$=aa})},"esri/widgets/support/jsxWidgetSupport":function(){define(["exports","../../core/handleUtils","./symbols"],function(a,b,d){function f(u,m){let c=m.children;if(c?.length)for(var h=0;h<c.length;++h)c[h]=f(u,c[h]);else c=p;h=m.vnodeSelector;if(g(h)){m=m.properties||l;const t=m.key||h;return{vnodeSelector:"div",properties:{key:t,afterCreate:e,afterUpdate:k,afterRemoved:q,parentWidget:u,
widgetConstructor:h,widgetProperties:{...m,key:t,children:c}},children:void 0,text:void 0,domNode:null}}return m}function e(u,m,c,{parentWidget:h,widgetConstructor:t,widgetProperties:v}){const w=new t(v);w.container=u;n.set(u,w);w.afterCreate?.(w,u);h.addHandles(b.makeHandle(()=>q(u)));queueMicrotask(()=>{w[d.widgetTestDataSymbol].projector.renderNow()})}function k(u,m,c,{widgetProperties:h}){if(m=n.get(u))m.set(h),m.afterUpdate?.(m,u)}function q(u){const m=n.get(u);m&&(m.afterRemoved?.(m,u),m.destroy(),
n.delete(u))}function g(u){return"function"===typeof u&&u[d.widgetSymbol]}const p=[],l={},n=new WeakMap;a.isWidgetConstructor=g;a.processWidgets=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/symbols":function(){define(["exports"],function(a){const b=Symbol("widget"),d=Symbol("widget-test-data");a.widgetSymbol=b;a.widgetTestDataSymbol=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/legacyIcon":function(){define(["exports"],
function(a){a.legacyIcon={arrowDown:"esri-icon-arrow-down",arrowUp:"esri-icon-arrow-up",basemap:"esri-icon-basemap",bookmark:"esri-icon-bookmark",calendar:"esri-icon-calendar",checkMark:"esri-icon-check-mark",checkboxUnchecked:"esri-icon-checkbox-unchecked",close:"esri-icon-close",collapse:"esri-icon-collapse",defaultAction:"esri-icon-default-action",description:"esri-icon-description",directions:"esri-icon-directions",dockBottom:"esri-icon-dock-bottom",dockLeft:"esri-icon-dock-left",dockRight:"esri-icon-dock-right",
down:"esri-icon-down",downArrow:"esri-icon-down-arrow",download:"esri-icon-download",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",edit:"esri-icon-edit",elevationProfile:"esri-icon-elevation-profile",environmentSettings:"esri-icon-environment-settings",erase:"esri-icon-erase",error:"esri-icon-error",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",gear:"esri-icon-gear",handleHorizontal:"esri-icon-handle-horizontal",
handleVertical:"esri-icon-handle-vertical",home:"esri-icon-home",icon:"esri-icon",launchLinkExternal:"esri-icon-launch-link-external",layerList:"esri-icon-layer-list",layers:"esri-icon-layers",left:"esri-icon-left",leftArrows:"esri-icon-left-arrow",leftTriangleArrow:"esri-icon-left-triangle-arrow",lineOfSight:"esri-icon-line-of-sight",link:"esri-icon-link",linkExternal:"esri-icon-link-external",linkHorizontal:"esri-icon-link-horizontal",loadingIndicator:"esri-icon-loading-indicator",locate:"esri-icon-locate",
locateCircled:"esri-icon-locate-circled",locked:"esri-icon-locked",mapPin:"esri-icon-map-pin",maximize:"esri-icon-maximize",measure:"esri-icon-measure",measureArea:"esri-icon-measure-area",measureBuildingHeightShadow:"esri-icon-measure-building-height-shadow",measureLine:"esri-icon-measure-line",menu:"esri-icon-menu",minimize:"esri-icon-minimize",minus:"esri-icon-minus",nonVisible:"esri-icon-non-visible",northNavigation:"esri-icon-north-navigation",noticeTriangle:"esri-icon-notice-triangle",organization:"esri-icon-organization",
pan:"esri-icon-pan",pan2:"esri-icon-pan2",partlyCloudy:"esri-icon-partly-cloudy",pause:"esri-icon-pause",play:"esri-icon-play",playCircled:"esri-icon-play-circled",plus:"esri-icon-plus",polyline:"esri-icon-polyline",printer:"esri-icon-printer",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",rightArrow:"esri-icon-right-arrow",rightTriangleArrow:"esri-icon-right-triangle-arrow",rotate:"esri-icon-rotate",
save:"esri-icon-save",search:"esri-icon-search",settings2:"esri-icon-settings2",slice:"esri-icon-slice",swap:"esri-icon-swap",table:"esri-icon-table",timeClock:"esri-icon-time-clock",tracking:"esri-icon-tracking",trash:"esri-icon-trash",unlockedLinkHorizontal:"esri-icon-unlocked-link-horizontal",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",vertexGps:"esri-icon-vertex-gps",visible:"esri-icon-visible",zoomInFixed:"esri-icon-zoom-in-fixed",
zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomOutFixed:"esri-icon-zoom-out-fixed",zoomToObject:"esri-icon-zoom-to-object"};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/tests":function(){define(["exports"],function(a){const b=new Set;a.hasPendingLoading=function(){return 0<b.size};a.registerLoading=function(d){b.add(d);d.finally(()=>b.delete(d))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widget":function(){define("exports ./decorators/accessibleHandler ./decorators/messageBundle ./decorators/vmEvent ./jsxFactory ./widgetUtils ../../support/themeUtils".split(" "),
function(a,b,d,f,e,k,q){a.accessibleHandler=b.accessibleHandler;a.messageBundle=d.messageBundle;a.vmEvent=f.vmEvent;a.tsx=e.tsx;a.tsxFragment=e.tsxFragment;a.additionalAllowedTags=k.additionalAllowedTags;a.classes=k.classes;a.cssTransition=k.cssTransition;a.discardNode=k.discardNode;a.getDir=k.getDir;a.isActivationKey=k.isActivationKey;a.isRTL=k.isRTL;a.keepMenuItemWithinView=k.keepMenuItemWithinView;a.onResize=k.onResize;a.renderingSanitizer=k.renderingSanitizer;a.safeAttrs=k.safeAttrs;a.storeNode=
k.storeNode;a.getCalciteThemeClass=q.getCalciteThemeClass;a.isDarkTheme=q.isDarkTheme;a.setCalciteThemeClass=q.setCalciteThemeClass;a.hasDomNode=function(g){return g&&"function"===typeof g.postMixInProperties&&"function"===typeof g.buildRendering&&"function"===typeof g.postCreate&&"function"===typeof g.startup};a.isWidget=function(g){return g&&"function"===typeof g.render};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["exports",
"../widgetUtils"],function(a,b){function d(f){return function(e,...k){const q=e?.type;e instanceof KeyboardEvent||"keyup"===q||"keydown"===q||"keypress"===q?b.isActivationKey(e.key)&&(e.preventDefault(),e.stopPropagation(),e.target.click()):f.call(this,e,...k)}}a.accessibleHandler=function(){return function(f,e){if(!f[e])throw new TypeError(`Cannot auto bind undefined function '${String(e)}'`);return{value:d(f[e])}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/messageBundle":function(){define(["exports"],
function(a){a.messageBundle=function(b){return(d,f)=>{d.hasOwnProperty("_messageBundleProps")||(d._messageBundleProps=d._messageBundleProps?d._messageBundleProps.slice():[]);d._messageBundleProps.push({bundlePath:b,propertyName:f})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/vmEvent":function(){define(["exports"],function(a){function b(d){return d.split(",").map(f=>f.trim())}a.vmEvent=function(d){return f=>{f.hasOwnProperty("_delegatedEventNames")||
(f._delegatedEventNames=f._delegatedEventNames?f._delegatedEventNames.slice():[]);f=f._delegatedEventNames;const e=Array.isArray(d)?d:b(d);f.push(...e)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/jsxFactory":function(){define(["exports","./jsxWidgetSupport"],function(a,b){var d=function(e,k){for(var q=0,g=e.length;q<g;q++){var p=e[q];Array.isArray(p)?d(p,k):null!==p&&void 0!==p&&!1!==p&&(p.hasOwnProperty("vnodeSelector")||(p={vnodeSelector:"",properties:void 0,
children:void 0,text:p.toString(),domNode:null}),k.push(p))}},f=function(e,k){for(var q=[],g=2;g<arguments.length;g++)q[g-2]=arguments[g];if(1===q.length&&"string"===typeof q[0])return{vnodeSelector:e,properties:k||void 0,children:void 0,text:q[0],domNode:null};g=[];d(q,g);return{vnodeSelector:e,properties:k||void 0,children:g,text:void 0,domNode:null}};a.tsx=function(e,k,...q){return"function"!==typeof e||b.isWidgetConstructor(e)?f(e,k,...q):e(k,...q)};a.tsxFragment=function(...e){return e};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/support/themeUtils":function(){define(["exports"],function(a){function b(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"").startsWith("dark")}function d(){return`${"calcite-mode-"}${b()?"dark":"light"}`}function f(e){Array.from(e.classList).forEach(k=>{k.startsWith("calcite-mode-")&&e.classList.remove(k)})}a.getCalciteThemeClass=d;a.isDarkTheme=b;a.setCalciteThemeClass=function(e){f(e);e.classList.add(d())};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});require.boot&&require.apply(null,require.boot);